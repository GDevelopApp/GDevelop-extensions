{
  "author": "Arthur Pacaud (arthuro555)",
  "description": "> Note: This extension is currently made in JavaScript instead of the event sheet as variables cannot be passed to events based functions yet. Due to this hack, the extension **only works on root scene variables**, not on child variables or non-scene variables.\n\nThis extension adds features like:\n- Combining arrays (concatenate into new array, append all children to another array)\n- Finding a value in an array (find index expression, contains condition)\n- Reversing arrays\n- Get a portion of an array (slice)\n- Add and remove lots of children at specific indices at once (fill, splice, shift, pop, add at index)\n- Randomness (shuffle children, get a random child)\n- Mathematical operations using arrays (sum of all numbers, biggest/smallest number, average number, median number)\n- Sort numbers in an array\n- String inter-operation (split string into array, join array array children to string)",
  "extensionNamespace": "",
  "fullName": "Array tools",
  "helpPath": "",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWNvZGUtYXJyYXkiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMyw1QTIsMiAwIDAsMSA1LDNIMTlBMiwyIDAgMCwxIDIxLDVWMTlBMiwyIDAgMCwxIDE5LDIxSDVDMy44OSwyMSAzLDIwLjEgMywxOVY1TTYsNlYxOEgxMFYxNkg4VjhIMTBWNkg2TTE2LDE2SDE0VjE4SDE4VjZIMTRWOEgxNlYxNloiIC8+PC9zdmc+",
  "name": "ArrayTools",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/code-array.svg",
  "shortDescription": "A collection of utilities and tools for working with arrays",
  "version": "1.0.0",
  "tags": [
    "array",
    "variable",
    "index",
    "tool",
    "math",
    "string",
    "sort",
    "find",
    "slice",
    "cut",
    "random",
    "copy",
    "combine",
    "concat",
    "append",
    "insert"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "description": "The index of the first variable that equals to a specific number in an array.",
      "fullName": "Index of number",
      "functionType": "Expression",
      "name": "IndexOf",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const num = eventsFunctionContext.getArgument(\"num\");\nconst arr = runtimeScene\n    .getVariables()\n    .get(eventsFunctionContext.getArgument(\"array\"))\n    .getAllChildrenArray();\n\n// Technically findIndex would be more suitable but it may be a bit too recent and unsupported by some browsers\neventsFunctionContext.returnValue = arr.indexOf(arr.find(variable => variable.getAsNumber() === num));\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the scene array variable",
          "longDescription": "",
          "name": "array",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The number to search in the array",
          "longDescription": "",
          "name": "num",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "The index of the first variable that equals to a specific text in an array.",
      "fullName": "Index of text",
      "functionType": "Expression",
      "name": "IndexOfStr",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const str = eventsFunctionContext.getArgument(\"str\");\nconst arr = runtimeScene\n    .getVariables()\n    .get(eventsFunctionContext.getArgument(\"array\"))\n    .getAllChildrenArray();\n\n// Technically findIndex would be more suitable but it may be a bit too recent and unsupported by some browsers\neventsFunctionContext.returnValue = arr.indexOf(arr.find(variable => variable.getAsString() === str));\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the scene array variable",
          "longDescription": "",
          "name": "array",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The string to search in the array",
          "longDescription": "",
          "name": "str",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "The index of the last variable that equals to a specific number in an array.",
      "fullName": "Last index of number",
      "functionType": "Expression",
      "name": "LastIndexOf",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const num = eventsFunctionContext.getArgument(\"num\");\nconst arr = runtimeScene\n    .getVariables()\n    .get(eventsFunctionContext.getArgument(\"array\"))\n    .getAllChildrenArray();\n\n// Technically findIndex would be more suitable but it may be a bit too recent and unsupported by some browsers\neventsFunctionContext.returnValue = arr.indexOf(arr.slice().reverse().find(variable => variable.getAsNumber() === num));\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the scene array variable",
          "longDescription": "",
          "name": "array",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The number to search in the array",
          "longDescription": "",
          "name": "num",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "The index of the last variable that equals to a specific text in an array.",
      "fullName": "Last index of text",
      "functionType": "Expression",
      "name": "LastIndexOfStr",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const str = eventsFunctionContext.getArgument(\"str\");\nconst arr = runtimeScene\n    .getVariables()\n    .get(eventsFunctionContext.getArgument(\"array\"))\n    .getAllChildrenArray();\n\n// Technically findIndex would be more suitable but it may be a bit too recent and unsupported by some browsers\neventsFunctionContext.returnValue = arr.indexOf(arr.slice().reverse().find(variable => variable.getAsString() === str));\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the scene array variable",
          "longDescription": "",
          "name": "array",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The string to search in the array",
          "longDescription": "",
          "name": "str",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Returns a random number of an array of numbers.",
      "fullName": "Random number of array",
      "functionType": "Expression",
      "name": "GetRandomNumber",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene\n    .getVariables()\n    .get(eventsFunctionContext.getArgument(\"arr\"))\n    .getAllChildrenArray();\n\neventsFunctionContext.returnValue = arr.length === 0 ? 0 :\n    arr[Math.floor(Math.random() * arr.length)].getAsNumber();\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the scene array variable",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Returns a random string of an array of strings.",
      "fullName": "Random string of array",
      "functionType": "StringExpression",
      "name": "GetRandomString",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene\n    .getVariables()\n    .get(eventsFunctionContext.getArgument(\"arr\"))\n    .getAllChildrenArray();\n\neventsFunctionContext.returnValue = arr.length === 0 ? \"\" :\n    arr[Math.floor(Math.random() * arr.length)].getAsString();\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the scene array variable",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Removes the last array child of an array, and return it as a number.",
      "fullName": "Pop number from array",
      "functionType": "Expression",
      "name": "PopNumber",
      "private": false,
      "sentence": "Remove last child of _PARAM1_ and store it in _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\n\neventsFunctionContext.returnValue = arr.getAllChildrenArray().pop().getAsNumber();\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to pop a child from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Removes the last array child of an array, and return it as a string.",
      "fullName": "Pop string from array",
      "functionType": "StringExpression",
      "name": "PopString",
      "private": false,
      "sentence": "Remove last child of _PARAM1_ and store it in _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\n\neventsFunctionContext.returnValue = arr.getAllChildrenArray().pop().getAsString();\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to pop a child from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Removes the first array child of an array, and return it as a number.",
      "fullName": "Shift number from array",
      "functionType": "Expression",
      "name": "ShiftNumber",
      "private": false,
      "sentence": "Remove last child of _PARAM1_ and store it in _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\n\neventsFunctionContext.returnValue = arr.getAllChildrenArray().shift().getAsNumber();\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to shift a child from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Removes the first array child of an array, and return it as a string.",
      "fullName": "Shift string from array",
      "functionType": "StringExpression",
      "name": "ShiftString",
      "private": false,
      "sentence": "Remove last child of _PARAM1_ and store it in _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\n\neventsFunctionContext.returnValue = arr.getAllChildrenArray().shift().getAsString();\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to shift a child from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Checks if an array contains a specific number.",
      "fullName": "Array has number",
      "functionType": "Condition",
      "name": "HasNumber",
      "private": false,
      "sentence": "Array _PARAM1_ has number _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "Egal"
              },
              "parameters": [
                "ArrayTools::IndexOf(GetArgumentAsString(\"arr\"), GetArgumentAsNumber(\"val\"))",
                "!=",
                "-1"
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to check from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The number to search",
          "longDescription": "",
          "name": "val",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Checks if an array contains a specific string.",
      "fullName": "Array has string",
      "functionType": "Condition",
      "name": "HasString",
      "private": false,
      "sentence": "Array _PARAM1_ has string _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "Egal"
              },
              "parameters": [
                "ArrayTools::IndexOfStr(GetArgumentAsString(\"arr\"), GetArgumentAsString(\"val\"))",
                "!=",
                "-1"
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to check from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The text to search",
          "longDescription": "",
          "name": "val",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Copies a portion of a scene array variable into a new scene array variable.",
      "fullName": "Slice an array",
      "functionType": "Action",
      "name": "Slice",
      "private": false,
      "sentence": "Slice array _PARAM1_ from indices _PARAM3_ to _PARAM4_ into _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\nconst target = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"target\"));\n\n// Ensure the target is a clean new array\ntarget.castTo(\"array\");\ntarget.clearChildren();\n\n// Slice the original array\nconst slice = arr\n    .getAllChildrenArray()\n    .slice(\n        eventsFunctionContext.getArgument(\"begin\"),\n        // The `|| undefined` replaces 0 with undefined, as having the argument as 0 \n        // would make the array empty and is therefore useless.\n        // With undefined though, it doesn't stop until the end of the array,\n        // which is purposeful.\n        eventsFunctionContext.getArgument(\"end\") || undefined\n    );\n\n// Copy each variable of the slice into the new array\nfor (const variable of slice)\n    target.pushVariableCopy(variable);\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to take a slice from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to store the slice into",
          "longDescription": "",
          "name": "target",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The index to start the slice from",
          "longDescription": "",
          "name": "begin",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The index to end the slice at",
          "longDescription": "Set to 0 to copy all of the array. If you use a negative value, the index will be selected beginning from the end.  \nFor example, slicing an array with 5 elements from 0 to -1 would take only elements from indices 0 to 3.",
          "name": "end",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Cuts a portion of an array off.",
      "fullName": "Splice an array",
      "functionType": "Action",
      "name": "Splice",
      "private": false,
      "sentence": "Remove _PARAM3_ items from array _PARAM1_ starting from index _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\narr.getAllChildrenArray()\n    .splice(\n        eventsFunctionContext.getArgument(\"begin\"),\n        // Replaces 0 with the legth of the array, as having the argument as 0 \n        // would not remove anything and is therefore useless.\n        eventsFunctionContext.getArgument(\"count\") || arr.getAllChildrenArray().length\n    );\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to remove items from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The index to start removing from",
          "longDescription": "If you use a negative value, the index will be selected beginning from the end.",
          "name": "begin",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The amount of elements to remove",
          "longDescription": "Set to 0 to remove until the end of the array.",
          "name": "count",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Combines all elements of 2 scene arrays into one new scene array.",
      "fullName": "Combine 2 arrays",
      "functionType": "Action",
      "name": "Concatenate",
      "private": false,
      "sentence": "Combine array _PARAM1_ and _PARAM2_ into _PARAM3_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\nconst arr2 = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr2\"));\nconst target = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"target\"));\n\n// Ensure the target is a clean new array\ntarget.castTo(\"array\");\ntarget.clearChildren();\n\n// Copy both arrays inside the new one\nfor (const variable of arr.getAllChildrenArray())\n    target.pushVariableCopy(variable);\n\nfor (const variable of arr2.getAllChildrenArray())\n    target.pushVariableCopy(variable);\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The first array",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The second array",
          "longDescription": "",
          "name": "arr2",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The variable to store the new array in",
          "longDescription": "",
          "name": "target",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Appends a copy of all variables of one array to another array.",
      "fullName": "Append all variable to another array",
      "functionType": "Action",
      "name": "AppendAll",
      "private": false,
      "sentence": "Append all elements from array _PARAM1_ into _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\nconst target = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"target\"));\n\n// Copy both arrays inside the new one\nfor (const variable of arr.getAllChildrenArray())\n    target.pushVariableCopy(variable);\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to get the variables from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The variable to append the variables in",
          "longDescription": "",
          "name": "target",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Reverses children of an array. The first array child becomes the last, and the last array child becomes the first.",
      "fullName": "Reverse an array",
      "functionType": "Action",
      "name": "Reverse",
      "private": false,
      "sentence": "Reverse array _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\narr.getAllChildrenArray().reverse();\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to reverse",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Fill an element with a number.",
      "fullName": "Fill array with number",
      "functionType": "Action",
      "name": "Fill",
      "private": false,
      "sentence": "Fill array _PARAM1_ with _PARAM2_ from index _PARAM3_ to index _PARAM4_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\nconst a = arr.getAllChildrenArray();\nconst end = eventsFunctionContext.getArgument(\"end\") || a.length - 1;\n\nfor (let i = eventsFunctionContext.getArgument(\"begin\"); i <= end; i++)\n    a[i] = new gdjs.Variable({\n        type: \"number\",\n        value: eventsFunctionContext.getArgument(\"val\"),\n    });\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to fill",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The number to fill",
          "longDescription": "",
          "name": "val",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The index to start filling from",
          "longDescription": "",
          "name": "begin",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The index to stop filling at",
          "longDescription": "Set to 0 to fill until the end of the array.",
          "name": "end",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Shuffles all children of an array.",
      "fullName": "Shuffle array",
      "functionType": "Action",
      "name": "Shuffle",
      "private": false,
      "sentence": "Shuffle array _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\nconst a = arr.getAllChildrenArray();\na.sort(() => Math.random() - 0.5);\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to shuffle",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Replaces all arrays inside of an array with their children. For example, [[1,2], [3,4]] becomes [1,2,3,4].",
      "fullName": "Flatten array",
      "functionType": "Action",
      "name": "Flatten",
      "private": false,
      "sentence": "Flatten array _PARAM1_ (Deeply flatten: _PARAM2_)",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\nconst a = arr.getAllChildrenArray();\nconst deep = eventsFunctionContext.getArgument(\"deep\");\n\nfor (let i = 0; i < a.length; i++)\n    if (a[i].getType() === \"array\") {\n        const b = a[i].getAllChildrenArray();\n        // At the position of the array (i), remove 1 element (the array), \n        // and insert elements of b (the contents of the array) in-place of the array.\n        a.splice(i, 1, ...b);\n        // Skip over the elements that were just added as we are flattening only 1 level deep \n        if(!deep) i += b.length;\n        // If deep, the current element has been replaced with another, we need to recheck it on next iteration.\n        // If not deep, the current element is now the one after the array elements and needs to be checked too.\n        // In both case, decreasing by 1 is necessary.\n        i--;\n    }\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to flatten",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Deeply flatten",
          "longDescription": "If yes, will continue flattening until there is no arrays in the array anymore.",
          "name": "deep",
          "optional": false,
          "supplementaryInformation": "",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Removes the last array child of an array, and stores it in another variable.",
      "fullName": "Pop array child",
      "functionType": "Action",
      "name": "Pop",
      "private": false,
      "sentence": "Remove last child of _PARAM1_ and store it in _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\nconst popvar = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"popvar\"));\n\ngdjs.Variable.copy(arr.getAllChildrenArray().pop(), popvar, false);\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to pop a child from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The variable to store the popped value into",
          "longDescription": "",
          "name": "popvar",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Removes the first array child of an array, and stores it in another variable.",
      "fullName": "Shift array child",
      "functionType": "Action",
      "name": "Shift",
      "private": false,
      "sentence": "Remove first child of _PARAM1_ and store it in _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\nconst shiftvar = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"shiftvar\"));\n\ngdjs.Variable.copy(arr.getAllChildrenArray().shift(), shiftvar, false);\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to shift a child from",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The variable to store the shifted value into",
          "longDescription": "",
          "name": "shiftvar",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Insert a variable at a specific index of an array.",
      "fullName": "Insert variable at",
      "functionType": "Action",
      "name": "InsertAt",
      "private": false,
      "sentence": "Insert variable _PARAM3_ in _PARAM1_ at index _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\r\n// Cast to array to ensure getAllChildrenArray returns the real array\r\narr.castTo(\"array\");\r\nconst variable = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"variable\"));\r\n\r\narr.getAllChildrenArray().splice(eventsFunctionContext.getArgument(\"index\"), 0, variable.clone());\r\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to insert a variable in",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The index to insert the variable at",
          "longDescription": "",
          "name": "index",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the variable to insert",
          "longDescription": "",
          "name": "variable",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Split a string into an array of strings via a separator.",
      "fullName": "Split string into array",
      "functionType": "Action",
      "name": "SplitString",
      "private": false,
      "sentence": "Split string _PARAM1_ via separator _PARAM2_ into array _PARAM3_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\nconst str = eventsFunctionContext.getArgument(\"str\");\nconst sep = eventsFunctionContext.getArgument(\"sep\");\n\n// Ensure the target is a clean new array\narr.castTo(\"array\");\narr.clearChildren();\n\nfor (const string of str.split(sep)) \n    arr.pushValue(string);\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The string to split",
          "longDescription": "",
          "name": "str",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The separator to use to split the string",
          "longDescription": "For example, if you have a string \"Hello World\", and the separator is a space (\" \"), the resulting array would be [\"Hello\", \"World\"]. If the separator is an empty string (\"\"), it will make an element per character ([\"H\", \"e\", \"l\", \"l\", \"o\", \" \", \"W\", \"o\", \"r\", \"l\", \"d\"]).",
          "name": "sep",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the variable where to store the array",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Returns a string made from all strings in an array.",
      "fullName": "Join all elements of an array together into a string",
      "functionType": "StringExpression",
      "name": "Join",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"));\r\nconst sep = eventsFunctionContext.getArgument(\"sep\");\r\n\r\neventsFunctionContext.returnValue = arr\r\n    .getAllChildrenArray()\r\n    .reduce((accumulator, current) => accumulator + sep + current.getAsString(), \"\")\r\n    // Remove first separator as it should be only between the strings\r\n    .slice(sep.length);\r\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the array to join into a string",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Optional separator text between each element.",
          "longDescription": "",
          "name": "sep",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Get the sum of all numbers in an array.",
      "fullName": "Sum of array children",
      "functionType": "Expression",
      "name": "Sum",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = runtimeScene\n    .getVariables()\n    .get(eventsFunctionContext.getArgument(\"arr\"))\n    .getAllChildrenArray()\n    .reduce((accumulator, current) => accumulator + current.getAsNumber(), 0);\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The name of the array",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Gets the smallest number in an array.",
      "fullName": "Smallest value",
      "functionType": "Expression",
      "name": "Min",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\")).getAllChildrenArray();\r\n\r\nlet min = arr[0].getAsNumber();\r\nfor (let i = 1; i < arr.length; i++) {\r\n    const num = arr[i].getAsNumber();\r\n    if (num < min) min = num;\r\n}\r\n\r\neventsFunctionContext.returnValue = min;\r\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Gets the biggest number in an array.",
      "fullName": "Biggest value",
      "functionType": "Expression",
      "name": "Max",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\")).getAllChildrenArray();\r\n\r\nlet max = arr[0].getAsNumber();\r\nfor (let i = 1; i < arr.length; i++) {\r\n    const num = arr[i].getAsNumber();\r\n    if (num > max) max = num;\r\n}\r\n\r\neventsFunctionContext.returnValue = max;\r\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Gets the average number in an array.",
      "fullName": "Average value",
      "functionType": "Expression",
      "name": "Mean",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\")).getAllChildrenArray();\r\neventsFunctionContext.returnValue =\r\n    arr.reduce((accumulator, current) => accumulator + current.getAsNumber(), 0) / arr.length;\r\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Gets the median number in an array.",
      "fullName": "Median value",
      "functionType": "Expression",
      "name": "Median",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ArrayTools::Slice"
              },
              "parameters": [
                "",
                "GetArgumentAsString(\"arr\")",
                "\"__ArrayTools_tmp\"",
                "0",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ArrayTools::Sort"
              },
              "parameters": [
                "",
                "\"__ArrayTools_tmp\"",
                ""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(\"__ArrayTools_tmp\").getAllChildrenArray();\r\nconst i = arr.length / 2;\r\neventsFunctionContext.returnValue = \r\n    i % 1 == 0 \r\n        ? (arr[i - 1].getAsNumber() + arr[i].getAsNumber()) / 2 \r\n        : arr[Math.floor(i)].getAsNumber();\r\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Sort an array of number from smallest to biggest.",
      "fullName": "Sort an array",
      "functionType": "Action",
      "name": "Sort",
      "private": false,
      "sentence": "Sort array _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const arr = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"arr\"))\n// Cast to array to ensure getAllChildrenArray returns the real array\narr.castTo(\"array\");\n\narr.getAllChildrenArray()\n    .sort((a, b) => {\n        const na = a.getAsNumber();\n        const nb = b.getAsNumber();\n        return na < nb ? -1 : na > nb ? 1 : 0;\n    });\n",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "The array to sort",
          "longDescription": "",
          "name": "arr",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": []
}