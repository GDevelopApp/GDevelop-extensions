{
  "author": "",
  "category": "General",
  "extensionNamespace": "",
  "gdevelopVersion": ">=5.5.222",
  "fullName": "Countdown Timer",
  "helpPath": "",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXRpbWVsYXBzZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMiwyMEE4LDggMCAwLDEgNCwxMkE4LDggMCAwLDEgMTIsNEE4LDggMCAwLDEgMjAsMTJBOCw4IDAgMCwxIDEyLDIwTTEyLDJBMTAsMTAgMCAwLDAgMiwxMkExMCwxMCAwIDAsMCAxMiwyMkExMCwxMCAwIDAsMCAyMiwxMkExMCwxMCAwIDAsMCAxMiwyTTE2LjI0LDcuNzZDMTUuMDcsNi41OCAxMy41Myw2IDEyLDZWMTJMNy43NiwxNi4yNEMxMC4xLDE4LjU4IDEzLjksMTguNTggMTYuMjQsMTYuMjRDMTguNTksMTMuOSAxOC41OSwxMC4xIDE2LjI0LDcuNzZaIiAvPjwvc3ZnPg==",
  "name": "CountdownTimer",
  "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/84bb5cf38949322402154f13d31cec14e8dec409f258953674309ef4b25ecc23_timelapse.svg",
  "shortDescription": "A timer against the clock to create timer challenges in your projects. Countdown functionality.",
  "version": "1.0.2",
  "description": "This extension provides a timer against the clock to create timed challenges in your projects. You can set an initial time in seconds and then start the timer to count down. The extension includes actions to start, reset, pause, and resume the timer, and allows negative numbers, as well as providing expressions to get the remaining time. You can also trigger alerts when time is running out.",
  "origin": {
    "identifier": "CountdownTimer",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "countdown",
    "timer",
    "clock",
    "time management"
  ],
  "authorIds": [
    "xesgTnQuyNXPVkGEDLD3Wcr8O4m1"
  ],
  "dependencies": [],
  "globalVariables": [
    {
      "folded": true,
      "name": "pause",
      "type": "boolean",
      "value": false
    }
  ],
  "sceneVariables": [],
  "eventsFunctions": [
    {
      "description": "Set the countdown timer in seconds.",
      "fullName": "Set the countdown of the clock",
      "functionType": "Action",
      "name": "SetCountdown",
      "sentence": "Set the countdown timer to _PARAM2_ seconds from the _PARAM1_ timer",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "=",
                "GetArgumentAsNumber(\"TimeArg\")"
              ]
            },
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].TimeRestart",
                "=",
                "GetArgumentAsNumber(\"TimeArg\")"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        },
        {
          "description": "Time remaining in seconds",
          "name": "TimeArg",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Starts the countdown from the value set previously.",
      "fullName": "Start countdown timer",
      "functionType": "Action",
      "name": "StartCountdown",
      "sentence": "Start the countdown timer named _PARAM1_, allowing negative numbers (_PARAM2_)",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "<=",
                "0"
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "GetArgumentAsBoolean"
              },
              "parameters": [
                "\"ZeroNumbers\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "RemoveTimer"
              },
              "parameters": [
                "player",
                "\"__CountdownTimer.Repeat\""
              ]
            },
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "=",
                "0"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Timer"
              },
              "parameters": [
                "player",
                "1",
                "\"__CountdownTimer.Repeat\""
              ]
            },
            {
              "type": {
                "value": "GlobalVariableAsBoolean"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Pause",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "player",
                "\"__CountdownTimer.Repeat\""
              ]
            },
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "-",
                "1"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        },
        {
          "description": "Allow negative numbers",
          "name": "ZeroNumbers",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Adds more time in seconds.",
      "fullName": "Add countdown seconds",
      "functionType": "Action",
      "name": "AddCountdown",
      "sentence": "Add _PARAM2_ seconds to _PARAM1_ timer",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "+",
                "GetArgumentAsNumber(\"AddTime\")"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "AddTime",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Subtract the time in seconds.",
      "fullName": "Subtract seconds from the countdown",
      "functionType": "Action",
      "name": "SubstractCountdown",
      "sentence": "Subtract _PARAM2_ seconds to _PARAM1_ timer",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "-",
                "GetArgumentAsNumber(\"SubtractTime\")"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "SubtractTime",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Pauses or unpauses the countdown timer based on a boolean.",
      "fullName": "Pause or unpause countdown timer",
      "functionType": "Action",
      "name": "PauseCountdown",
      "sentence": "Pause the countdown timer named _PARAM1_ (_PARAM2_)",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "GetArgumentAsBoolean"
              },
              "parameters": [
                "\"Pause_Timer\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "RemoveTimer"
              },
              "parameters": [
                "player",
                "\"__CountdownTimer.Repeat\""
              ]
            },
            {
              "type": {
                "value": "SetGlobalVariableAsBoolean"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Pause",
                "True"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "GetArgumentAsBoolean"
              },
              "parameters": [
                "\"Pause_Timer\""
              ]
            },
            {
              "type": {
                "value": "GlobalVariableAsBoolean"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Pause",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ResetTimer"
              },
              "parameters": [
                "player",
                "\"__CountdownTimer.Repeat\""
              ]
            },
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "-",
                "1"
              ]
            },
            {
              "type": {
                "value": "SetGlobalVariableAsBoolean"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Pause",
                "False"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        },
        {
          "defaultValue": "yes",
          "description": "Pause Timer Countdown",
          "name": "Pause_Timer",
          "optional": true,
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Reset the countdown to its initial value.",
      "fullName": "Restart the countdown timer",
      "functionType": "Action",
      "name": "RestartCountdown",
      "sentence": "Reset the countdown timer from _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "=",
                "GlobalVariable(__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].TimeRestart)"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check if the countdown timer has reached a specific time in seconds.",
      "fullName": "Countdown timer is in x sec",
      "functionType": "Condition",
      "name": "IsTimerAtTime",
      "sentence": "Countdown timer is at _PARAM2_ seconds from _PARAM1_ timer",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "=",
                "GetArgumentAsNumber(\"TimeInSeconds\")"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        },
        {
          "description": "Time in seconds",
          "name": "TimeInSeconds",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check if the countdown timer has reached zero.",
      "fullName": "The countdown timer has ended",
      "functionType": "Condition",
      "name": "IsTimerFinished",
      "sentence": "The countdown timer _PARAM1_ has finished",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarGlobal"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time",
                "=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check if paused.",
      "fullName": "The countdown timer has paused",
      "functionType": "Condition",
      "name": "IsTimerPaused",
      "sentence": "The countdown timer _PARAM1_ has paused",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "GlobalVariableAsBoolean"
              },
              "parameters": [
                "__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Pause",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Get the remaining time of the countdown timer.",
      "fullName": "Get remaining time",
      "functionType": "Expression",
      "name": "RemainingTime",
      "sentence": "Remaining time of the countdown timer",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetReturnNumber"
              },
              "parameters": [
                "GlobalVariable(__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].Time)"
              ]
            }
          ]
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Get the initial setting time value of the clock.",
      "fullName": "Get initial configuration value",
      "functionType": "Expression",
      "name": "InitialConfigurationValue",
      "sentence": "Remaining time of the countdown timer",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetReturnNumber"
              },
              "parameters": [
                "GlobalVariable(__CountdownTimer.Clocks[GetArgumentAsString(\"ClockName\")].TimeRestart)"
              ]
            }
          ]
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Clock name",
          "name": "ClockName",
          "type": "string"
        }
      ],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [],
  "eventsBasedObjects": []
}