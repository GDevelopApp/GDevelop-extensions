{
  "author": "",
  "category": "Game mechanic",
  "extensionNamespace": "",
  "fullName": "State Machine",
  "helpPath": "https://gd.games/infokubarcade/state-machine-editor",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXNvdXJjZS1icmFuY2giIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMsMTRDOS42NCwxNCA4LjU0LDE1LjM1IDguMTgsMTYuMjRDOS4yNSwxNi43IDEwLDE3Ljc2IDEwLDE5QTMsMyAwIDAsMSA3LDIyQTMsMyAwIDAsMSA0LDE5QzQsMTcuNjkgNC44MywxNi41OCA2LDE2LjE3VjcuODNDNC44Myw3LjQyIDQsNi4zMSA0LDVBMywzIDAgMCwxIDcsMkEzLDMgMCAwLDEgMTAsNUMxMCw2LjMxIDkuMTcsNy40MiA4LDcuODNWMTMuMTJDOC44OCwxMi40NyAxMC4xNiwxMiAxMiwxMkMxNC42NywxMiAxNS41NiwxMC42NiAxNS44NSw5Ljc3QzE0Ljc3LDkuMzIgMTQsOC4yNSAxNCw3QTMsMyAwIDAsMSAxNyw0QTMsMyAwIDAsMSAyMCw3QzIwLDguMzQgMTkuMTIsOS41IDE3LjkxLDkuODZDMTcuNjUsMTEuMjkgMTYuNjgsMTQgMTMsMTRNNywxOEExLDEgMCAwLDAgNiwxOUExLDEgMCAwLDAgNywyMEExLDEgMCAwLDAgOCwxOUExLDEgMCAwLDAgNywxOE03LDRBMSwxIDAgMCwwIDYsNUExLDEgMCAwLDAgNyw2QTEsMSAwIDAsMCA4LDVBMSwxIDAgMCwwIDcsNE0xNyw2QTEsMSAwIDAsMCAxNiw3QTEsMSAwIDAsMCAxNyw4QTEsMSAwIDAsMCAxOCw3QTEsMSAwIDAsMCAxNyw2WiIgLz48L3N2Zz4=",
  "name": "StateMachine",
  "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/8920350737b7cb98a9a0c3510ce5ac8fa8d3c1195b383f83529691e4ff19a656_source-branch.svg",
  "shortDescription": "State Machine system for Artifical Intelligence and UI.",
  "version": "0.0.1",
  "description": [
    "Enhance your AI and UI with this Finite State Machine system.",
    "It handles states for scene and objects:",
    "* Add as many states as you want",
    "* Connect states together",
    "* Manage transitions easily",
    "* Support start/stop events",
    "* JSON import/export available"
  ],
  "tags": [
    "state machine",
    "ai",
    "artificial intelligence",
    "ui"
  ],
  "authorIds": [
    "vJeYciaE9tW37HzSPOyo9MLOI5E3"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__StateMachine._CurrentState",
                "=",
                "\"\""
              ]
            },
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__StateMachine._NextState",
                "=",
                "\"\""
              ]
            },
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__StateMachine._TempState",
                "=",
                "\"\""
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onScenePreEvents",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Secure temp kill",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__StateMachine._TempState",
                "=",
                "\"\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Ending the current start of the state",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "StateMachine::IsStartingScene"
              },
              "parameters": [
                "",
                "StateMachine::CurrentSceneState()",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine.States[StateMachine::CurrentSceneState()].Start",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Switching to next state",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarSceneTxt"
              },
              "parameters": [
                "__StateMachine._NextState",
                "!=",
                "\"\""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VariableChildExists"
                  },
                  "parameters": [
                    "__StateMachine.States",
                    "StateMachine::CurrentSceneState()"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__StateMachine.States[StateMachine::CurrentSceneState()].Close",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VariableChildExists"
                  },
                  "parameters": [
                    "__StateMachine.States",
                    "VariableString(__StateMachine._NextState)"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarSceneTxt"
                  },
                  "parameters": [
                    "__StateMachine._CurrentState",
                    "=",
                    "VariableString(__StateMachine._NextState)"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarSceneTxt"
                  },
                  "parameters": [
                    "__StateMachine._NextState",
                    "=",
                    "\"\""
                  ]
                },
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__StateMachine.States[StateMachine::CurrentSceneState()].Start",
                    "True"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Current state of the scene.",
      "fullName": "Current Scene State",
      "functionType": "ExpressionAndCondition",
      "name": "CurrentSceneState",
      "sentence": "Current state of the scene",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetReturnString"
              },
              "parameters": [
                "VariableString(__StateMachine._CurrentState)"
              ]
            }
          ]
        }
      ],
      "expressionType": {
        "supplementaryInformation": "sceneState",
        "type": "identifier"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Export the full scene state machine to JSON text.",
      "fullName": "To JSON",
      "functionType": "StringExpression",
      "name": "JSON",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetReturnString"
              },
              "parameters": [
                "\"\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine",
                "\"States\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "JSONToVariableStructure"
              },
              "parameters": [
                "ToJSON(__StateMachine.States)",
                "__StateMachine._JSON"
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine._JSON[StateMachine::CurrentSceneState()].Start",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine._JSON[StateMachine::CurrentSceneState()].Close",
                "False"
              ]
            },
            {
              "type": {
                "value": "SetReturnString"
              },
              "parameters": [
                "ToJSON(__StateMachine._JSON)"
              ]
            },
            {
              "type": {
                "value": "VariableRemoveChild"
              },
              "parameters": [
                "__StateMachine",
                "\"_JSON\""
              ]
            }
          ]
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Check if the current state of the scene can transition to another state. ",
      "fullName": "Scene can transition to another state",
      "functionType": "Condition",
      "name": "CanSwitchScene",
      "sentence": "Scene can transition from current state to _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "StateMachine::CurrentSceneState"
              },
              "parameters": [
                "",
                "!=",
                "\"\"",
                ""
              ]
            },
            {
              "type": {
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States",
                "StateMachine::CurrentSceneState()"
              ]
            },
            {
              "type": {
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States[StateMachine::CurrentSceneState()].Connexion",
                "GetArgumentAsString(\"NextState\")"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__StateMachine._TempState",
                "=",
                "GetArgumentAsString(\"NextState\")"
              ]
            },
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Next scene state name",
          "name": "NextState",
          "supplementaryInformation": "sceneState",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check if the scene state is starting.",
      "fullName": "Scene state begins",
      "functionType": "Condition",
      "name": "IsStartingScene",
      "sentence": "State _PARAM1_ of the scene begins",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States",
                "GetArgumentAsString(\"StateName\")"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine.States[GetArgumentAsString(\"StateName\")].Start",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Scene state name",
          "name": "StateName",
          "supplementaryInformation": "sceneState",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check if the scene state is ending.",
      "fullName": "Scene state ends",
      "functionType": "Condition",
      "name": "IsEndingScene",
      "sentence": "State _PARAM1_ of the scene ends",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "False"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States",
                "GetArgumentAsString(\"StateName\")"
              ]
            },
            {
              "type": {
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine.States[GetArgumentAsString(\"StateName\")].Close",
                "True"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Scene state name",
          "name": "StateName",
          "supplementaryInformation": "sceneState",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Add a new state to the scene state machine.",
      "fullName": "Add new state to the scene",
      "functionType": "Action",
      "name": "AddSceneState",
      "sentence": "Add state _PARAM1_ to the machine of the scene",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CompareArgumentAsString"
              },
              "parameters": [
                "\"StateName\"",
                "!=",
                "\"\""
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States",
                "GetArgumentAsString(\"StateName\")"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine.States[GetArgumentAsString(\"StateName\")].Start",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine.States[GetArgumentAsString(\"StateName\")].Close",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine.States[GetArgumentAsString(\"StateName\")].Connexion[GetArgumentAsString(\"StateName\")]",
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Scene state name",
          "name": "StateName",
          "supplementaryInformation": "sceneState",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the current state of the machine. Use carefully.",
      "fullName": "Set scene state",
      "functionType": "Action",
      "name": "SetSceneState",
      "sentence": "Set the state of the scene to _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States",
                "GetArgumentAsString(\"StateName\")"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VariableChildExists"
                  },
                  "parameters": [
                    "__StateMachine.States",
                    "StateMachine::CurrentSceneState()"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__StateMachine.States[StateMachine::CurrentSceneState()].Close",
                    "True"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarSceneTxt"
                  },
                  "parameters": [
                    "__StateMachine._NextState",
                    "=",
                    "GetArgumentAsString(\"StateName\")"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StateMachine::CurrentSceneState"
                  },
                  "parameters": [
                    "state",
                    "=",
                    "\"\"",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarSceneTxt"
                  },
                  "parameters": [
                    "__StateMachine._CurrentState",
                    "=",
                    "GetArgumentAsString(\"StateName\")"
                  ]
                },
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__StateMachine.States[StateMachine::CurrentSceneState()].Start",
                    "True"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Scene state name",
          "name": "StateName",
          "supplementaryInformation": "sceneState",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Connect a state to another and create a transition for the scene.",
      "fullName": "Connect scene state",
      "functionType": "Action",
      "name": "ConnectSceneState",
      "sentence": "Create a transition from _PARAM1_ to _PARAM2_ for the scene (connect back: _PARAM3_)",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States",
                "GetArgumentAsString(\"StateName\")"
              ]
            },
            {
              "type": {
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States",
                "GetArgumentAsString(\"NextState\")"
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States[GetArgumentAsString(\"StateName\")].Connexion",
                "GetArgumentAsString(\"NextState\")"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine.States[GetArgumentAsString(\"StateName\")].Connexion[GetArgumentAsString(\"NextState\")]",
                "True"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"AddBack\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__StateMachine.States[GetArgumentAsString(\"NextState\")].Connexion[GetArgumentAsString(\"StateName\")]",
                    "True"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "From scene state name",
          "name": "StateName",
          "supplementaryInformation": "sceneState",
          "type": "identifier"
        },
        {
          "description": "To scene state name",
          "name": "NextState",
          "supplementaryInformation": "sceneState",
          "type": "identifier"
        },
        {
          "description": "Connect the destination to the source also",
          "name": "AddBack",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Accept the transition and change the scene current state.",
      "fullName": "Accept scene transition",
      "functionType": "Action",
      "name": "AcceptSceneSwitch",
      "sentence": "Scene transition to the next state ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarSceneTxt"
              },
              "parameters": [
                "__StateMachine._TempState",
                "!=",
                "\"\""
              ]
            },
            {
              "type": {
                "value": "VariableChildExists"
              },
              "parameters": [
                "__StateMachine.States[StateMachine::CurrentSceneState()].Connexion",
                "VariableString(__StateMachine._TempState)"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SystemInfo::IsPreview"
                  },
                  "parameters": [
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__StateMachine._Debug",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "DebuggerTools::ConsoleLog"
                  },
                  "parameters": [
                    "\"From scene \"+VariableString(__StateMachine._CurrentState)+\" to \"+VariableString(__StateMachine._NextState)",
                    "",
                    "\"Scene state machine\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "StateMachine::SetSceneState"
                  },
                  "parameters": [
                    "",
                    "VariableString(__StateMachine._TempState)",
                    ""
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add the first state and launch the state machine.",
      "fullName": "Start the state machine",
      "functionType": "Action",
      "name": "StartSceneState",
      "sentence": "The scene state machine starts on _PARAM1_ state (debug mode: _PARAM2_)",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CompareArgumentAsString"
              },
              "parameters": [
                "\"StateName\"",
                "!=",
                "\"\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "StateMachine::AddSceneState"
              },
              "parameters": [
                "",
                "GetArgumentAsString(\"StateName\")",
                ""
              ]
            },
            {
              "type": {
                "value": "StateMachine::SetSceneState"
              },
              "parameters": [
                "",
                "GetArgumentAsString(\"StateName\")",
                ""
              ]
            },
            {
              "type": {
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__StateMachine._Debug",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"DebugMode\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__StateMachine._Debug",
                    "True"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Scene state name",
          "name": "StateName",
          "supplementaryInformation": "sceneState",
          "type": "identifier"
        },
        {
          "description": "Activate debug mode",
          "name": "DebugMode",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Load all the scene state machine from JSON content. ",
      "fullName": "Load scene states from JSON",
      "functionType": "Action",
      "name": "LoadFromJSON",
      "sentence": "Load the scene's state machine from JSON: _PARAM1_ ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CompareArgumentAsString"
              },
              "parameters": [
                "\"JSONContent\"",
                "!=",
                "\"\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "JSONToVariableStructure"
              },
              "parameters": [
                "GetArgumentAsString(\"JSONContent\")",
                "__StateMachine.States"
              ]
            },
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__StateMachine._CurrentState",
                "=",
                "\"\""
              ]
            },
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__StateMachine._NextState",
                "=",
                "\"\""
              ]
            },
            {
              "type": {
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__StateMachine._TempState",
                "=",
                "\"\""
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "JSON content",
          "name": "JSONContent",
          "supplementaryInformation": "sceneState",
          "type": "string"
        }
      ],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [
    {
      "description": "Add a State Machine in the object.\nIt allows to handle multiple states and transitions between them.",
      "fullName": "State Machine",
      "name": "StateMachine",
      "objectType": "",
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onCreated",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::PropertyJSON"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "!=",
                    "\"\""
                  ]
                },
                {
                  "type": {
                    "value": "StateMachine::StateMachine::PropertyJSON"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "!=",
                    "\"0\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "JSONToObjectVariableStructure"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyJSON()",
                    "Object",
                    "__StateMachine"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::PropertyFirstState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "!=",
                    "\"\""
                  ]
                },
                {
                  "type": {
                    "value": "StateMachine::StateMachine::PropertyFirstState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "!=",
                    "\"0\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::AddState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyFirstState()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "StateMachine::StateMachine::SetState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyFirstState()",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPreEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::SetPropertyTemporaryState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "\"\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::PropertyNextState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "!=",
                    "\"\""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "ObjectVariableChildExists"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine",
                        "Object.Behavior::CurrentState()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine[Object.Behavior::CurrentState()].Close",
                        "False"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "ObjectVariableChildExists"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine",
                        "Object.Behavior::PropertyNextState()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "StateMachine::StateMachine::SetPropertyCurrentState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::PropertyNextState()"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine[Object.Behavior::CurrentState()].Start",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "StateMachine::StateMachine::SetPropertyNextState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"\""
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPostEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::CurrentState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "!=",
                    "\"\"",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "StateMachine::StateMachine::IsStarting"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::CurrentState()",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine[Object.Behavior::CurrentState()].Start",
                    "False"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Current state of the object.",
          "fullName": "Current State",
          "functionType": "ExpressionAndCondition",
          "group": "Object State Machine",
          "name": "CurrentState",
          "sentence": "Current state",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnString"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyCurrentState()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "supplementaryInformation": "objectState",
            "type": "identifier"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Export the full state machine to JSON text.",
          "fullName": "To JSON",
          "functionType": "StringExpression",
          "group": "Object State Machine",
          "name": "JSON",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnString"
                  },
                  "parameters": [
                    "\"\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::CurrentState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "!=",
                    "\"\"",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "JSONToObjectVariableStructure"
                  },
                  "parameters": [
                    "ObjectVarToJSON(Object, __StateMachine)",
                    "Object",
                    "__StateMachine._JSON"
                  ]
                },
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine._JSON[Object.Behavior::CurrentState()].Start",
                    "False"
                  ]
                },
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine._JSON[Object.Behavior::CurrentState()].Close",
                    "False"
                  ]
                },
                {
                  "type": {
                    "value": "SetReturnString"
                  },
                  "parameters": [
                    "ObjectVarToJSON(Object, __StateMachine._JSON)"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableRemoveChild"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine",
                    "\"_JSON\""
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "string"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the current state can transition to another state. ",
          "fullName": "Can transition to another state",
          "functionType": "Condition",
          "group": "Object State Machine",
          "name": "CanSwitch",
          "sentence": "_PARAM0_ can transition from current state to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::CurrentState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "!=",
                    "\"\"",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine",
                    "Object.Behavior::PropertyCurrentState()"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine[Object.Behavior::PropertyCurrentState()].Connexion",
                    "GetArgumentAsString(\"NextState\")"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::SetPropertyTemporaryState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsString(\"NextState\")"
                  ]
                },
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            },
            {
              "description": "Next state name",
              "name": "NextState",
              "supplementaryInformation": "objectState",
              "type": "identifier"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the state is starting.",
          "fullName": "State begins",
          "functionType": "Condition",
          "group": "Object State Machine",
          "name": "IsStarting",
          "sentence": "State _PARAM2_ of _PARAM0_ begins",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine",
                    "GetArgumentAsString(\"StateName\")"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine[GetArgumentAsString(\"StateName\")].Start",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            },
            {
              "description": "State name",
              "name": "StateName",
              "supplementaryInformation": "objectState",
              "type": "identifier"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the state is ending.",
          "fullName": "State ends",
          "functionType": "Condition",
          "group": "Object State Machine",
          "name": "IsEnding",
          "sentence": "State _PARAM2_ of _PARAM0_ ends",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine",
                    "GetArgumentAsString(\"StateName\")"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine[GetArgumentAsString(\"StateName\")].Close",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            },
            {
              "description": "State name",
              "name": "StateName",
              "supplementaryInformation": "objectState",
              "type": "identifier"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Add a new state to the machine.",
          "fullName": "Add new state",
          "functionType": "Action",
          "group": "Object State Machine",
          "name": "AddState",
          "sentence": "Add state _PARAM2_ to the machine of _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareArgumentAsString"
                  },
                  "parameters": [
                    "\"StateName\"",
                    "!=",
                    "\"\""
                  ]
                },
                {
                  "type": {
                    "inverted": true,
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine",
                    "GetArgumentAsString(\"StateName\")"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine[GetArgumentAsString(\"StateName\")].Start",
                    "False"
                  ]
                },
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine[GetArgumentAsString(\"StateName\")].Close",
                    "False"
                  ]
                },
                {
                  "type": {
                    "value": "SetObjectVariableAsBoolean"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine[GetArgumentAsString(\"StateName\")].Connexion[GetArgumentAsString(\"StateName\")]",
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            },
            {
              "description": "State name",
              "name": "StateName",
              "type": "string"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Connect a state to another and create a transition.",
          "fullName": "Connect two states",
          "functionType": "Action",
          "group": "Object State Machine",
          "name": "ConnectState",
          "sentence": "Create a transition from _PARAM2_ to _PARAM3_ for _PARAM0_ (connect back: _PARAM4_)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine",
                    "GetArgumentAsString(\"FirstState\")"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine",
                    "GetArgumentAsString(\"NextState\")"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "ObjectVariableChildExists"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine[GetArgumentAsString(\"FirstState\")].Connexion",
                        "GetArgumentAsString(\"NextState\")"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine[GetArgumentAsString(\"FirstState\")].Connexion[GetArgumentAsString(\"NextState\")]",
                        "True"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"AddBack\""
                      ]
                    },
                    {
                      "type": {
                        "inverted": true,
                        "value": "ObjectVariableChildExists"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine[GetArgumentAsString(\"NextState\")].Connexion",
                        "GetArgumentAsString(\"FirstState\")"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine[GetArgumentAsString(\"NextState\")].Connexion[GetArgumentAsString(\"FirstState\")]",
                        "True"
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            },
            {
              "description": "From state name",
              "name": "FirstState",
              "supplementaryInformation": "objectState",
              "type": "identifier"
            },
            {
              "description": "To state name",
              "longDescription": "Both states have to be added to the machine before connecting to each other.",
              "name": "NextState",
              "type": "string"
            },
            {
              "description": "Connect back",
              "longDescription": "Connect the destination to the source also",
              "name": "AddBack",
              "type": "yesorno"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the current state of the machine. Use carefully.",
          "fullName": "Set state",
          "functionType": "Action",
          "group": "Object State Machine",
          "name": "SetState",
          "sentence": "Set the state of _PARAM0_ state machine to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine",
                    "GetArgumentAsString(\"StateName\")"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "ObjectVariableChildExists"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine",
                        "Object.Behavior::CurrentState()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine[Object.Behavior::CurrentState()].Close",
                        "True"
                      ]
                    },
                    {
                      "type": {
                        "value": "StateMachine::StateMachine::SetPropertyNextState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsString(\"StateName\")"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "StateMachine::StateMachine::CurrentState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "\"\"",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "StateMachine::StateMachine::SetPropertyCurrentState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsString(\"StateName\")"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetObjectVariableAsBoolean"
                      },
                      "parameters": [
                        "Object",
                        "__StateMachine[Object.Behavior::CurrentState()].Start",
                        "True"
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            },
            {
              "description": "State name",
              "name": "StateName",
              "supplementaryInformation": "objectState",
              "type": "identifier"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Accept the transition and change the current state.",
          "fullName": "Accept transition",
          "functionType": "Action",
          "group": "Object State Machine",
          "name": "AcceptSwitch",
          "sentence": "Transition _PARAM0_ to the next state ",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "StateMachine::StateMachine::PropertyTemporaryState"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "!=",
                    "\"\""
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__StateMachine[Object.Behavior::PropertyCurrentState()].Connexion",
                    "Object.Behavior::PropertyTemporaryState()"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SystemInfo::IsPreview"
                      },
                      "parameters": [
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "StateMachine::StateMachine::PropertyDebugMode"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "DebuggerTools::ConsoleLog"
                      },
                      "parameters": [
                        "\"From \"+Object.ObjectName()+\" \"+Object.Behavior::PropertyCurrentState()+\" to \"+Object.Behavior::PropertyTemporaryState()",
                        "",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "StateMachine::StateMachine::SetState"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyTemporaryState()",
                        ""
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Load all the state machine from JSON content. ",
          "fullName": "Load states from JSON",
          "functionType": "Action",
          "group": "Object State Machine",
          "name": "LoadFromJSON",
          "sentence": "Load the _PARAM0_ state machine from JSON: _PARAM2_ ",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CompareArgumentAsString"
                  },
                  "parameters": [
                    "\"JSONContent\"",
                    "!=",
                    "\"\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "JSONToObjectVariableStructure"
                  },
                  "parameters": [
                    "GetArgumentAsString(\"JSONContent\")",
                    "Object",
                    "__StateMachine"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "StateMachine::StateMachine",
              "type": "behavior"
            },
            {
              "description": "JSON content",
              "name": "JSONContent",
              "type": "string"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "",
          "type": "String",
          "label": "First state",
          "description": "First state where the machine starts.",
          "group": "States",
          "extraInformation": [],
          "hidden": false,
          "name": "FirstState"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "Debug mode",
          "description": "Activate the debug mode for the transitions",
          "group": "States",
          "extraInformation": [],
          "hidden": false,
          "name": "DebugMode"
        },
        {
          "value": "",
          "type": "String",
          "label": "JSON Setup",
          "description": "JSON content for loading all the states at once. ",
          "group": "JSON",
          "extraInformation": [],
          "hidden": false,
          "name": "JSON"
        },
        {
          "value": "",
          "type": "String",
          "label": "Current state",
          "description": "Current state of the object.",
          "group": "States",
          "extraInformation": [],
          "hidden": true,
          "name": "CurrentState"
        },
        {
          "value": "",
          "type": "String",
          "label": "Accepted next state",
          "description": "The system will change to this state on the next frame.",
          "group": "States",
          "extraInformation": [],
          "hidden": true,
          "name": "NextState"
        },
        {
          "value": "",
          "type": "String",
          "label": "Temporary next state",
          "description": "",
          "group": "States",
          "extraInformation": [],
          "hidden": true,
          "name": "TemporaryState"
        }
      ],
      "sharedPropertyDescriptors": []
    }
  ],
  "eventsBasedObjects": []
}