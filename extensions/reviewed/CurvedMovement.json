{
  "author": "",
  "category": "Movement",
  "extensionNamespace": "",
  "fullName": "Curved movement",
  "helpPath": "/extensions/curved-movement/details/",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO30NCgkuc3Qye2ZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTo2LDY7fQ0KCS5zdDN7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtZGFzaGFycmF5OjQsNDt9DQoJLnN0NHtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fQ0KCS5zdDV7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6My4xMDgxLDMuMTA4MTt9DQoJDQoJCS5zdDZ7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2UtZGFzaGFycmF5OjQsMzt9DQo8L3N0eWxlPg0KPHJlY3QgeD0iMyIgeT0iMjUiIGNsYXNzPSJzdDAiIHdpZHRoPSI0IiBoZWlnaHQ9IjQiLz4NCjxyZWN0IHg9IjI1IiB5PSIzIiBjbGFzcz0ic3QwIiB3aWR0aD0iNCIgaGVpZ2h0PSI0Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjUsNUwyNSw1QzE0LDUsNSwxNCw1LDI1djAiLz4NCjwvc3ZnPg0K",
  "name": "CurvedMovement",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Graphic Design/Graphic Design_bezier_curve.svg",
  "shortDescription": "Move objects on curved paths.",
  "version": "1.1.1",
  "description": [
    "This extension allows to move objects on BÃ©zier curve paths.",
    "- Paths can be built dynamically or from predetermined paths in SVG format.",
    "- A behavior moves objects in a given duration a bit like the Tween extension does.",
    "- Another behavior moves objects using a speed and an acceleration.",
    "- Expressions give access to the path trajectory values for more complex movements.",
    "",
    "This extension can be used to:",
    "- Move enemies that follow a pattern",
    "- Animate decorations",
    "",
    "A collection of [small examples](https://editor.gdevelop.io/?project=example://curved-movement) shows how to use this extension.",
    "",
    "2 examples use it:",
    "- a 3D racing game ([open the project online](https://editor.gdevelop.io/?project=example://3d-racing-game))",
    "- a Zuma-like ([open the project online](https://editor.gdevelop.io/?project=example://smoothy))"
  ],
  "origin": {
    "identifier": "CurvedMovement",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "bezier",
    "curve",
    "path",
    "movement",
    "animate",
    "animation",
    "smooth"
  ],
  "authorIds": [
    "AX15J5TSnpSLUglk4nQVamviftr2",
    "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
  ],
  "dependencies": [],
  "globalVariables": [],
  "sceneVariables": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onFirstSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "CurvedMovement::DefineHelperClasses"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Define helper classes JavaScript code.",
      "fullName": "Define helper classes",
      "functionType": "Action",
      "name": "DefineHelperClasses",
      "private": true,
      "sentence": "Define helper classes JavaScript code",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "/**",
            " * @param {number[]} array ",
            " * @param {number} value",
            " */",
            "const findLowerIndex = function (array, value) {",
            "  let low = 0;",
            "  let high = array.length - 1;",
            "  let index = 0;",
            "  while (low < high) {",
            "    index = low + (((high - low) / 2) | 0);",
            "    if (array[index] < value) {",
            "      low = index + 1;",
            "    } else {",
            "      high = index;",
            "    }",
            "  }",
            "  if (array[index] > value) {",
            "    index--;",
            "  }",
            "  return index;",
            "};",
            "",
            "const CurvedPath = /** @class */ (function () {",
            "  /**",
            "   * @param {number} speedScaleY Set it to 0.5 for pixel isometry.",
            "   */",
            "  function CurvedPath(speedScaleY = 1) {",
            "    /**",
            "     * @type {CubicBezierCurve[]}",
            "     */",
            "    this.curves = [];",
            "    /**",
            "     * @type {number[]}",
            "     */",
            "    this.curvePreviousLengths = [0];",
            "    /**",
            "     * Set it to 0.5 for pixel isometry.",
            "     */",
            "    this.speedScaleY = speedScaleY;",
            "  };",
            "",
            "  CurvedPath.prototype.getCurvePreviousLengths = function () {",
            "    if (this.curvePreviousLengths.length === 0) {",
            "      let lengthSum = 0;",
            "      this.curvePreviousLengths.push(0);",
            "      for (const curve of this.curves) {",
            "        lengthSum += curve.getLength();",
            "        this.curvePreviousLengths.push(lengthSum);",
            "      }",
            "    }",
            "    return this.curvePreviousLengths;",
            "  }",
            "",
            "  CurvedPath.prototype.clone = function () {",
            "    const clone = new CurvedPath();",
            "    clone.curves = this.curves.map(curve => curve.clone());",
            "    clone.curvePreviousLengths = [...this.curvePreviousLengths];",
            "    return clone;",
            "  };",
            "",
            "  CurvedPath.prototype.getSpeedScaleY = function () {",
            "    return this.speedScaleY;",
            "  };",
            "",
            "  /**",
            "   * @param {number} speedScaleY Set it to 0.5 for pixel isometry.",
            "   */",
            "  CurvedPath.prototype.setSpeedScaleY = function (speedScaleY) {",
            "    if (this.speedScaleY === speedScaleY) {",
            "      return;",
            "    }",
            "    this.scale(1, this.speedScaleY / speedScaleY);",
            "    this.speedScaleY = speedScaleY;",
            "  };",
            "",
            "  /**",
            "   * @param {CubicBezierCurve} curve",
            "   */",
            "  CurvedPath.prototype._add = function (curve) {",
            "    this.curves.push(curve);",
            "    if (this.curvePreviousLengths.length > 0) {",
            "      this.curvePreviousLengths.push(this.getLength() + curve.getLength());",
            "    }",
            "  };",
            "",
            "  /**",
            "   * @param {number} firstControlX",
            "   * @param {number} firstControlY",
            "   * @param {number} secondControlX",
            "   * @param {number} secondControlY",
            "   * @param {number} destinationX",
            "   * @param {number} destinationY",
            "   * @param {boolean} isRelative",
            "   */",
            "  CurvedPath.prototype.addCurve = function (",
            "    firstControlX,",
            "    firstControlY,",
            "    secondControlX,",
            "    secondControlY,",
            "    destinationX,",
            "    destinationY,",
            "    isRelative) {",
            "    const endX = this.getEndX();",
            "    const endY = this.getEndY();",
            "    if (isRelative) {",
            "      firstControlX += endX;",
            "      firstControlY += endY;",
            "      secondControlX += endX;",
            "      secondControlY += endY;",
            "      destinationX += endX;",
            "      destinationY += endY;",
            "    }",
            "    this._add(new CubicBezierCurve(",
            "      endX,",
            "      endY / this.speedScaleY,",
            "      firstControlX,",
            "      firstControlY / this.speedScaleY,",
            "      secondControlX,",
            "      secondControlY / this.speedScaleY,",
            "      destinationX,",
            "      destinationY / this.speedScaleY",
            "    ));",
            "  }",
            "",
            "  /**",
            "   * @param {number} secondControlX",
            "   * @param {number} secondControlY",
            "   * @param {number} destinationX",
            "   * @param {number} destinationY",
            "   * @param {boolean} isRelative",
            "   */",
            "  CurvedPath.prototype.addSmoothCurve = function (",
            "    secondControlX,",
            "    secondControlY,",
            "    destinationX,",
            "    destinationY,",
            "    isRelative) {",
            "    const endX = this.getEndX();",
            "    const endY = this.getEndY();",
            "    if (isRelative) {",
            "      secondControlX += endX;",
            "      secondControlY += endY;",
            "      destinationX += endX;",
            "      destinationY += endY;",
            "    }",
            "    const lastControlX = this.getLastControlX();",
            "    const lastControlY = this.getLastControlY();",
            "    let firstControlX = 2 * endX - lastControlX;",
            "    let firstControlY = 2 * endY - lastControlY;",
            "",
            "    this._add(new CubicBezierCurve(",
            "      endX,",
            "      endY / this.speedScaleY,",
            "      firstControlX,",
            "      firstControlY / this.speedScaleY,",
            "      secondControlX,",
            "      secondControlY / this.speedScaleY,",
            "      destinationX,",
            "      destinationY / this.speedScaleY",
            "    ));",
            "  }",
            "",
            "",
            "  /**",
            "   * @param {number} destinationX",
            "   * @param {number} destinationY",
            "   * @param {boolean} isRelative",
            "   */",
            "  CurvedPath.prototype.addLine = function (",
            "    destinationX,",
            "    destinationY,",
            "    isRelative) {",
            "    const endX = this.getEndX();",
            "    const endY = this.getEndY();",
            "    if (isRelative) {",
            "      destinationX += endX;",
            "      destinationY += endY;",
            "    }",
            "    const lengthX = destinationX - endX;",
            "    const lengthY = destinationY - endY;",
            "",
            "    // TODO Optimize it with an object dedicated to lines.",
            "    this._add(new CubicBezierCurve(",
            "      endX,",
            "      endY / this.speedScaleY,",
            "      endX + lengthX / 3,",
            "      (endY + lengthY / 3) / this.speedScaleY,",
            "      endX + lengthX * 2 / 3,",
            "      (endY + lengthY * 2 / 3) / this.speedScaleY,",
            "      destinationX,",
            "      destinationY / this.speedScaleY",
            "    ));",
            "  }",
            "",
            "  CurvedPath.prototype.close = function () {",
            "    if (this.curves.length === 0) {",
            "      return;",
            "    }",
            "    const firstCurve = this.curves[0];",
            "    this.addLine(firstCurve.getOriginX(), firstCurve.getOriginY(), false);",
            "  }",
            "",
            "  /**",
            "   * @param {CurvedPath} path",
            "   */",
            "  CurvedPath.prototype.append = function (path) {",
            "    const endX = this.getEndX();",
            "    const endY = this.getEndY();",
            "    for (const curve of path.curves) {",
            "      const clone = curve.clone();",
            "      for (const point of clone.points) {",
            "        point[0] += endX;",
            "        point[1] *= path.speedScaleY / this.speedScaleY;",
            "        point[1] += endY;",
            "      }",
            "      this._add(clone);",
            "    }",
            "  };",
            "",
            "  /**",
            "   * @param {CurvedPath} path",
            "   * @param {boolean} shouldFlip",
            "   */",
            "  CurvedPath.prototype.appendRotatedPath = function (path, shouldFlip) {",
            "    const startAngle = Math.atan2(path.curves[0].getFirstControlY(), path.curves[0].getFirstControlX());",
            "    const rotatedPath = path.clone();",
            "    rotatedPath.rotate(this.getEndAngle() - startAngle);",
            "    if (shouldFlip) {",
            "      rotatedPath.flip();",
            "    }",
            "    this.append(rotatedPath, false);",
            "  };",
            "",
            "  CurvedPath.prototype.clear = function () {",
            "    this.curves.length = 0;",
            "    this.curvePreviousLengths.length = 1;",
            "    this.curvePreviousLengths[0] = 0;",
            "  };",
            "",
            "  CurvedPath.prototype.getLength = function () {",
            "    const curvePreviousLengths = this.getCurvePreviousLengths();",
            "    return curvePreviousLengths[curvePreviousLengths.length - 1];",
            "  };",
            "",
            "  CurvedPath.prototype.isClosed = function () {",
            "    if (this.curves.length === 0) {",
            "      return true;",
            "    }",
            "    const firstCurve = this.curves[0];",
            "    const lastCurve = this.curves[this.curves.length - 1];",
            "    return firstCurve.getOriginX() === lastCurve.getTargetX() &&",
            "      firstCurve.getOriginY() === lastCurve.getTargetY();",
            "  };",
            "",
            "  /**",
            "   * @param {number} length",
            "   */",
            "  CurvedPath.prototype.getCurveIndex = function (length) {",
            "    const curvePreviousLengths = this.getCurvePreviousLengths();",
            "    return Math.min(this.curves.length - 1, findLowerIndex(curvePreviousLengths, length));",
            "  };",
            "",
            "  /**",
            "   * @param {number} length",
            "   */",
            "  CurvedPath.prototype.getX = function (length) {",
            "    const curvePreviousLengths = this.getCurvePreviousLengths();",
            "    if (length >= this.getLength()) {",
            "      return this.getEndX();",
            "    }",
            "    const curveIndex = this.getCurveIndex(length);",
            "    const curve = this.curves[curveIndex];",
            "    const curveStartLength = curvePreviousLengths[curveIndex];",
            "    const u = (length - curveStartLength) / curve.getLength();",
            "    return curve.getX(u);",
            "  };",
            "",
            "  /**",
            "   * @param {number} length",
            "   */",
            "  CurvedPath.prototype.getY = function (length) {",
            "    const curvePreviousLengths = this.getCurvePreviousLengths();",
            "    if (length >= this.getLength()) {",
            "      return this.getEndY();",
            "    }",
            "    const curveIndex = this.getCurveIndex(length);",
            "    const curve = this.curves[curveIndex];",
            "    const curveStartLength = curvePreviousLengths[curveIndex];",
            "    const u = (length - curveStartLength) / curve.getLength();",
            "    return curve.getY(u) * this.speedScaleY;",
            "  };",
            "",
            "  const workingPoint = [0, 0];",
            "  /**",
            "   * @param {number} length",
            "   * @param {gdjs.AffineTransformation} transformation",
            "   * @param {[number, number]} transformation",
            "   */",
            "  CurvedPath.prototype.getTransformedPosition = function (length, transformation, result) {",
            "    if (!result) {",
            "      result = workingPoint;",
            "    }",
            "    const curvePreviousLengths = this.getCurvePreviousLengths();",
            "    if (length >= this.getLength()) {",
            "      result[0] = this.getEndX();",
            "      result[1] = this.getEndY();",
            "    }",
            "    else {",
            "      const curveIndex = this.getCurveIndex(length);",
            "      const curve = this.curves[curveIndex];",
            "      const curveStartLength = curvePreviousLengths[curveIndex];",
            "      const u = (length - curveStartLength) / curve.getLength();",
            "      result[0] = curve.getX(u);",
            "      result[1] = curve.getY(u);",
            "    }",
            "    transformation.transform(result, result);",
            "    result[1] *= this.speedScaleY;",
            "    return result;",
            "  };",
            "",
            "  /**",
            "   * @param {number} x",
            "   * @param {number} y",
            "   * @param {gdjs.AffineTransformation} transformation",
            "   * @param {[number, number]} transformation",
            "   */",
            "  CurvedPath.prototype.transformPosition = function (x, y, transformation, result) {",
            "    if (!result) {",
            "      result = workingPoint;",
            "    }",
            "    result[0] = x;",
            "    result[1] = y / this.speedScaleY;",
            "    transformation.transform(result, result);",
            "    result[1] *= this.speedScaleY;",
            "    return result;",
            "  };",
            "",
            "  /**",
            "   * @param {number} length",
            "   */",
            "  CurvedPath.prototype.getAngle = function (length) {",
            "    const curvePreviousLengths = this.getCurvePreviousLengths();",
            "    if (this.curves.length === 0) {",
            "      return 0;",
            "    }",
            "    const curveIndex = this.getCurveIndex(length);",
            "    const curve = this.curves[curveIndex];",
            "    const curveStartLength = curvePreviousLengths[curveIndex];",
            "    const u = (length - curveStartLength) / curve.getLength();",
            "    return curve.getAngle(u);",
            "  };",
            "",
            "  CurvedPath.prototype.getOriginX = function (curveIndex) {",
            "    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getOriginX();",
            "  };",
            "",
            "  CurvedPath.prototype.getOriginY = function (curveIndex) {",
            "    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getOriginY() * this.speedScaleY;",
            "  };",
            "",
            "  CurvedPath.prototype.getFirstControlX = function (curveIndex) {",
            "    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getFirstControlX();",
            "  };",
            "",
            "  CurvedPath.prototype.getFirstControlY = function (curveIndex) {",
            "    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getFirstControlY() * this.speedScaleY;",
            "  };",
            "",
            "  CurvedPath.prototype.getSecondControlX = function (curveIndex) {",
            "    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getSecondControlX();",
            "  };",
            "",
            "  CurvedPath.prototype.getSecondControlY = function (curveIndex) {",
            "    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getSecondControlY() * this.speedScaleY;",
            "  };",
            "",
            "  CurvedPath.prototype.getTargetX = function (curveIndex) {",
            "    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getTargetX();",
            "  };",
            "",
            "  CurvedPath.prototype.getTargetY = function (curveIndex) {",
            "    return this.curves.length === 0 ? 0 : this.curves[curveIndex].getTargetY() * this.speedScaleY;",
            "  };",
            "",
            "  CurvedPath.prototype.getLastControlX = function () {",
            "    return this.getSecondControlX(this.curves.length - 1);",
            "  };",
            "",
            "  CurvedPath.prototype.getLastControlY = function () {",
            "    return this.getSecondControlY(this.curves.length - 1);",
            "  };",
            "",
            "  CurvedPath.prototype.getEndX = function () {",
            "    return this.getTargetX(this.curves.length - 1);",
            "  };",
            "",
            "  CurvedPath.prototype.getEndY = function () {",
            "    return this.getTargetY(this.curves.length - 1);",
            "  };",
            "",
            "  CurvedPath.prototype.getEndAngle = function () {",
            "    if (this.curves.length === 0) {",
            "      return 0;",
            "    }",
            "    const lastCurve = this.curves[this.curves.length - 1];",
            "    return Math.atan2(",
            "      lastCurve.getTargetY() - lastCurve.getSecondControlY(),",
            "      lastCurve.getTargetX() - lastCurve.getSecondControlX());",
            "  };",
            "",
            "  /**",
            "   * @param {number} translationX",
            "   * @param {number} translationY",
            "   */",
            "  CurvedPath.prototype.translate = function (translationX, translationY) {",
            "    for (const curve of this.curves) {",
            "      for (const point of curve.points) {",
            "        point[0] += translationX;",
            "        point[1] += translationY / this.speedScaleY;",
            "      }",
            "    }",
            "  };",
            "",
            "  /**",
            "   * @param {number} scaleX",
            "   * @param {number} scaleY",
            "   */",
            "  CurvedPath.prototype.scale = function (scaleX, scaleY) {",
            "    for (const curve of this.curves) {",
            "      for (const point of curve.points) {",
            "        point[0] *= scaleX;",
            "        point[1] *= scaleY;",
            "      }",
            "      curve.arcLengths.length = 0;",
            "    }",
            "    this.curvePreviousLengths.length = 0;",
            "  };",
            "",
            "  /**",
            "   * @param {number} angle",
            "   */",
            "  CurvedPath.prototype.rotate = function (angle) {",
            "    let cos = Math.cos(angle);",
            "    let sin = Math.sin(angle);",
            "",
            "    // Avoid rounding errors around 0.",
            "    if (cos === -1 || cos === 1) {",
            "      sin = 0;",
            "    }",
            "    if (sin === -1 || sin === 1) {",
            "      cos = 0;",
            "    }",
            "    ",
            "    for (const curve of this.curves) {",
            "      for (const point of curve.points) {",
            "        const x = point[0];",
            "        const y = point[1];",
            "        point[0] = x * cos - y * sin;",
            "        point[1] = x * sin + y * cos;",
            "      }",
            "      curve.arcLengths.length = 0;",
            "    }",
            "    this.curvePreviousLengths.length = 0;",
            "  };",
            "",
            "  CurvedPath.prototype.invert = function () {",
            "    const endX = this.getEndX();",
            "    const endY = this.getEndY();",
            "    for (const curve of this.curves) {",
            "      for (const point of curve.points) {",
            "        point[0] = point[0] - endX;",
            "        point[1] = point[1] - endY;",
            "      }",
            "      curve.points.reverse();",
            "      curve.arcLengths.length = 0;",
            "    }",
            "    this.curves.reverse();",
            "    this.curvePreviousLengths.length = 0;",
            "  };",
            "",
            "  /**",
            "   * Do a symetry around the first control vector.",
            "   */",
            "  CurvedPath.prototype.flip = function () {",
            "    const axisX = this.curves[0].getFirstControlX();",
            "    const axisY = this.curves[0].getFirstControlY();",
            "    const axisLength = Math.hypot(axisX, axisY);",
            "    const ux = axisX / axisLength;",
            "    const uy = axisY / axisLength;",
            "",
            "    const sx = 2 * ux * ux - 1;",
            "    const sy = 2 * uy * uy - 1;",
            "    const rx = 2 * uy * ux;",
            "    const ry = rx;",
            "",
            "    for (const curve of this.curves) {",
            "      for (const point of curve.points) {",
            "        const x = point[0];",
            "        const y = point[1];",
            "        point[0] = x * sx + y * rx;",
            "        point[1] = x * ry + y * sy;",
            "      }",
            "      curve.arcLengths.length = 0;",
            "    }",
            "    this.curvePreviousLengths.length = 0;",
            "  };",
            "",
            "  return CurvedPath;",
            "})();",
            "",
            "/**",
            " * @param {number} t",
            " * @param {number} a",
            " * @param {number} b",
            " * @param {number} c",
            " * @param {number} d",
            " */",
            "const interpolateCubicCurve = function (t, a, b, c, d) {",
            "  return (",
            "    (1 - t) ** 3 * a +",
            "    3 * (1 - t) ** 2 * t * b +",
            "    3 * (1 - t) * t ** 2 * c +",
            "    t ** 3 * d",
            "  );",
            "};",
            "/**",
            " * @param {number} t",
            " * @param {number} a",
            " * @param {number} b",
            " * @param {number} c",
            " * @param {number} d",
            " */",
            "const interpolateCubicCurveDirection = function (t, a, b, c, d) {",
            "  return (",
            "    3 * (1 - t) ** 2 * (b - a) +",
            "    6 * (1 - t) * t * (c - b) +",
            "    3 * t ** 2 * (d - c)",
            "  );",
            "};",
            "",
            "",
            "const CubicBezierCurve = /** @class */ (function () {",
            "  /**",
            "   * @param {number} aX",
            "   * @param {number} aY",
            "   * @param {number} bX",
            "   * @param {number} bY",
            "   * @param {number} cX",
            "   * @param {number} cY",
            "   * @param {number} dX",
            "   * @param {number} dY",
            "   */",
            "  function CubicBezierCurve(aX, aY, bX, bY, cX, cY, dX, dY) {",
            "    /** @type {[FloatPoint, FloatPoint, FloatPoint, FloatPoint]} */",
            "    this.points = [[aX, aY], [bX, bY], [cX, cY], [dX, dY]];",
            "",
            "    /** @type {number[]} */",
            "    this.arcLengths = [];",
            "  };",
            "",
            "  CubicBezierCurve.prototype.clone = function () {",
            "    const clone = new CubicBezierCurve();",
            "    clone.points = this.points.map(point => [...point]);",
            "    clone.arcLengths = [...this.arcLengths];",
            "    clone.speedScaleY = this.speedScaleY;",
            "    return clone;",
            "  }",
            "",
            "  CubicBezierCurve.prototype.getArcLengths = function () {",
            "    if (this.arcLengths.length === 0) {",
            "      const segmentsCount = 100;",
            "      this.arcLengths.length = segmentsCount + 1;",
            "      this.arcLengths[0] = 0;",
            "",
            "      const aX = this.points[0][0];",
            "      const aY = this.points[0][1];",
            "      const bX = this.points[1][0];",
            "      const bY = this.points[1][1];",
            "      const cX = this.points[2][0];",
            "      const cY = this.points[2][1];",
            "      const dX = this.points[3][0];",
            "      const dY = this.points[3][1];",
            "",
            "      let oldX = aX;",
            "      let oldY = aY;",
            "      let currentLength = 0;",
            "      for (let i = 1; i <= segmentsCount; i += 1) {",
            "        const x = interpolateCubicCurve(i * 0.01, aX, bX, cX, dX);",
            "        const y = interpolateCubicCurve(i * 0.01, aY, bY, cY, dY);",
            "        currentLength += Math.hypot(x - oldX, y - oldY);",
            "        this.arcLengths[i] = currentLength;",
            "        oldX = x;",
            "        oldY = y;",
            "      }",
            "    }",
            "    return this.arcLengths;",
            "  };",
            "",
            "  /**",
            "   * @param {number} u",
            "   */",
            "  CubicBezierCurve.prototype.reparametrizeByArcLength = function (u) {",
            "    const arcLengths = this.getArcLengths();",
            "    const segmentsCount = arcLengths.length - 1;",
            "    const targetLength = u * arcLengths[segmentsCount];",
            "    const index = findLowerIndex(arcLengths, targetLength);",
            "",
            "    const lengthBefore = arcLengths[index];",
            "    if (lengthBefore === targetLength) {",
            "      return index / segmentsCount;",
            "    } else {",
            "      return (",
            "        (index +",
            "          (targetLength - lengthBefore) /",
            "          (arcLengths[index + 1] - lengthBefore)) /",
            "        segmentsCount",
            "      );",
            "    }",
            "  };",
            "",
            "  /**",
            "   * @param {number} u",
            "   */",
            "  CubicBezierCurve.prototype.getX = function (u) {",
            "    return interpolateCubicCurve(",
            "      this.reparametrizeByArcLength(u),",
            "      this.points[0][0],",
            "      this.points[1][0],",
            "      this.points[2][0],",
            "      this.points[3][0]",
            "    );",
            "  };",
            "",
            "  /**",
            "   * @param {number} u",
            "   */",
            "  CubicBezierCurve.prototype.getY = function (u) {",
            "    return interpolateCubicCurve(",
            "      this.reparametrizeByArcLength(u),",
            "      this.points[0][1],",
            "      this.points[1][1],",
            "      this.points[2][1],",
            "      this.points[3][1]",
            "    );",
            "  };",
            "",
            "  /**",
            "   * @param {number} u",
            "   */",
            "  CubicBezierCurve.prototype.getAngle = function (u) {",
            "    const t = this.reparametrizeByArcLength(u);",
            "    const directionX = interpolateCubicCurveDirection(",
            "      t,",
            "      this.points[0][0],",
            "      this.points[1][0],",
            "      this.points[2][0],",
            "      this.points[3][0]",
            "    );",
            "    const directionY = interpolateCubicCurveDirection(",
            "      t,",
            "      this.points[0][1],",
            "      this.points[1][1],",
            "      this.points[2][1],",
            "      this.points[3][1]",
            "    );",
            "    return Math.atan2(directionY, directionX);",
            "  };",
            "",
            "  CubicBezierCurve.prototype.getLength = function () {",
            "    const arcLengths = this.getArcLengths();",
            "    return arcLengths[arcLengths.length - 1];",
            "  };",
            "",
            "  CubicBezierCurve.prototype.getOriginX = function () {",
            "    return this.points[0][0];",
            "  };",
            "",
            "  CubicBezierCurve.prototype.getOriginY = function () {",
            "    return this.points[0][1];",
            "  };",
            "",
            "  CubicBezierCurve.prototype.getFirstControlX = function () {",
            "    return this.points[1][0];",
            "  };",
            "",
            "  CubicBezierCurve.prototype.getFirstControlY = function () {",
            "    return this.points[1][1];",
            "  };",
            "",
            "  CubicBezierCurve.prototype.getSecondControlX = function () {",
            "    return this.points[2][0];",
            "  };",
            "",
            "  CubicBezierCurve.prototype.getSecondControlY = function () {",
            "    return this.points[2][1];",
            "  };",
            "",
            "  CubicBezierCurve.prototype.getTargetX = function () {",
            "    return this.points[3][0];",
            "  };",
            "",
            "  CubicBezierCurve.prototype.getTargetY = function () {",
            "    return this.points[3][1];",
            "  };",
            "",
            "  return CubicBezierCurve;",
            "})();",
            "",
            "const pathRegex = /[CcSsLlMmHhVvZz]|(?:-?\\d+(?:\\.\\d+)?(?:e-?\\d+)?)/g;",
            "const svgActions = [\"c\", \"s\", \"l\", \"m\", \"v\", \"h\", \"z\"];",
            "",
            "/**",
            " * @param {string} svgComandsString",
            " */",
            "CurvedPath.parsePath = function (svgComandsString) {",
            "  const regExpResults = svgComandsString.match(pathRegex);",
            "  if (!regExpResults) {",
            "    return null;",
            "  }",
            "  const path = new CurvedPath();",
            "  let currentAction = \"\";",
            "  let isRelative = false;",
            "  let originX = 0;",
            "  let originY = 0;",
            "  for (let index = 0; index < regExpResults.length; index++) {",
            "    const regExpResult = regExpResults[index];",
            "    if (regExpResult.length === 1) {",
            "      const lowerCaseRegExpResult = regExpResult.toLowerCase();",
            "      if (svgActions.indexOf(lowerCaseRegExpResult) >= 0) {",
            "        currentAction = lowerCaseRegExpResult;",
            "        isRelative = lowerCaseRegExpResult === regExpResult;",
            "        index++;",
            "      }",
            "    }",
            "    switch (currentAction) {",
            "      case \"c\":",
            "        {",
            "          if (regExpResults.length < index + 5) {",
            "            break;",
            "          }",
            "          const firstControlX = Number.parseFloat(regExpResults[index + 0]);",
            "          const firstControlY = Number.parseFloat(regExpResults[index + 1]);",
            "          const secondControlX = Number.parseFloat(regExpResults[index + 2]);",
            "          const secondControlY = Number.parseFloat(regExpResults[index + 3]);",
            "          const destinationX = Number.parseFloat(regExpResults[index + 4]);",
            "          const destinationY = Number.parseFloat(regExpResults[index + 5]);",
            "          index += 5;",
            "          if (isRelative) {",
            "            path.addCurve(",
            "              firstControlX,",
            "              firstControlY,",
            "              secondControlX,",
            "              secondControlY,",
            "              destinationX,",
            "              destinationY,",
            "              isRelative);",
            "          }",
            "          else {",
            "            // Movement paths always start at (0;0).",
            "            path.addCurve(",
            "              -originX + firstControlX,",
            "              -originY + firstControlY,",
            "              -originX + secondControlX,",
            "              -originY + secondControlY,",
            "              -originX + destinationX,",
            "              -originY + destinationY,",
            "              isRelative);",
            "          }",
            "          break;",
            "        }",
            "      case \"s\":",
            "        {",
            "          if (regExpResults.length < index + 3) {",
            "            break;",
            "          }",
            "          const secondControlX = Number.parseFloat(regExpResults[index + 0]);",
            "          const secondControlY = Number.parseFloat(regExpResults[index + 1]);",
            "          const destinationX = Number.parseFloat(regExpResults[index + 2]);",
            "          const destinationY = Number.parseFloat(regExpResults[index + 3]);",
            "          index += 3;",
            "          if (isRelative) {",
            "            path.addSmoothCurve(",
            "              secondControlX,",
            "              secondControlY,",
            "              destinationX,",
            "              destinationY,",
            "              isRelative);",
            "          }",
            "          else {",
            "            // Movement paths always start at (0;0).",
            "            path.addSmoothCurve(",
            "              -originX + secondControlX,",
            "              -originY + secondControlY,",
            "              -originX + destinationX,",
            "              -originY + destinationY,",
            "              isRelative);",
            "          }",
            "          break;",
            "        }",
            "      case \"l\":",
            "        {",
            "          if (regExpResults.length < index + 1) {",
            "            break;",
            "          }",
            "          const destinationX = Number.parseFloat(regExpResults[index + 0]);",
            "          const destinationY = Number.parseFloat(regExpResults[index + 1]);",
            "          index++;",
            "          if (isRelative) {",
            "            path.addLine(",
            "              destinationX,",
            "              destinationY,",
            "              isRelative);",
            "          }",
            "          else {",
            "            // Movement paths always start at (0;0).",
            "            path.addLine(",
            "              -originX + destinationX,",
            "              -originY + destinationY,",
            "              isRelative);",
            "          }",
            "          break;",
            "        }",
            "      case \"m\":",
            "        {",
            "          if (regExpResults.length < index + 1) {",
            "            break;",
            "          }",
            "          if (index === 1) {",
            "            originX = Number.parseFloat(regExpResults[index + 0]) || 0;",
            "            originY = Number.parseFloat(regExpResults[index + 1]) || 0;",
            "          }",
            "          index++;",
            "          currentAction = \"l\";",
            "          break;",
            "        }",
            "      case \"h\":",
            "        {",
            "          if (regExpResults.length < index) {",
            "            break;",
            "          }",
            "          const destinationX = Number.parseFloat(regExpResults[index + 0]);",
            "          const destinationY = 0;",
            "          if (isRelative) {",
            "            path.addLine(",
            "              destinationX,",
            "              destinationY,",
            "              isRelative);",
            "          }",
            "          else {",
            "            // Movement paths always start at (0;0).",
            "            path.addLine(",
            "              -originX + destinationX,",
            "              -originY + destinationY,",
            "              isRelative);",
            "          }",
            "          break;",
            "        }",
            "      case \"v\":",
            "        {",
            "          if (regExpResults.length < index) {",
            "            break;",
            "          }",
            "          const destinationX = 0;",
            "          const destinationY = Number.parseFloat(regExpResults[index + 0]);",
            "          if (isRelative) {",
            "            path.addLine(",
            "              destinationX,",
            "              destinationY,",
            "              isRelative);",
            "          }",
            "          else {",
            "            // Movement paths always start at (0;0).",
            "            path.addLine(",
            "              -originX + destinationX,",
            "              -originY + destinationY,",
            "              isRelative);",
            "          }",
            "          break;",
            "        }",
            "      case \"z\":",
            "        {",
            "          path.close();",
            "          break;",
            "        }",
            "      default:",
            "        break;",
            "    }",
            "  }",
            "//  if (originX !== 0 && originY !== 0) {",
            "//    path.translate(-originX, -originY);",
            "//    path.curves[0].getOriginX = 0;",
            "//  }",
            "  return path;",
            "}",
            "",
            "/**",
            " * @param {CurvedPath} path",
            " */",
            "CurvedPath.toSvg = function (path) {",
            "  let svgString = '';",
            "  for (const curve of path.curves) {",
            "    svgString += 'C'",
            "    for (const point of curve.points) {",
            "      svgString += `${point[0]},${point[1]} `;",
            "    }",
            "  }",
            "  return svgString;",
            "}",
            "",
            "gdjs.__curvedMovementExtension = gdjs.__curvedMovementExtension || {};",
            "gdjs.__curvedMovementExtension.CurvedPath = CurvedPath;",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "runtimeScene.__curvedMovementExtension = { curvedPaths: new Map() };"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Append a cubic Bezier curve at the end of the path.",
      "fullName": "Append a curve",
      "functionType": "Action",
      "name": "AddCubicCurve",
      "sentence": "Append a curve to the path _PARAM1_ relatively to the end: _PARAM8_, first control point: _PARAM2_ ; _PARAM3_, second control point: _PARAM4_ ; _PARAM5_,  destination: _PARAM6_ ; _PARAM7_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let curvedPath = curvedPaths.get(pathName);",
            "if (!curvedPath) {",
            "    curvedPath = new gdjs.__curvedMovementExtension.CurvedPath();",
            "    curvedPaths.set(pathName, curvedPath);",
            "}",
            "",
            "let firstControlX = eventsFunctionContext.getArgument(\"FirstControlX\");",
            "let firstControlY = eventsFunctionContext.getArgument(\"FirstControlY\");",
            "let secondControlX = eventsFunctionContext.getArgument(\"SecondControlX\");",
            "let secondControlY = eventsFunctionContext.getArgument(\"SecondControlY\");",
            "let destinationX = eventsFunctionContext.getArgument(\"DestinationX\");",
            "let destinationY = eventsFunctionContext.getArgument(\"DestinationY\");",
            "let isRelative = eventsFunctionContext.getArgument(\"IsRelative\");",
            "",
            "curvedPath.addCurve(",
            "    firstControlX,",
            "    firstControlY,",
            "    secondControlX,",
            "    secondControlY,",
            "    destinationX,",
            "    destinationY,",
            "    isRelative",
            ");",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "First control point X",
          "name": "FirstControlX",
          "type": "expression"
        },
        {
          "description": "First control point Y",
          "name": "FirstControlY",
          "type": "expression"
        },
        {
          "description": "Second Control point X",
          "name": "SecondControlX",
          "type": "expression"
        },
        {
          "description": "Second Control point Y",
          "name": "SecondControlY",
          "type": "expression"
        },
        {
          "description": "Destination point X",
          "name": "DestinationX",
          "type": "expression"
        },
        {
          "description": "Destination point Y",
          "name": "DestinationY",
          "type": "expression"
        },
        {
          "defaultValue": "yes",
          "description": "Relative",
          "name": "IsRelative",
          "optional": true,
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append a cubic Bezier curve to the end of an object's path. The first control point is symmetrical to the last control point of the path.",
      "fullName": "Append a smooth curve",
      "functionType": "Action",
      "name": "AddSmoothCubicCurve",
      "sentence": "Append a smooth curve to the path _PARAM1_ relatively to the end: _PARAM6_, second control point: _PARAM2_ ; _PARAM3_,  destination: _PARAM4_ ; _PARAM5_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let curvedPath = curvedPaths.get(pathName);",
            "if (!curvedPath) {",
            "    curvedPath = new gdjs.__curvedMovementExtension.CurvedPath();",
            "    curvedPaths.set(pathName, curvedPath);",
            "}",
            "",
            "let secondControlX = eventsFunctionContext.getArgument(\"SecondControlX\");",
            "let secondControlY = eventsFunctionContext.getArgument(\"SecondControlY\");",
            "let destinationX = eventsFunctionContext.getArgument(\"DestinationX\");",
            "let destinationY = eventsFunctionContext.getArgument(\"DestinationY\");",
            "let isRelative = eventsFunctionContext.getArgument(\"IsRelative\");",
            "",
            "curvedPath.addSmoothCurve(",
            "    secondControlX,",
            "    secondControlY,",
            "    destinationX,",
            "    destinationY,",
            "    isRelative",
            ");",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Second Control point X",
          "name": "SecondControlX",
          "type": "expression"
        },
        {
          "description": "Second Control point Y",
          "name": "SecondControlY",
          "type": "expression"
        },
        {
          "description": "Destination point X",
          "name": "DestinationX",
          "type": "expression"
        },
        {
          "description": "Destination point Y",
          "name": "DestinationY",
          "type": "expression"
        },
        {
          "defaultValue": "yes",
          "description": "Relative",
          "name": "IsRelative",
          "optional": true,
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append a line at the end of the path.",
      "fullName": "Append a line",
      "functionType": "Action",
      "name": "AddLine",
      "sentence": "Append a line to the path _PARAM1_ relatively to the end: _PARAM4_,  destination: _PARAM2_ ; _PARAM3_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let curvedPath = curvedPaths.get(pathName);",
            "if (!curvedPath) {",
            "    curvedPath = new gdjs.__curvedMovementExtension.CurvedPath();",
            "    curvedPaths.set(pathName, curvedPath);",
            "}",
            "",
            "let destinationX = eventsFunctionContext.getArgument(\"DestinationX\");",
            "let destinationY = eventsFunctionContext.getArgument(\"DestinationY\");",
            "let isRelative = eventsFunctionContext.getArgument(\"IsRelative\");",
            "",
            "curvedPath.addLine(",
            "    destinationX,",
            "    destinationY,",
            "    isRelative",
            ");",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Destination point X",
          "name": "DestinationX",
          "type": "expression"
        },
        {
          "description": "Destination point Y",
          "name": "DestinationY",
          "type": "expression"
        },
        {
          "defaultValue": "yes",
          "description": "Relative",
          "name": "IsRelative",
          "optional": true,
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append a line to close the path.",
      "fullName": "Close a path",
      "functionType": "Action",
      "name": "ClosePath",
      "sentence": "Close the path _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let curvedPath = curvedPaths.get(pathName);",
            "if (!curvedPath) {",
            "    curvedPath = new gdjs.__curvedMovementExtension.CurvedPath();",
            "    curvedPaths.set(pathName, curvedPath);",
            "}",
            "",
            "curvedPath.close();",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Create a path from SVG commands, for instance \"M 0,0 C 55,0 100,45 100,100\". Commands are: M = Move, C = Curve, S = Smooth, L = Line. Lower case is for relative positions. The preferred way to build the commands is to use an external SVG editor like Inkscape.",
      "fullName": "Create a path from SVG",
      "functionType": "Action",
      "name": "CreatePathFromSvg",
      "sentence": "Create the path _PARAM1_ from the SVG path commands _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "\r",
            "const svgCommandsString = eventsFunctionContext.getArgument(\"SvgCommandsString\");\r",
            "\r",
            "curvedPaths.set(pathName, gdjs.__curvedMovementExtension.CurvedPath.parsePath(svgCommandsString));\r",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "SVG commands",
          "name": "SvgCommandsString",
          "supplementaryInformation": "scene",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the SVG commands of a path.",
      "fullName": "SVG path commands",
      "functionType": "StringExpression",
      "name": "ToSvg",
      "sentence": "Create the path _PARAM1_ from the SVG path commands _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "\r",
            "let curvedPath = curvedPaths.get(pathName);\r",
            "eventsFunctionContext.returnValue = curvedPath ? gdjs.__curvedMovementExtension.CurvedPath.toSvg(curvedPath) : '';\r",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Delete a path from the memory.",
      "fullName": "Delete a path",
      "functionType": "Action",
      "name": "DeletePath",
      "sentence": "Delete the path: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "curvedPaths.delete(pathName);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append a path to another path.",
      "fullName": "Append a path",
      "functionType": "Action",
      "name": "AppendPath",
      "sentence": "Append the path _PARAM2_ to the path _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const modifiedPathName = eventsFunctionContext.getArgument(\"ModifiedPathName\");",
            "const addedPathName = eventsFunctionContext.getArgument(\"AddedPathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let addedPath = curvedPaths.get(addedPathName);",
            "if (addedPath) {",
            "    let modifiedPath = curvedPaths.get(modifiedPathName);",
            "    if (!modifiedPath) {",
            "        modifiedPath = new gdjs.__curvedMovementExtension.CurvedPath();",
            "        curvedPaths.set(modifiedPathName, modifiedPath);",
            "    }",
            "    modifiedPath.append(addedPath);",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Name of the path to modify",
          "name": "ModifiedPathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Name of the path to add to the first one",
          "name": "AddedPathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Duplicate a path.",
      "fullName": "Duplicate a path",
      "functionType": "Action",
      "name": "DuplicatedPath",
      "sentence": "Create path _PARAM1_ as a duplicate of path _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const createdPathName = eventsFunctionContext.getArgument(\"CreatedPathName\");",
            "const sourcePathName = eventsFunctionContext.getArgument(\"SourcePathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let sourcePath = curvedPaths.get(sourcePathName);",
            "if (sourcePath) {",
            "    const createdPath = sourcePath.clone();",
            "    curvedPaths.set(createdPathName, createdPath);",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Name of the path to create",
          "name": "CreatedPathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Name of the source path",
          "name": "SourcePathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append a path to another path. The appended path is rotated to have a smooth junction.",
      "fullName": "Append a rotated path",
      "functionType": "Action",
      "name": "AppendRotatedPath",
      "sentence": "Append the path _PARAM2_ rotated to connect to the path _PARAM1_ flip: _PARAM3_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const modifiedPathName = eventsFunctionContext.getArgument(\"ModifiedPathName\");",
            "const addedPathName = eventsFunctionContext.getArgument(\"AddedPathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let addedPath = curvedPaths.get(addedPathName);",
            "if (addedPath) {",
            "    let modifiedPath = curvedPaths.get(modifiedPathName);",
            "    if (!modifiedPath) {",
            "        modifiedPath = new gdjs.__curvedMovementExtension.CurvedPath();",
            "        curvedPaths.set(modifiedPathName, modifiedPath);",
            "    }",
            "    const shouldFlip = eventsFunctionContext.getArgument(\"ShouldFlip\");",
            "    modifiedPath.appendRotatedPath(addedPath, shouldFlip);",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Name of the path to modify",
          "name": "ModifiedPathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Name of the path to add to the first one",
          "name": "AddedPathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Flip the appended path",
          "name": "ShouldFlip",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the speed scale on Y axis. This is used to change the view point of a path (top-dwon or isometry).",
      "fullName": "Speed scale Y",
      "functionType": "Expression",
      "group": "Path transformation",
      "name": "SpeedScaleY",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "const curvedPath = curvedPaths.get(pathName);",
            "eventsFunctionContext.returnValue = curvedPath ?Â curvedPath.getSpeedScaleY() : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the speed scale on Y axis. This allows to change the view point of a path (top-dwon or isometry).",
      "fullName": "Speed scale Y",
      "functionType": "Action",
      "group": "Path transformation",
      "name": "SetSpeedScaleY",
      "sentence": "Change the speed scale Y of the path _PARAM1_ to _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let curvedPath = curvedPaths.get(pathName);",
            "if (curvedPath) {",
            "    const scaleY = eventsFunctionContext.getArgument(\"ScaleY\");",
            "    curvedPath.setSpeedScaleY(scaleY);",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Speed scale on Y axis (0.5 for pixel isometry)",
          "name": "ScaleY",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Invert a path, the end becomes the beginning.",
      "fullName": "Invert a path",
      "functionType": "Action",
      "group": "Path transformation",
      "name": "InvertPath",
      "sentence": "Invert the path _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let curvedPath = curvedPaths.get(pathName);",
            "if (curvedPath) {",
            "    curvedPath.invert();",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Flip a path.",
      "fullName": "Flip a path",
      "functionType": "Action",
      "group": "Path transformation",
      "name": "FlipPath",
      "private": true,
      "sentence": "Flip the path _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let curvedPath = curvedPaths.get(pathName);",
            "if (curvedPath) {",
            "    curvedPath.flip();",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Flip a path horizontally.",
      "fullName": "Flip a path horizontally",
      "functionType": "Action",
      "group": "Path transformation",
      "name": "FlipPathX",
      "private": true,
      "sentence": "Flip the path _PARAM1_ horizontally",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "CurvedMovement::ScalePath"
              },
              "parameters": [
                "",
                "\"\"",
                "-1",
                "1",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Flip a path vertically.",
      "fullName": "Flip a path vertically",
      "functionType": "Action",
      "group": "Path transformation",
      "name": "FlipPathY",
      "private": true,
      "sentence": "Flip the path _PARAM1_ vertically",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "CurvedMovement::ScalePath"
              },
              "parameters": [
                "",
                "\"\"",
                "1",
                "-1",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Scale a path.",
      "fullName": "Scale a path",
      "functionType": "Action",
      "group": "Path transformation",
      "name": "ScalePath",
      "sentence": "Scale the path _PARAM1_ by _PARAM2_ ; _PARAM3_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let curvedPath = curvedPaths.get(pathName);",
            "if (curvedPath) {",
            "    const scaleX = eventsFunctionContext.getArgument(\"ScaleX\");",
            "    const scaleY = eventsFunctionContext.getArgument(\"ScaleY\");",
            "    curvedPath.scale(scaleX, scaleY);",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Scale on X axis",
          "name": "ScaleX",
          "type": "expression"
        },
        {
          "description": "Scale on Y axis",
          "name": "ScaleY",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Rotate a path.",
      "fullName": "Rotate a path",
      "functionType": "Action",
      "group": "Path transformation",
      "name": "RotatePath",
      "sentence": "Rotate _PARAM2_Â° the path _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "let curvedPath = curvedPaths.get(pathName);",
            "if (curvedPath) {",
            "    const angle = eventsFunctionContext.getArgument(\"Angle\") * Math.PI / 180;",
            "    curvedPath.rotate(angle);",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Rotation angle",
          "name": "Angle",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check if a path is closed.",
      "fullName": "Is  closed",
      "functionType": "Condition",
      "name": "IsClosed",
      "sentence": "The path _PARAM1_ is closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "",
            "const curvedPath = curvedPaths.get(pathName);",
            "eventsFunctionContext.returnValue = curvedPath && curvedPath.isClosed();",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the position on X axis of the path for a given length.",
      "fullName": "Path X",
      "functionType": "Expression",
      "name": "PathX",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "const curvedPath = curvedPaths.get(pathName);",
            "",
            "const length = eventsFunctionContext.getArgument(\"Length\");",
            "",
            "eventsFunctionContext.returnValue = curvedPath ? curvedPath.getX(length) : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Length on the path",
          "name": "Length",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the position on Y axis of the path for a given length.",
      "fullName": "Path Y",
      "functionType": "Expression",
      "name": "PathY",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "const curvedPath = curvedPaths.get(pathName);",
            "",
            "const length = eventsFunctionContext.getArgument(\"Length\");",
            "",
            "eventsFunctionContext.returnValue = curvedPath ? curvedPath.getY(length) : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Length on the path",
          "name": "Length",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the direction angle of the path for a given length (in degree).",
      "fullName": "Path angle",
      "functionType": "Expression",
      "name": "PathAngle",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "const curvedPath = curvedPaths.get(pathName);",
            "",
            "const length = eventsFunctionContext.getArgument(\"Length\");",
            "",
            "eventsFunctionContext.returnValue = curvedPath ? curvedPath.getAngle(length) * 180 / Math.PI : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Length on the path",
          "name": "Length",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the length of the path.",
      "fullName": "Path length",
      "functionType": "Expression",
      "name": "PathLength",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
            "const curvedPath = curvedPaths.get(pathName);",
            "",
            "eventsFunctionContext.returnValue = curvedPath ? curvedPath.getLength() : 0;",
            ""
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the displacement on X axis of the path end.",
      "fullName": "Path end X",
      "functionType": "Expression",
      "name": "PathEndX",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "eventsFunctionContext.returnValue = curvedPath ? curvedPath.getEndX() : 0;"
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the displacement on Y axis of the path end.",
      "fullName": "Path end Y",
      "functionType": "Expression",
      "name": "PathEndY",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "eventsFunctionContext.returnValue = curvedPath ? curvedPath.getEndY() : 0;\r",
            ""
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the number of lines or curves that make the path.",
      "fullName": "Path element count",
      "functionType": "Expression",
      "group": "Path element",
      "name": "ElementCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "eventsFunctionContext.returnValue = curvedPath ? curvedPath.curves.length : 0;\r",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the origin position on X axis of a curve.",
      "fullName": "Origin X",
      "functionType": "Expression",
      "group": "Path element",
      "name": "OriginX",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "/** @type {number} */\r",
            "const index = eventsFunctionContext.getArgument(\"Index\");\r",
            "\r",
            "eventsFunctionContext.returnValue = (\r",
            "  (curvedPath && curvedPath && index >= 0 && index < curvedPath.curves.length)\r",
            "  ? curvedPath.getOriginX(index) : 0);\r",
            ""
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Curve index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the origin position on Y axis of a curve.",
      "fullName": "Origin Y",
      "functionType": "Expression",
      "group": "Path element",
      "name": "OriginY",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "/** @type {number} */\r",
            "const index = eventsFunctionContext.getArgument(\"Index\");\r",
            "\r",
            "eventsFunctionContext.returnValue = (\r",
            "  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r",
            "  ? curvedPath.getOriginY(index) : 0);"
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Curve index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the first control point position on X axis of a curve.",
      "fullName": "First control X",
      "functionType": "Expression",
      "group": "Path element",
      "name": "FirstControlX",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "/** @type {number} */\r",
            "const index = eventsFunctionContext.getArgument(\"Index\");\r",
            "\r",
            "eventsFunctionContext.returnValue = (\r",
            "  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r",
            "  ? curvedPath.getFirstControlX(index) : 0);"
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Curve index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the first control point position on Y axis of a curve.",
      "fullName": "First control Y",
      "functionType": "Expression",
      "group": "Path element",
      "name": "FirstControlY",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "/** @type {number} */\r",
            "const index = eventsFunctionContext.getArgument(\"Index\");\r",
            "\r",
            "eventsFunctionContext.returnValue = (\r",
            "  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r",
            "  ? curvedPath.getFirstControlY(index) : 0);"
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Curve index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the second control point position on X axis of a curve.",
      "fullName": "Second control X",
      "functionType": "Expression",
      "group": "Path element",
      "name": "SecondControlX",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "/** @type {number} */\r",
            "const index = eventsFunctionContext.getArgument(\"Index\");\r",
            "\r",
            "eventsFunctionContext.returnValue = (\r",
            "  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r",
            "  ? curvedPath.getSecondControlX(index) : 0);"
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Curve index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the second control point position on Y axis of a curve.",
      "fullName": "Second control Y",
      "functionType": "Expression",
      "group": "Path element",
      "name": "SecondControlY",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "/** @type {number} */\r",
            "const index = eventsFunctionContext.getArgument(\"Index\");\r",
            "\r",
            "eventsFunctionContext.returnValue = (\r",
            "  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r",
            "  ? curvedPath.getSecondControlY(index) : 0);"
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Curve index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the target position on X axis of a curve.",
      "fullName": "Target X",
      "functionType": "Expression",
      "group": "Path element",
      "name": "TargetX",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "/** @type {number} */\r",
            "const index = eventsFunctionContext.getArgument(\"Index\");\r",
            "\r",
            "eventsFunctionContext.returnValue = (\r",
            "  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r",
            "  ? curvedPath.getTargetX(index) : 0);"
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Curve index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Return the target position on Y axis of a curve.",
      "fullName": "Target Y",
      "functionType": "Expression",
      "group": "Path element",
      "name": "TargetY",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "/** @type {number} */\r",
            "const index = eventsFunctionContext.getArgument(\"Index\");\r",
            "\r",
            "eventsFunctionContext.returnValue = (\r",
            "  (curvedPath && index >= 0 && index < curvedPath.curves.length)\r",
            "  ? curvedPath.getTargetY(index) : 0);"
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        },
        {
          "description": "Curve index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Path exists.",
      "fullName": "Path exists",
      "functionType": "Condition",
      "name": "PathExists",
      "sentence": "Path _PARAM1_ exists",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "\r",
            "const pathName = eventsFunctionContext.getArgument(\"PathName\");\r",
            "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */\r",
            "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;\r",
            "const curvedPath = curvedPaths.get(pathName);\r",
            "\r",
            "eventsFunctionContext.returnValue = !!curvedPath;"
          ],
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path name",
          "name": "PathName",
          "supplementaryInformation": "sceneBezierCurve",
          "type": "identifier"
        }
      ],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [
    {
      "description": "Move objects on curved paths in a given duration and tween easing function.",
      "fullName": "Movement on a curve (duration-based)",
      "name": "TweenPathMovement",
      "objectType": "",
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPreEvents",
          "sentence": "",
          "events": [
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "name": "Back and forth states",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CurvedMovement::TweenPathMovement::HasReachedAnEnd"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "CurvedMovement::TweenPathMovement::PropertyShouldGoBack"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Wait",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "CurvedMovement::TweenPathMovement::PropertyPauseDurationBeforeGoingBack"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ">",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "inverted": true,
                                "value": "CompareObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"__CurvedMovement.Wait\"",
                                ">=",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "ResetObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"__CurvedMovement.Wait\""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "CompareObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"__CurvedMovement.Wait\"",
                                ">=",
                                "PauseDurationBeforeGoingBack"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "RemoveObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"__CurvedMovement.Wait\""
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    },
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Change of direction",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "CompareObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"__CurvedMovement.Wait\"",
                                ">=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::Or"
                              },
                              "parameters": [],
                              "subInstructions": [
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "CurvedMovement::TweenPathMovement::PropertyIsGoingBack"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::PropertyShouldLoop"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                }
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "ResetObjectTimer"
                              },
                              "parameters": [
                                "Object",
                                "\"__CurvedMovement.Time\""
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "CurvedMovement::TweenPathMovement::PropertyIsGoingBack"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::SetPropertyOrigin"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "1"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::SetPropertyTarget"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "0"
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::PropertyIsGoingBack"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::SetPropertyOrigin"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "0"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::SetPropertyTarget"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "1"
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::PropertyTarget"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "1"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::SetPropertyIsGoingBack"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    ""
                                  ]
                                }
                              ],
                              "events": [
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [
                                    {
                                      "type": {
                                        "value": "CurvedMovement::TweenPathMovement::PropertyFlipXToGoBack"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior"
                                      ]
                                    }
                                  ],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "FlippableCapability::FlippableBehavior::FlipX"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Flippable",
                                        "no"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [
                                    {
                                      "type": {
                                        "value": "CurvedMovement::TweenPathMovement::PropertyFlipYToGoBack"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior"
                                      ]
                                    }
                                  ],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "FlippableCapability::FlippableBehavior::FlipY"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Flippable",
                                        "no"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::PropertyTarget"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "0"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::SetPropertyIsGoingBack"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "yes"
                                  ]
                                }
                              ],
                              "events": [
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [
                                    {
                                      "type": {
                                        "value": "CurvedMovement::TweenPathMovement::PropertyFlipXToGoBack"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior"
                                      ]
                                    }
                                  ],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "FlippableCapability::FlippableBehavior::FlipX"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Flippable",
                                        "yes"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [
                                    {
                                      "type": {
                                        "value": "CurvedMovement::TweenPathMovement::PropertyFlipYToGoBack"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior"
                                      ]
                                    }
                                  ],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "FlippableCapability::FlippableBehavior::FlipY"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Flippable",
                                        "yes"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    }
                  ]
                }
              ],
              "parameters": []
            },
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "name": "Move on the path",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "CurvedMovement::TweenPathMovement::HasReachedAnEnd"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "CurvedMovement::TweenPathMovement::UpdatePosition"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CurvedMovement::TweenPathMovement::PropertyRotation"
                          },
                          "parameters": [
                            "Object",
                            "Behavior"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetAngle"
                          },
                          "parameters": [
                            "Object",
                            "=",
                            "PathAngle + CurvedMovement::PathAngle(PathName, Object.Behavior::RepeatedPathPosition()) + RotationOffset + Object.Behavior::BackOrForthAngle()"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "parameters": []
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Set the the object on the path according to the current length.",
          "fullName": "Update position",
          "functionType": "Action",
          "name": "UpdatePosition",
          "private": true,
          "sentence": "Update the position of _PARAM0_ on the path",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const object = objects[0];",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = object.getBehavior(behaviorName);",
                "",
                "/** @type {string} */",
                "const pathName = behavior._getPathName();",
                "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
                "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
                "const curvedPath = curvedPaths.get(pathName);",
                "if (!curvedPath) {",
                "    return;",
                "}",
                "",
                "behavior.workingTransformation = behavior.workingTransformation || new gdjs.AffineTransformation();",
                "/** @type {gdjs.AffineTransformation} */",
                "const transformation = behavior.workingTransformation;",
                "",
                "const repetitionDone = behavior.RepetitionDone();",
                "transformation.setToTranslation(",
                "    repetitionDone * behavior.PathEndX(),",
                "    repetitionDone * behavior.PathEndY() / behavior.PathSpeedScaleY()",
                ");",
                "transformation.preConcatenate(behavior.curvedMovementTransformation);",
                "",
                "/** @type {number} */",
                "const length = behavior.RepeatedPathPosition();",
                "/** @type {[number, number]} */",
                "const point = curvedPath.getTransformedPosition(length, transformation);",
                "const x = point[0] + behavior._getPathOriginX();",
                "const y = point[1] + behavior._getPathOriginY();",
                "object.setPosition(x, y);",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Move the object to a position by following a path.",
          "fullName": "Move on path to a position",
          "functionType": "Action",
          "name": "MoveTo",
          "sentence": "Move _PARAM0_ to _PARAM6_ ; _PARAM7_ on the path: _PARAM2_ repeated _PARAM3_ times in _PARAM4_ seconds with _PARAM5_ easing",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathName"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "PathName"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyDuration"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Duration"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyEasing"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Easing"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyRepetitionCount"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "RepetitionCount"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldGoBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "no"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "no"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathOriginX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.X()"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathOriginY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Y()"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathAngle"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "AngleBetweenPositions(Object.X(), Object.Y(), DestinationX, Object.Y() + (DestinationY - Object.Y()) / Object.Behavior::PathSpeedScaleY()) - AngleBetweenPositions(0, 0, Object.Behavior::PathEndX(),  Object.Behavior::PathEndY() / Object.Behavior::PathSpeedScaleY())"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathScale"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "DistanceBetweenPositions(Object.X(), Object.Y(), DestinationX, Object.Y() + (DestinationY - Object.Y()) / Object.Behavior::PathSpeedScaleY()) / DistanceBetweenPositions(0, 0, Object.Behavior::PathEndX(), Object.Behavior::PathEndY() / Object.Behavior::PathSpeedScaleY()) / RepetitionCount"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::InitializeMovement"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            },
            {
              "description": "Path name",
              "longDescription": "The path can be define with the \"Append curve\" action.",
              "name": "PathName",
              "supplementaryInformation": "sceneBezierCurve",
              "type": "identifier"
            },
            {
              "description": "Number of repetitions",
              "name": "RepetitionCount",
              "type": "expression"
            },
            {
              "description": "Duration in seconds",
              "name": "Duration",
              "type": "expression"
            },
            {
              "description": "Easing",
              "name": "Easing",
              "supplementaryInformation": "[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]",
              "type": "stringWithSelector"
            },
            {
              "description": "Destination X",
              "name": "DestinationX",
              "type": "expression"
            },
            {
              "description": "Destination Y",
              "name": "DestinationY",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Move the object to a position by following a path and go back.",
          "fullName": "Move back and forth to a position",
          "functionType": "Action",
          "name": "MoveToAndGoBack",
          "sentence": "Move back and forth _PARAM0_ to _PARAM6_ ; _PARAM7_ on the path: _PARAM2_ repeated _PARAM3_ times  in _PARAM4_ seconds with _PARAM5_ easing, wait _PARAM8_ seconds before going back and loop: _PARAM9_ ",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::MoveTo"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "PathName",
                    "RepetitionCount",
                    "Duration",
                    "Easing",
                    "DestinationX",
                    "DestinationY",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldGoBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPauseDurationBeforeGoingBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "WaitBeforeGoingBackDuration"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"ShouldLoop\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "="
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"ShouldLoop\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            },
            {
              "description": "Path name",
              "longDescription": "The path can be define with the \"Append curve\" action.",
              "name": "PathName",
              "supplementaryInformation": "sceneBezierCurve",
              "type": "identifier"
            },
            {
              "description": "Number of repetitions",
              "name": "RepetitionCount",
              "type": "expression"
            },
            {
              "description": "Duration in seconds",
              "name": "Duration",
              "type": "expression"
            },
            {
              "description": "Easing",
              "name": "Easing",
              "supplementaryInformation": "[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]",
              "type": "stringWithSelector"
            },
            {
              "description": "Destination X",
              "name": "DestinationX",
              "type": "expression"
            },
            {
              "description": "Destination Y",
              "name": "DestinationY",
              "type": "expression"
            },
            {
              "description": "Duration to wait before going back",
              "name": "WaitBeforeGoingBackDuration",
              "type": "expression"
            },
            {
              "description": "Loop",
              "name": "ShouldLoop",
              "type": "yesorno"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Move the object by following a path.",
          "fullName": "Move on path",
          "functionType": "Action",
          "name": "Move",
          "sentence": "Move _PARAM0_ on the path: _PARAM2_ repeated _PARAM3_ times in _PARAM4_ seconds with _PARAM5_ easing",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathName"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "PathName"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyDuration"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Duration"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyEasing"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Easing"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyRepetitionCount"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "RepetitionCount"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldGoBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "no"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "no"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathOriginX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.X()"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathOriginY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Y()"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathAngle"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPathScale"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "1"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::InitializeMovement"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            },
            {
              "description": "Path name",
              "longDescription": "The path can be define with the \"Append curve\" action.",
              "name": "PathName",
              "supplementaryInformation": "sceneBezierCurve",
              "type": "identifier"
            },
            {
              "description": "Number of repetitions",
              "name": "RepetitionCount",
              "type": "expression"
            },
            {
              "description": "Duration in seconds",
              "name": "Duration",
              "type": "expression"
            },
            {
              "description": "Easing",
              "name": "Easing",
              "supplementaryInformation": "[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]",
              "type": "stringWithSelector"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Move the object by following a path and go back.",
          "fullName": "Move back and forth",
          "functionType": "Action",
          "name": "MoveAndGoBack",
          "sentence": "Move back and forth _PARAM0_ on the path: _PARAM2_ repeated _PARAM3_ times  in _PARAM4_ seconds with _PARAM5_ easing, wait _PARAM6_ seconds before going back and loop: _PARAM7_ ",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::Move"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "PathName",
                    "RepetitionCount",
                    "Duration",
                    "Easing",
                    "DestinationX"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldGoBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyPauseDurationBeforeGoingBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "WaitBeforeGoingBackDuration"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"ShouldLoop\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "="
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"ShouldLoop\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            },
            {
              "description": "Path name",
              "longDescription": "The path can be define with the \"Append curve\" action.",
              "name": "PathName",
              "supplementaryInformation": "sceneBezierCurve",
              "type": "identifier"
            },
            {
              "description": "Number of repetitions",
              "name": "RepetitionCount",
              "type": "expression"
            },
            {
              "description": "Duration in seconds",
              "name": "Duration",
              "type": "expression"
            },
            {
              "description": "Easing",
              "name": "Easing",
              "supplementaryInformation": "[\"linear\",\"easeInQuad\",\"easeOutQuad\",\"easeInOutQuad\",\"easeInCubic\",\"easeOutCubic\",\"easeInOutCubic\",\"easeInQuart\",\"easeOutQuart\",\"easeInOutQuart\",\"easeInQuint\",\"easeOutQuint\",\"easeInOutQuint\",\"easeInOutSine\",\"easeInExpo\",\"easeOutExpo\",\"easeInOutExpo\",\"easeInCirc\",\"easeOutCirc\",\"easeInOutCirc\",\"easeOutBounce\",\"easeInBack\",\"easeOutBack\",\"easeInOutBack\",\"elastic\",\"swingFromTo\",\"swingFrom\",\"swingTo\",\"bounce\",\"bouncePast\",\"easeFromTo\",\"easeFrom\",\"easeTo\"]",
              "type": "stringWithSelector"
            },
            {
              "description": "Duration to wait before going back",
              "name": "WaitBeforeGoingBackDuration",
              "type": "expression"
            },
            {
              "description": "Loop",
              "name": "ShouldLoop",
              "type": "yesorno"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the object has reached one of the 2 ends of the path.",
          "fullName": "Reached an end",
          "functionType": "Condition",
          "name": "HasReachedAnEnd",
          "sentence": "_PARAM0_ reached an end of the path",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::CompareNumbers"
                  },
                  "parameters": [
                    "Object.Behavior::Progress()",
                    "=",
                    "Target"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the object has finished to move on the path.",
          "fullName": "Finished to move",
          "functionType": "Condition",
          "name": "HasFinishedToMove",
          "sentence": "_PARAM0_ has finished to move",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "CurvedMovement::TweenPathMovement::PropertyShouldLoop"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::And"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "CurvedMovement::TweenPathMovement::HasReachedAnEnd"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Or"
                          },
                          "parameters": [],
                          "subInstructions": [
                            {
                              "type": {
                                "inverted": true,
                                "value": "CurvedMovement::TweenPathMovement::PropertyShouldGoBack"
                              },
                              "parameters": [
                                "Object",
                                "Behavior"
                              ]
                            },
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::And"
                              },
                              "parameters": [],
                              "subInstructions": [
                                {
                                  "type": {
                                    "value": "CurvedMovement::TweenPathMovement::PropertyShouldGoBack"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                },
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "CurvedMovement::TweenPathMovement::PropertyIsGoingBack"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior"
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the angle of movement on its path.",
          "fullName": "Movement angle",
          "functionType": "Expression",
          "name": "MovementAngle",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "PathAngle + CurvedMovement::PathAngle(PathName, Object.Behavior::RepeatedPathPosition()) + RotationOffset + Object.Behavior::BackOrForthAngle()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Draw the object trajectory.",
          "fullName": "Draw the trajectory",
          "functionType": "Action",
          "group": "Debug",
          "name": "DrawDebug",
          "sentence": "Draw trajectory of _PARAM0_ on _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "PrimitiveDrawing::UseRelativeCoordinates"
                  },
                  "parameters": [
                    "ShapePainter",
                    "no"
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::FillOpacity"
                  },
                  "parameters": [
                    "ShapePainter",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::OutlineSize"
                  },
                  "parameters": [
                    "ShapePainter",
                    "=",
                    "1"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = objects[0].getBehavior(behaviorName);",
                "",
                "/** @type {gdjs.ShapePainterRuntimeObject} */",
                "const shapePainter = eventsFunctionContext.getObjects(\"ShapePainter\")[0];",
                "if (!shapePainter) {",
                "    return ;",
                "}",
                "",
                "/** @type {string} */",
                "const pathName = behavior._getPathName();",
                "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
                "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
                "const curvedPath = curvedPaths.get(pathName);",
                "if (!curvedPath) {",
                "    return ;",
                "}",
                "",
                "/** @type {gdjs.AffineTransformation} */",
                "const transformation = behavior.curvedMovementTransformation;",
                "let point = behavior.curvedMovementWorkingPoint || [0, 0];",
                "",
                "let originX = behavior._getPathOriginX();",
                "let originY = behavior._getPathOriginY();",
                "shapePainter.drawPathMoveTo(originX, originY);",
                "const repetitionCount = behavior._getRepetitionCount();",
                "let previousLastTargetX = 0;",
                "let previousLastTargetY = 0;",
                "const endX = curvedPath.getEndX();",
                "const endY = curvedPath.getEndY();",
                "for (let repetitionIndex = 0; repetitionIndex < repetitionCount; repetitionIndex++) {",
                "  for (let curveIndex = 0; curveIndex < curvedPath.curves.length; curveIndex++) {",
                "    point[0] = curvedPath.getFirstControlX(curveIndex) + previousLastTargetX;",
                "    point[1] = curvedPath.getFirstControlY(curveIndex) + previousLastTargetY;",
                "    if (transformation) {",
                "      point = curvedPath.transformPosition(point[0], point[1], transformation, point);",
                "    }",
                "    const firstControlX = point[0];",
                "    const firstControlY = point[1];",
                "",
                "    point[0] = curvedPath.getSecondControlX(curveIndex) + previousLastTargetX;",
                "    point[1] = curvedPath.getSecondControlY(curveIndex) + previousLastTargetY;",
                "    if (transformation) {",
                "      point = curvedPath.transformPosition(point[0], point[1], transformation, point);",
                "    }",
                "    const secondControlX = point[0];",
                "    const secondControlY = point[1];",
                "",
                "    point[0] = curvedPath.getTargetX(curveIndex) + previousLastTargetX;",
                "    point[1] = curvedPath.getTargetY(curveIndex) + previousLastTargetY;",
                "    if (transformation) {",
                "      point = curvedPath.transformPosition(point[0], point[1], transformation, point);",
                "    }",
                "    const targetX = point[0];",
                "    const targetY = point[1];",
                "",
                "    shapePainter.drawPathBezierCurveTo(",
                "      firstControlX + originX,",
                "      firstControlY + originY,",
                "      secondControlX + originX,",
                "      secondControlY + originY,",
                "      targetX + originX,",
                "      targetY + originY);",
                "  }",
                "  previousLastTargetX += endX;",
                "  previousLastTargetY += endY;",
                "}",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            },
            {
              "description": "Shape painter",
              "name": "ShapePainter",
              "supplementaryInformation": "PrimitiveDrawing::Drawer",
              "type": "objectList"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the transformation to apply to the path.",
          "fullName": "Path transformation",
          "functionType": "Action",
          "name": "SetTransformation",
          "private": true,
          "sentence": "Change the path trasformation of _PARAM0_ to origin _PARAM2_; _PARAM3_ scale by _PARAM4_ and a rotation of _PARAM5_Â°",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": []
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = objects[0].getBehavior(behaviorName);",
                "",
                "const scale = eventsFunctionContext.getArgument(\"Scale\");",
                "const angle = eventsFunctionContext.getArgument(\"Angle\");",
                "",
                "/** @type {gdjs.AffineTransformation} */",
                "const transformation = behavior.curvedMovementTransformation || new gdjs.AffineTransformation()",
                "transformation.setToScale(scale, scale);",
                "transformation.rotate(angle / 180 * Math.PI);",
                "",
                "behavior.curvedMovementTransformation = transformation;"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            },
            {
              "description": "Origin X",
              "name": "OriginX",
              "type": "expression"
            },
            {
              "description": "Origin Y",
              "name": "OriginY",
              "type": "expression"
            },
            {
              "description": "Scale",
              "name": "Scale",
              "type": "expression"
            },
            {
              "description": "Angle",
              "name": "Angle",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Initialize the movement state.",
          "fullName": "Initialize the movement",
          "functionType": "Action",
          "name": "InitializeMovement",
          "private": true,
          "sentence": "Initialize the movement of _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertyViewpoint"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "\"Top-down\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SetSpeedScaleY"
                  },
                  "parameters": [
                    "",
                    "PathName",
                    "1",
                    "0.5"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertyViewpoint"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "\"Isometry 2:1 (26.565Â°)\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SetSpeedScaleY"
                  },
                  "parameters": [
                    "",
                    "PathName",
                    "0.5",
                    "0.5"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetTransformation"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.X()",
                    "Object.Y()",
                    "PathScale",
                    "PathAngle",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "Object",
                    "\"__CurvedMovement.Time\""
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyIsGoingBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyOrigin"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::SetPropertyTarget"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "1"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::PropertyFlipXToGoBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "FlippableCapability::FlippableBehavior::FlipX"
                  },
                  "parameters": [
                    "Object",
                    "Flippable",
                    "no"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::PropertyFlipYToGoBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "FlippableCapability::FlippableBehavior::FlipY"
                  },
                  "parameters": [
                    "Object",
                    "Flippable",
                    "no"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the number of repetitions between the current position and the origin.",
          "fullName": "Repetition done",
          "functionType": "Expression",
          "name": "RepetitionDone",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "floor(Object.Behavior::Progress() * RepetitionCount)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the position on one repeated path.",
          "fullName": "Path position",
          "functionType": "Expression",
          "name": "RepeatedPathPosition",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PathLength() * mod(Object.Behavior::Progress(), 1 / RepetitionCount) * RepetitionCount"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the progress on the full path from 0 to 1, where 0 means the origin and 1 the end.",
          "fullName": "Progress",
          "functionType": "Expression",
          "name": "Progress",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Tween::Ease(Easing, Origin, Target,  min(1, Object.ObjectTimerElapsedTime(\"__CurvedMovement.Time\") / Duration))"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the length of the path (one repetition only).",
          "fullName": "Path length",
          "functionType": "Expression",
          "name": "PathLength",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurvedMovement::PathLength(PathName)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the displacement on X axis of the path end.",
          "fullName": "Path end X",
          "functionType": "Expression",
          "name": "PathEndX",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurvedMovement::PathEndX(PathName)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the displacement on Y axis of the path end.",
          "fullName": "Path end Y",
          "functionType": "Expression",
          "name": "PathEndY",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurvedMovement::PathEndY(PathName)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the speed scale on Y axis of the path.",
          "fullName": "Path speed scale Y",
          "functionType": "Expression",
          "name": "PathSpeedScaleY",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurvedMovement::SpeedScaleY(PathName)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the angle to use when the object is going back or not.",
          "fullName": "Back or forth angle",
          "functionType": "Expression",
          "name": "BackOrForthAngle",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::TweenPathMovement::PropertyIsGoingBack"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "180"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::TweenPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "",
          "type": "Behavior",
          "label": "Flippable capability",
          "description": "",
          "group": "",
          "extraInformation": [
            "FlippableCapability::FlippableBehavior"
          ],
          "name": "Flippable"
        },
        {
          "value": "true",
          "type": "Boolean",
          "label": "Rotate object",
          "description": "",
          "group": "",
          "extraInformation": [],
          "name": "Rotation"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "DegreeAngle",
          "label": "Rotation offset",
          "description": "",
          "group": "",
          "extraInformation": [],
          "name": "RotationOffset"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "Flip on X to go back",
          "description": "",
          "group": "",
          "extraInformation": [],
          "name": "FlipXToGoBack"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "Flip on Y to go back",
          "description": "",
          "group": "",
          "extraInformation": [],
          "name": "FlipYToGoBack"
        },
        {
          "value": "1",
          "type": "Number",
          "label": "Speed scale",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "SpeedScale"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathOriginX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathOriginY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Target"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Origin"
        },
        {
          "value": "",
          "type": "String",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathName"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Duration"
        },
        {
          "value": "",
          "type": "String",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Easing"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DrawingElementIndex"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "X"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Y"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathAngle"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathScale"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "RepetitionCount"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ShouldGoBack"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ShouldLoop"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "RepetitionDoneCount"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "IsGoingBack"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "Pause duration before going back",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PauseDurationBeforeGoingBack"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DrawingPathOriginX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DrawingPathOriginY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DebugLineStrokeWidth"
        },
        {
          "value": "Top-Down",
          "type": "Choice",
          "label": "Viewpoint",
          "description": "",
          "group": "",
          "extraInformation": [
            "Top-Down",
            "Isometry 2:1 (26.565Â°)"
          ],
          "name": "Viewpoint"
        }
      ],
      "sharedPropertyDescriptors": []
    },
    {
      "description": "Move objects on curved paths at a given speed.",
      "fullName": "Movement on a curve (speed-based)",
      "name": "SpeedPathMovement",
      "objectType": "",
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPreEvents",
          "sentence": "",
          "events": [
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "name": "Move on the path",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::CanMoveFurther"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::SetPropertyPreviousSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Speed"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Update speed"
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CurvedMovement::SpeedPathMovement::PropertySpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "!=",
                            "TargetedSpeed"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "CurvedMovement::SpeedPathMovement::SetPropertySpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "Acceleration * TimeDelta()"
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::CompareNumbers"
                              },
                              "parameters": [
                                "sign(Acceleration)",
                                "!=",
                                "sign(TargetedSpeed - Speed)"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "CurvedMovement::SpeedPathMovement::SetPropertySpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "TargetedSpeed"
                              ]
                            },
                            {
                              "type": {
                                "value": "CurvedMovement::SpeedPathMovement::SetPropertyAcceleration"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Update the position on the path (the current length) with a Verlet integration."
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "CurvedMovement::SpeedPathMovement::SetPositionOnPath"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "(PreviousSpeed + Speed) * TimeDelta() / 2",
                            ""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "It's useful to know which way to look at when the speed reached 0."
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CurvedMovement::SpeedPathMovement::PropertySpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "<",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "CurvedMovement::SpeedPathMovement::SetPropertyIsLookingBack"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "yes"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CurvedMovement::SpeedPathMovement::PropertySpeed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ">",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "CurvedMovement::SpeedPathMovement::SetPropertyIsLookingBack"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "no"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "parameters": []
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the path followed by an object.",
          "fullName": "Follow a path",
          "functionType": "Action",
          "name": "SetPath",
          "sentence": "_PARAM0_ follow the path: _PARAM2_ repeated _PARAM3_ times and loop: _PARAM4_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathName"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "PathName"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyRepetitionCount"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "min(1, RepetitionCount)"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"ShouldLoop\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "no"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"ShouldLoop\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathOriginX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.X()"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathOriginY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Y()"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathAngle"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathScale"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "1"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::InitializeMovement"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            },
            {
              "description": "Path name",
              "longDescription": "The path can be define with the \"Append curve\" action.",
              "name": "PathName",
              "supplementaryInformation": "sceneBezierCurve",
              "type": "identifier"
            },
            {
              "description": "Number of repetitions",
              "name": "RepetitionCount",
              "type": "expression"
            },
            {
              "description": "Loop",
              "name": "ShouldLoop",
              "type": "yesorno"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the path followed by an object to reach a position.",
          "fullName": "Follow a path to a position",
          "functionType": "Action",
          "name": "SetPathTo",
          "sentence": "_PARAM0_ follow the path _PARAM2_ repeated _PARAM3_ times to reach _PARAM5_ ; _PARAM6_ and loop: _PARAM4_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "When the path is close or empty, there is no way to reach a destination"
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "CurvedMovement::IsClosed"
                  },
                  "parameters": [
                    "",
                    "PathName",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathName"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "PathName"
                      ]
                    },
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::SetPropertyRepetitionCount"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "min(1, RepetitionCount)"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"ShouldLoop\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::SetPropertyShouldLoop"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "no"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"ShouldLoop\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::SetPropertyShouldLoop"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathOriginX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.X()"
                      ]
                    },
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathOriginY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Y()"
                      ]
                    },
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathAngle"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "AngleBetweenPositions(Object.X(), Object.Y(), DestinationX, Object.Y() + (DestinationY - Object.Y()) / Object.Behavior::PathSpeedScaleY()) - AngleBetweenPositions(0, 0, Object.Behavior::PathEndX(),  Object.Behavior::PathEndY() / Object.Behavior::PathSpeedScaleY())"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::SetPropertyPathScale"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "DistanceBetweenPositions(Object.X(), Object.Y(), DestinationX, Object.Y() + (DestinationY - Object.Y()) / Object.Behavior::PathSpeedScaleY()) / DistanceBetweenPositions(0, 0, Object.Behavior::PathEndX(), Object.Behavior::PathEndY() / Object.Behavior::PathSpeedScaleY()) / RepetitionCount"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::InitializeMovement"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            },
            {
              "description": "Path name",
              "longDescription": "The path can be define with the \"Append curve\" action.",
              "name": "PathName",
              "supplementaryInformation": "sceneBezierCurve",
              "type": "identifier"
            },
            {
              "description": "Number of repetitions",
              "name": "RepetitionCount",
              "type": "expression"
            },
            {
              "description": "Loop",
              "name": "ShouldLoop",
              "type": "yesorno"
            },
            {
              "description": "Destination X",
              "name": "DestinationX",
              "type": "expression"
            },
            {
              "description": "Destination Y",
              "name": "DestinationY",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "the length between the trajectory origin and the current position without counting the loops.",
          "fullName": "Position on the loop",
          "functionType": "ExpressionAndCondition",
          "name": "PositionOnLoop",
          "sentence": "the length from the trajectory origin in the current loop",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "mod(CurrentLength, Object.Behavior::TotalLength())"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "the number time the object loop the trajectory.",
          "fullName": "Current loop",
          "functionType": "ExpressionAndCondition",
          "name": "Loop",
          "sentence": "the current loop",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "ceil(CurrentLength / Object.Behavior::TotalLength())"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "the length between the trajectory origin and the current position counting the loops.",
          "fullName": "Position on the path",
          "functionType": "ExpressionAndCondition",
          "name": "PositionOnPath",
          "sentence": "the length from the trajectory origin counting the loops",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurrentLength"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the position of the object on the path.",
          "fullName": "Position on the path",
          "functionType": "ActionWithOperator",
          "getterName": "PositionOnPath",
          "name": "SetPositionOnPath",
          "sentence": "Change the position of _PARAM0_ on the path at the length _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "CurvedMovement::SpeedPathMovement::PropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyCurrentLength"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "clamp(Value, 0, Object.Behavior::TotalLength())"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertyShouldLoop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyCurrentLength"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Value"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::UpdatePosition"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertyRotation"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetAngle"
                  },
                  "parameters": [
                    "Object",
                    "=",
                    "PathAngle + CurvedMovement::PathAngle(PathName, Object.Behavior::RepeatedPathPosition()) + RotationOffset + Object.Behavior::BackOrForthAngle()"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            },
            {
              "description": "Length",
              "name": "Length",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Set the the object on the path according to the current length.",
          "fullName": "Update position",
          "functionType": "Action",
          "name": "UpdatePosition",
          "private": true,
          "sentence": "Update the position of _PARAM0_ on the path",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const object = objects[0];",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = object.getBehavior(behaviorName);",
                "",
                "/** @type {string} */",
                "const pathName = behavior._getPathName();",
                "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
                "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
                "const curvedPath = curvedPaths.get(pathName);",
                "if (!curvedPath) {",
                "    return;",
                "}",
                "",
                "behavior.workingTransformation = behavior.workingTransformation || new gdjs.AffineTransformation();",
                "/** @type {gdjs.AffineTransformation} */",
                "const transformation = behavior.workingTransformation;",
                "",
                "const repetitionDone = behavior.RepetitionDone();",
                "transformation.setToTranslation(",
                "    repetitionDone * behavior.PathEndX(),",
                "    repetitionDone * behavior.PathEndY() / behavior.PathSpeedScaleY()",
                ");",
                "transformation.preConcatenate(behavior.curvedMovementTransformation);",
                "",
                "/** @type {number} */",
                "const length = behavior.RepeatedPathPosition();",
                "/** @type {[number, number]} */",
                "const point = curvedPath.getTransformedPosition(length, transformation);",
                "const x = point[0] + behavior._getPathOriginX();",
                "const y = point[1] + behavior._getPathOriginY();",
                "object.setPosition(x, y);",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the length from the trajectory origin is lesser than a value.",
          "fullName": "Current length",
          "functionType": "Condition",
          "name": "CheckPositionOnPath",
          "private": true,
          "sentence": "_PARAM0_ is less than _PARAM2_ pixels away from the trajectory origin",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::CompareNumbers"
                  },
                  "parameters": [
                    "Object.Behavior::PositionOnLoop()",
                    "<",
                    "Length"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            },
            {
              "description": "Length from the trajectory origin (in pixels)",
              "name": "Length",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the object has reached the origin position of the path.",
          "fullName": "Reached path origin",
          "functionType": "Condition",
          "name": "HasReachedOrigin",
          "sentence": "_PARAM0_ reached the path beginning",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertyCurrentLength"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertySpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "<=",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the object has reached the target position of the path.",
          "fullName": "Reached path target",
          "functionType": "Condition",
          "name": "HasReachedTarget",
          "sentence": "_PARAM0_ reached the path target",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertyCurrentLength"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Behavior::TotalLength()"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertySpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ">=",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the object has reached one of the 2 ends of the path.",
          "fullName": "Reach an end",
          "functionType": "Condition",
          "name": "HasReachedAnEnd",
          "sentence": "_PARAM0_ reached an end of the path",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::HasReachedTarget"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::HasReachedOrigin"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the object can still move in the current direction.",
          "fullName": "Can move further",
          "functionType": "Condition",
          "name": "CanMoveFurther",
          "sentence": "_PARAM0_ can move further on its path",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::PropertySpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "!=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::PropertyAcceleration"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "!=",
                        "0"
                      ]
                    }
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::PropertyShouldLoop"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::And"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "inverted": true,
                            "value": "CurvedMovement::SpeedPathMovement::HasReachedTarget"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Or"
                          },
                          "parameters": [],
                          "subInstructions": [
                            {
                              "type": {
                                "value": "CurvedMovement::SpeedPathMovement::PropertySpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ">",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "CurvedMovement::SpeedPathMovement::PropertyAcceleration"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ">",
                                "0"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::And"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "inverted": true,
                            "value": "CurvedMovement::SpeedPathMovement::HasReachedOrigin"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Or"
                          },
                          "parameters": [],
                          "subInstructions": [
                            {
                              "type": {
                                "value": "CurvedMovement::SpeedPathMovement::PropertySpeed"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "<",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "CurvedMovement::SpeedPathMovement::PropertyAcceleration"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "<",
                                "0"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the angle of movement on its path.",
          "fullName": "Movement angle",
          "functionType": "Expression",
          "name": "MovementAngle",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "PathAngle + CurvedMovement::PathAngle(PathName, Object.Behavior::RepeatedPathPosition()) + RotationOffset + Object.Behavior::BackOrForthAngle()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "the speed of the object.",
          "fullName": "Speed",
          "functionType": "ExpressionAndCondition",
          "name": "Speed",
          "sentence": "the speed",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Speed"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the current speed of the object.",
          "fullName": "Speed",
          "functionType": "ActionWithOperator",
          "getterName": "Speed",
          "name": "SetSpeed",
          "sentence": "Change the speed of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertySpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Value"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyTargetedSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Value"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            },
            {
              "description": "Speed (in pixels per second)",
              "name": "Speed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Make an object accelerate until it reaches a given speed.",
          "fullName": "Accelerate",
          "functionType": "Action",
          "name": "AccelarateAt",
          "sentence": "_PARAM0_ accelerate at _PARAM3_ to reach the speed of _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyTargetedSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "TargetedSpeed"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyAcceleration"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Acceleration"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::HasReachedAnEnd"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertySpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            },
            {
              "description": "Targeted speed (in pixels per second)",
              "name": "TargetedSpeed",
              "type": "expression"
            },
            {
              "description": "Acceleration (in pixels per second per second)",
              "name": "Acceleration",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Make an object accelerate to reaches a speed in a given amount of time.",
          "fullName": "Accelerate during",
          "functionType": "Action",
          "name": "AccelarateDuring",
          "sentence": "_PARAM0_ accelerate during _PARAM3_ seconds to reach the speed of _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyTargetedSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "TargetedSpeed"
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertyAcceleration"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "(TargetedSpeed - Speed) / Duration"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::HasReachedAnEnd"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPropertySpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            },
            {
              "description": "Targeted speed (in pixels per second)",
              "name": "TargetedSpeed",
              "type": "expression"
            },
            {
              "description": "Duration (in seconds)",
              "name": "Duration",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Draw the object trajectory.",
          "fullName": "Draw the trajectory",
          "functionType": "Action",
          "group": "Debug",
          "name": "DrawDebug",
          "sentence": "Draw trajectory of _PARAM0_ on _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "PrimitiveDrawing::UseRelativeCoordinates"
                  },
                  "parameters": [
                    "ShapePainter",
                    "no"
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::FillOpacity"
                  },
                  "parameters": [
                    "ShapePainter",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "PrimitiveDrawing::OutlineSize"
                  },
                  "parameters": [
                    "ShapePainter",
                    "=",
                    "ShapePainter.OutlineSize()"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = objects[0].getBehavior(behaviorName);",
                "",
                "/** @type {gdjs.ShapePainterRuntimeObject} */",
                "const shapePainter = eventsFunctionContext.getObjects(\"ShapePainter\")[0];",
                "if (!shapePainter) {",
                "    return ;",
                "}",
                "",
                "/** @type {string} */",
                "const pathName = behavior._getPathName();",
                "/** @type {Map<string, gdjs.__curvedMovementExtension.CurvedPath>} */",
                "const curvedPaths = runtimeScene.__curvedMovementExtension.curvedPaths;",
                "const curvedPath = curvedPaths.get(pathName);",
                "if (!curvedPath) {",
                "    return ;",
                "}",
                "",
                "/** @type {gdjs.AffineTransformation} */",
                "const transformation = behavior.curvedMovementTransformation;",
                "let point = behavior.curvedMovementWorkingPoint || [0, 0];",
                "",
                "let originX = behavior._getPathOriginX();",
                "let originY = behavior._getPathOriginY();",
                "shapePainter.drawPathMoveTo(originX, originY);",
                "const repetitionCount = behavior._getRepetitionCount();",
                "let previousLastTargetX = 0;",
                "let previousLastTargetY = 0;",
                "const endX = curvedPath.getEndX();",
                "const endY = curvedPath.getEndY();",
                "for (let repetitionIndex = 0; repetitionIndex < repetitionCount; repetitionIndex++) {",
                "  for (let curveIndex = 0; curveIndex < curvedPath.curves.length; curveIndex++) {",
                "    point[0] = curvedPath.getFirstControlX(curveIndex) + previousLastTargetX;",
                "    point[1] = curvedPath.getFirstControlY(curveIndex) + previousLastTargetY;",
                "    if (transformation) {",
                "      point = curvedPath.transformPosition(point[0], point[1], transformation, point);",
                "    }",
                "    const firstControlX = point[0];",
                "    const firstControlY = point[1];",
                "",
                "    point[0] = curvedPath.getSecondControlX(curveIndex) + previousLastTargetX;",
                "    point[1] = curvedPath.getSecondControlY(curveIndex) + previousLastTargetY;",
                "    if (transformation) {",
                "      point = curvedPath.transformPosition(point[0], point[1], transformation, point);",
                "    }",
                "    const secondControlX = point[0];",
                "    const secondControlY = point[1];",
                "",
                "    point[0] = curvedPath.getTargetX(curveIndex) + previousLastTargetX;",
                "    point[1] = curvedPath.getTargetY(curveIndex) + previousLastTargetY;",
                "    if (transformation) {",
                "      point = curvedPath.transformPosition(point[0], point[1], transformation, point);",
                "    }",
                "    const targetX = point[0];",
                "    const targetY = point[1];",
                "",
                "    shapePainter.drawPathBezierCurveTo(",
                "      firstControlX + originX,",
                "      firstControlY + originY,",
                "      secondControlX + originX,",
                "      secondControlY + originY,",
                "      targetX + originX,",
                "      targetY + originY);",
                "  }",
                "  previousLastTargetX += endX;",
                "  previousLastTargetY += endY;",
                "}",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            },
            {
              "description": "Shape painter",
              "name": "ShapePainter",
              "supplementaryInformation": "PrimitiveDrawing::Drawer",
              "type": "objectList"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the transformation to apply to the path.",
          "fullName": "Path transformation",
          "functionType": "Action",
          "name": "SetTransformation",
          "private": true,
          "sentence": "Change the path trasformation of _PARAM0_ to origin _PARAM2_; _PARAM3_ scale by _PARAM4_ and a rotation of _PARAM5_Â°",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": []
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = objects[0].getBehavior(behaviorName);",
                "",
                "const scale = eventsFunctionContext.getArgument(\"Scale\");",
                "const angle = eventsFunctionContext.getArgument(\"Angle\");",
                "",
                "/** @type {gdjs.AffineTransformation} */",
                "const transformation = behavior.curvedMovementTransformation || new gdjs.AffineTransformation()",
                "transformation.setToScale(scale, scale);",
                "transformation.rotate(angle / 180 * Math.PI);",
                "",
                "behavior.curvedMovementTransformation = transformation;"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            },
            {
              "description": "Origin X",
              "name": "OriginX",
              "type": "expression"
            },
            {
              "description": "Origin Y",
              "name": "OriginY",
              "type": "expression"
            },
            {
              "description": "Scale",
              "name": "Scale",
              "type": "expression"
            },
            {
              "description": "Angle",
              "name": "Angle",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Initialize the movement state.",
          "fullName": "Initialize the movement",
          "functionType": "Action",
          "name": "InitializeMovement",
          "private": true,
          "sentence": "Initialize the movement of _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertyViewpoint"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "\"Top-down\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SetSpeedScaleY"
                  },
                  "parameters": [
                    "",
                    "PathName",
                    "1",
                    "0.5"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::PropertyViewpoint"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "\"Isometry 2:1 (26.565Â°)\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SetSpeedScaleY"
                  },
                  "parameters": [
                    "",
                    "PathName",
                    "0.5",
                    "0.5"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetTransformation"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.X()",
                    "Object.Y()",
                    "PathScale",
                    "PathAngle",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::SetPositionOnPath"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "0",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the position on one repeated path.",
          "fullName": "Repeated path position",
          "functionType": "Expression",
          "name": "RepeatedPathPosition",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "CurvedMovement::SpeedPathMovement::HasReachedTarget"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "mod(Object.Behavior::PositionOnLoop(), Object.Behavior::PathLength())"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "When the object reaches the target, it must stay on the last repetition end and not at the start of a new one."
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::HasReachedTarget"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PathLength()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the number of repetitions between the current position and the origin.",
          "fullName": "Repetition done",
          "functionType": "Expression",
          "name": "RepetitionDone",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "CurvedMovement::SpeedPathMovement::HasReachedTarget"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "floor(Object.Behavior::PositionOnLoop() / Object.Behavior::PathLength())"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "When the object reaches the target, it must stay on the last repetition end and not at the start of a new one."
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CurvedMovement::SpeedPathMovement::HasReachedTarget"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "RepetitionCount - 1"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the progress on the full path from 0 to 1, where 0 means the origin and 1 the end.",
          "fullName": "Progress",
          "functionType": "Expression",
          "name": "Progress",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "mod(Object.Behavior::PositionOnLoop(), Object.Behavior::TotalLength())"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the length of the path (one repetition only).",
          "fullName": "Path length",
          "functionType": "Expression",
          "name": "PathLength",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurvedMovement::PathLength(PathName)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the length of the complete trajectory (without looping).",
          "fullName": "Total length",
          "functionType": "Expression",
          "name": "TotalLength",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurvedMovement::PathLength(PathName) * RepetitionCount"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the displacement on X axis of the path end.",
          "fullName": "Path end X",
          "functionType": "Expression",
          "name": "PathEndX",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurvedMovement::PathEndX(PathName)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the displacement on Y axis of the path end.",
          "fullName": "Path end Y",
          "functionType": "Expression",
          "name": "PathEndY",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurvedMovement::PathEndY(PathName)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the speed scale on Y axis of the path.",
          "fullName": "Path speed scale Y",
          "functionType": "Expression",
          "name": "PathSpeedScaleY",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "CurvedMovement::SpeedScaleY(PathName)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the angle to use when the object is going back or not.",
          "fullName": "Back or forth angle",
          "functionType": "Expression",
          "name": "BackOrForthAngle",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::PropertySpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "<",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "CurvedMovement::SpeedPathMovement::PropertyIsLookingBack"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "180"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the path origin on X axis of the object.",
          "fullName": "Path origin X",
          "functionType": "Expression",
          "group": "Movement on a curve (speed-based) configuration",
          "name": "PathOriginX",
          "sentence": "the path origin on X axis",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "PathOriginX"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the path origin on Y axis of the object.",
          "fullName": "Path origin Y",
          "functionType": "Expression",
          "group": "Movement on a curve (speed-based) configuration",
          "name": "PathOriginY",
          "sentence": "the path origin on Y axis",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "PathOriginY"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "CurvedMovement::SpeedPathMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "true",
          "type": "Boolean",
          "label": "Rotate object",
          "description": "",
          "group": "Rotation",
          "extraInformation": [],
          "name": "Rotation"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "DegreeAngle",
          "label": "Rotation offset",
          "description": "",
          "group": "Rotation",
          "extraInformation": [],
          "name": "RotationOffset"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Speed"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathOriginX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathOriginY"
        },
        {
          "value": "",
          "type": "String",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathName"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "TargetedSpeed"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Acceleration"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DrawingElementIndex"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "X"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Y"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathAngle"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PathScale"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "RepetitionCount"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ShouldLoop"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DrawingPathOriginX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DrawingPathOriginY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DebugLineStrokeWidth"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "PreviousSpeed"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "CurrentLength"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "IsLookingBack"
        },
        {
          "value": "Top-Down",
          "type": "Choice",
          "label": "Viewpoint",
          "description": "",
          "group": "",
          "extraInformation": [
            "Top-Down",
            "Isometry 2:1 (26.565Â°)"
          ],
          "name": "Viewpoint"
        }
      ],
      "sharedPropertyDescriptors": []
    }
  ],
  "eventsBasedObjects": []
}