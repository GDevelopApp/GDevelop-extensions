{
  "author": "Ahnaf30e",
  "category": "Advanced",
  "extensionNamespace": "",
  "fullName": "Frames per second (FPS)",
  "helpPath": "",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNMzAsM2gtMkg0SDJDMS40LDMsMSwzLjQsMSw0czAuNCwxLDEsMWgxdjE2YzAsMC42LDAuNCwxLDEsMWg5LjhsLTUuNSw2LjNjLTAuNCwwLjQtMC4zLDEsMC4xLDEuNEM4LjUsMjkuOSw4LjgsMzAsOSwzMA0KCWMwLjMsMCwwLjYtMC4xLDAuOC0wLjNsNS4yLTZWMjhjMCwwLjYsMC40LDEsMSwxczEtMC40LDEtMXYtNC4zbDUuMiw2YzAuMiwwLjIsMC41LDAuMywwLjgsMC4zYzAuMiwwLDAuNS0wLjEsMC43LTAuMg0KCWMwLjQtMC40LDAuNS0xLDAuMS0xLjRMMTguMiwyMkgyOGMwLjYsMCwxLTAuNCwxLTFWNWgxYzAuNiwwLDEtMC40LDEtMVMzMC42LDMsMzAsM3ogTTI0LjgsOC42bC00LDZjLTAuMywwLjQtMC44LDAuNi0xLjMsMC4zDQoJTDE1LjgsMTNoLTMuNGwtMy43LDMuN0M4LjUsMTYuOSw4LjMsMTcsOCwxN3MtMC41LTAuMS0wLjctMC4zYy0wLjQtMC40LTAuNC0xLDAtMS40bDQtNGMwLjItMC4yLDAuNC0wLjMsMC43LTAuM2g0DQoJYzAuMiwwLDAuMywwLDAuNCwwLjFsMy4yLDEuNmwzLjUtNS4zYzAuMy0wLjUsMC45LTAuNiwxLjQtMC4zQzI1LDcuNSwyNS4xLDguMSwyNC44LDguNnoiLz4NCjwvc3ZnPg0K",
  "name": "FPS",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Glyphster Pack/Master/SVG/SEO/SEO_board_performance_profit.svg",
  "shortDescription": "Calculate and display the frames per second (FPS) of the game.",
  "version": "1.1.0",
  "description": [
    "Provides an expression to get the current FPS and a behavior to simplify displaying the current FPS.",
    "",
    "Frames Per Second (FPS) describes how many times in the last second your game logic was executed. ",
    "This includes running behaviors and events, and then rendering the new game state into the game window. The higher the FPS, the more fluid and performant your game looks."
  ],
  "origin": {
    "identifier": "FPS",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "fps",
    "frames",
    "per",
    "second",
    "performance",
    "speed"
  ],
  "authorIds": [
    "onPsboRtDkUHNOsx7OPr8R8G1oj2",
    "gqDaZjCfevOOxBYkK6zlhtZnXCg1"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Save starting time and set default value"
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "FPS::RestartFpsCounter"
              },
              "parameters": [
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "ModVarScene"
              },
              "parameters": [
                "__FPS.UpdatePeriod",
                "=",
                "1"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onScenePostEvents",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarScene"
              },
              "parameters": [
                "__FPS.FramesCounted",
                "+",
                "1"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareNumbers"
              },
              "parameters": [
                "Time(\"timestamp\") - Variable(__FPS.StartTime)",
                ">",
                "1000 * Variable(__FPS.UpdatePeriod) "
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarScene"
              },
              "parameters": [
                "__FPS.FramesPerSecond",
                "=",
                "1000 * Variable(__FPS.FramesCounted) / (Time(\"timestamp\") - Variable(__FPS.StartTime))"
              ]
            },
            {
              "type": {
                "value": "FPS::RestartFpsCounter"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Average frames per second (FPS) during the last update period.",
      "fullName": "Frames Per Second (FPS)",
      "functionType": "Expression",
      "name": "FPS",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetReturnNumber"
              },
              "parameters": [
                "Variable(__FPS.FramesPerSecond)"
              ]
            }
          ]
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Return your game's current FPS count, with more control over rounding.",
      "fullName": "Precise FPS (Frames per second) [Deprecated]",
      "functionType": "Expression",
      "name": "PreciseFPS",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetReturnNumber"
              },
              "parameters": [
                "FPS::FPS()"
              ]
            }
          ]
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "The accuracy of the FPS",
          "longDescription": "This tells how many numbers after the period should be shown.",
          "name": "accuracy",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change time period between FPS updates. Default: 1 second.",
      "fullName": "Change time period between FPS updates",
      "functionType": "Action",
      "name": "SetUpdatePeriod",
      "sentence": "Change time period between FPS updates to _PARAM1_ seconds",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarScene"
              },
              "parameters": [
                "__FPS.UpdatePeriod",
                "=",
                "max(0, GetArgumentAsNumber(\"UpdatePeriod\"))"
              ]
            },
            {
              "type": {
                "value": "FPS::RestartFpsCounter"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Update period (seconds)",
          "name": "UpdatePeriod",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Restart the FPS counter.",
      "fullName": "Restart FPS counter",
      "functionType": "Action",
      "name": "RestartFpsCounter",
      "private": true,
      "sentence": "Restart the FPS counter",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "ModVarScene"
              },
              "parameters": [
                "__FPS.FramesCounted",
                "=",
                "0"
              ]
            },
            {
              "type": {
                "value": "ModVarScene"
              },
              "parameters": [
                "__FPS.StartTime",
                "=",
                "Time(\"timestamp\")"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [
    {
      "description": "Makes a text object display the current FPS.",
      "fullName": "FPS Displayer",
      "name": "FPSDisplayer",
      "objectType": "TextObject::Text",
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPreEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "TextObject::String"
                  },
                  "parameters": [
                    "Object",
                    "=",
                    "Object.Behavior::Propertyprefix() + ToString(FPS::FPS())"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "TextObject::Text",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "FPS::FPSDisplayer",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "FPS: ",
          "type": "String",
          "label": "The prefix before the FPS count",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "prefix"
        }
      ],
      "sharedPropertyDescriptors": []
    }
  ],
  "eventsBasedObjects": []
}