{
  "author": "Add00",
  "category": "",
  "description": "Shake layer cameras with translation, rotation and zoom.\n- Short shaking can be used to give impact (explosion, hit)\n- Shaking can go indefinitly to set an ambiance (engine vibration, earthquake, pulsing)\n- Low frequency shaking allows to simulate slow moving objects (ship rocking back and forth)\n- Setting amplitudes per layer make it possible to respect the parallax and give more depth",
  "extensionNamespace": "",
  "fullName": "Camera shake",
  "helpPath": "https://victrisgames.itch.io/gdevelop-camera-shake-example",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXZlY3Rvci1kaWZmZXJlbmNlLWFiIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTMsMUMxLjg5LDEgMSwxLjg5IDEsM1Y1SDNWM0g1VjFIM003LDFWM0gxMFYxSDdNMTIsMVYzSDE0VjVIMTZWM0MxNiwxLjg5IDE1LjExLDEgMTQsMUgxMk0xLDdWMTBIM1Y3SDFNMTQsN0MxNCw3IDE0LDExLjY3IDE0LDE0QzExLjY3LDE0IDcsMTQgNywxNEM3LDE0IDcsMTggNywyMEM3LDIxLjExIDcuODksMjIgOSwyMkgyMEMyMS4xMSwyMiAyMiwyMS4xMSAyMiwyMFY5QzIyLDcuODkgMjEuMTEsNyAyMCw3QzE4LDcgMTQsNyAxNCw3TTE2LDlIMjBWMjBIOVYxNkgxNEMxNS4xMSwxNiAxNiwxNS4xMSAxNiwxNFY5TTEsMTJWMTRDMSwxNS4xMSAxLjg5LDE2IDMsMTZINVYxNEgzVjEySDFaIiAvPjwvc3ZnPg==",
  "name": "CameraShake",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/vector-difference-ab.svg",
  "shortDescription": "Shake layer cameras with translation, rotation and zoom.",
  "version": "2.6.5",
  "tags": [
    "shaking",
    "camera",
    "effect",
    "screen",
    "shake",
    "zoom",
    "translate",
    "rotate"
  ],
  "authorIds": [
    "gqDaZjCfevOOxBYkK6zlhtZnXCg1",
    "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "description": "",
      "fullName": "",
      "functionType": "Action",
      "group": "",
      "name": "onSceneLoaded",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetLayerShakable"
              },
              "parameters": [
                "",
                "",
                "\"\"",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultShakingFrequency"
              },
              "parameters": [
                "",
                "12",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultTranslationAmplitude"
              },
              "parameters": [
                "",
                "4",
                "4",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultRotationAmplitude"
              },
              "parameters": [
                "",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultZoomAmplitude"
              },
              "parameters": [
                "",
                "1",
                ""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "// It Avoids conflicts with other extensions that also use the camera.\n// If something changes in the engine it will no longer do anything.\nif (runtimeScene._updateObjectsPreEvents\n    && gdjs\n    && gdjs.evtsExt__CameraShake__onScenePreEvents\n    && gdjs.evtsExt__CameraShake__onScenePreEvents.registeredGdjsCallbacks\n    && gdjs.evtsExt__CameraShake__onScenePreEvents.registeredGdjsCallbacks.length\n    && gdjs.callbacksRuntimeScenePreEvents) {\n\n    // Force preEvent execution before behavior ones.\n    if (!runtimeScene.__camerShake_hasAlreadyAddHook) {\n        runtimeScene.__camerShake_hasAlreadyAddHook = true;\n        const superUpdateObjectsPreEvents = runtimeScene._updateObjectsPreEvents.bind(runtimeScene);\n        runtimeScene._updateObjectsPreEvents = function () {\n            gdjs.evtsExt__CameraShake__onScenePreEvents.func(runtimeScene, runtimeScene);\n            superUpdateObjectsPreEvents();\n        }\n    }\n\n    // Avoid to run preEvent a second time.\n    const callback = gdjs.evtsExt__CameraShake__onScenePreEvents.registeredGdjsCallbacks[gdjs.evtsExt__CameraShake__onScenePreEvents.registeredGdjsCallbacks.length - 1];\n    const callBackIndex = gdjs.callbacksRuntimeScenePreEvents.indexOf(callback);\n    if (callBackIndex >= 0) {\n        gdjs.callbacksRuntimeScenePreEvents.splice(callBackIndex, 1);\n    }\n}",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "",
      "fullName": "",
      "functionType": "Action",
      "group": "",
      "name": "onScenePostEvents",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "This variable is needed because the time will shift before next onScenePreEvents call.",
          "comment2": ""
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__CameraShake_NeedToRevertCameraChanges",
                "False"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::IsShaking"
              },
              "parameters": [
                "",
                ""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__CameraShake_NeedToRevertCameraChanges",
                "True"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_EaseFactor",
                "=",
                "1"
              ],
              "subInstructions": []
            }
          ],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "CompareTimer"
                  },
                  "parameters": [
                    "",
                    "\"__CameraShake_DurationTimer\"",
                    "<",
                    "Variable(__CameraShake_StartEaseDuration)"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": true,
                    "value": "CompareTimer"
                  },
                  "parameters": [
                    "",
                    "\"__CameraShake_DurationTimer\"",
                    ">",
                    "Variable(__CameraShake_Duration) - Variable(__CameraShake_StopEaseDuration)"
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_EaseFactor",
                    "=",
                    "clamp(0, 1, TimerElapsedTime(\"__CameraShake_DurationTimer\") / Variable(__CameraShake_StartEaseDuration))"
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "CompareTimer"
                  },
                  "parameters": [
                    "",
                    "\"__CameraShake_DurationTimer\"",
                    ">",
                    "Variable(__CameraShake_Duration) - Variable(__CameraShake_StopEaseDuration)"
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_EaseFactor",
                    "=",
                    "clamp(0, 1, (Variable(__CameraShake_Duration) - TimerElapsedTime(\"__CameraShake_DurationTimer\")) / Variable(__CameraShake_StopEaseDuration))"
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::ForEachChildVariable",
              "iterableVariableName": "__CameraShake_Layers",
              "valueIteratorVariableName": "__CameraShake_Layer",
              "keyIteratorVariableName": "__CameraShake_LayerName",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].Shakable",
                    "True"
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [],
              "events": [
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarSceneTxt"
                      },
                      "parameters": [
                        "__CameraShake_ActualLayerName",
                        "=",
                        "VariableString(__CameraShake_LayerName)"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VarSceneTxt"
                      },
                      "parameters": [
                        "__CameraShake_LayerName",
                        "=",
                        "\"__BaseLayer\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarSceneTxt"
                      },
                      "parameters": [
                        "__CameraShake_ActualLayerName",
                        "=",
                        "\"\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Save the layer camera position.",
                  "comment2": ""
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].NoShakeCameraX",
                        "=",
                        "CameraX(VariableString(__CameraShake_ActualLayerName), 0)"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].NoShakeCameraY",
                        "=",
                        "CameraY(VariableString(__CameraShake_ActualLayerName), 0)"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].NoShakeCameraAngle",
                        "=",
                        "CameraAngle(VariableString(__CameraShake_ActualLayerName), 0)"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].NoShakeCameraZoom",
                        "=",
                        "CameraZoom(VariableString(__CameraShake_ActualLayerName), 0)"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Use user defined default values when there is no layer specific value set.",
                  "comment2": ""
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "CameraShake::SetFrequency"
                      },
                      "parameters": [
                        "",
                        "Variable(__CameraShake_DefaultFrequency)",
                        "\"\"",
                        ""
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeX",
                        "=",
                        "Variable(__CameraShake_DefaultAmplitudeX)"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeY",
                        "=",
                        "Variable(__CameraShake_DefaultAmplitudeY)"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeAngle",
                        "=",
                        "Variable(__CameraShake_DefaultAmplitudeAngle)"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeZoom",
                        "=",
                        "Variable(__CameraShake_DefaultAmplitudeZoom)"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VariableChildExists"
                      },
                      "parameters": [
                        "__CameraShake_Layer",
                        "\"Frequency\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "CameraShake::SetFrequency"
                      },
                      "parameters": [
                        "",
                        "Variable(__CameraShake_Layer.Frequency)",
                        "\"\"",
                        ""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VariableChildExists"
                      },
                      "parameters": [
                        "__CameraShake_Layer",
                        "\"AmplitudeX\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeX",
                        "=",
                        "Variable(__CameraShake_Layer.AmplitudeX)"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VariableChildExists"
                      },
                      "parameters": [
                        "__CameraShake_Layer",
                        "\"AmplitudeY\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeY",
                        "=",
                        "Variable(__CameraShake_Layer.AmplitudeY)"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VariableChildExists"
                      },
                      "parameters": [
                        "__CameraShake_Layer",
                        "\"AmplitudeAngle\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeAngle",
                        "=",
                        "Variable(__CameraShake_Layer.AmplitudeAngle)"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VariableChildExists"
                      },
                      "parameters": [
                        "__CameraShake_Layer",
                        "\"AmplitudeZoom\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeZoom",
                        "=",
                        "Variable(__CameraShake_Layer.AmplitudeZoom)"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Shake the layer camera.",
                  "comment2": ""
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeX",
                        "!=",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "SetCameraX"
                      },
                      "parameters": [
                        "",
                        "+",
                        "CameraShake::Noise2d(\"\", TimeFromStart(), 1000) * Variable(__CameraShake_AmplitudeX) * Variable(__CameraShake_EaseFactor)",
                        "VariableString(__CameraShake_ActualLayerName)",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeY",
                        "!=",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "SetCameraY"
                      },
                      "parameters": [
                        "",
                        "+",
                        "CameraShake::Noise2d(\"\", TimeFromStart(), 2000) * Variable(__CameraShake_AmplitudeY) * Variable(__CameraShake_EaseFactor)",
                        "VariableString(__CameraShake_ActualLayerName)",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeAngle",
                        "!=",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "RotateCamera"
                      },
                      "parameters": [
                        "",
                        "+",
                        "CameraShake::Noise2d(\"\", TimeFromStart(), 3000) * Variable(__CameraShake_AmplitudeAngle) * Variable(__CameraShake_EaseFactor)",
                        "VariableString(__CameraShake_ActualLayerName)",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VarScene"
                      },
                      "parameters": [
                        "__CameraShake_AmplitudeZoom",
                        "!=",
                        "1"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ZoomCamera"
                      },
                      "parameters": [
                        "",
                        "CameraZoom(VariableString(__CameraShake_ActualLayerName), 0) * pow(Variable(__CameraShake_AmplitudeZoom), CameraShake::Noise2d(\"\", TimeFromStart(), 4000) * Variable(__CameraShake_EaseFactor))",
                        "VariableString(__CameraShake_ActualLayerName)",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                }
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "",
      "fullName": "",
      "functionType": "Action",
      "group": "",
      "name": "onScenePreEvents",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "SceneVariableAsBoolean"
              },
              "parameters": [
                "__CameraShake_NeedToRevertCameraChanges",
                "True"
              ],
              "subInstructions": []
            }
          ],
          "actions": [],
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::ForEachChildVariable",
              "iterableVariableName": "__CameraShake_Layers",
              "valueIteratorVariableName": "__CameraShake_Layer",
              "keyIteratorVariableName": "__CameraShake_LayerName",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].Shakable",
                    "True"
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [],
              "events": [
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarSceneTxt"
                      },
                      "parameters": [
                        "__CameraShake_ActualLayerName",
                        "=",
                        "VariableString(__CameraShake_LayerName)"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "VarSceneTxt"
                      },
                      "parameters": [
                        "__CameraShake_LayerName",
                        "=",
                        "\"__BaseLayer\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarSceneTxt"
                      },
                      "parameters": [
                        "__CameraShake_ActualLayerName",
                        "=",
                        "\"\""
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "SetCameraX"
                      },
                      "parameters": [
                        "",
                        "=",
                        "Variable(__CameraShake_Layers[VariableString(__CameraShake_LayerName)].NoShakeCameraX)",
                        "VariableString(__CameraShake_ActualLayerName)",
                        "0"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "SetCameraY"
                      },
                      "parameters": [
                        "",
                        "=",
                        "Variable(__CameraShake_Layers[VariableString(__CameraShake_LayerName)].NoShakeCameraY)",
                        "VariableString(__CameraShake_ActualLayerName)",
                        "0"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "SetCameraAngle"
                      },
                      "parameters": [
                        "",
                        "=",
                        "Variable(__CameraShake_Layers[VariableString(__CameraShake_LayerName)].NoShakeCameraAngle)",
                        "VariableString(__CameraShake_ActualLayerName)",
                        "0"
                      ],
                      "subInstructions": []
                    },
                    {
                      "type": {
                        "inverted": false,
                        "value": "ZoomCamera"
                      },
                      "parameters": [
                        "",
                        "Variable(__CameraShake_Layers[VariableString(__CameraShake_LayerName)].NoShakeCameraZoom)",
                        "VariableString(__CameraShake_ActualLayerName)",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                }
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Shake the camera on layers chosen with configuration actions.",
      "fullName": "Shake camera",
      "functionType": "Action",
      "group": "",
      "name": "ShakeCamera",
      "private": false,
      "sentence": "Shake camera for _PARAM1_ seconds with _PARAM2_ seconds of easing to start and _PARAM3_ seconds to stop",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "It \"imports\" the function. A bug doesn't include functions that are only called in life-cycle one.",
          "comment2": ""
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "BuiltinCommonInstructions::Always"
              },
              "parameters": [
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::IsShaking"
              },
              "parameters": [
                "",
                ""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "test",
                "=",
                "CameraShake::Noise2d(\"\", 0, 0)"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetLayerShakable"
              },
              "parameters": [
                "",
                "no",
                "\"\"",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultShakingFrequency"
              },
              "parameters": [
                "",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultTranslationAmplitude"
              },
              "parameters": [
                "",
                "0",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultRotationAmplitude"
              },
              "parameters": [
                "",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultZoomAmplitude"
              },
              "parameters": [
                "",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetFrequency"
              },
              "parameters": [
                "",
                "0",
                "\"\"",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "DebuggerTools::ConsoleLog"
              },
              "parameters": [
                "\"\"",
                "",
                ""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"__CameraShake_DurationTimer\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_Duration",
                "=",
                "GetArgumentAsNumber(\"Duration\")"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_StartEaseDuration",
                "=",
                "GetArgumentAsNumber(\"StartEaseDuration\")"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_StopEaseDuration",
                "=",
                "GetArgumentAsNumber(\"StopEaseDuration\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "VarScene"
              },
              "parameters": [
                "__CameraShake_Duration",
                "<",
                "Variable(__CameraShake_StartEaseDuration) + Variable(__CameraShake_StopEaseDuration)"
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_StartEaseDuration",
                "=",
                "GetArgumentAsNumber(\"StartEaseDuration\") * Variable(__CameraShake_Duration) / (GetArgumentAsNumber(\"StartEaseDuration\") + GetArgumentAsNumber(\"StopEaseDuration\"))"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_StopEaseDuration",
                "=",
                "GetArgumentAsNumber(\"StopEaseDuration\") * Variable(__CameraShake_Duration) / (GetArgumentAsNumber(\"StartEaseDuration\") + GetArgumentAsNumber(\"StopEaseDuration\"))"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Duration (in seconds)",
          "longDescription": "",
          "name": "Duration",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Ease duration to start (in seconds)",
          "longDescription": "",
          "name": "StartEaseDuration",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Ease duration to stop (in seconds)",
          "longDescription": "",
          "name": "StopEaseDuration",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Shake the camera on the specified layer, using one or more ways to shake (position, angle, zoom). This action is deprecated. Please use the other one with the same name.",
      "fullName": "Shake camera (deprecated)",
      "functionType": "Action",
      "group": "",
      "name": "CameraShake",
      "private": true,
      "sentence": "Shake camera on _PARAM3_ layer for _PARAM5_ seconds. Use an amplitude of _PARAM1_px on X axis and _PARAM2_px on Y axis, angle rotation amplitude _PARAM6_ degrees, and zoom amplitude _PARAM7_ percent.  Wait _PARAM8_ seconds between shakes. Keep shaking until stopped: _PARAM9_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "It \"imports\" the noise function. A bug doesn't include functions that are only called in life-cycle one.",
          "comment2": ""
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "BuiltinCommonInstructions::Always"
              },
              "parameters": [
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::IsShaking"
              },
              "parameters": [
                "",
                ""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "test",
                "=",
                "CameraShake::Noise2d(\"\", 0, 0)"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetLayerShakable"
              },
              "parameters": [
                "",
                "no",
                "\"\"",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultShakingFrequency"
              },
              "parameters": [
                "",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultTranslationAmplitude"
              },
              "parameters": [
                "",
                "0",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultRotationAmplitude"
              },
              "parameters": [
                "",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetDefaultZoomAmplitude"
              },
              "parameters": [
                "",
                "0",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "CameraShake::SetFrequency"
              },
              "parameters": [
                "",
                "0",
                "\"\"",
                ""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "DebuggerTools::ConsoleLog"
              },
              "parameters": [
                "\"\"",
                "",
                ""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "disabled": false,
          "folded": false,
          "name": "Camera Shake",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarSceneTxt"
                  },
                  "parameters": [
                    "__CameraShake_LayerName",
                    "=",
                    "GetArgumentAsString(\"Layer\")"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "DebuggerTools::ConsoleLog"
                  },
                  "parameters": [
                    "\"Start\"",
                    "",
                    ""
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "BuiltinCommonInstructions::CompareStrings"
                  },
                  "parameters": [
                    "GetArgumentAsString(\"Layer\")",
                    "=",
                    "\"\""
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarSceneTxt"
                  },
                  "parameters": [
                    "__CameraShake_LayerName",
                    "=",
                    "\"__BaseLayer\""
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "VariableClearChildren"
                  },
                  "parameters": [
                    "__CameraShake_Layers"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "CameraShake::SetLayerShakable"
                  },
                  "parameters": [
                    "",
                    "",
                    "VariableString(__CameraShake_LayerName)",
                    ""
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "ResetTimer"
                  },
                  "parameters": [
                    "",
                    "\"__CameraShake_DurationTimer\""
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarSceneTxt"
                  },
                  "parameters": [
                    "__CameraShake_Layer",
                    "=",
                    "GetArgumentAsString(\"Layer\")"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_Duration",
                    "=",
                    "GetArgumentAsNumber(\"Duration\")"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_StartEaseDuration",
                    "=",
                    "0"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_StopEaseDuration",
                    "=",
                    "GetArgumentAsNumber(\"Duration\")"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_DefaultAmplitudeX",
                    "=",
                    "abs(GetArgumentAsNumber(\"AmplitudeX\"))"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_DefaultAmplitudeY",
                    "=",
                    "abs(GetArgumentAsNumber(\"AmplitudeY\"))"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_DefaultAmplitudeAngle",
                    "=",
                    "GetArgumentAsNumber(\"AmplitudeAngle\")"
                  ],
                  "subInstructions": []
                },
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_DefaultAmplitudeZoom",
                    "=",
                    "1 + GetArgumentAsNumber(\"AmplitudeZoom\") / 100"
                  ],
                  "subInstructions": []
                }
              ],
              "events": [
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "BuiltinCommonInstructions::CompareNumbers"
                      },
                      "parameters": [
                        "GetArgumentAsNumber(\"ShakePeriod\")",
                        "!=",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_DefaultFrequency",
                        "=",
                        "1 / GetArgumentAsNumber(\"ShakePeriod\")"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                },
                {
                  "disabled": false,
                  "folded": false,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "BuiltinCommonInstructions::CompareNumbers"
                      },
                      "parameters": [
                        "GetArgumentAsNumber(\"ShakePeriod\")",
                        "=",
                        "0"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "inverted": false,
                        "value": "ModVarScene"
                      },
                      "parameters": [
                        "__CameraShake_DefaultFrequency",
                        "=",
                        "1 / 0.08"
                      ],
                      "subInstructions": []
                    }
                  ],
                  "events": []
                }
              ]
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Determine if the shake should keep going until stopped",
              "comment2": ""
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"ShakeForever\""
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_Duration",
                    "=",
                    "1234567890"
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Add default values if none were provided",
              "comment2": ""
            },
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "VarScene"
                  },
                  "parameters": [
                    "__CameraShake_Duration",
                    "=",
                    "0"
                  ],
                  "subInstructions": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "inverted": false,
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__CameraShake_Duration",
                    "=",
                    "0.5"
                  ],
                  "subInstructions": []
                }
              ],
              "events": []
            }
          ],
          "parameters": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Amplitude of shaking on the X axis (in pixels)",
          "longDescription": "",
          "name": "AmplitudeX",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Amplitude of shaking on the Y axis (in pixels)",
          "longDescription": "",
          "name": "AmplitudeY",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Layer (base layer if empty)",
          "longDescription": "",
          "name": "Layer",
          "optional": false,
          "supplementaryInformation": "",
          "type": "layer"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Camera index (Default: 0)",
          "longDescription": "",
          "name": "Camera",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Duration (in seconds) (Default: 0.5)",
          "longDescription": "",
          "name": "Duration",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Angle rotation amplitude (in degrees) (For example: 2)",
          "longDescription": "",
          "name": "AmplitudeAngle",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Zoom factor amplitude",
          "longDescription": "",
          "name": "AmplitudeZoom",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Periode between shakes (in seconds) (Default: 0.08)",
          "longDescription": "",
          "name": "ShakePeriod",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Keep shaking until stopped",
          "longDescription": "Duration value will be ignored",
          "name": "ShakeForever",
          "optional": false,
          "supplementaryInformation": "",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Start shaking the camera undefinitly.",
      "fullName": "Start camera shaking",
      "functionType": "Action",
      "group": "",
      "name": "StartShaking",
      "private": false,
      "sentence": "Start shaking the camera with _PARAM1_ seconds of easing",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"__CameraShake_DurationTimer\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_Duration",
                "=",
                "1234567890"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_StartEaseDuration",
                "=",
                "GetArgumentAsNumber(\"EaseDuration\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Ease duration (in seconds)",
          "longDescription": "",
          "name": "EaseDuration",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Stop shaking the camera.",
      "fullName": "Stop camera shaking",
      "functionType": "Action",
      "group": "",
      "name": "StopShaking",
      "private": false,
      "sentence": "Stop shaking the camera with _PARAM1_ seconds of easing",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ResetTimer"
              },
              "parameters": [
                "",
                "\"__CameraShake_DurationTimer\""
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_Duration",
                "=",
                "GetArgumentAsNumber(\"EaseDuration\")"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_StopEaseDuration",
                "=",
                "GetArgumentAsNumber(\"EaseDuration\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Ease duration (in seconds)",
          "longDescription": "",
          "name": "EaseDuration",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Mark a layer as shakable.",
      "fullName": "Shakable layer",
      "functionType": "Action",
      "group": "Camera shake configuration",
      "name": "SetLayerShakable",
      "private": false,
      "sentence": "Mark the layer: _PARAM2_ as shakable: _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "GetArgumentAsString(\"Layer\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "GetArgumentAsString(\"Layer\")",
                "=",
                "\"\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "\"__BaseLayer\""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "GetArgumentAsBoolean"
              },
              "parameters": [
                "\"Shakable\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].Shakable",
                "="
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "GetArgumentAsBoolean"
              },
              "parameters": [
                "\"Shakable\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetSceneVariableAsBoolean"
              },
              "parameters": [
                "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].Shakable",
                "True"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "yes",
          "description": "Shakable",
          "longDescription": "",
          "name": "Shakable",
          "optional": true,
          "supplementaryInformation": "",
          "type": "yesorno"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Layer",
          "longDescription": "",
          "name": "Layer",
          "optional": false,
          "supplementaryInformation": "",
          "type": "layer"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check if the camera is shaking.",
      "fullName": "Camera is shaking",
      "functionType": "Condition",
      "group": "",
      "name": "IsShaking",
      "private": false,
      "sentence": "Camera is shaking",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "CompareTimer"
              },
              "parameters": [
                "",
                "\"__CameraShake_DurationTimer\"",
                "<",
                "Variable(__CameraShake_Duration)"
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Change the translation amplitude of the shaking (in pixels).",
      "fullName": "Layer translation amplitude",
      "functionType": "Action",
      "group": "Camera shake configuration",
      "name": "SetLayerTranslationAmplitude",
      "private": false,
      "sentence": "Change the translation amplitude of the shaking to _PARAM1_; _PARAM2_ (layer: _PARAM3_)",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "GetArgumentAsString(\"Layer\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "GetArgumentAsString(\"Layer\")",
                "=",
                "\"\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "\"__BaseLayer\""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].AmplitudeX",
                "=",
                "GetArgumentAsNumber(\"AmplitudeX\")"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].AmplitudeY",
                "=",
                "GetArgumentAsNumber(\"AmplitudeY\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Amplitude of shaking on the X axis (in pixels)",
          "longDescription": "",
          "name": "AmplitudeX",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Amplitude of shaking on the Y axis (in pixels)",
          "longDescription": "",
          "name": "AmplitudeY",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Layer",
          "longDescription": "",
          "name": "Layer",
          "optional": false,
          "supplementaryInformation": "",
          "type": "layer"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the rotation amplitude of the shaking (in degrees).",
      "fullName": "Layer rotation amplitude",
      "functionType": "Action",
      "group": "Camera shake configuration",
      "name": "SetLayerRotationAmplitude",
      "private": false,
      "sentence": "Change the rotation amplitude of the shaking to _PARAM1_ degrees (layer: _PARAM2_)",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "GetArgumentAsString(\"Layer\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "GetArgumentAsString(\"Layer\")",
                "=",
                "\"\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "\"__BaseLayer\""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].AmplitudeAngle",
                "=",
                "GetArgumentAsNumber(\"AmplitudeAngle\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Angle (in degree)",
          "longDescription": "",
          "name": "AmplitudeAngle",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Layer",
          "longDescription": "",
          "name": "Layer",
          "optional": false,
          "supplementaryInformation": "",
          "type": "layer"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the zoom factor amplitude of the shaking. The shaking will zoom and unzoom by this factor (for instance 1.0625 is a valid value).",
      "fullName": "Layer zoom amplitude",
      "functionType": "Action",
      "group": "Camera shake configuration",
      "name": "SetLayerZoomAmplitude",
      "private": false,
      "sentence": "Change the zoom factor amplitude of the shaking to _PARAM1_ (layer: _PARAM2_)",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "GetArgumentAsString(\"Layer\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "GetArgumentAsString(\"Layer\")",
                "=",
                "\"\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "\"__BaseLayer\""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].AmplitudeZoom",
                "=",
                "GetArgumentAsNumber(\"AmplitudeZoom\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Zoom factor",
          "longDescription": "",
          "name": "AmplitudeZoom",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Layer",
          "longDescription": "",
          "name": "Layer",
          "optional": false,
          "supplementaryInformation": "",
          "type": "layer"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the number of back and forth per seconds.",
      "fullName": "Layer shaking frequency",
      "functionType": "Action",
      "group": "Camera shake configuration",
      "name": "SetLayerShakingFrequency",
      "private": false,
      "sentence": "Change the shaking frequency to _PARAM1_ (layer: _PARAM2_)",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "GetArgumentAsString(\"Layer\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "GetArgumentAsString(\"Layer\")",
                "=",
                "\"\""
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarSceneTxt"
              },
              "parameters": [
                "__CameraShake_LayerName",
                "=",
                "\"__BaseLayer\""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        },
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_Layers[VariableString(__CameraShake_LayerName)].Frequency",
                "=",
                "GetArgumentAsNumber(\"Frequency\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Frequency",
          "longDescription": "",
          "name": "Frequency",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Layer",
          "longDescription": "",
          "name": "Layer",
          "optional": false,
          "supplementaryInformation": "",
          "type": "layer"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the default translation amplitude of the shaking (in pixels).",
      "fullName": "Default translation amplitude",
      "functionType": "Action",
      "group": "Camera shake configuration",
      "name": "SetDefaultTranslationAmplitude",
      "private": false,
      "sentence": "Change the default translation amplitude of the shaking to _PARAM1_; _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_DefaultAmplitudeX",
                "=",
                "GetArgumentAsNumber(\"AmplitudeX\")"
              ],
              "subInstructions": []
            },
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_DefaultAmplitudeY",
                "=",
                "GetArgumentAsNumber(\"AmplitudeY\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Amplitude of shaking on the X axis (in pixels)",
          "longDescription": "",
          "name": "AmplitudeX",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Amplitude of shaking on the Y axis (in pixels)",
          "longDescription": "",
          "name": "AmplitudeY",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the default rotation amplitude of the shaking (in degrees).",
      "fullName": "Default rotation amplitude",
      "functionType": "Action",
      "group": "Camera shake configuration",
      "name": "SetDefaultRotationAmplitude",
      "private": false,
      "sentence": "Change the default rotation amplitude of the shaking to _PARAM1_ degrees",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_DefaultAmplitudeAngle",
                "=",
                "GetArgumentAsNumber(\"AmplitudeAngle\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Angle (in degree)",
          "longDescription": "",
          "name": "AmplitudeAngle",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the default zoom factor amplitude of the shaking. The shaking will zoom and unzoom by this factor (for instance 1.0625 is a valid value).",
      "fullName": "Default zoom amplitude",
      "functionType": "Action",
      "group": "Camera shake configuration",
      "name": "SetDefaultZoomAmplitude",
      "private": false,
      "sentence": "Change the default zoom factor amplitude of the shaking to _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_DefaultAmplitudeZoom",
                "=",
                "GetArgumentAsNumber(\"AmplitudeZoom\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Zoom factor",
          "longDescription": "",
          "name": "AmplitudeZoom",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the default number of back and forth per seconds.",
      "fullName": "Default shaking frequency",
      "functionType": "Action",
      "group": "Camera shake configuration",
      "name": "SetDefaultShakingFrequency",
      "private": false,
      "sentence": "Change the default shaking frequency to _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "ModVarScene"
              },
              "parameters": [
                "__CameraShake_DefaultFrequency",
                "=",
                "GetArgumentAsNumber(\"Frequency\")"
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Frequency",
          "longDescription": "",
          "name": "Frequency",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "",
      "fullName": "",
      "functionType": "Action",
      "group": "",
      "name": "onFirstSceneLoaded",
      "private": false,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "\ngdjs._cameraShakeExtension = gdjs._cameraShakeExtension || {};\n\n/** Noise generator manager. */\ngdjs._cameraShakeExtension.NoiseManager = /** @class */ (function () {\n    /**\n     * Create the manager of noise generators.\n     */\n    function NoiseManager() {\n        this.seed = gdjs.randomInRange(1, Number.MAX_SAFE_INTEGER);\n        /** @type {Map<string, gdjs._cameraShakeExtension.NoiseGenerator>} */\n        this.generators = new Map();\n    }\n\n    /**\n     * @param name {string}\n     * @return {gdjs._cameraShakeExtension.NoiseGenerator}\n     */\n    NoiseManager.prototype.getGenerator = function (name) {\n        let generator = this.generators.get(name);\n        if (!generator) {\n            generator = new gdjs._cameraShakeExtension.NoiseGenerator(name + this.seed);\n            this.generators.set(name, generator);\n        }\n        return generator;\n    }\n\n    /**\n     * @param seed {number}\n     */\n    NoiseManager.prototype.setSeed = function (seed) {\n        this.seed = seed;\n        this.generators.forEach(generator => generator.setSeed(seed));\n    }\n\n    /**\n     * @param name {string}\n     */\n    NoiseManager.prototype.deleteGenerator = function (name) {\n        this.generators.delete(name);\n    }\n\n    /**\n     */\n    NoiseManager.prototype.deleteAllGenerators = function () {\n        this.generators.clear();\n    }\n\n    return NoiseManager;\n}());\n\n/** Noise generator with octaves. */\ngdjs._cameraShakeExtension.NoiseGenerator = /** @class */ (function () {\n    /**\n     * Create a noise generator with a seed.\n     * @param seed {string}\n     */\n    function NoiseGenerator(seed) {\n        this.simplexNoise = new gdjs._cameraShakeExtension.SimplexNoise(seed);\n        this.frequency = 1;\n        this.octaves = 1;\n        this.persistence = 0.5;\n        this.lacunarity = 2;\n        this.xLoopPeriod = 0;\n        this.yLoopPeriod = 0;\n    }\n\n    /**\n     * @param seed {string}\n     */\n    NoiseGenerator.prototype.setSeed = function(seed) {\n        this.simplexNoise = new gdjs._cameraShakeExtension.SimplexNoise(seed);\n    }\n\n    /**\n     * @param x {float}\n     * @param y {float}\n     * @param z {float} optionnal\n     * @param w {float} optionnal\n     * @return {float}\n     */\n    NoiseGenerator.prototype.noise = function (x, y, z, w) {\n        if (this.xLoopPeriod && this.yLoopPeriod) {\n            const circleRatioX = 2 * Math.PI / this.xLoopPeriod;\n            const circleRatioY = 2 * Math.PI / this.yLoopPeriod;\n            const angleX = circleRatioX * x;\n            const angleY = circleRatioY * y;\n            x = Math.cos(angleX) / circleRatioX;\n            y = Math.sin(angleX) / circleRatioX;\n            z = Math.cos(angleY) / circleRatioY;\n            w = Math.sin(angleY) / circleRatioY;\n        }\n        else if (this.xLoopPeriod) {\n            const circleRatio = 2 * Math.PI / this.xLoopPeriod;\n            const angleX = circleRatio * x;\n            w = z;\n            z = y; \n            x = Math.cos(angleX) / circleRatio;\n            y = Math.sin(angleX) / circleRatio;\n        }\n        else if (this.yLoopPeriod) {\n            const circleRatio = 2 * Math.PI / this.xLoopPeriod;\n            const angleX = circleRatio * x;\n            w = z;\n            // Make the circle perimeter equals to the looping period\n            // to keep the same perceived frequency with or without looping.\n            y = Math.cos(angleX) / circleRatio;\n            z = Math.sin(angleX) / circleRatio;\n        }\n        let noiseFunction = this.simplexNoise.noise4D.bind(this.simplexNoise);\n        if (z === undefined) {\n            noiseFunction = this.simplexNoise.noise2D.bind(this.simplexNoise);\n        }\n        else if (w === undefined) {\n            noiseFunction = this.simplexNoise.noise3D.bind(this.simplexNoise);\n        }\n        let frequency = this.frequency;\n        let noiseSum = 0;\n        let amplitudeSum = 0;\n        let amplitude = 1;\n        for (let i = 0; i < this.octaves; i++) {\n            noiseSum += noiseFunction(x * frequency, y * frequency, z * frequency, w * frequency) * amplitude;\n            amplitudeSum += Math.abs(amplitude);\n            amplitude *= this.persistence;\n            frequency *= this.lacunarity;\n        }\n        return noiseSum / amplitudeSum;\n    }\n\n    return NoiseGenerator;\n}());\n\n/*\nA fast javascript implementation of simplex noise by Jonas Wagner\nhttps://github.com/jwagner/simplex-noise.js\n\nBased on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.\nWhich is based on example code by Stefan Gustavson (stegu@itn.liu.se).\nWith Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\nBetter rank ordering method by Stefan Gustavson in 2012.\n\n Copyright (c) 2021 Jonas Wagner\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\nconst F2 = 0.5 * (Math.sqrt(3.0) - 1.0);\nconst G2 = (3.0 - Math.sqrt(3.0)) / 6.0;\nconst F3 = 1.0 / 3.0;\nconst G3 = 1.0 / 6.0;\nconst F4 = (Math.sqrt(5.0) - 1.0) / 4.0;\nconst G4 = (5.0 - Math.sqrt(5.0)) / 20.0;\nconst grad3 = new Float32Array([1, 1, 0,\n    -1, 1, 0,\n    1, -1, 0,\n    -1, -1, 0,\n    1, 0, 1,\n    -1, 0, 1,\n    1, 0, -1,\n    -1, 0, -1,\n    0, 1, 1,\n    0, -1, 1,\n    0, 1, -1,\n    0, -1, -1]);\nconst grad4 = new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,\n    0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,\n    1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,\n    -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,\n    1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,\n    -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,\n    1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,\n    -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);\n\n/** Deterministic simplex noise generator suitable for 2D, 3D and 4D spaces. */\ngdjs._cameraShakeExtension.SimplexNoise = /** @class */ (function () {\n    /**\n     * Creates a new `SimplexNoise` instance.\n     * This involves some setup. You can save a few cpu cycles by reusing the same instance.\n     * @param {(() => number)|string|number} randomOrSeed A random number generator or a seed (string|number).\n     * Defaults to Math.random (random irreproducible initialization).\n     */\n    function SimplexNoise(randomOrSeed) {\n        if (randomOrSeed === void 0) { randomOrSeed = Math.random; }\n        const random = typeof randomOrSeed == 'function' ? randomOrSeed : alea(randomOrSeed);\n        this.p = buildPermutationTable(random);\n        this.perm = new Uint8Array(512);\n        this.permMod12 = new Uint8Array(512);\n        for (let i = 0; i < 512; i++) {\n            this.perm[i] = this.p[i & 255];\n            this.permMod12[i] = this.perm[i] % 12;\n        }\n    }\n\n    /**\n     * Samples the noise field in 2 dimensions\n     * @param {number} x\n     * @param {number} y\n     * @returns a number in the interval [-1, 1]\n     */\n    SimplexNoise.prototype.noise2D = function (x, y) {\n        const permMod12 = this.permMod12;\n        const perm = this.perm;\n        let n0 = 0; // Noise contributions from the three corners\n        let n1 = 0;\n        let n2 = 0;\n        // Skew the input space to determine which simplex cell we're in\n        const s = (x + y) * F2; // Hairy factor for 2D\n        const i = Math.floor(x + s);\n        const j = Math.floor(y + s);\n        const t = (i + j) * G2;\n        const X0 = i - t; // Unskew the cell origin back to (x,y) space\n        const Y0 = j - t;\n        const x0 = x - X0; // The x,y distances from the cell origin\n        const y0 = y - Y0;\n        // For the 2D case, the simplex shape is an equilateral triangle.\n        // Determine which simplex we are in.\n        let i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n        if (x0 > y0) {\n            i1 = 1;\n            j1 = 0;\n        } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n        else {\n            i1 = 0;\n            j1 = 1;\n        } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n        // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n        // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n        // c = (3-sqrt(3))/6\n        const x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n        const y1 = y0 - j1 + G2;\n        const x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n        const y2 = y0 - 1.0 + 2.0 * G2;\n        // Work out the hashed gradient indices of the three simplex corners\n        const ii = i & 255;\n        const jj = j & 255;\n        // Calculate the contribution from the three corners\n        let t0 = 0.5 - x0 * x0 - y0 * y0;\n        if (t0 >= 0) {\n            const gi0 = permMod12[ii + perm[jj]] * 3;\n            t0 *= t0;\n            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient\n        }\n        let t1 = 0.5 - x1 * x1 - y1 * y1;\n        if (t1 >= 0) {\n            const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;\n            t1 *= t1;\n            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);\n        }\n        let t2 = 0.5 - x2 * x2 - y2 * y2;\n        if (t2 >= 0) {\n            const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;\n            t2 *= t2;\n            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);\n        }\n        // Add contributions from each corner to get the final noise value.\n        // The result is scaled to return values in the interval [-1,1].\n        return 70.0 * (n0 + n1 + n2);\n    }\n\n    /**\n     * Samples the noise field in 3 dimensions\n     * @param {number} x\n     * @param {number} y\n     * @param {number} z\n     * @returns a number in the interval [-1, 1]\n     */\n    SimplexNoise.prototype.noise3D = function (x, y, z) {\n        const permMod12 = this.permMod12;\n        const perm = this.perm;\n        let n0, n1, n2, n3; // Noise contributions from the four corners\n        // Skew the input space to determine which simplex cell we're in\n        const s = (x + y + z) * F3; // Very nice and simple skew factor for 3D\n        const i = Math.floor(x + s);\n        const j = Math.floor(y + s);\n        const k = Math.floor(z + s);\n        const t = (i + j + k) * G3;\n        const X0 = i - t; // Unskew the cell origin back to (x,y,z) space\n        const Y0 = j - t;\n        const Z0 = k - t;\n        const x0 = x - X0; // The x,y,z distances from the cell origin\n        const y0 = y - Y0;\n        const z0 = z - Z0;\n        // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n        // Determine which simplex we are in.\n        let i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n        let i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n        if (x0 >= y0) {\n            if (y0 >= z0) {\n                i1 = 1;\n                j1 = 0;\n                k1 = 0;\n                i2 = 1;\n                j2 = 1;\n                k2 = 0;\n            } // X Y Z order\n            else if (x0 >= z0) {\n                i1 = 1;\n                j1 = 0;\n                k1 = 0;\n                i2 = 1;\n                j2 = 0;\n                k2 = 1;\n            } // X Z Y order\n            else {\n                i1 = 0;\n                j1 = 0;\n                k1 = 1;\n                i2 = 1;\n                j2 = 0;\n                k2 = 1;\n            } // Z X Y order\n        }\n        else { // x0<y0\n            if (y0 < z0) {\n                i1 = 0;\n                j1 = 0;\n                k1 = 1;\n                i2 = 0;\n                j2 = 1;\n                k2 = 1;\n            } // Z Y X order\n            else if (x0 < z0) {\n                i1 = 0;\n                j1 = 1;\n                k1 = 0;\n                i2 = 0;\n                j2 = 1;\n                k2 = 1;\n            } // Y Z X order\n            else {\n                i1 = 0;\n                j1 = 1;\n                k1 = 0;\n                i2 = 1;\n                j2 = 1;\n                k2 = 0;\n            } // Y X Z order\n        }\n        // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n        // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n        // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n        // c = 1/6.\n        const x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords\n        const y1 = y0 - j1 + G3;\n        const z1 = z0 - k1 + G3;\n        const x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords\n        const y2 = y0 - j2 + 2.0 * G3;\n        const z2 = z0 - k2 + 2.0 * G3;\n        const x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords\n        const y3 = y0 - 1.0 + 3.0 * G3;\n        const z3 = z0 - 1.0 + 3.0 * G3;\n        // Work out the hashed gradient indices of the four simplex corners\n        const ii = i & 255;\n        const jj = j & 255;\n        const kk = k & 255;\n        // Calculate the contribution from the four corners\n        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n        if (t0 < 0)\n            n0 = 0.0;\n        else {\n            const gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;\n            t0 *= t0;\n            n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);\n        }\n        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n        if (t1 < 0)\n            n1 = 0.0;\n        else {\n            const gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;\n            t1 *= t1;\n            n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);\n        }\n        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n        if (t2 < 0)\n            n2 = 0.0;\n        else {\n            const gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;\n            t2 *= t2;\n            n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);\n        }\n        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n        if (t3 < 0)\n            n3 = 0.0;\n        else {\n            const gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;\n            t3 *= t3;\n            n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);\n        }\n        // Add contributions from each corner to get the final noise value.\n        // The result is scaled to stay just inside [-1,1]\n        return 32.0 * (n0 + n1 + n2 + n3);\n    }\n\n    /**\n     * Samples the noise field in 4 dimensions\n     * @param {number} x\n     * @param {number} y\n     * @param {number} z\n     * @returns a number in the interval [-1, 1]\n     */\n    SimplexNoise.prototype.noise4D = function (x, y, z, w) {\n        const perm = this.perm;\n        let n0, n1, n2, n3, n4; // Noise contributions from the five corners\n        // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in\n        const s = (x + y + z + w) * F4; // Factor for 4D skewing\n        const i = Math.floor(x + s);\n        const j = Math.floor(y + s);\n        const k = Math.floor(z + s);\n        const l = Math.floor(w + s);\n        const t = (i + j + k + l) * G4; // Factor for 4D unskewing\n        const X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space\n        const Y0 = j - t;\n        const Z0 = k - t;\n        const W0 = l - t;\n        const x0 = x - X0; // The x,y,z,w distances from the cell origin\n        const y0 = y - Y0;\n        const z0 = z - Z0;\n        const w0 = w - W0;\n        // For the 4D case, the simplex is a 4D shape I won't even try to describe.\n        // To find out which of the 24 possible simplices we're in, we need to\n        // determine the magnitude ordering of x0, y0, z0 and w0.\n        // Six pair-wise comparisons are performed between each possible pair\n        // of the four coordinates, and the results are used to rank the numbers.\n        let rankx = 0;\n        let ranky = 0;\n        let rankz = 0;\n        let rankw = 0;\n        if (x0 > y0)\n            rankx++;\n        else\n            ranky++;\n        if (x0 > z0)\n            rankx++;\n        else\n            rankz++;\n        if (x0 > w0)\n            rankx++;\n        else\n            rankw++;\n        if (y0 > z0)\n            ranky++;\n        else\n            rankz++;\n        if (y0 > w0)\n            ranky++;\n        else\n            rankw++;\n        if (z0 > w0)\n            rankz++;\n        else\n            rankw++;\n        // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.\n        // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w\n        // impossible. Only the 24 indices which have non-zero entries make any sense.\n        // We use a thresholding to set the coordinates in turn from the largest magnitude.\n        // Rank 3 denotes the largest coordinate.\n        // Rank 2 denotes the second largest coordinate.\n        // Rank 1 denotes the second smallest coordinate.\n        // The integer offsets for the second simplex corner\n        const i1 = rankx >= 3 ? 1 : 0;\n        const j1 = ranky >= 3 ? 1 : 0;\n        const k1 = rankz >= 3 ? 1 : 0;\n        const l1 = rankw >= 3 ? 1 : 0;\n        // The integer offsets for the third simplex corner\n        const i2 = rankx >= 2 ? 1 : 0;\n        const j2 = ranky >= 2 ? 1 : 0;\n        const k2 = rankz >= 2 ? 1 : 0;\n        const l2 = rankw >= 2 ? 1 : 0;\n        // The integer offsets for the fourth simplex corner\n        const i3 = rankx >= 1 ? 1 : 0;\n        const j3 = ranky >= 1 ? 1 : 0;\n        const k3 = rankz >= 1 ? 1 : 0;\n        const l3 = rankw >= 1 ? 1 : 0;\n        // The fifth corner has all coordinate offsets = 1, so no need to compute that.\n        const x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords\n        const y1 = y0 - j1 + G4;\n        const z1 = z0 - k1 + G4;\n        const w1 = w0 - l1 + G4;\n        const x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords\n        const y2 = y0 - j2 + 2.0 * G4;\n        const z2 = z0 - k2 + 2.0 * G4;\n        const w2 = w0 - l2 + 2.0 * G4;\n        const x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords\n        const y3 = y0 - j3 + 3.0 * G4;\n        const z3 = z0 - k3 + 3.0 * G4;\n        const w3 = w0 - l3 + 3.0 * G4;\n        const x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords\n        const y4 = y0 - 1.0 + 4.0 * G4;\n        const z4 = z0 - 1.0 + 4.0 * G4;\n        const w4 = w0 - 1.0 + 4.0 * G4;\n        // Work out the hashed gradient indices of the five simplex corners\n        const ii = i & 255;\n        const jj = j & 255;\n        const kk = k & 255;\n        const ll = l & 255;\n        // Calculate the contribution from the five corners\n        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;\n        if (t0 < 0)\n            n0 = 0.0;\n        else {\n            const gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;\n            t0 *= t0;\n            n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);\n        }\n        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;\n        if (t1 < 0)\n            n1 = 0.0;\n        else {\n            const gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;\n            t1 *= t1;\n            n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);\n        }\n        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;\n        if (t2 < 0)\n            n2 = 0.0;\n        else {\n            const gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;\n            t2 *= t2;\n            n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);\n        }\n        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;\n        if (t3 < 0)\n            n3 = 0.0;\n        else {\n            const gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;\n            t3 *= t3;\n            n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);\n        }\n        let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;\n        if (t4 < 0)\n            n4 = 0.0;\n        else {\n            const gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;\n            t4 *= t4;\n            n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);\n        }\n        // Sum up and scale the result to cover the range [-1,1]\n        return 27.0 * (n0 + n1 + n2 + n3 + n4);\n    };\n\n    /**\n     * Builds a random permutation table.\n     * This is exported only for (internal) testing purposes.\n     * Do not rely on this export.\n     * @param {() => number} random\n     * @private\n     */\n    function buildPermutationTable(random) {\n        const p = new Uint8Array(256);\n        for (let i = 0; i < 256; i++) {\n            p[i] = i;\n        }\n        for (let i = 0; i < 255; i++) {\n            const r = i + ~~(random() * (256 - i));\n            const aux = p[i];\n            p[i] = p[r];\n            p[r] = aux;\n        }\n        return p;\n    }\n\n    /*\n    The ALEA PRNG and masher code used by simplex-noise.js\n    is based on code by Johannes Baage, modified by Jonas Wagner.\n    See alea.md for the full license.\n    @param {string|number} seed\n    */\n    function alea(seed) {\n        let s0 = 0;\n        let s1 = 0;\n        let s2 = 0;\n        let c = 1;\n        const mash = masher();\n        s0 = mash(' ');\n        s1 = mash(' ');\n        s2 = mash(' ');\n        s0 -= mash(seed);\n        if (s0 < 0) {\n            s0 += 1;\n        }\n        s1 -= mash(seed);\n        if (s1 < 0) {\n            s1 += 1;\n        }\n        s2 -= mash(seed);\n        if (s2 < 0) {\n            s2 += 1;\n        }\n        return function () {\n            const t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n            s0 = s1;\n            s1 = s2;\n            return s2 = t - (c = t | 0);\n        };\n    }\n\n    function masher() {\n        let n = 0xefc8249d;\n        return function (data) {\n            data = data.toString();\n            for (let i = 0; i < data.length; i++) {\n                n += data.charCodeAt(i);\n                let h = 0.02519603282416938 * n;\n                n = h >>> 0;\n                h -= n;\n                h *= n;\n                n = h >>> 0;\n                h -= n;\n                n += h * 0x100000000; // 2^32\n            }\n            return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n        };\n    }\n    return SimplexNoise;\n}());\n\ngdjs._cameraShakeExtension.noiseManager = new gdjs._cameraShakeExtension.NoiseManager();",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Generate a number from 2 dimensional simplex noise.",
      "fullName": "2D noise",
      "functionType": "Expression",
      "group": "",
      "name": "Noise2d",
      "private": true,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\nconst x = eventsFunctionContext.getArgument(\"X\");\r\nconst y = eventsFunctionContext.getArgument(\"Y\");\r\n\r\neventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).noise(x, y);",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "X coordinate",
          "longDescription": "",
          "name": "X",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Y coordinate",
          "longDescription": "",
          "name": "Y",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Generate a number from 3 dimensional simplex noise.",
      "fullName": "3D noise",
      "functionType": "Expression",
      "group": "",
      "name": "Noise3d",
      "private": true,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\nconst x = eventsFunctionContext.getArgument(\"X\");\r\nconst y = eventsFunctionContext.getArgument(\"Y\");\r\nconst z = eventsFunctionContext.getArgument(\"Z\");\r\n\r\neventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).noise(x, y, z);",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "X coordinate",
          "longDescription": "",
          "name": "X",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Y coordinate",
          "longDescription": "",
          "name": "Y",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Z coordinate",
          "longDescription": "",
          "name": "Z",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Generate a number from 4 dimensional simplex noise.",
      "fullName": "4D noise",
      "functionType": "Expression",
      "group": "",
      "name": "Noise4d",
      "private": true,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\nconst x = eventsFunctionContext.getArgument(\"X\");\r\nconst y = eventsFunctionContext.getArgument(\"Y\");\r\nconst z = eventsFunctionContext.getArgument(\"Z\");\r\nconst w = eventsFunctionContext.getArgument(\"W\");\r\n\r\neventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).noise(x, y, z, w);",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "X coordinate",
          "longDescription": "",
          "name": "X",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Y coordinate",
          "longDescription": "",
          "name": "Y",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Z coordinate",
          "longDescription": "",
          "name": "Z",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "W coordinate",
          "longDescription": "",
          "name": "W",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Create a noise generator with default settings (frequency = 1,  octaves = 1, persistence = 0.5, lacunarity = 2).",
      "fullName": "Create a noise generator",
      "functionType": "Action",
      "group": "",
      "name": "Create",
      "private": true,
      "sentence": "Create a noise generator named _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\ngdjs._cameraShakeExtension.noiseManager.getGenerator(name);",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Delete a noise generators and loose its settings.",
      "fullName": "Delete a noise generator",
      "functionType": "Action",
      "group": "",
      "name": "Delete",
      "private": true,
      "sentence": "Delete _PARAM1_ noise generator",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\ngdjs._cameraShakeExtension.noiseManager.deleteGenerator(name);",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Delete all noise generators and loose their settings.",
      "fullName": "Delete all noise generators",
      "functionType": "Action",
      "group": "",
      "name": "DeleteAll",
      "private": true,
      "sentence": "Delete all noise generators",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "gdjs._cameraShakeExtension.noiseManager.deleteAllGenerators();",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The seed is a number used to generate the random noise. Setting the same seed will result in the same random noise generation. It's for example useful to generate the same world, by saving this seed value and reusing it later to generate again a world.",
      "fullName": "Noise seed",
      "functionType": "Action",
      "group": "",
      "name": "SetSeed",
      "private": true,
      "sentence": "Change the noise seed to _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "gdjs._cameraShakeExtension.noiseManager.setSeed(eventsFunctionContext.getArgument(\"Seed\"));",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Seed",
          "longDescription": "15 digits numbers maximum",
          "name": "Seed",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the looping period on X used for noise generation. The noise will wrap-around on X.",
      "fullName": "Noise looping period on X",
      "functionType": "Action",
      "group": "",
      "name": "SetLoopPeriodX",
      "private": true,
      "sentence": "Change the looping period on X of _PARAM2_: _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\ngdjs._cameraShakeExtension.noiseManager.getGenerator(name).xLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Looping period on X",
          "longDescription": "",
          "name": "LoopPeriod",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the looping period on Y used for noise generation. The noise will wrap-around on Y.",
      "fullName": "Noise looping period on Y",
      "functionType": "Action",
      "group": "",
      "name": "SetLoopPeriodY",
      "private": true,
      "sentence": "Change the looping period on Y of _PARAM2_: _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\ngdjs._cameraShakeExtension.noiseManager.getGenerator(name).yLoopPeriod = eventsFunctionContext.getArgument(\"LoopPeriod\");",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Looping period on Y",
          "longDescription": "",
          "name": "LoopPeriod",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the base frequency used for noise generation. A lower frequency will zoom in the noise.",
      "fullName": "Noise base frequency",
      "functionType": "Action",
      "group": "",
      "name": "SetFrequency",
      "private": true,
      "sentence": "Change the noise frequency of _PARAM2_: _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\ngdjs._cameraShakeExtension.noiseManager.getGenerator(name).frequency = eventsFunctionContext.getArgument(\"Frequency\");",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Frequency",
          "longDescription": "",
          "name": "Frequency",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the number of octaves used for noise generation. It can be seen as layers of noise with different zoom.",
      "fullName": "Noise octaves",
      "functionType": "Action",
      "group": "",
      "name": "SetOctaves",
      "private": true,
      "sentence": "Change the number of noise octaves of _PARAM2_: _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\ngdjs._cameraShakeExtension.noiseManager.getGenerator(name).octaves = eventsFunctionContext.getArgument(\"Octaves\");",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Octaves",
          "longDescription": "",
          "name": "Octaves",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the persistence used for noise generation. At its default value \"0.5\", it halves the noise amplitude at each octave.",
      "fullName": "Noise persistence",
      "functionType": "Action",
      "group": "",
      "name": "SetPersistence",
      "private": true,
      "sentence": "Change the noise persistence of _PARAM2_: _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\ngdjs._cameraShakeExtension.noiseManager.getGenerator(name).persistence = eventsFunctionContext.getArgument(\"Persistence\");",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Persistence",
          "longDescription": "",
          "name": "Persistence",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Change the lacunarity used for noise generation. At its default value \"2\", it doubles the frequency at each octave.",
      "fullName": "Noise lacunarity",
      "functionType": "Action",
      "group": "",
      "name": "SetLacunarity",
      "private": true,
      "sentence": "Change the noise lacunarity of _PARAM2_: _PARAM1_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\ngdjs._cameraShakeExtension.noiseManager.getGenerator(name).lacunarity = eventsFunctionContext.getArgument(\"Lacunarity\");",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Lacunarity",
          "longDescription": "",
          "name": "Lacunarity",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "The seed used for noise generation.",
      "fullName": "Noise seed",
      "functionType": "Expression",
      "group": "",
      "name": "Seed",
      "private": true,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.seed;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The base frequency used for noise generation.",
      "fullName": "Noise base frequency",
      "functionType": "Expression",
      "group": "",
      "name": "Frequency",
      "private": true,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\neventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).frequency;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "The number of octaves used for noise generation.",
      "fullName": "Noise octaves number",
      "functionType": "Expression",
      "group": "",
      "name": "Octaves",
      "private": true,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\neventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).octaves;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "The persistence used for noise generation.",
      "fullName": "Noise persistence",
      "functionType": "Expression",
      "group": "",
      "name": "Persistence",
      "private": true,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\neventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).persistence;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "The lacunarity used for noise generation.",
      "fullName": "Noise lacunarity",
      "functionType": "Expression",
      "group": "",
      "name": "Lacunarity",
      "private": true,
      "sentence": "",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "const name = eventsFunctionContext.getArgument(\"Name\");\r\n\r\neventsFunctionContext.returnValue = gdjs._cameraShakeExtension.noiseManager.getGenerator(name).lacunarity;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Generator name",
          "longDescription": "",
          "name": "Name",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": []
}