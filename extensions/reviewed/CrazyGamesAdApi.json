{
  "author": "",
  "category": "Ads",
  "extensionNamespace": "",
  "fullName": "CrazyGames SDK",
  "helpPath": "/extensions/crazy-games-ad-api/details",
  "iconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODkiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgODkgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTg0LjkwMzQgMjUuODkyOUM4NS4wNzI3IDE4LjY4MjQgODQuNjQ5NCA2LjExNjk0IDgwLjA3NzYgMC44NzQ4NTlDNzcuNTcyOSAtMS45OTY2NCA3MS42MTgzIDIuODA4MDEgNjcuNzY2MSA2LjUxOTA5QzYxLjM4MSAzLjQwNzcxIDUzLjUzNTUgMS44NzY3MSA0My45OTY4IDEuODc2NzFDMzQuNDU4IDEuODc2NzEgMjYuNjE5NiAzLjQxNDc2IDIwLjI0MTYgNi41MTkwOUMxNi4zODI0IDIuODA4MDEgMTAuNDM0OCAtMS45ODk1OSA3LjkzMDE0IDAuODgxOTE1QzMuMzY1MzcgNi4xMTY5NCAyLjkzNSAxOC42NDAxIDMuMTA0MzIgMjUuODU3NkMxLjA1MTIzIDMxLjUwMTkgMCAzOC4wOTE1IDAgNDUuNjEyNUMwIDYxLjQzMDQgNC41Mjk1IDczLjE0MjIgMTMuNDU0NCA4MC40NzI3QzE5LjQ2NTYgODUuMzk3MyAyNy4zMTgxIDg4LjIzMzUgMzcuMzIyNSA4OS4wODcyQzM2Ljg2MDcgODkuMzE4MSAzNi4zOTIzIDg5LjU0NjggMzUuOTE3NyA4OS43Nzg1TDM1LjkxNjMgODkuNzc5MkwzNS45MTU5IDg5Ljc3OTRDMzUuMTg3NSA5MC4xMzUgMzQuNDQ0NyA5MC40OTc3IDMzLjY4OSA5MC44ODYzTDMwLjA2MjYgOTIuNjY0MkwyOC4wMDI1IDkzLjY3MzFDMjcuNDEwMiA5My45ODI5IDI2LjgxMjMgOTQuMjgyIDI2LjIwNjUgOTQuNTg1MkwyNi4yMDYyIDk0LjU4NTRDMjQuNzY5NyA5NS4zMDQyIDIzLjI4ODQgOTYuMDQ1NSAyMS43MzAzIDk3LjAwMzJMMjEuMTg3IDk3LjI5MjVDMjEuMDMxOCA5Ny40MDU0IDIwLjg4MzcgOTcuNTk1OSAyMC44NTU0IDk3LjgwNzVDMjAuNzg0OSA5OC4yMDk3IDIxLjA2MDEgOTguNTkwNyAyMS40NjIyIDk4LjY0NzFDMjIuMDU4NyA5OC43MzY4IDIyLjY1MzMgOTguODM0NSAyMy4yNDggOTguOTMyMkwyMy4yNDgzIDk4LjkzMjJDMjQuNjY1IDk5LjE2NSAyNi4wODE2IDk5LjM5NzcgMjcuNTIyNyA5OS41MjE5TDI5LjA0NjYgOTkuNjkxM0MyOS41NDc2IDk5Ljc0NzcgMzAuMDU1NSA5OS43OSAzMC41NzA2IDk5LjgxODNMMzMuNjMyNiA5OS45ODc2QzM3LjczMTcgMTAwLjA1OCA0MS44NTkxIDk5LjgzMjQgNDUuOTUxMSA5OS4xOTAzQzUwLjAzNjEgOTguNTc2NSA1NC4wNTA2IDk3LjQzMzYgNTcuOTA5OCA5NS44NDYxQzYxLjc1NSA5NC4yNTg3IDY1LjQyMzcgOTIuMTkxNSA2OC43NDY4IDg5LjY3MjhDNzUuMzM2NCA4NC41NTc3IDgwLjUxNSA3Ny42NzE3IDgzLjU5ODEgNjkuOTk1NkM4NC43MjcgNjcuMjE1OCA4NS41NjY2IDY0LjMzMDIgODYuMTczMyA2MS40MDIyQzg3LjM5MzkgNTYuNzAzNCA4OC4wMTQ4IDUxLjQ0MDEgODguMDE0OCA0NS42MTI1Qzg4LjAxNDggMzguMTEyNyA4Ni45NzA2IDMxLjUzNzIgODQuOTI0NSAyNS45TDg0LjkwMzQgMjUuODkyOVpNNDMuOTg5NyA3My41MjMyQzI3LjEyNzYgNzMuNTIzMiAxNS45MDI2IDY4Ljc4MiAxNS45MDI2IDQ1LjYwNTRDMTUuOTAyNiAzNC42NzY4IDE4LjQwNzMgMjcuMjc1OCAyMy41NzE3IDIzLjAyODVDMjcuOTMxOSAxOS40MzAzIDM0LjYyMDMgMTcuNjg3NiA0My45ODk3IDE3LjY4NzZDNTMuMzU5MiAxNy42ODc2IDYwLjA0NzYgMTkuNDQ0NCA2NC40MDc4IDIzLjAyODVDNjkuNTU4MSAyNy4yNjg3IDcyLjA3NjkgMzQuNjU1NiA3Mi4wNzY5IDQ1LjYwNTRDNzIuMDc2OSA2OC43ODIgNjAuODUxOSA3My41MjMyIDQzLjk4OTcgNzMuNTIzMlpNMzUuMDI5NiAzOS42NzE5QzM1LjAyOTYgMzcuNTkwNiAzNi40MTI0IDM1LjgyNjggMzguMzEwMyAzNS4yMzQxQzM3LjI2NjEgMzQuMjY3NiAzNS44NjkxIDMzLjY3NDkgMzQuMzMxMSAzMy42NzQ5QzMxLjEwNjggMzMuNjc0OSAyOC40NjgxIDM2LjI5OTUgMjguNDY4MSAzOS41MDI2VjUxLjE1NzlDMjguNDY4MSA1NC4zNjEgMzEuMTA2OCA1Ni45ODU2IDM0LjMzMTEgNTYuOTg1NkMzNy41NTU0IDU2Ljk4NTYgNDAuMTk0IDU0LjM2ODEgNDAuMTk0IDUxLjE1NzlWNDQuMzAwMkM0MC4wMzE4IDQ0LjMxNDMgMzkuODY5NSA0NC4zMjg0IDM5LjcwNzIgNDQuMzI4NEMzNy4xMTc5IDQ0LjMyODQgMzUuMDIyNSA0Mi4yNDcxIDM1LjAyMjUgMzkuNjc5TDM1LjAyOTYgMzkuNjcxOVpNNTcuMjExNCAzNC44ODg0QzU1LjQxMjMgMzUuNTM3NSA1NC4xMjgyIDM3LjI0NDkgNTQuMTI4MiAzOS4yNTU3VjM5LjI2MjdDNTQuMTI4MiA0MS44MzA4IDU2LjIyMzYgNDMuOTEyMSA1OC44MTI5IDQzLjkxMjFDNTkuMDUyOCA0My45MTIxIDU5LjI4NTYgNDMuODkxIDU5LjUxMTQgNDMuODU1N1Y1MS4xNTc5QzU5LjUxMTQgNTQuMzY4MSA1Ni44NzI3IDU2Ljk4NTYgNTMuNjQ4NCA1Ni45ODU2QzUwLjQyNDIgNTYuOTg1NiA0Ny43ODU1IDU0LjM2MSA0Ny43ODU1IDUxLjE1NzlWMzkuNTAyNkM0Ny43ODU1IDM2LjI5OTUgNTAuNDI0MiAzMy42NzQ5IDUzLjY0ODQgMzMuNjc0OUM1NC45ODg5IDMzLjY3NDkgNTYuMjIzNiAzNC4xMzM1IDU3LjIxMTQgMzQuODg4NFoiIGZpbGw9IiMwQzBEMTQiLz4KPC9zdmc+Cg==",
  "name": "CrazyGamesAdApi",
  "previewIconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODkiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgODkgMTAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTg0LjkwMzQgMjUuODkyOUM4NS4wNzI3IDE4LjY4MjQgODQuNjQ5NCA2LjExNjk0IDgwLjA3NzYgMC44NzQ4NTlDNzcuNTcyOSAtMS45OTY2NCA3MS42MTgzIDIuODA4MDEgNjcuNzY2MSA2LjUxOTA5QzYxLjM4MSAzLjQwNzcxIDUzLjUzNTUgMS44NzY3MSA0My45OTY4IDEuODc2NzFDMzQuNDU4IDEuODc2NzEgMjYuNjE5NiAzLjQxNDc2IDIwLjI0MTYgNi41MTkwOUMxNi4zODI0IDIuODA4MDEgMTAuNDM0OCAtMS45ODk1OSA3LjkzMDE0IDAuODgxOTE1QzMuMzY1MzcgNi4xMTY5NCAyLjkzNSAxOC42NDAxIDMuMTA0MzIgMjUuODU3NkMxLjA1MTIzIDMxLjUwMTkgMCAzOC4wOTE1IDAgNDUuNjEyNUMwIDYxLjQzMDQgNC41Mjk1IDczLjE0MjIgMTMuNDU0NCA4MC40NzI3QzE5LjQ2NTYgODUuMzk3MyAyNy4zMTgxIDg4LjIzMzUgMzcuMzIyNSA4OS4wODcyQzM2Ljg2MDcgODkuMzE4MSAzNi4zOTIzIDg5LjU0NjggMzUuOTE3NyA4OS43Nzg1TDM1LjkxNjMgODkuNzc5MkwzNS45MTU5IDg5Ljc3OTRDMzUuMTg3NSA5MC4xMzUgMzQuNDQ0NyA5MC40OTc3IDMzLjY4OSA5MC44ODYzTDMwLjA2MjYgOTIuNjY0MkwyOC4wMDI1IDkzLjY3MzFDMjcuNDEwMiA5My45ODI5IDI2LjgxMjMgOTQuMjgyIDI2LjIwNjUgOTQuNTg1MkwyNi4yMDYyIDk0LjU4NTRDMjQuNzY5NyA5NS4zMDQyIDIzLjI4ODQgOTYuMDQ1NSAyMS43MzAzIDk3LjAwMzJMMjEuMTg3IDk3LjI5MjVDMjEuMDMxOCA5Ny40MDU0IDIwLjg4MzcgOTcuNTk1OSAyMC44NTU0IDk3LjgwNzVDMjAuNzg0OSA5OC4yMDk3IDIxLjA2MDEgOTguNTkwNyAyMS40NjIyIDk4LjY0NzFDMjIuMDU4NyA5OC43MzY4IDIyLjY1MzMgOTguODM0NSAyMy4yNDggOTguOTMyMkwyMy4yNDgzIDk4LjkzMjJDMjQuNjY1IDk5LjE2NSAyNi4wODE2IDk5LjM5NzcgMjcuNTIyNyA5OS41MjE5TDI5LjA0NjYgOTkuNjkxM0MyOS41NDc2IDk5Ljc0NzcgMzAuMDU1NSA5OS43OSAzMC41NzA2IDk5LjgxODNMMzMuNjMyNiA5OS45ODc2QzM3LjczMTcgMTAwLjA1OCA0MS44NTkxIDk5LjgzMjQgNDUuOTUxMSA5OS4xOTAzQzUwLjAzNjEgOTguNTc2NSA1NC4wNTA2IDk3LjQzMzYgNTcuOTA5OCA5NS44NDYxQzYxLjc1NSA5NC4yNTg3IDY1LjQyMzcgOTIuMTkxNSA2OC43NDY4IDg5LjY3MjhDNzUuMzM2NCA4NC41NTc3IDgwLjUxNSA3Ny42NzE3IDgzLjU5ODEgNjkuOTk1NkM4NC43MjcgNjcuMjE1OCA4NS41NjY2IDY0LjMzMDIgODYuMTczMyA2MS40MDIyQzg3LjM5MzkgNTYuNzAzNCA4OC4wMTQ4IDUxLjQ0MDEgODguMDE0OCA0NS42MTI1Qzg4LjAxNDggMzguMTEyNyA4Ni45NzA2IDMxLjUzNzIgODQuOTI0NSAyNS45TDg0LjkwMzQgMjUuODkyOVpNNDMuOTg5NyA3My41MjMyQzI3LjEyNzYgNzMuNTIzMiAxNS45MDI2IDY4Ljc4MiAxNS45MDI2IDQ1LjYwNTRDMTUuOTAyNiAzNC42NzY4IDE4LjQwNzMgMjcuMjc1OCAyMy41NzE3IDIzLjAyODVDMjcuOTMxOSAxOS40MzAzIDM0LjYyMDMgMTcuNjg3NiA0My45ODk3IDE3LjY4NzZDNTMuMzU5MiAxNy42ODc2IDYwLjA0NzYgMTkuNDQ0NCA2NC40MDc4IDIzLjAyODVDNjkuNTU4MSAyNy4yNjg3IDcyLjA3NjkgMzQuNjU1NiA3Mi4wNzY5IDQ1LjYwNTRDNzIuMDc2OSA2OC43ODIgNjAuODUxOSA3My41MjMyIDQzLjk4OTcgNzMuNTIzMlpNMzUuMDI5NiAzOS42NzE5QzM1LjAyOTYgMzcuNTkwNiAzNi40MTI0IDM1LjgyNjggMzguMzEwMyAzNS4yMzQxQzM3LjI2NjEgMzQuMjY3NiAzNS44NjkxIDMzLjY3NDkgMzQuMzMxMSAzMy42NzQ5QzMxLjEwNjggMzMuNjc0OSAyOC40NjgxIDM2LjI5OTUgMjguNDY4MSAzOS41MDI2VjUxLjE1NzlDMjguNDY4MSA1NC4zNjEgMzEuMTA2OCA1Ni45ODU2IDM0LjMzMTEgNTYuOTg1NkMzNy41NTU0IDU2Ljk4NTYgNDAuMTk0IDU0LjM2ODEgNDAuMTk0IDUxLjE1NzlWNDQuMzAwMkM0MC4wMzE4IDQ0LjMxNDMgMzkuODY5NSA0NC4zMjg0IDM5LjcwNzIgNDQuMzI4NEMzNy4xMTc5IDQ0LjMyODQgMzUuMDIyNSA0Mi4yNDcxIDM1LjAyMjUgMzkuNjc5TDM1LjAyOTYgMzkuNjcxOVpNNTcuMjExNCAzNC44ODg0QzU1LjQxMjMgMzUuNTM3NSA1NC4xMjgyIDM3LjI0NDkgNTQuMTI4MiAzOS4yNTU3VjM5LjI2MjdDNTQuMTI4MiA0MS44MzA4IDU2LjIyMzYgNDMuOTEyMSA1OC44MTI5IDQzLjkxMjFDNTkuMDUyOCA0My45MTIxIDU5LjI4NTYgNDMuODkxIDU5LjUxMTQgNDMuODU1N1Y1MS4xNTc5QzU5LjUxMTQgNTQuMzY4MSA1Ni44NzI3IDU2Ljk4NTYgNTMuNjQ4NCA1Ni45ODU2QzUwLjQyNDIgNTYuOTg1NiA0Ny43ODU1IDU0LjM2MSA0Ny43ODU1IDUxLjE1NzlWMzkuNTAyNkM0Ny43ODU1IDM2LjI5OTUgNTAuNDI0MiAzMy42NzQ5IDUzLjY0ODQgMzMuNjc0OUM1NC45ODg5IDMzLjY3NDkgNTYuMjIzNiAzNC4xMzM1IDU3LjIxMTQgMzQuODg4NFoiIGZpbGw9IiMwQzBEMTQiLz4KPC9zdmc+Cg==",
  "shortDescription": "Allow games to be hosted on CrazyGames website and display ads.",
  "version": "1.2.2",
  "description": "Please refer to [CrazyGames' guide](https://docs.crazygames.com/sdk/html5/intro/) to know when to call the different actions.",
  "origin": {
    "identifier": "CrazyGamesAdApi",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "api",
    "crazygames"
  ],
  "authorIds": [
    "rotBq28wITdtfsrE7McHQri4k2w2",
    "2OwwM8ToR9dx9RJ2sAKTcrLmCB92"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onFirstSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._crazyGamesExtension = {",
            "    isSdkReady: false,",
            "    isPlayingVideoAd: false,",
            "    hasVideoAdJustFinishedPlaying: false,",
            "    isAdBlockerDetected: false,",
            "    links: new Map(),",
            "};"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "CrazyGamesAdApi::LoadSDK"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Return an invite link.",
      "fullName": "Invite link",
      "functionType": "StringExpression",
      "group": "Invite",
      "name": "InviteLink",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const roomId = eventsFunctionContext.getArgument(\"RoomId\");\r",
            "eventsFunctionContext.returnValue = gdjs._crazyGamesExtension.links.get(roomId) || \"\";"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Room id",
          "name": "RoomId",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Display an invite button.",
      "fullName": "Display invite button",
      "functionType": "Action",
      "group": "Invite",
      "name": "InviteButton",
      "sentence": "Display an invite button for the room id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const logger = new gdjs.Logger(\"CrazyGames SDK\");",
                "",
                "const roomId = eventsFunctionContext.getArgument(\"RoomId\");",
                "",
                "window.CrazyGames.SDK.game.showInviteButton({",
                "    roomId,",
                "    //param2: \"value\",",
                "    //param3: \"value\"",
                "}, (error, result) => {",
                "    if (error) {",
                "        logger.error(\"Invite button link error\", error);",
                "    } else {",
                "        logger.log(\"Invite button link\", result);",
                "    }",
                "});"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Room id",
          "name": "RoomId",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onScenePostEvents",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "gdjs._crazyGamesExtension.hasVideoAdJustFinishedPlaying = false;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Load CrazyGames SDK.",
      "fullName": "Load SDK",
      "functionType": "Action",
      "name": "LoadSDK",
      "private": true,
      "sentence": "Load CrazyGames SDK",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const logger = new gdjs.Logger(\"CrazyGames SDK\");\r",
            "const addScript = (src) => {\r",
            "    return new Promise((resolve, reject) => {\r",
            "        const scriptElement = document.createElement('script');\r",
            "\r",
            "        scriptElement.setAttribute('src', src);\r",
            "        scriptElement.addEventListener('load', resolve);\r",
            "        scriptElement.addEventListener('error', reject);\r",
            "\r",
            "        document.body.appendChild(scriptElement);\r",
            "    });\r",
            "}\r",
            "addScript('https://sdk.crazygames.com/crazygames-sdk-v2.js').then(() => {\r",
            "    gdjs._crazyGamesExtension.isSdkReady = true;\r",
            "    logger.log(\"CrazyGames SDK successfully initialized.\");\r",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Check if the CrazyGames SDK is ready to be used.",
      "fullName": "CrazyGames SDK is ready",
      "functionType": "Condition",
      "name": "IsSDKLoaded",
      "sentence": "CrazyGames SDK is ready",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._crazyGamesExtension.isSdkReady;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Let CrazyGames know gameplay started.",
      "fullName": "Gameplay started",
      "functionType": "Action",
      "name": "SetGameplayStarted",
      "sentence": "Let CrazyGames know gameplay started",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "window.CrazyGames.SDK.game.gameplayStart();",
                ""
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Let CrazyGames know gameplay stopped.",
      "fullName": "Gameplay stopped",
      "functionType": "Action",
      "name": "SetGameplayStoped",
      "sentence": "Let CrazyGames know gameplay stopped",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "window.CrazyGames.SDK.game.gameplayStop();",
                ""
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Display a video ad. The game is automatically muted while the video is playing.",
      "fullName": "Display video ad",
      "functionType": "Action",
      "name": "DisplayCrazyGamesAd",
      "sentence": "Display _PARAM1_ video ad",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const logger = new gdjs.Logger(\"CrazyGames SDK\");",
                "",
                "const adType = eventsFunctionContext.getArgument(\"AdType\");",
                "",
                "const volume = runtimeScene.getSoundManager().getGlobalVolume();",
                "window.CrazyGames.SDK.ad.requestAd(adType, {",
                "    adStarted: () => {",
                "        gdjs._crazyGamesExtension.isPlayingVideoAd = true;",
                "        runtimeScene.getSoundManager().setGlobalVolume(0);",
                "    },",
                "    adFinished: () => {",
                "        gdjs._crazyGamesExtension.hasVideoAdJustFinishedPlaying = true;",
                "        gdjs._crazyGamesExtension.isPlayingVideoAd = false;",
                "        if (runtimeScene.getSoundManager().getGlobalVolume() === 0) {",
                "            runtimeScene.getSoundManager().setGlobalVolume(volume);",
                "        }",
                "    },",
                "    adError: (error, errorData) => {",
                "        gdjs._crazyGamesExtension.isPlayingVideoAd = false;",
                "        gdjs._crazyGamesExtension.hasVideoAdJustFinishedPlaying = true;",
                "        if (runtimeScene.getSoundManager().getGlobalVolume() === 0) {",
                "            runtimeScene.getSoundManager().setGlobalVolume(volume);",
                "        }",
                "        logger.error(`Error ${adType} ad (callback): `, error, errorData);",
                "    },",
                "});"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Ad Type",
          "name": "AdType",
          "supplementaryInformation": "[\"midgame\",\"rewarded\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Checks if a video ad just finished playing successfully.",
      "fullName": "Video ad just finished playing",
      "functionType": "Condition",
      "name": "AdFinishedPlaying",
      "sentence": "Video ad just finished playing",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._crazyGamesExtension.hasVideoAdJustFinishedPlaying;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Checks if a video ad is playing.",
      "fullName": "Video ad is playing",
      "functionType": "Condition",
      "name": "IsVideoAdPlaying",
      "sentence": "Video ad is playing",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._crazyGamesExtension.isPlayingVideoAd;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Check if Ad had an error.",
      "fullName": "Check if Ad had an error",
      "functionType": "Condition",
      "name": "AdHadAnError",
      "private": true,
      "sentence": "Ad had an error",
      "events": [],
      "parameters": [],
      "objectGroups": []
    },
    {
      "async": true,
      "description": "Generate an invite link to invite friends to join your game sessions. This URL can be added to the clipboard or displayed in the game to let the user select it.",
      "fullName": "Generate an invite link",
      "functionType": "Action",
      "group": "Invite",
      "name": "GenerateInviteLink",
      "sentence": "Generate an invite link for _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "BuiltinAsync::ResolveAsyncEventsFunction"
              },
              "parameters": [
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const roomId = eventsFunctionContext.getArgument(\"RoomId\");",
                "",
                "const logger = new gdjs.Logger(\"CrazyGames SDK\");",
                "window.CrazyGames.SDK.game.inviteLink(",
                "    { roomId },",
                "    (error, link) => {",
                "        if (error) {",
                "            logger.error(\"Invite link error.\", error);",
                "        } else {",
                "            gdjs._crazyGamesExtension.links.set(roomId, link);",
                "            eventsFunctionContext.task.resolve();",
                "        }",
                "    }",
                ");"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Room id",
          "name": "RoomId",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Display an happy time by emitting sparkling confetti. The celebration should remain a special moment.",
      "fullName": "Display happy time",
      "functionType": "Action",
      "name": "DisplayHappyTime",
      "sentence": "Display happy time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "window.CrazyGames.SDK.game.happytime();",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "async": true,
      "description": "Scan for adblockers.",
      "fullName": "Scan for adblockers",
      "functionType": "Action",
      "name": "ScanForAdBlockers",
      "sentence": "Scan for adblockers",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "BuiltinAsync::ResolveAsyncEventsFunction"
              },
              "parameters": [
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const logger = new gdjs.Logger(\"CrazyGames SDK\");",
                "window.CrazyGames.SDK.ad.hasAdblock((error, result) => {",
                "    if (error) {",
                "        logger.error(\"Unable to scan adblockers.\", error);",
                "        gdjs._crazyGamesExtension.latestError = error;",
                "    } else {",
                "        gdjs._crazyGamesExtension.isAdBlockerDetected = result;",
                "        eventsFunctionContext.task.resolve();",
                "    }",
                "});"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Check if user is using an ad blocker. This condition is always false before the \"Scan for adblockers\" is called.",
      "fullName": "Ad blocker is detected",
      "functionType": "Condition",
      "name": "IsAdBlocked",
      "sentence": "Ad blocker is detected",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._crazyGamesExtension.isAdBlockerDetected;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "async": true,
      "description": "Display a banner that can be called once per 60 seconds.",
      "fullName": "Display a banner",
      "functionType": "Action",
      "group": "Banner",
      "name": "DisplayBanner",
      "sentence": "Display a banner: _PARAM1_ at position _PARAM3_ ; _PARAM4_ with size _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "inverted": true,
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "BuiltinAsync::ResolveAsyncEventsFunction"
              },
              "parameters": [
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "CrazyGamesAdApi::IsSDKLoaded"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const logger = new gdjs.Logger(\"CrazyGames SDK\");",
                "const bannerName = eventsFunctionContext.getArgument(\"BannerName\");",
                "const positionX = eventsFunctionContext.getArgument(\"PositionX\");",
                "const positionY = eventsFunctionContext.getArgument(\"PositionY\");",
                "const adDimension = eventsFunctionContext.getArgument(\"Size\").split(\"x\");",
                "const size = {",
                "    width: Number(adDimension[0]) || 0,",
                "    height: Number(adDimension[1]) || 0",
                "}",
                "",
                "// Create a container for the banner if needed",
                "if (document.getElementById(bannerName) === null) {",
                "    const div = document.createElement('div');",
                "    div.id = bannerName;",
                "    div.setAttribute(\"style\", \"pointer-events: none; position:fixed; z-index:1; width: \" + size.width + \"px; height: \" + size.height + \"px;left:\" + positionX + \"px; top:\" + positionY + \"px;\");",
                "",
                "    const body = document.getElementsByTagName(\"body\")[0];",
                "    // Insert the new container in first position in the body",
                "    body.insertBefore(div, body.firstChild);",
                "}",
                "",
                "",
                "// Available size '728x90', '300x250', '320x50', '468x60', '320x100'",
                "// x, y coordinates are from the top left of the screen",
                "window.CrazyGames.SDK.banner.requestBanner({",
                "    id: bannerName,",
                "    width: size.width,",
                "    height: size.height,",
                "}, (error, result) => {",
                "    if (error) {",
                "        logger.error(\"Error on request banner.\", error);",
                "    } else {",
                "        // Result is always undefined when requesting banners",
                "        logger.log(\"End request banner\", result === undefined ? \"Requesting banners\" : result);",
                "        eventsFunctionContext.task.resolve();",
                "    }",
                "});"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Banner name",
          "name": "BannerName",
          "type": "string"
        },
        {
          "description": "Ad size",
          "name": "Size",
          "supplementaryInformation": "[\"728x90\",\"300x250\",\"320x50\",\"468x60\",\"320x100\"]",
          "type": "stringWithSelector"
        },
        {
          "description": "Position X",
          "name": "PositionX",
          "type": "expression"
        },
        {
          "description": "Position Y",
          "name": "PositionY",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Hide a banner.",
      "fullName": "Hide a banner",
      "functionType": "Action",
      "group": "Banner",
      "name": "HideBanner",
      "sentence": "Hide the banner: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const bannerName = eventsFunctionContext.getArgument(\"BannerName\");\r",
            "window.CrazyGames.SDK.banner.clearBanner(bannerName);\r",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Banner name",
          "name": "BannerName",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Hide all banners.",
      "fullName": "Hide all banners",
      "functionType": "Action",
      "group": "Banner",
      "name": "HideAllBanners",
      "sentence": "Hide all the banners",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "window.CrazyGames.SDK.banner.clearAllBanners();\r",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Hide the invite button.",
      "fullName": "Hide invite button",
      "functionType": "Action",
      "group": "Invite",
      "name": "HideInviteButton",
      "sentence": "Hide invite button",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "window.CrazyGames.SDK.game.hideInviteButton();",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [],
  "eventsBasedObjects": []
}