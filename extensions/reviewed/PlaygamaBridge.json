{
  "author": "Playgama",
  "category": "Ads",
  "extensionNamespace": "",
  "fullName": "Playgama Bridge",
  "gdevelopVersion": "",
  "helpPath": "/extensions/playgama-bridge/details",
  "iconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSIjOTc0N0ZGIi8+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",
  "name": "PlaygamaBridge",
  "previewIconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K",
  "shortDescription": "One SDK for cross-platform publishing HTML5 games.",
  "version": "1.25.0",
  "description": [
    "One SDK for cross-platform publishing HTML5 games. ",
    "Please refer to [Playgama documentation](https://wiki.playgama.com/playgama/sdk/engines/gdevelop) for detailed guidance."
  ],
  "origin": {
    "identifier": "PlaygamaBridge",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "playgama",
    "bridge",
    "html5",
    "sdk",
    "platform",
    "ads"
  ],
  "authorIds": [
    "pGl7czfmrbUqIa4ZZkTji4NL9zX2"
  ],
  "dependencies": [],
  "globalVariables": [],
  "sceneVariables": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onFirstSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "window.bridgeOptions = {",
            "    \"platforms\": {",
            "        \"game_distribution\": {",
            "            \"gameId\": \"\"",
            "        },",
            "        \"telegram\": {",
            "            \"adsgramBlockId\": \"\"",
            "        },",
            "        \"y8\": {",
            "            \"gameId\": \"\",",
            "            \"adsenseId\": \"\",",
            "            \"channelId\": \"\"",
            "        },",
            "        \"lagged\": {",
            "            \"devId\": \"\",",
            "            \"publisherId\": \"\"",
            "        },",
            "        \"huawei\": {",
            "            \"appId\": \"\"",
            "        },",
            "        \"msn\": {",
            "            \"gameId\": \"\"",
            "        },",
            "        \"discord\": {",
            "            \"appId\": \"\"",
            "        },",
            "        \"gamepush\": {",
            "            \"projectId\": \"\",",
            "            \"publicToken\": \"\"",
            "        },",
            "        \"jio_games\": {",
            "            \"packageName\": \"\"",
            "        },",
            "        \"crazy_games\": {",
            "            \"xsollaProjectId\": \"\",",
            "            \"isSandbox\": false,",
            "            \"useUserToken\": false",
            "        },",
            "        \"facebook\": {",
            "            \"subscribeForNotificationsOnStart\": true,",
            "            \"sendAnalyticsEvents\": false",
            "        },",
            "        \"yandex\": {",
            "            \"useSignedData\": false,",
            "            \"sendAnalyticsEvents\": false",
            "        },",
            "        \"youtube\": {",
            "            \"sendAnalyticsEvents\": false",
            "        }",
            "    },",
            "    \"advertisement\": {",
            "        \"interstitial\": {",
            "            \"preloadOnStart\": true",
            "        },",
            "        \"rewarded\": {",
            "            \"preloadOnStart\": true",
            "        },",
            "        \"useBuiltInErrorPopup\": true,",
            "        \"backfillId\": \"\"",
            "    },",
            "    \"payments\": [],",
            "    \"leaderboards\": [],",
            "    \"sendAnalyticsEvents\": true",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "(()=>{var e={258:e=>{!function(t){e.exports=t;var r=\"listeners\",n={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var r=this;return n.originalListener=t,a(r,e).push(n),r;function n(){i.call(r,e,n),t.apply(this,arguments)}},off:i,emit:function(e,t){var r=this,n=a(r,e,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(e){e.call(r)}));else if(2===o)n.forEach((function(e){e.call(r,t)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(e){e.apply(r,i)}))}return!!n.length}};function o(e){for(var t in n)e[t]=n[t];return e}function i(e,t){var n,o=this;if(arguments.length){if(t){if(n=a(o,e,!0)){if(!(n=n.filter((function(e){return e!==t&&e.originalListener!==t}))).length)return i.call(o,e);o[r][e]=n}}else if((n=o[r])&&(delete n[e],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(e,t,n){if(!n||e[r]){var o=e[r]||(e[r]={});return o[t]||(o[t]=[])}}o(t.prototype),t.mixin=o}((function e(){if(!(this instanceof e))return new e}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{\"use strict\";var e={VK:\"vk\",OK:\"ok\",YANDEX:\"yandex\",CRAZY_GAMES:\"crazy_games\",ABSOLUTE_GAMES:\"absolute_games\",GAME_DISTRIBUTION:\"game_distribution\",PLAYGAMA:\"playgama\",PLAYDECK:\"playdeck\",TELEGRAM:\"telegram\",Y8:\"y8\",LAGGED:\"lagged\",FACEBOOK:\"facebook\",POKI:\"poki\",MOCK:\"mock\",QA_TOOL:\"qa_tool\",MSN:\"msn\",HUAWEI:\"huawei\",BITQUEST:\"bitquest\",GAMEPUSH:\"gamepush\",DISCORD:\"discord\",JIO_GAMES:\"jio_games\",YOUTUBE:\"youtube\"},t={PLATFORM:\"platform\",PLAYER:\"player\",GAME:\"game\",STORAGE:\"storage\",ADVERTISEMENT:\"advertisement\",SOCIAL:\"social\",DEVICE:\"device\",LEADERBOARDS:\"leaderboards\",PAYMENTS:\"payments\",REMOTE_CONFIG:\"remote_config\",CLIPBOARD:\"clipboard\",ACHIEVEMENTS:\"achievements\"},n={INTERSTITIAL_STATE_CHANGED:\"interstitial_state_changed\",REWARDED_STATE_CHANGED:\"rewarded_state_changed\",BANNER_STATE_CHANGED:\"banner_state_changed\",VISIBILITY_STATE_CHANGED:\"visibility_state_changed\",AUDIO_STATE_CHANGED:\"audio_state_changed\",PAUSE_STATE_CHANGED:\"pause_state_changed\"},o={VISIBLE:\"visible\",HIDDEN:\"hidden\"},i={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\"},a={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\",REWARDED:\"rewarded\"},s={LOADING:\"loading\",SHOWN:\"shown\",HIDDEN:\"hidden\",FAILED:\"failed\"},c=\"banner-container\",u=\"interstitial-container\",l=\"rewarded-container\",f={LOCAL_STORAGE:\"local_storage\",PLATFORM_INTERNAL:\"platform_internal\"},p={DESKTOP:\"desktop\",MOBILE:\"mobile\",TABLET:\"tablet\",TV:\"tv\"},d={GAME_READY:\"game_ready\",IN_GAME_LOADING_STARTED:\"in_game_loading_started\",IN_GAME_LOADING_STOPPED:\"in_game_loading_stopped\",GAMEPLAY_STARTED:\"gameplay_started\",GAMEPLAY_STOPPED:\"gameplay_stopped\",PLAYER_GOT_ACHIEVEMENT:\"player_got_achievement\",GAME_OVER:\"game_over\"},h=\"not_available\",y=\"in_game\",m=\"native\",v={INITIALIZE:\"initialize\",AUTHORIZE_PLAYER:\"authorize_player\",SHARE:\"share\",INVITE_FRIENDS:\"invite_friends\",JOIN_COMMUNITY:\"join_community\",CREATE_POST:\"create_post\",ADD_TO_HOME_SCREEN:\"add_to_home_screen\",ADD_TO_FAVORITES:\"add_to_favorites\",RATE:\"rate\",LEADERBOARDS_SET_SCORE:\"leaderboards_set_score\",LEADERBOARDS_GET_ENTRIES:\"leaderboards_get_entries\",LEADERBOARDS_SHOW_NATIVE_POPUP:\"leaderboards_show_native_popup\",GET_PURCHASES:\"get_purchases\",GET_CATALOG:\"get_catalog\",PURCHASE:\"purchase\",CONSUME_PURCHASE:\"consume_purchase\",GET_REMOTE_CONFIG:\"get_remote_config\",GET_STORAGE_DATA:\"get_storage_data\",SET_STORAGE_DATA:\"set_storage_data\",DELETE_STORAGE_DATA:\"delete_storage_data\",CLIPBOARD_WRITE:\"clipboard_write\",ADBLOCK_DETECT:\"adblock_detect\",SET_INTERSTITIAL_STATE:\"set_interstitial_state\",SET_REWARDED_STATE:\"set_rewarded_state\",SHOW_INTERSTITIAL:\"show_interstitial\",SHOW_REWARDED:\"show_rewarded\"},_={message:\"Before using the SDK you must initialize it\"},g={message:\"Storage not supported\"},S={message:\"Storage not available\"},b={message:\"GameDistribution Game ID is undefined\"},E={message:\"Y8 Game params are not found\"},P={message:\"OK Game params are not found\"},w={message:\"Lagged Game params are not found\"},A={message:\"Huawei Game params are not found\"},O={message:\"GamePush Game params are not found\"},k={message:\"Message is too long\"},D={message:\"Discord Game params are not found\"},I={message:\"JioGames Game params are not found\"};function T(e){return T=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},T(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function L(e){var t=function(e,t){if(\"object\"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=T(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==T(t)?t:String(t)}function j(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function N(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,B(e,t,\"set\"),r),r}function C(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,B(e,t,\"get\"))}function B(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var G=new WeakMap,M=new WeakMap,F=new WeakMap;const x=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),j(this,G,{writable:!0,value:void 0}),j(this,M,{writable:!0,value:void 0}),j(this,F,{writable:!0,value:void 0}),N(this,G,new Promise((function(e,r){N(t,M,e),N(t,F,r)})))}var t,r;return t=e,(r=[{key:\"promise\",get:function(){return C(this,G)}},{key:\"resolve\",value:function(e){C(this,M).call(this,e)}},{key:\"reject\",value:function(e){C(this,F).call(this,e)}}])&&R(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();var H=r(258),U=r.n(H);function z(e){return z=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},z(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Z(n.key),n)}}function V(e,t,r){return t&&W(e.prototype,t),r&&W(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function Z(e){var t=function(e,t){if(\"object\"!=z(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=z(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==z(t)?t:String(t)}const Y=V((function e(t){var r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,o=void 0,(n=Z(n=\"_platformBridge\"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=t}));function J(e){return J=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},J(e)}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function q(e){var t=function(e,t){if(\"object\"!=J(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=J(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==J(t)?t:String(t)}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function Q(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function ee(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function te(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var re=new WeakMap,ne=new WeakSet,oe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&X(e,t)}(s,e);var t,r,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(o);if(i){var r=$(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===J(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Q(e)}(this,e)});function s(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),ee(r=Q(t=a.call(this,e)),o=ne),o.add(r),function(e,t,r){ee(e,t),t.set(e,{writable:!0,value:!1})}(Q(t),re),t._platformBridge.on(n.AUDIO_STATE_CHANGED,(function(e){return t.emit(n.AUDIO_STATE_CHANGED,e)})),t._platformBridge.on(n.PAUSE_STATE_CHANGED,(function(e){return t.emit(n.PAUSE_STATE_CHANGED,e)})),t}return t=s,(r=[{key:\"id\",get:function(){return this._platformBridge.platformId}},{key:\"sdk\",get:function(){return this._platformBridge.platformSdk}},{key:\"language\",get:function(){return this._platformBridge.platformLanguage}},{key:\"payload\",get:function(){return this._platformBridge.platformPayload}},{key:\"tld\",get:function(){return this._platformBridge.platformTld}},{key:\"isGetAllGamesSupported\",get:function(){return this._platformBridge.isPlatformGetAllGamesSupported}},{key:\"isGetGameByIdSupported\",get:function(){return this._platformBridge.isPlatformGetGameByIdSupported}},{key:\"isAudioEnabled\",get:function(){return this._platformBridge.isPlatformAudioEnabled}},{key:\"isPaused\",get:function(){return this._platformBridge.isPlatformPaused}},{key:\"sendMessage\",value:function(e){if(e===d.GAME_READY){if(function(e,t){return t.get?t.get.call(e):t.value}(this,te(this,re,\"get\")))return Promise.reject();(function(e,t,r){(function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}})(e,te(e,t,\"set\"),r)})(this,re,!0),function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}(this,ne,ie).call(this)}return this._platformBridge.sendMessage(e)}},{key:\"getServerTime\",value:function(){return this._platformBridge.getServerTime()}},{key:\"getAllGames\",value:function(){return this._platformBridge.getAllGames()}},{key:\"getGameById\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getGameById(t)}return this._platformBridge.getGameById(e)}}])&&K(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),s}(Y);function ie(){var e;!1!==(null===(e=this._platformBridge.options)||void 0===e?void 0:e.sendAnalyticsEvents)&&fetch(\"https://playgama.com/api/v1/events\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({eventName:\"game_ready\",pageName:\"\".concat(this._platformBridge.platformId,\":\").concat(this._platformBridge.engine),userId:\"bridge:\".concat(\"1.25.0\"),clid:window.location.href})}).then((function(e){if(!e.ok)throw new Error(\"Network response was not ok: \".concat(e.status))})).catch((function(e){console.error(\"Error sending event:\",e)}))}U().mixin(oe.prototype);const ae=oe;function se(e){return se=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},se(e)}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ue(n.key),n)}}function ue(e){var t=function(e,t){if(\"object\"!=se(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=se(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==se(t)?t:String(t)}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}const pe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&le(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fe(n);if(o){var r=fe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===se(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isAuthorizationSupported\",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:\"isAuthorized\",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:\"id\",get:function(){return this._platformBridge.playerId}},{key:\"name\",get:function(){return this._platformBridge.playerName}},{key:\"photos\",get:function(){return this._platformBridge.playerPhotos}},{key:\"extra\",get:function(){return this._platformBridge.playerExtra}},{key:\"authorize\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.authorize(t)}return this._platformBridge.authorizePlayer(e)}}])&&ce(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(Y);function de(e){return de=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},de(e)}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e,t,r){var n;return n=function(e,t){if(\"object\"!=de(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=de(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(t),(t=\"symbol\"==de(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var me=function(e){return new Promise((function(t){var r=document.createElement(\"script\");r.src=e,r.addEventListener(\"load\",t),document.head.appendChild(r)}))};function ve(e){var t=document.createElement(\"div\");return t.id=c,t.style.position=\"absolute\",document.body.appendChild(t),\"top\"===e?(t.style.top=\"0px\",t.style.height=\"90px\",t.style.width=\"100%\"):(t.style.bottom=\"0px\",t.style.height=\"90px\",t.style.width=\"100%\"),t}function _e(e){var t=document.createElement(\"div\");return t.id=e,t.style.position=\"fixed\",t.style.inset=\"0\",t.style.zIndex=\"9999999\",document.body.appendChild(t),t}var ge=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length<=0?Promise.resolve():new Promise((function(e){var r=setInterval((function(){for(var n=window,o=0;o<t.length;o++){var i=n[t[o]];if(!i)return;n=i}e(),clearInterval(r)}),100)}))},Se=function(e){return/^data:image\\/(png|jpeg|jpg|gif|bmp|webp|svg\\+xml);base64,[A-Za-z0-9+/]+={0,2}$/.test(e)},be=function(e,t){return void 0===e[t]?null:e[t]};function Ee(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)?e.reduce((function(e,n,o){if(e[o]=be(t,n),r)try{e[o]=JSON.parse(e[o])}catch(e){}return e}),new Array(e.length)):be(t,e)}function Pe(e,t){for(var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),n=Object.keys(t),o=0;o<n.length;o++){var i=n[o];i in e&&t[i]instanceof Object&&e[i]instanceof Object?r[i]=Pe(e[i],t[i]):r[i]=t[i]}return r}function we(e){return we=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},we(e)}function Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oe(e,t)}function ke(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Ie(e,t,r){return(t=Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=function(e,t){if(\"object\"!=we(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=we(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==we(t)?t:String(t)}var Re=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Oe(e,t)}(s,e);var t,r,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=De(o);if(i){var r=De(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===we(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ke(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),Ie(ke(t=a.call(this,e)),\"_currentLoadingProgress\",null),Ie(ke(t),\"_loadingProcessCompleted\",!1),t._platformBridge.on(n.VISIBILITY_STATE_CHANGED,(function(e){return t.emit(n.VISIBILITY_STATE_CHANGED,e)})),t._platformBridge.options.disableLoadingLogo||function(){var e=document.createElement(\"style\");e.textContent=\"\\n        .fullscreen {\\n            background: #242424;\\n            width: 100vw;\\n            height: 100vh;\\n            position: absolute;\\n            top: 0px;\\n            left: 0px;\\n        }\\n\\n        #loading-overlay {\\n            font-size: 20px;\\n            z-index: 1;\\n            display: flex;\\n            flex-direction: column;\\n            justify-content: center;\\n            align-items: center;\\n        }\\n\\n        #logo {\\n            width: 10%;\\n            max-width: 300px;\\n            min-width: 120px;\\n            overflow: visible;\\n        }\\n\\n        .fill-rect {\\n            transform: translateY(100%);\\n            transition: transform 0.3s ease-out;\\n        }\\n\\n        #gradientMover {\\n            display: none;\\n        }\\n\\n        .gradient-mover {\\n            animation: moveGradient 0.4s linear;\\n        }\\n\\n        @keyframes moveGradient {\\n            0% { transform: translateX(0); }\\n            100% { transform: translateX(-250%); }\\n        }\\n\\n        .logo-fade-out {\\n            animation: logoFadeOut 1s linear;\\n        }\\n\\n        .logo-fade-out path {\\n            fill: white;\\n            stroke: white;\\n        }\\n\\n        @keyframes logoFadeOut {\\n            0% { opacity: 1; }\\n            50% { opacity: 0; }\\n            100% { opacity: 0; }\\n        }\\n    \",document.head.appendChild(e);var t=document.createElement(\"div\");t.id=\"loading-overlay\",t.className=\"fullscreen\",document.body.appendChild(t);var r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");r.setAttribute(\"id\",\"logo\"),r.setAttribute(\"viewBox\",\"0 0 633 819\"),r.setAttribute(\"fill\",\"none\"),r.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\");var n=document.createElementNS(r.namespaceURI,\"defs\"),o=document.createElementNS(r.namespaceURI,\"mask\");o.setAttribute(\"id\",\"logo-mask\");var i=document.createElementNS(r.namespaceURI,\"rect\");i.setAttribute(\"x\",\"0\"),i.setAttribute(\"y\",\"0\"),i.setAttribute(\"width\",\"100%\"),i.setAttribute(\"height\",\"100%\"),i.setAttribute(\"fill\",\"black\"),o.appendChild(i);var a=[\"M632 1V632H1V1H632ZM350 125.586V507.414L380.586 538H546V451H478.599L478.308 451.278L454.598 474H443.406L450.944 452.328L451 452.169V187.459L457.369 182H546V95H380.586L350 125.586ZM283 125.586L252.414 95H87V182H175.631L182 187.459V445.54L175.631 451H87V538H252.414L283 507.414V125.586Z\",\"M633 687V660H548V687H560V791H548V819H633V792H601L592 801H587L590 792V752H627V725H590V687H633Z\",\"M533 718V675L518 660H450L435 675V802L450 819H518L533 804V734H482V761H503V788L499 792H476L467 801H462L465 792V691L469 687H499L503 691V718H533Z\",\"M402 660H310V687H322V792H310V819H402L417 804V675L402 660ZM387 788L383 792H363L354 801H349L352 792V687H383L387 691V788Z\",\"M295 687V660H239V687H251V792H239V819H295V792H283V687H295Z\",\"M215 791L200 760H209L224 745V675L209 660H121V687H132V792H121V819H162V760H166L193 819H227V791H215ZM194 729L190 733H173L164 742H159L162 733V687H190L194 691V729Z\",\"M106 724V675L91 660H0V687H12V792H0V819H91L106 804V749L89 744V728L106 724ZM73 788L69 792H53L44 801H39L42 792V752H73V788ZM73 725H53L44 734H39L42 725V687H69L73 691V725Z\"];a.forEach((function(e){var t=document.createElementNS(r.namespaceURI,\"path\");t.setAttribute(\"d\",e),t.setAttribute(\"fill\",\"white\"),o.appendChild(t)})),n.appendChild(o);var s=document.createElementNS(r.namespaceURI,\"linearGradient\");s.setAttribute(\"id\",\"shineGradient\"),s.setAttribute(\"x1\",\"1233\"),s.setAttribute(\"y1\",\"0\"),s.setAttribute(\"x2\",\"1866\"),s.setAttribute(\"y2\",\"633\"),s.setAttribute(\"gradientUnits\",\"userSpaceOnUse\"),[{offset:\"0.235577\",color:\"#aa76ff\"},{offset:\"0.240685\",color:\"white\"},{offset:\"0.659749\",color:\"#aa76ff\"}].forEach((function(e){var t=e.offset,n=e.color,o=document.createElementNS(r.namespaceURI,\"stop\");o.setAttribute(\"offset\",t),o.setAttribute(\"stop-color\",n),s.appendChild(o)})),n.appendChild(s),r.appendChild(n);var c=document.createElementNS(r.namespaceURI,\"g\");c.setAttribute(\"mask\",\"url(#logo-mask)\");var u=document.createElementNS(r.namespaceURI,\"rect\");u.setAttribute(\"id\",\"gradientMover\"),u.setAttribute(\"x\",\"0\"),u.setAttribute(\"y\",\"0\"),u.setAttribute(\"width\",\"2532\"),u.setAttribute(\"height\",\"819\"),u.setAttribute(\"fill\",\"url(#shineGradient)\"),u.style.transform=\"translateX(0)\",c.appendChild(u),r.appendChild(c);var l=document.createElementNS(r.namespaceURI,\"g\");l.setAttribute(\"mask\",\"url(#logo-mask)\");var f=document.createElementNS(r.namespaceURI,\"rect\");f.setAttribute(\"id\",\"fillRect\"),f.setAttribute(\"class\",\"fill-rect\"),f.setAttribute(\"x\",\"0\"),f.setAttribute(\"y\",\"0\"),f.setAttribute(\"width\",\"100%\"),f.setAttribute(\"height\",\"819\"),f.setAttribute(\"fill\",\"#aa76ff\"),l.appendChild(f),r.appendChild(l),a.forEach((function(e){var t=document.createElementNS(r.namespaceURI,\"path\");t.setAttribute(\"d\",e),t.setAttribute(\"stroke\",\"#aa76ff\"),t.setAttribute(\"stroke-width\",\"3\"),r.appendChild(t)})),t.appendChild(r)}(),t}return t=s,r=[{key:\"visibilityState\",get:function(){return this._platformBridge.visibilityState}},{key:\"setLoadingProgress\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(this._loadingProcessCompleted||t&&null!==this._currentLoadingProgress)){var r=document.getElementById(\"fillRect\"),n=document.getElementById(\"gradientMover\"),o=document.getElementById(\"logo\"),i=document.getElementById(\"loading-overlay\");if(r&&n&&o&&i){this._currentLoadingProgress=e;var a=Math.max(0,Math.min(100,e)),s=100-a;r.style.transform=\"translateY(\".concat(s,\"%)\"),100===a?(this._loadingProcessCompleted=!0,setTimeout((function(){r.style.display=\"none\",n.style.display=\"block\",n.classList.add(\"gradient-mover\")}),400),setTimeout((function(){return o.classList.add(\"logo-fade-out\")}),900),setTimeout((function(){return i.remove()}),1400)):n.classList.remove(\"gradient-mover\")}}}}],r&&Ae(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),s}(Y);U().mixin(Re.prototype);const Le=Re;function je(e){return je=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},je(e)}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ce(n.key),n)}}function Ce(e){var t=function(e,t){if(\"object\"!=je(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=je(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==je(t)?t:String(t)}function Be(e,t){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Be(e,t)}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}const Me=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Be(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ge(n);if(o){var r=Ge(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===je(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,r=[{key:\"defaultType\",get:function(){return this._platformBridge.defaultStorageType}},{key:\"isSupported\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageSupported(e)}},{key:\"isAvailable\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageAvailable(e)}},{key:\"get\",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){var n=t[this._platformBridge.platformId];if(n)return this.get(e,n,r)}var o=t;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?this._platformBridge.getDataFromStorage(e,o,r):Promise.reject()}},{key:\"set\",value:function(e,t,r){if(r){var n=r[this._platformBridge.platformId];if(n)return this.set(e,t,n)}var o=r;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?this._platformBridge.setDataToStorage(e,t,o):Promise.reject()}},{key:\"delete\",value:function(e,t){if(t){var r=t[this._platformBridge.platformId];if(r)return this.delete(e,r)}var n=t;return n||(n=this.defaultType),this._platformBridge.isStorageAvailable(n)?this._platformBridge.deleteDataFromStorage(e,n):Promise.reject()}}],r&&Ne(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(Y);function Fe(e){return Fe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Fe(e)}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,He(n.key),n)}}function He(e){var t=function(e,t){if(\"object\"!=Fe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Fe(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Fe(t)?t:String(t)}function Ue(e,t){We(e,t),t.add(e)}function ze(e,t,r){We(e,t),t.set(e,r)}function We(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Ve(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Ze(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Je(e,t,\"set\"),r),r}function Ye(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Je(e,t,\"get\"))}function Je(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Ke=\"started\",qe=new WeakMap,Xe=new WeakMap,Qe=new WeakMap,$e=new WeakMap,et=new WeakSet,tt=new WeakSet,rt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Ue(this,tt),Ue(this,et),ze(this,qe,{writable:!0,value:0}),ze(this,Xe,{writable:!0,value:0}),ze(this,Qe,{writable:!0,value:\"created\"}),ze(this,$e,{writable:!0,value:0}),Ze(this,qe,t)}var t,r;return t=e,(r=[{key:\"state\",get:function(){return Ye(this,Qe)}},{key:\"start\",value:function(){var e=this;Ye(this,Qe)!==Ke&&(Ze(this,Xe,Ye(this,qe)),Ve(this,et,nt).call(this,Ke),Ze(this,$e,setInterval((function(){Ze(e,Xe,Ye(e,Xe)-1),e.emit(\"time_left_changed\",Ye(e,Xe)),Ye(e,Xe)<=0&&(Ve(e,tt,ot).call(e),Ve(e,et,nt).call(e,\"completed\"))}),1e3)))}},{key:\"stop\",value:function(){Ve(this,tt,ot).call(this),Ye(this,Qe)===Ke&&Ve(this,et,nt).call(this,\"stopped\")}}])&&xe(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function nt(e){Ze(this,Qe,e),this.emit(\"state_changed\",Ye(this,Qe))}function ot(){clearInterval(Ye(this,$e)),Ze(this,Xe,0)}U().mixin(rt.prototype);const it=rt;function at(e){return at=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},at(e)}function st(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ct(n.key),n)}}function ct(e){var t=function(e,t){if(\"object\"!=at(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=at(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==at(t)?t:String(t)}function ut(e,t){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ut(e,t)}function lt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}function pt(e,t){ht(e,t),t.add(e)}function dt(e,t,r){ht(e,t),t.set(e,r)}function ht(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function yt(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,_t(e,t,\"set\"),r),r}function mt(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function vt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,_t(e,t,\"get\"))}function _t(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var gt=new WeakMap,St=new WeakMap,bt=new WeakMap,Et=new WeakMap,Pt=new WeakMap,wt=new WeakMap,At=new WeakSet,Ot=new WeakSet,kt=new WeakSet,Dt=new WeakSet,It=new WeakSet,Tt=new WeakSet,Rt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ut(e,t)}(l,e);var t,r,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ft(o);if(c){var r=ft(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===at(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return lt(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),pt(lt(t=u.call(this,e)),Tt),pt(lt(t),It),pt(lt(t),Dt),pt(lt(t),kt),pt(lt(t),Ot),pt(lt(t),At),dt(lt(t),gt,{writable:!0,value:s.HIDDEN}),dt(lt(t),St,{writable:!0,value:i.CLOSED}),dt(lt(t),bt,{writable:!0,value:void 0}),dt(lt(t),Et,{writable:!0,value:60}),dt(lt(t),Pt,{writable:!0,value:a.CLOSED}),dt(lt(t),wt,{writable:!0,value:null}),t._platformBridge.on(n.BANNER_STATE_CHANGED,(function(e){return mt(lt(t),kt,Nt).call(lt(t),e)})),t._platformBridge.on(n.INTERSTITIAL_STATE_CHANGED,(function(e){e===i.CLOSED&&mt(lt(t),At,Lt).call(lt(t)),mt(lt(t),Dt,Ct).call(lt(t),e)})),t._platformBridge.on(n.REWARDED_STATE_CHANGED,(function(e){return mt(lt(t),It,Bt).call(lt(t),e)})),t}return t=l,r=[{key:\"isBannerSupported\",get:function(){return this._platformBridge.isBannerSupported}},{key:\"bannerState\",get:function(){return vt(this,gt)}},{key:\"isInterstitialSupported\",get:function(){return this._platformBridge.isInterstitialSupported}},{key:\"interstitialState\",get:function(){return vt(this,St)}},{key:\"isRewardedSupported\",get:function(){return this._platformBridge.isRewardedSupported}},{key:\"rewardedPlacement\",get:function(){return vt(this,wt)}},{key:\"rewardedState\",get:function(){return vt(this,Pt)}},{key:\"minimumDelayBetweenInterstitial\",get:function(){return vt(this,Et)}},{key:\"setMinimumDelayBetweenInterstitial\",value:function(e){var t=at(e),r=vt(this,Et);switch(t){case\"number\":r=e;break;case\"string\":if(r=parseInt(e,10),Number.isNaN(r))return;break;default:return}yt(this,Et,r),vt(this,bt)&&(vt(this,bt).stop(),mt(this,At,Lt).call(this))}},{key:\"showBanner\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"bottom\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.bannerState!==s.LOADING&&this.bannerState!==s.SHOWN)if(mt(this,kt,Nt).call(this,s.LOADING),this.isBannerSupported){var n,o=r;o||null!==(n=this._platformBridge.options)&&void 0!==n&&null!==(n=n.advertisement)&&void 0!==n&&null!==(n=n.banner)&&void 0!==n&&n.placementFallback&&(o=this._platformBridge.options.advertisement.banner.placementFallback);var i=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.banner)||void 0===e?void 0:e.placements,a=mt(this,Tt,Gt).call(this,o,i);this._platformBridge.showBanner(t,a)}else mt(this,kt,Nt).call(this,s.FAILED)}},{key:\"hideBanner\",value:function(){this.bannerState!==s.LOADING&&this.bannerState!==s.HIDDEN&&this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:\"preloadInterstitial\",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r&&\"string\"==typeof r||null!==(t=this._platformBridge.options)&&void 0!==t&&null!==(t=t.advertisement)&&void 0!==t&&null!==(t=t.interstitial)&&void 0!==t&&t.placementFallback&&(r=this._platformBridge.options.advertisement.interstitial.placementFallback);var n=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.interstitial)||void 0===e?void 0:e.placements,o=mt(this,Tt,Gt).call(this,r,n);this._platformBridge.preloadInterstitial(o)}},{key:\"showInterstitial\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!mt(this,Ot,jt).call(this))if(mt(this,Dt,Ct).call(this,i.LOADING),this._platformBridge.isMinimumDelayBetweenInterstitialEnabled&&vt(this,bt)&&vt(this,bt).state===Ke)mt(this,Dt,Ct).call(this,i.FAILED);else{var r,n=t;n||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.interstitial)&&void 0!==r&&r.placementFallback&&(n=this._platformBridge.options.advertisement.interstitial.placementFallback);var o=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.interstitial)||void 0===e?void 0:e.placements,a=mt(this,Tt,Gt).call(this,n,o);this._platformBridge.showInterstitial(a)}}},{key:\"preloadRewarded\",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r&&\"string\"==typeof r||null!==(t=this._platformBridge.options)&&void 0!==t&&null!==(t=t.advertisement)&&void 0!==t&&null!==(t=t.rewarded)&&void 0!==t&&t.placementFallback&&(r=this._platformBridge.options.advertisement.rewarded.placementFallback);var n=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.rewarded)||void 0===e?void 0:e.placements,o=mt(this,Tt,Gt).call(this,r,n);this._platformBridge.preloadRewarded(o)}},{key:\"showRewarded\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!mt(this,Ot,jt).call(this)){var r;yt(this,wt,t),vt(this,wt)||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.rewarded)&&void 0!==r&&r.placementFallback&&yt(this,wt,this._platformBridge.options.advertisement.rewarded.placementFallback);var n=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.rewarded)||void 0===e?void 0:e.placements,o=mt(this,Tt,Gt).call(this,vt(this,wt),n);mt(this,It,Bt).call(this,a.LOADING),this._platformBridge.showRewarded(o)}}},{key:\"checkAdBlock\",value:function(){return this._platformBridge.checkAdBlock()}}],r&&st(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(Y);function Lt(){vt(this,Et)>0&&this._platformBridge.isMinimumDelayBetweenInterstitialEnabled&&(yt(this,bt,new it(vt(this,Et))),vt(this,bt).start())}function jt(){var e=[i.LOADING,i.OPENED].includes(vt(this,St)),t=[a.LOADING,a.OPENED,a.REWARDED].includes(vt(this,Pt));return e||t}function Nt(e){vt(this,gt)!==e&&(yt(this,gt,e),this.emit(n.BANNER_STATE_CHANGED,vt(this,gt)))}function Ct(e){vt(this,St)!==e&&(yt(this,St,e),this.emit(n.INTERSTITIAL_STATE_CHANGED,vt(this,St)))}function Bt(e){vt(this,Pt)!==e&&(yt(this,Pt,e),this.emit(n.REWARDED_STATE_CHANGED,vt(this,Pt)))}function Gt(e,t){if(!e)return e;if(!t)return e;var r=t.find((function(t){return t.id===e}));return r&&r[this._platformBridge.platformId]?r[this._platformBridge.platformId]:e}U().mixin(Rt.prototype);const Mt=Rt;function Ft(e){return Ft=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ft(e)}function xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ht(n.key),n)}}function Ht(e){var t=function(e,t){if(\"object\"!=Ft(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ft(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ft(t)?t:String(t)}function Ut(e,t){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ut(e,t)}function zt(e){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zt(e)}const Wt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ut(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zt(n);if(o){var r=zt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Ft(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isInviteFriendsSupported\",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:\"isJoinCommunitySupported\",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:\"isShareSupported\",get:function(){return this._platformBridge.isShareSupported}},{key:\"isCreatePostSupported\",get:function(){return this._platformBridge.isCreatePostSupported}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:\"isAddToFavoritesSupported\",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:\"isRateSupported\",get:function(){return this._platformBridge.isRateSupported}},{key:\"isExternalLinksAllowed\",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:\"inviteFriends\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.inviteFriends(t)}return this._platformBridge.inviteFriends(e)}},{key:\"joinCommunity\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.joinCommunity(t)}return this._platformBridge.joinCommunity(e)}},{key:\"share\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.share(t)}return this._platformBridge.share(e)}},{key:\"createPost\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.createPost(t)}return this._platformBridge.createPost(e)}},{key:\"addToHomeScreen\",value:function(){return this._platformBridge.addToHomeScreen()}},{key:\"addToFavorites\",value:function(){return this._platformBridge.addToFavorites()}},{key:\"rate\",value:function(){return this._platformBridge.rate()}}])&&xt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(Y);function Vt(e){return Vt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Vt(e)}function Zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Yt(n.key),n)}}function Yt(e){var t=function(e,t){if(\"object\"!=Vt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Vt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Vt(t)?t:String(t)}function Jt(e,t){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jt(e,t)}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(e)}const qt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Jt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kt(n);if(o){var r=Kt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Vt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"type\",get:function(){return this._platformBridge.deviceType}}])&&Zt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(Y);function Xt(e){return Xt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Xt(e)}function Qt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,$t(n.key),n)}}function $t(e){var t=function(e,t){if(\"object\"!=Xt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Xt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Xt(t)?t:String(t)}function er(e,t){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},er(e,t)}function tr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function rr(e){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rr(e)}function nr(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function or(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var ir=new WeakSet,ar=new WeakSet;function sr(e){var t;if(!e)return e;var r=null===(t=this._platformBridge.options)||void 0===t?void 0:t.leaderboards;if(!r)return e;var n=r.find((function(t){return t.id===e}));return n&&n[this._platformBridge.platformId]?n[this._platformBridge.platformId]:e}function cr(e){var t,r=null===(t=this._platformBridge.options)||void 0===t?void 0:t.leaderboards;if(!r)return!1;var n=r.find((function(t){return t.id===e}));return!!n&&!0===n.isMain}const ur=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&er(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rr(n);if(o){var r=rr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Xt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return tr(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return nr(tr(e=i.call.apply(i,[this].concat(r))),ar),nr(tr(e),ir),e}return t=a,(r=[{key:\"type\",get:function(){return this._platformBridge.leaderboardsType}},{key:\"setScore\",value:function(e,t){var r=or(this,ir,sr).call(this,e),n=or(this,ar,cr).call(this,e);return this._platformBridge.leaderboardsSetScore(r,t,n)}},{key:\"getEntries\",value:function(e){var t=or(this,ir,sr).call(this,e);return this._platformBridge.leaderboardsGetEntries(t)}},{key:\"showNativePopup\",value:function(e){var t=or(this,ir,sr).call(this,e);return this._platformBridge.leaderboardsShowNativePopup(t)}}])&&Qt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(Y);function lr(e){return lr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},lr(e)}function fr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,pr(n.key),n)}}function pr(e){var t=function(e,t){if(\"object\"!=lr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=lr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==lr(t)?t:String(t)}function dr(e,t){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dr(e,t)}function hr(e){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hr(e)}const yr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&dr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hr(n);if(o){var r=hr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===lr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isPaymentsSupported}},{key:\"purchase\",value:function(e,t){return this._platformBridge.paymentsPurchase(e,t)}},{key:\"getPurchases\",value:function(){return this._platformBridge.paymentsGetPurchases()}},{key:\"getCatalog\",value:function(){return this._platformBridge.paymentsGetCatalog()}},{key:\"consumePurchase\",value:function(e){return this._platformBridge.paymentsConsumePurchase(e)}}])&&fr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(Y);function mr(e){return mr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},mr(e)}function vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,_r(n.key),n)}}function _r(e){var t=function(e,t){if(\"object\"!=mr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=mr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==mr(t)?t:String(t)}function gr(e,t){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gr(e,t)}function Sr(e){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sr(e)}const br=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&gr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sr(n);if(o){var r=Sr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===mr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isRemoteConfigSupported}},{key:\"get\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.get(t)}return this._platformBridge.getRemoteConfig(e)}}])&&vr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(Y);function Er(e){return Er=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Er(e)}function Pr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,wr(n.key),n)}}function wr(e){var t=function(e,t){if(\"object\"!=Er(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Er(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Er(t)?t:String(t)}function Ar(e,t){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ar(e,t)}function Or(e){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(e)}const kr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ar(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Or(n);if(o){var r=Or(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Er(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isClipboardSupported}},{key:\"read\",value:function(){return this._platformBridge.clipboardRead()}},{key:\"write\",value:function(e){return this._platformBridge.clipboardWrite(e)}}])&&Pr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(Y);function Dr(e){return Dr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Dr(e)}function Ir(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Tr(n.key),n)}}function Tr(e){var t=function(e,t){if(\"object\"!=Dr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Dr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Dr(t)?t:String(t)}function Rr(e,t){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rr(e,t)}function Lr(e){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lr(e)}const jr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Rr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lr(n);if(o){var r=Lr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Dr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isAchievementsSupported}},{key:\"isGetListSupported\",get:function(){return this._platformBridge.isGetAchievementsListSupported}},{key:\"isNativePopupSupported\",get:function(){return this._platformBridge.isAchievementsNativePopupSupported}},{key:\"unlock\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.unlock(t)}return this._platformBridge.unlockAchievement(e)}},{key:\"getList\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getList(t)}return this._platformBridge.getAchievementsList(e)}},{key:\"showNativePopup\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.showNativePopup(t)}return this._platformBridge.showAchievementsNativePopup(e)}}])&&Ir(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(Y);function Nr(e){return Nr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Nr(e)}function Cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(r),!0).forEach((function(t){Mr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Fr(n.key),n)}}function Mr(e,t,r){return(t=Fr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fr(e){var t=function(e,t){if(\"object\"!=Nr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Nr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Nr(t)?t:String(t)}function xr(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var Hr=new WeakMap,Ur=function(){function t(e){var r,n,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),Mr(this,\"_isInitialized\",!1),Mr(this,\"_platformSdk\",null),Mr(this,\"_isPlayerAuthorized\",!1),Mr(this,\"_playerId\",null),Mr(this,\"_playerName\",null),Mr(this,\"_playerPhotos\",[]),Mr(this,\"_playerExtra\",{}),Mr(this,\"_visibilityState\",null),Mr(this,\"_localStorage\",null),Mr(this,\"_defaultStorageType\",f.LOCAL_STORAGE),Mr(this,\"_platformStorageCachedData\",null),Mr(this,\"_isBannerSupported\",!1),Mr(this,\"_paymentsPurchases\",[]),i={writable:!0,value:{}},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(r=this,n=Hr),n.set(r,i);try{this._localStorage=window.localStorage}catch(e){}this._visibilityState=document.visibilityState,document.addEventListener(\"visibilitychange\",(function(){a._setVisibilityState(document.visibilityState)})),window.addEventListener(\"blur\",(function(){a._setVisibilityState(o.HIDDEN)})),window.addEventListener(\"focus\",(function(){a._setVisibilityState(o.VISIBLE)})),e&&(this._options=Br({},e))}var r,c;return r=t,(c=[{key:\"options\",get:function(){return this._options}},{key:\"platformId\",get:function(){return e.MOCK}},{key:\"platformSdk\",get:function(){return this._platformSdk}},{key:\"platformLanguage\",get:function(){var e=navigator.language;return\"string\"==typeof e?e.substring(0,2).toLowerCase():\"en\"}},{key:\"platformPayload\",get:function(){return new URL(window.location.href).searchParams.get(\"payload\")}},{key:\"platformTld\",get:function(){return null}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!1}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!1}},{key:\"isPlatformAudioEnabled\",get:function(){return!0}},{key:\"isPlatformPaused\",get:function(){return!1}},{key:\"visibilityState\",get:function(){return this._visibilityState}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!1}},{key:\"isPlayerAuthorized\",get:function(){return this._isPlayerAuthorized}},{key:\"playerId\",get:function(){return this._playerId}},{key:\"playerName\",get:function(){return this._playerName}},{key:\"playerPhotos\",get:function(){return this._playerPhotos}},{key:\"playerExtra\",get:function(){return this._playerExtra}},{key:\"defaultStorageType\",get:function(){return this._defaultStorageType}},{key:\"isBannerSupported\",get:function(){return this._isBannerSupported}},{key:\"isInterstitialSupported\",get:function(){return!1}},{key:\"isMinimumDelayBetweenInterstitialEnabled\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!1}},{key:\"isInviteFriendsSupported\",get:function(){return!1}},{key:\"isJoinCommunitySupported\",get:function(){return!1}},{key:\"isShareSupported\",get:function(){return!1}},{key:\"isCreatePostSupported\",get:function(){return!1}},{key:\"isAddToHomeScreenSupported\",get:function(){return!1}},{key:\"isAddToFavoritesSupported\",get:function(){return!1}},{key:\"isRateSupported\",get:function(){return!1}},{key:\"isExternalLinksAllowed\",get:function(){return!0}},{key:\"deviceType\",get:function(){if(navigator&&navigator.userAgent){var e=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(e))return p.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(e))return p.TABLET}return p.DESKTOP}},{key:\"isPaymentsSupported\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return h}},{key:\"isRemoteConfigSupported\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!0}},{key:\"isAchievementsSupported\",get:function(){return!1}},{key:\"isGetAchievementsListSupported\",get:function(){return!1}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){return Promise.resolve()}},{key:\"sendMessage\",value:function(){return Promise.resolve()}},{key:\"getServerTime\",value:function(){return new Promise((function(e,t){fetch(\"https://playgama.com/api/v1/timestamp/now\").then((function(e){if(!e.ok)throw new Error(\"Network response was not ok\");return e.json()})).then((function(t){e(1e3*t.timestamp)})).catch((function(){t()}))}))}},{key:\"getAllGames\",value:function(){return Promise.reject()}},{key:\"getGameById\",value:function(){return Promise.reject()}},{key:\"authorizePlayer\",value:function(){return Promise.reject()}},{key:\"isStorageSupported\",value:function(e){switch(e){case f.LOCAL_STORAGE:return null!==this._localStorage;case f.PLATFORM_INTERNAL:default:return!1}}},{key:\"isStorageAvailable\",value:function(e){switch(e){case f.LOCAL_STORAGE:return null!==this._localStorage;case f.PLATFORM_INTERNAL:default:return!1}}},{key:\"getDataFromStorage\",value:function(e,t,r){if(t===f.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var n=[],o=0;o<e.length;o++)n.push(this._getDataFromLocalStorage(e[o],r));return Promise.resolve(n)}var i=this._getDataFromLocalStorage(e,r);return Promise.resolve(i)}return Promise.reject(g)}return Promise.reject(g)}},{key:\"setDataToStorage\",value:function(e,t,r){if(r===f.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this._setDataToLocalStorage(e[n],t[n]);return Promise.resolve()}return this._setDataToLocalStorage(e,t),Promise.resolve()}return Promise.reject(g)}return Promise.reject(g)}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t===f.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this._deleteDataFromLocalStorage(e[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(e),Promise.resolve()}return Promise.reject(g)}return Promise.reject(g)}},{key:\"showBanner\",value:function(){this._setBannerState(s.FAILED)}},{key:\"hideBanner\",value:function(){this._setBannerState(s.HIDDEN)}},{key:\"preloadInterstitial\",value:function(){}},{key:\"showInterstitial\",value:function(){this._setInterstitialState(i.FAILED)}},{key:\"preloadRewarded\",value:function(){}},{key:\"showRewarded\",value:function(){this._setRewardedState(a.FAILED)}},{key:\"checkAdBlock\",value:function(){var e=document.createElement(\"div\");e.className=\"textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox\",e.style.position=\"absolute\",e.style.left=\"-9999px\",e.style.width=\"1px\",e.style.height=\"1px\",document.body.appendChild(e);var t={method:\"HEAD\",mode:\"no-cors\"};return new Promise((function(r){fetch(\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",t).then((function(t){t.redirected?r(t.redirected):window.setTimeout((function(){var t,n=0===e.offsetHeight||\"none\"===(null===(t=window.getComputedStyle(e))||void 0===t?void 0:t.display);r(n),e.remove()}),100)})).catch((function(){r(!0)}))}))}},{key:\"inviteFriends\",value:function(){return Promise.reject()}},{key:\"joinCommunity\",value:function(){return Promise.reject()}},{key:\"share\",value:function(){return Promise.reject()}},{key:\"createPost\",value:function(){return Promise.reject()}},{key:\"addToHomeScreen\",value:function(){return Promise.reject()}},{key:\"addToFavorites\",value:function(){return Promise.reject()}},{key:\"rate\",value:function(){return Promise.reject()}},{key:\"leaderboardsSetScore\",value:function(){return Promise.reject()}},{key:\"leaderboardsGetEntries\",value:function(){return Promise.reject()}},{key:\"leaderboardsShowNativePopup\",value:function(){return Promise.reject()}},{key:\"paymentsPurchase\",value:function(e){if(this.isPaymentsSupported){var t={id:e};return this._paymentsPurchases.push(t),Promise.resolve(t)}return Promise.reject()}},{key:\"paymentsConsumePurchase\",value:function(e){if(this.isPaymentsSupported){var t=this._paymentsPurchases.findIndex((function(t){return t.id===e}));return t<0?Promise.reject():(this._paymentsPurchases.splice(t,1),Promise.resolve({id:e}))}return Promise.reject()}},{key:\"paymentsGetCatalog\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsGetProductsPlatformData()):Promise.reject()}},{key:\"paymentsGetPurchases\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsPurchases):Promise.reject()}},{key:\"getRemoteConfig\",value:function(){return Promise.reject()}},{key:\"clipboardRead\",value:function(){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.readText():Promise.reject()}},{key:\"clipboardWrite\",value:function(e){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.writeText(e):Promise.reject()}},{key:\"unlockAchievement\",value:function(){return Promise.reject()}},{key:\"getAchievementsList\",value:function(){return Promise.reject()}},{key:\"showAchievementsNativePopup\",value:function(){return Promise.reject()}},{key:\"_getDataFromLocalStorage\",value:function(e,t){var r=this._localStorage.getItem(e);if(t&&\"string\"==typeof r)try{r=JSON.parse(r)}catch(e){}return r}},{key:\"_setDataToLocalStorage\",value:function(e,t){this._localStorage.setItem(e,\"object\"===Nr(t)?JSON.stringify(t):t)}},{key:\"_deleteDataFromLocalStorage\",value:function(e){this._localStorage.removeItem(e)}},{key:\"_setVisibilityState\",value:function(e){this._visibilityState!==e&&(this._visibilityState=e,this.emit(n.VISIBILITY_STATE_CHANGED,this._visibilityState))}},{key:\"_setBannerState\",value:function(e){this.emit(n.BANNER_STATE_CHANGED,e)}},{key:\"_setInterstitialState\",value:function(e){this.emit(n.INTERSTITIAL_STATE_CHANGED,e)}},{key:\"_setRewardedState\",value:function(e){this.emit(n.REWARDED_STATE_CHANGED,e)}},{key:\"_setAudioState\",value:function(e){this.emit(n.AUDIO_STATE_CHANGED,e)}},{key:\"_setPauseState\",value:function(e){this.emit(n.PAUSE_STATE_CHANGED,e)}},{key:\"_createPromiseDecorator\",value:function(e){var t=new x;return xr(this,Hr)[e]=t,t}},{key:\"_getPromiseDecorator\",value:function(e){return xr(this,Hr)[e]}},{key:\"_resolvePromiseDecorator\",value:function(e,t){xr(this,Hr)[e]&&(xr(this,Hr)[e].resolve(t),delete xr(this,Hr)[e])}},{key:\"_rejectPromiseDecorator\",value:function(e,t){xr(this,Hr)[e]&&(xr(this,Hr)[e].reject(t),delete xr(this,Hr)[e])}},{key:\"_paymentsGetProductsPlatformData\",value:function(){var e=this;return this._options.payments?this._options.payments.map((function(t){var r=Br({},t[e.platformId]);return r.platformProductId=r.id,r.id=t.id,r})):[]}},{key:\"_paymentsGetProductPlatformData\",value:function(e){var t=this._options.payments;if(!t)return null;var r=t.find((function(t){return t.id===e}));if(!r)return null;var n=Br({},r[this.platformId]);return n.platformProductId=n.id,n.id=r.id,n}},{key:\"_paymentsGenerateTransactionId\",value:function(e){return\"\".concat(e,\"_\").concat(Date.now(),\"_\").concat(Math.random().toString(36).substring(2,10))}},{key:\"_advertisementShowErrorPopup\",value:function(e){var t,r=this;return(null===(t=this._options)||void 0===t||null===(t=t.advertisement)||void 0===t?void 0:t.useBuiltInErrorPopup)?function(e){if(!document.getElementById(\"bridge-info-popup-styles\")){var t=document.createElement(\"style\");t.id=\"bridge-info-popup-styles\",t.textContent=\"\\n            #bridge-info-popup-overlay {\\n                position: fixed;\\n                top: 0;\\n                left: 0;\\n                width: 100vw;\\n                height: 100vh;\\n                background-color: rgba(0, 0, 0, 0.5);\\n                z-index: 9998;\\n                display: none;\\n            }\\n\\n            #bridge-info-popup {\\n                position: fixed;\\n                top: 50%;\\n                left: 50%;\\n                transform: translate(-50%, -50%);\\n                background-color: #2E3C75;\\n                color: #fff;\\n                padding: 20px;\\n                z-index: 9999;\\n                display: none;\\n                border-radius: 10px;\\n                box-shadow: 0 0 10px #2E3C75;\\n                font-size: 24px;\\n                font-family: 'Roboto', sans-serif;\\n                text-align: center;\\n                min-width: 250px;\\n                max-width: 30%;\\n                flex-direction: column;\\n                justify-content: center;\\n                align-items: center;\\n            }\\n\\n            #bridge-info-popup-button {\\n                margin-top: 24px;\\n                width: 150px;\\n                background-color: rgba(255, 255, 255, 0.2);\\n                color: #fff;\\n                border: none;\\n                font-size: 24px;\\n                padding: 20px;\\n                border-radius: 5px;\\n                cursor: pointer;\\n                font-family: 'Roboto', sans-serif;\\n                display: block;\\n            }\\n\\n            #bridge-info-popup-button:hover {\\n                background-color: rgba(255, 255, 255, 0.3);\\n            }\",document.head.appendChild(t)}var r=document.getElementById(\"bridge-info-popup-overlay\");r||((r=document.createElement(\"div\")).id=\"bridge-info-popup-overlay\",document.body.appendChild(r));var n=document.getElementById(\"bridge-info-popup\");n||((n=document.createElement(\"div\")).id=\"bridge-info-popup\"),n.innerText=\"Oops! It looks like you closed the ad too early, or it isn't available right now.\";var o=document.getElementById(\"bridge-info-popup-button\");return o||((o=document.createElement(\"button\")).id=\"bridge-info-popup-button\",o.innerText=\"OK\",n.appendChild(o)),document.body.appendChild(n),new Promise((function(e){o.onclick=function(){n.style.display=\"none\",r.style.display=\"none\",e()},r.style.display=\"block\",n.style.display=\"flex\"}))}().then((function(){e?r._setRewardedState(a.FAILED):r._setInterstitialState(i.FAILED)})):(e?this._setRewardedState(a.FAILED):this._setInterstitialState(i.FAILED),Promise.resolve())}}])&&Gr(r.prototype,c),Object.defineProperty(r,\"prototype\",{writable:!1}),t}();U().mixin(Ur.prototype);const zr=Ur;function Wr(e){return Wr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Wr(e)}function Vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Xr(n.key),n)}}function Zr(){return Zr=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Zr.apply(this,arguments)}function Yr(e,t){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yr(e,t)}function Jr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}function qr(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Xr(e){var t=function(e,t){if(\"object\"!=Wr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Wr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Wr(t)?t:String(t)}function Qr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function $r(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,en(e,t,\"get\"))}function en(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var tn=new WeakMap,rn=new WeakSet;function nn(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"result\",i=this._getPromiseDecorator(e);return i||(i=this._createPromiseDecorator(e),this._platformSdk.send(t,n).then((function(t){t[o]?r._resolvePromiseDecorator(e):r._rejectPromiseDecorator(e)})).catch((function(t){r._rejectPromiseDecorator(e,t)}))),i.promise}const on=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Yr(e,t)}(l,t);var r,n,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kr(o);if(c){var r=Kr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Wr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Jr(e)}(this,e)});function l(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return qr(t=Jr(e=u.call.apply(u,[this].concat(o))),r=rn),r.add(t),function(e,t,r){(t=Xr(t))in e?Object.defineProperty(e,t,{value:true,enumerable:!0,configurable:!0,writable:!0}):e[t]=true}(Jr(e),\"_isBannerSupported\"),function(e,t,r){qr(e,t),t.set(e,{writable:!0,value:void 0})}(Jr(e),tn),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.VK}},{key:\"platformLanguage\",get:function(){var e=new URL(window.location.href);if(e.searchParams.has(\"language\")){var t=e.searchParams.get(\"language\"),r=0;try{r=parseInt(t,10)}catch(e){r=0}switch(r){case 0:default:return\"ru\";case 1:return\"uk\";case 2:return\"be\";case 3:return\"en\"}}return Zr(Kr(l.prototype),\"platformLanguage\",this)}},{key:\"platformPayload\",get:function(){var e=new URL(window.location.href);return e.searchParams.has(\"hash\")?e.searchParams.get(\"hash\"):Zr(Kr(l.prototype),\"platformPayload\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch($r(this,tn)){case\"html5_ios\":case\"html5_android\":case\"html5_mobile\":return p.MOBILE;case\"web\":return p.DESKTOP;default:return Zr(Kr(l.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPlayerAuthorized\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return\"html5_android\"===$r(this,tn)}},{key:\"isAddToFavoritesSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r,n,o=this._getPromiseDecorator(v.INITIALIZE);if(!o){o=this._createPromiseDecorator(v.INITIALIZE);var i=new URL(window.location.href);i.searchParams.has(\"platform\")&&(t=this,r=tn,n=i.searchParams.get(\"platform\"),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t,en(t,r,\"set\"),n)),me(\"https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js\").then((function(){ge(\"vkBridge\").then((function(){e._platformSdk=window.vkBridge,e._platformSdk.send(\"VKWebAppInit\").then((function(){e._platformSdk.send(\"VKWebAppGetUserInfo\").then((function(t){t&&(e._playerId=t.id,e._playerName=\"\".concat(t.first_name,\" \").concat(t.last_name),t.photo_100&&e._playerPhotos.push(t.photo_100),t.photo_200&&e._playerPhotos.push(t.photo_200),t.photo_max_orig&&e._playerPhotos.push(t.photo_max_orig))})).finally((function(){e._isInitialized=!0,e._defaultStorageType=f.PLATFORM_INTERNAL,e._resolvePromiseDecorator(v.INITIALIZE)}))}))}))}))}return o.promise}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||Zr(Kr(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL||Zr(Kr(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,o){var i=Array.isArray(e)?e:[e];n._platformSdk.send(\"VKWebAppStorageGet\",{keys:i}).then((function(n){if(Array.isArray(e)){var o=[];return i.forEach((function(e){var t=n.keys.findIndex((function(t){return t.key===e}));if(t<0)o.push(null);else if(\"\"!==n.keys[t].value){var i=n.keys[t].value;if(r)try{i=JSON.parse(n.keys[t].value)}catch(e){}o.push(i)}else o.push(null)})),void t(o)}if(\"\"!==n.keys[0].value){var a=n.keys[0].value;if(r)try{a=JSON.parse(n.keys[0].value)}catch(e){}t(a)}else t(null)})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?o(e.error_data.error_reason):o()}))})):Zr(Kr(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;if(r===f.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a={key:e[i],value:t[i]};\"string\"!=typeof t[i]&&(a.value=JSON.stringify(t[i])),o.push(this._platformSdk.send(\"VKWebAppStorageSet\",a))}return Promise.all(o)}var s={key:e,value:t};return\"string\"!=typeof t&&(s.value=JSON.stringify(t)),new Promise((function(e,t){n._platformSdk.send(\"VKWebAppStorageSet\",s).then((function(){e()})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?t(e.error_data.error_reason):t()}))}))}return Zr(Kr(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t===f.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++)r.push(this.setDataToStorage(e[n],\"\",t));return Promise.all(r)}return this.setDataToStorage(e,\"\",t)}return Zr(Kr(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e){var t=this;this._platformSdk.send(\"VKWebAppShowBannerAd\",{banner_location:e}).then((function(e){e.result?t._setBannerState(s.SHOWN):t._setBannerState(s.FAILED)})).catch((function(){t._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppHideBannerAd\").then((function(t){t.result&&e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"interstitial\"}).then((function(t){t.result&&e._setInterstitialState(i.OPENED)})).finally((function(){e._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"interstitial\"}).then((function(t){e._setInterstitialState(t.result?i.CLOSED:i.FAILED)})).catch((function(){e._setInterstitialState(i.FAILED)}))}))}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(t){t.result&&e._setRewardedState(a.OPENED)})).finally((function(){e._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(t){t.result?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)})).catch((function(){e._setRewardedState(a.FAILED)}))}))}},{key:\"inviteFriends\",value:function(){return Qr(this,rn,nn).call(this,v.INVITE_FRIENDS,\"VKWebAppShowInviteBox\",{},\"success\")}},{key:\"joinCommunity\",value:function(e){if(!e||!e.groupId)return Promise.reject();var t=e.groupId;return\"string\"==typeof t&&(t=parseInt(t,10),Number.isNaN(t))?Promise.reject():Qr(this,rn,nn).call(this,v.JOIN_COMMUNITY,\"VKWebAppJoinGroup\",{group_id:t}).then((function(){window.open(\"https://vk.com/public\".concat(t))}))}},{key:\"share\",value:function(e){var t={};return e&&e.link&&(t.link=e.link),Qr(this,rn,nn).call(this,v.SHARE,\"VKWebAppShare\",t,\"type\")}},{key:\"addToHomeScreen\",value:function(){return this.isAddToHomeScreenSupported?Qr(this,rn,nn).call(this,v.ADD_TO_HOME_SCREEN,\"VKWebAppAddToHomeScreen\"):Promise.reject()}},{key:\"addToFavorites\",value:function(){return Qr(this,rn,nn).call(this,v.ADD_TO_FAVORITES,\"VKWebAppAddToFavorites\")}},{key:\"clipboardWrite\",value:function(e){return Qr(this,rn,nn).call(this,v.CLIPBOARD_WRITE,\"VKWebAppCopyText\",{text:e})}}])&&Vr(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(zr);function an(e){return an=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},an(e)}function sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=ln(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function un(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ln(n.key),n)}}function ln(e){var t=function(e,t){if(\"object\"!=an(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=an(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==an(t)?t:String(t)}function fn(){return fn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},fn.apply(this,arguments)}function pn(e,t){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pn(e,t)}function dn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function hn(e){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hn(e)}function yn(e,t,r){mn(e,t),t.set(e,r)}function mn(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function vn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function _n(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Sn(e,t,\"set\"),r),r}function gn(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Sn(e,t,\"get\"))}function Sn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var bn=new WeakMap,En=new WeakMap,Pn=new WeakMap,wn=new WeakMap,An=new WeakSet;function On(){var e=this;return new Promise((function(t){var r=!1;e._options&&e._options.useSignedData&&(r=e._options.useSignedData),e._platformSdk.getPlayer({signed:r}).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized=t.isAuthorized(),e._defaultStorageType=e._isPlayerAuthorized?f.PLATFORM_INTERNAL:f.LOCAL_STORAGE;var n=t.getName();\"\"!==n&&(e._playerName=n),e._playerPhotos=[];var o=t.getPhoto(\"small\"),i=t.getPhoto(\"medium\"),a=t.getPhoto(\"large\");return o&&e._playerPhotos.push(o),i&&e._playerPhotos.push(i),a&&e._playerPhotos.push(a),e._playerExtra={payingStatus:t.getPayingStatus()},r&&(e._playerExtra.signature=t.signature),_n(e,En,t),t.getData()})).then((function(t){e._platformStorageCachedData=t})).finally((function(){t()}))}))}const kn=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&pn(e,t)}(l,t);var r,n,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hn(o);if(c){var r=hn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===an(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return dn(e)}(this,e)});function l(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return mn(t=dn(e=u.call.apply(u,[this].concat(o))),r=An),r.add(t),yn(dn(e),bn,{writable:!0,value:!1}),yn(dn(e),En,{writable:!0,value:null}),yn(dn(e),Pn,{writable:!0,value:null}),yn(dn(e),wn,{writable:!0,value:null}),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.YANDEX}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():fn(hn(l.prototype),\"platformLanguage\",this)}},{key:\"platformTld\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():fn(hn(l.prototype),\"platformTld\",this)}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!0}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.deviceInfo.type){case p.DESKTOP:return p.DESKTOP;case p.MOBILE:return p.MOBILE;case p.TABLET:return p.TABLET;case p.TV:return p.TV;default:return fn(hn(l.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return gn(this,bn)}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return y}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isRemoteConfigSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"/sdk.js\").then((function(){ge(\"YaGames\",\"init\").then((function(){window.YaGames.init().then((function(t){var r;e._platformSdk=t,_n(e,wn,vn(e,An,On).call(e));var n=null===(r=e._platformSdk.features.PluginEngineDataReporterAPI)||void 0===r?void 0:r.report({engineName:\"\",engineVersion:\"\",pluginName:\"playgama-bridge\",pluginVersion:\"1.25.0\"}),o=e._platformSdk.shortcut.canShowPrompt().then((function(t){_n(e,bn,t.canShow)})),i=new Promise((function(e){setTimeout(e,1e3)})),a=Promise.race([o,i]),c=e._platformSdk.getPayments().then((function(t){_n(e,Pn,t)}));e._isBannerSupported=!0;var u=e._platformSdk.adv.getBannerAdvStatus().then((function(t){t.stickyAdvIsShowing&&e._setBannerState(s.SHOWN)}));Promise.all([n,a,c,u]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}))}))}))}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case d.GAME_READY:var t;return null===(t=this._platformSdk.features.LoadingAPI)||void 0===t||t.ready(),Promise.resolve();case d.GAMEPLAY_STARTED:var r;return null===(r=this._platformSdk.features.GameplayAPI)||void 0===r||r.start(),Promise.resolve();case d.GAMEPLAY_STOPPED:var n;return null===(n=this._platformSdk.features.GameplayAPI)||void 0===n||n.stop(),Promise.resolve();default:return fn(hn(l.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(t){t(e._platformSdk.serverTime())}))}},{key:\"getAllGames\",value:function(){var e=this;return new Promise((function(t,r){e._platformSdk.features.GamesAPI.getAllGames().then((function(e){var r=e.games;t(r)})).catch(r)}))}},{key:\"getGameById\",value:function(e){var t=this;return null!=e&&e.gameId?new Promise((function(r,n){t._platformSdk.features.GamesAPI.getGameByID(null==e?void 0:e.gameId).then((function(e){var t=e.game,n=e.isAvailable;r(cn(cn({},t),{},{isAvailable:n}))})).catch(n)})):Promise.reject(new Error(\"Provide gameId\"))}},{key:\"authorizePlayer\",value:function(){var e=this,t=this._getPromiseDecorator(v.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(v.AUTHORIZE_PLAYER),this._isPlayerAuthorized?(_n(this,wn,vn(this,An,On).call(this)),gn(this,wn).then((function(){e._resolvePromiseDecorator(v.AUTHORIZE_PLAYER)}))):this._platformSdk.auth.openAuthDialog().then((function(){_n(e,wn,vn(e,An,On).call(e)),gn(e,wn).then((function(){e._resolvePromiseDecorator(v.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(v.AUTHORIZE_PLAYER,t)}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||fn(hn(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL?this._isPlayerAuthorized:fn(hn(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===f.PLATFORM_INTERNAL?this._isPlayerAuthorized?gn(this,wn).then((function(){return new Promise((function(t){if(Array.isArray(e)){for(var r=[],o=0;o<e.length;o++){var i=void 0===n._platformStorageCachedData[e[o]]?null:n._platformStorageCachedData[e[o]];r.push(i)}t(r)}else t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}))})):Promise.reject():fn(hn(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===f.PLATFORM_INTERNAL?this._isPlayerAuthorized?gn(this,wn).then((function(){return new Promise((function(r,o){var i=null!==n._platformStorageCachedData?cn({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;gn(n,En).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))}))})):Promise.reject():fn(hn(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===f.PLATFORM_INTERNAL?this._isPlayerAuthorized?gn(this,wn).then((function(){return new Promise((function(t,n){var o=null!==r._platformStorageCachedData?cn({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];gn(r,En).setData(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))}))})):Promise.reject():fn(hn(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(){var e=this;this._platformSdk.adv.showBannerAdv().then((function(t){t.stickyAdvIsShowing?e._setBannerState(s.SHOWN):e._setBannerState(s.FAILED)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.adv.hideBannerAdv().then((function(t){t.stickyAdvIsShowing||e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){e._setInterstitialState(i.OPENED)},onClose:function(t){t?e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)},onError:function(e){console.error(e)}}})}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){e._setRewardedState(a.OPENED)},onRewarded:function(){e._setRewardedState(a.REWARDED)},onClose:function(){e._setRewardedState(a.CLOSED)},onError:function(){e._setRewardedState(a.FAILED)}}})}},{key:\"checkAdBlock\",value:function(){return new Promise((function(e){e(!1)}))}},{key:\"addToHomeScreen\",value:function(){var e=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var t=this._getPromiseDecorator(v.ADD_TO_HOME_SCREEN);return t||(t=this._createPromiseDecorator(v.ADD_TO_HOME_SCREEN),this._platformSdk.shortcut.showPrompt().then((function(t){\"accepted\"!==t.outcome?e._rejectPromiseDecorator(v.ADD_TO_HOME_SCREEN):e._resolvePromiseDecorator(v.ADD_TO_HOME_SCREEN)})).catch((function(t){e._rejectPromiseDecorator(v.ADD_TO_HOME_SCREEN,t)}))),t.promise}},{key:\"rate\",value:function(){var e=this,t=this._getPromiseDecorator(v.RATE);return t||(t=this._createPromiseDecorator(v.RATE),this._platformSdk.feedback.canReview().then((function(t){t.value?e._platformSdk.feedback.requestReview().then((function(t){t.feedbackSent?e._resolvePromiseDecorator(v.RATE):e._rejectPromiseDecorator(v.RATE)})).catch((function(t){e._rejectPromiseDecorator(v.RATE,t)})):e._rejectPromiseDecorator(v.RATE,t.reason)})).catch((function(t){e._rejectPromiseDecorator(v.RATE,t)}))),t.promise}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(v.LEADERBOARDS_SET_SCORE);return n||(n=this._createPromiseDecorator(v.LEADERBOARDS_SET_SCORE),this._platformSdk.leaderboards.setScore(e,t).then((function(){r._resolvePromiseDecorator(v.LEADERBOARDS_SET_SCORE)})).catch((function(e){r._rejectPromiseDecorator(v.LEADERBOARDS_SET_SCORE,e)}))),n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this,r=this._getPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES);if(!r){r=this._createPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES);var n={quantityTop:20};this._isPlayerAuthorized&&(n.includeUser=!0,n.quantityAround=3),this._platformSdk.leaderboards.getEntries(e,n).then((function(e){var r;r=e&&e.entries.length>0?e.entries.map((function(e){return{id:e.player.uniqueID,name:e.player.publicName,score:e.score,rank:e.rank,photo:e.player.getAvatarSrc(\"large\")}})):[],t._resolvePromiseDecorator(v.LEADERBOARDS_GET_ENTRIES,r)})).catch((function(e){t._rejectPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES,e)}))}return r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this;if(!gn(this,Pn))return Promise.reject();var r=this._paymentsGetProductPlatformData(e);r||(r={id:e});var n=this._getPromiseDecorator(v.PURCHASE);return n||(n=this._createPromiseDecorator(v.PURCHASE),gn(this,Pn).purchase(r).then((function(r){var n=cn({id:e},r.purchaseData);delete n.productID,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(v.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(v.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this;if(!gn(this,Pn))return Promise.reject();var r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(v.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(v.CONSUME_PURCHASE),gn(this,Pn).consumePurchase(this._paymentsPurchases[r].purchaseToken).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(v.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(v.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this;if(!gn(this,Pn))return Promise.reject();var t=this._paymentsGetProductsPlatformData(),r=this._getPromiseDecorator(v.GET_CATALOG);return r||(r=this._createPromiseDecorator(v.GET_CATALOG),gn(this,Pn).getCatalog().then((function(r){var n=t.map((function(e){var t,n=r.find((function(t){return t.id===e.id}));return{id:e.id,title:n.title,description:n.description,imageURI:n.imageURI,price:n.price,priceCurrencyCode:n.priceCurrencyCode,priceValue:n.priceValue,priceCurrencyImage:null===(t=n.getPriceCurrencyImage)||void 0===t?void 0:t.call(n,\"medium\")}}));e._resolvePromiseDecorator(v.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(v.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this;if(!gn(this,Pn))return Promise.reject();var t=this._getPromiseDecorator(v.GET_PURCHASES);return t||(t=this._createPromiseDecorator(v.GET_PURCHASES),gn(this,Pn).getPurchases().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){var t=cn({id:r.find((function(t){return t.id===e.productID})).id},e.purchaseData);return delete t.productID,t})),e._resolvePromiseDecorator(v.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(v.GET_PURCHASES,t)}))),t.promise}},{key:\"getRemoteConfig\",value:function(e){var t=this;if(!this._platformSdk)return Promise.reject();var r=e;r||(r={}),r.clientFeatures||(r.clientFeatures=[]);var n=this._getPromiseDecorator(v.GET_REMOTE_CONFIG);return n||(n=this._createPromiseDecorator(v.GET_REMOTE_CONFIG),this._platformSdk.getFlags(r).then((function(e){t._resolvePromiseDecorator(v.GET_REMOTE_CONFIG,e)})).catch((function(e){t._rejectPromiseDecorator(v.GET_REMOTE_CONFIG,e)}))),n.promise}},{key:\"clipboardWrite\",value:function(e){var t=this,r=this._getPromiseDecorator(v.CLIPBOARD_WRITE);return r||(r=this._createPromiseDecorator(v.CLIPBOARD_WRITE),this._platformSdk.clipboard.writeText(e).then((function(){t._resolvePromiseDecorator(v.CLIPBOARD_WRITE,!0)})).catch((function(e){t._rejectPromiseDecorator(v.CLIPBOARD_WRITE,e)}))),r.promise}}])&&un(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(zr);function Dn(e){return Dn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Dn(e)}function In(){In=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new T(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var c=f(e[o],e,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==Dn(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r(\"throw\",e,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var u=f(t,r,n);if(\"normal\"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(D,this),this.reset(!0)}function R(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Dn(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;I(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function Tn(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Rn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Tn(i,n,o,a,s,\"next\",e)}function s(e){Tn(i,n,o,a,s,\"throw\",e)}a(void 0)}))}}function Ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Cn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Cn(n.key),n)}}function Cn(e){var t=function(e,t){if(\"object\"!=Dn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Dn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Dn(t)?t:String(t)}function Bn(){return Bn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Bn.apply(this,arguments)}function Gn(e,t){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gn(e,t)}function Mn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Fn(e){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fn(e)}function xn(e,t){Un(e,t),t.add(e)}function Hn(e,t,r){Un(e,t),t.set(e,r)}function Un(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function zn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Wn(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Zn(e,t,\"set\"),r),r}function Vn(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Zn(e,t,\"get\"))}function Zn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Yn=\"https://cdn.xsolla.net/payments-bucket-prod/embed/1.5.0/widget.min.js\",Jn=\"https://store.xsolla.com/api/v2/project/\",Kn=new WeakMap,qn=new WeakMap,Xn=new WeakMap,Qn=new WeakSet,$n=new WeakSet,eo=new WeakSet,to=new WeakSet;function ro(){var e=this;return Vn(this,qn)?new Promise((function(t,r){e._platformSdk.user.getUser().then((function(n){n?(e._isPlayerAuthorized=!0,n.username&&(e._playerName=n.username),n.profilePictureUrl&&(e._playerPhotos=[n.profilePictureUrl]),e._playerExtra=n,delete e._playerExtra.username,delete e._playerExtra.profilePictureUrl,e._options.useUserToken?e._platformSdk.user.getUserToken().then((function(t){e._playerExtra.jwt=t})).finally((function(){t()})):t()):r()})).catch((function(e){r(e)}))})):Promise.reject()}function no(){return oo.apply(this,arguments)}function oo(){return(oo=Rn(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.XPayStationWidget){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,me(Yn);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function io(){return ao.apply(this,arguments)}function ao(){return(ao=Rn(In().mark((function e(){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._platformSdk.user.getXsollaUserToken();case 2:case\"end\":return e.stop()}}),e,this)})))).apply(this,arguments)}function so(e,t,r){return co.apply(this,arguments)}function co(){return(co=Rn(In().mark((function e(t,r,n){var o;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(Jn,\"/\").concat(t,\"/order/\").concat(r),{headers:{Authorization:\"Bearer \".concat(n)}});case 2:if((o=e.sent).ok){e.next=5;break}throw new Error(\"Xsolla order HTTP \".concat(o.status));case 5:return e.abrupt(\"return\",o.json());case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}const uo=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Gn(e,t)}(h,t);var r,n,o,u,l=(o=h,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fn(o);if(u){var r=Fn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Dn(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Mn(e)}(this,e)});function h(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return xn(Mn(e=l.call.apply(l,[this].concat(r))),to),xn(Mn(e),eo),xn(Mn(e),$n),xn(Mn(e),Qn),Hn(Mn(e),Kn,{writable:!0,value:!1}),Hn(Mn(e),qn,{writable:!0,value:!1}),Hn(Mn(e),Xn,{writable:!0,value:{adStarted:function(){Vn(Mn(e),Kn)?e._setRewardedState(a.OPENED):e._setInterstitialState(i.OPENED)},adFinished:function(){Vn(Mn(e),Kn)?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setInterstitialState(i.CLOSED)},adError:function(){Vn(Mn(e),Kn)?e._setRewardedState(a.FAILED):e._setInterstitialState(i.FAILED)}}}),e}return r=h,(n=[{key:\"platformId\",get:function(){return e.CRAZY_GAMES}},{key:\"platformLanguage\",get:function(){return Vn(this,qn)?this._platformSdk.user.systemInfo.countryCode.toLowerCase():Bn(Fn(h.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return Vn(this,qn)}},{key:\"isPaymentsSupported\",get:function(){return!0===Vn(this,qn)}},{key:\"deviceType\",get:function(){if(Vn(this,qn)){var e=this._platformSdk.user.systemInfo.device.type.toLowerCase();if([p.DESKTOP,p.MOBILE,p.TABLET].includes(e))return e}return Bn(Fn(h.prototype),\"deviceType\",this)}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"https://sdk.crazygames.com/crazygames-sdk-v3.js\").then((function(){ge(\"CrazyGames\",\"SDK\",\"init\").then((function(){e._platformSdk=window.CrazyGames.SDK,e._defaultStorageType=f.PLATFORM_INTERNAL,e._isBannerSupported=!0,e._platformSdk.init().then((function(){Wn(e,qn,e._platformSdk.user.isUserAccountAvailable);var t=zn(e,Qn,ro).call(e);e.options.xsollaProjectId&&zn(e,$n,no).call(e),Promise.all([t]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}))}))}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;if(!Vn(this,qn))return Promise.reject();if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(v.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(v.AUTHORIZE_PLAYER),this._platformSdk.user.showAuthPrompt().then((function(){zn(e,Qn,ro).call(e).then((function(){e._resolvePromiseDecorator(v.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(v.AUTHORIZE_PLAYER,t)}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case d.IN_GAME_LOADING_STARTED:return this._platformSdk.game.loadingStart(),Promise.resolve();case d.IN_GAME_LOADING_STOPPED:return this._platformSdk.game.loadingStop(),Promise.resolve();case d.GAMEPLAY_STARTED:return this._platformSdk.game.gameplayStart(),Promise.resolve();case d.GAMEPLAY_STOPPED:return this._platformSdk.game.gameplayStop(),Promise.resolve();case d.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.game.happytime(),Promise.resolve();default:return Bn(Fn(h.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||Bn(Fn(h.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL||Bn(Fn(h.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t){if(Array.isArray(e)){var o=[];return e.forEach((function(e){var t=n._platformSdk.data.getItem(e);if(r)try{t=JSON.parse(t)}catch(e){}o.push(t)})),void t(o)}var i=n._platformSdk.data.getItem(e);if(r)try{i=JSON.parse(i)}catch(e){}t(i)})):Bn(Fn(h.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===f.PLATFORM_INTERNAL?new Promise((function(r){if(Array.isArray(e)){for(var o=0;o<e.length;o++){var i=t[o];\"string\"!=typeof t[o]&&(i=JSON.stringify(t[o])),n._platformSdk.data.setItem(e[o],i)}r()}else{var a=t;\"string\"!=typeof t&&(a=JSON.stringify(t)),n._platformSdk.data.setItem(e,a),r()}})):Bn(Fn(h.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===f.PLATFORM_INTERNAL?Array.isArray(e)?(e.forEach((function(e){return r._platformSdk.data.removeItem(e)})),Promise.resolve()):(this._platformSdk.data.removeItem(e),Promise.resolve()):Bn(Fn(h.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e){var t=this,r=document.getElementById(c);r||(r=ve(e)),r.style.display=\"block\",this._platformSdk.banner.requestResponsiveBanner([c]).then((function(){t._setBannerState(s.SHOWN)})).catch((function(){t._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var e=document.getElementById(c);e&&(e.style.display=\"none\"),this._platformSdk.banner.clearAllBanners(),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){Wn(this,Kn,!1),this._platformSdk.ad.requestAd(\"midgame\",Vn(this,Xn))}},{key:\"showRewarded\",value:function(){Wn(this,Kn,!0),this._platformSdk.ad.requestAd(\"rewarded\",Vn(this,Xn))}},{key:\"checkAdBlock\",value:function(){var e=this;return new Promise((function(t){e._platformSdk.ad.hasAdblock().then((function(e){t(e)}))}))}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);r||(r={id:e});var n=r.platformProductId||r.id,o=this._getPromiseDecorator(v.PURCHASE);return o||(o=this._createPromiseDecorator(v.PURCHASE),zn(this,$n,no).call(this).then((function(){return zn(t,eo,io).call(t)})).then((function(e){var o=window.XPayStationWidget;if(!o)throw new Error(\"Xsolla Pay Station widget not loaded\");o.init({access_token:e,sandbox:t.options.isSandbox||!1,childWindow:{target:\"_blank\"},settings:{external_id:n}});var i=!1;o.on(o.eventTypes.STATUS,(function(o,a){try{var s=a&&a.paymentInfo||{};if(s.status&&/done|charged|success/i.test(String(s.status))){var c=s.order_id||s.invoice;if(!c)return;zn(t,to,so).call(t,t.options.xsollaProjectId,c,e).then((function(e){t._platformSdk.analytics.trackOrder(\"xsolla\",e);var o=jn({id:r.id,sku:n,orderId:c},e);t._paymentsPurchases.push(o),i||(i=!0,t._resolvePromiseDecorator(v.PURCHASE,o))})).catch((function(e){i||t._rejectPromiseDecorator(v.PURCHASE,e)}))}}catch(e){i||t._rejectPromiseDecorator(v.PURCHASE,e)}})),o.on(\"close\",(function(){i||t._rejectPromiseDecorator(v.PURCHASE,new Error(\"Purchase canceled/closed\"))})),o.open()})).catch((function(e){t._rejectPromiseDecorator(v.PURCHASE,e)}))),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject(new Error(\"No platform products available\"));var r=this._getPromiseDecorator(v.GET_CATALOG);return r||(r=this._createPromiseDecorator(v.GET_CATALOG),zn(this,eo,io).call(this).then((function(t){return fetch(\"\".concat(Jn,\"/\").concat(e.options.xsollaProjectId,\"/items?limit=50\"),{headers:{Authorization:\"Bearer \".concat(t)}})})).then((function(e){if(!e.ok)throw new Error(\"Xsolla catalog HTTP \".concat(e.status));return e.json()})).then((function(r){var n=new Map((r.items||[]).map((function(e){return[e.sku,e]}))),o=t.map((function(e){var t,r,o,i,a,s,c,u,l,f,p=e.platformProductId||e.id,d=n.get(p);return{id:e.id,name:null!==(t=null!==(r=null==d?void 0:d.name)&&void 0!==r?r:e.name)&&void 0!==t?t:e.id,description:null!==(o=null!==(i=null==d?void 0:d.description)&&void 0!==i?i:e.description)&&void 0!==o?o:\"\",price:null!==(a=null==d||null===(s=d.price)||void 0===s?void 0:s.amount)&&void 0!==a?a:null,priceCurrencyCode:null!==(c=null==d||null===(u=d.price)||void 0===u?void 0:u.currency)&&void 0!==c?c:null,priceValue:null!==(l=null==d||null===(f=d.price)||void 0===f?void 0:f.amount)&&void 0!==l?l:null}}));e._resolvePromiseDecorator(v.GET_CATALOG,o)})).catch((function(t){e._rejectPromiseDecorator(v.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(t<0)return Promise.reject(new Error(\"No such purchase to consume\"));var r=this._getPromiseDecorator(v.CONSUME_PURCHASE);if(!r){r=this._createPromiseDecorator(v.CONSUME_PURCHASE);try{this._paymentsPurchases.splice(t,1),this._resolvePromiseDecorator(v.CONSUME_PURCHASE,{id:e})}catch(e){this._rejectPromiseDecorator(v.CONSUME_PURCHASE,e)}}return r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(v.GET_PURCHASES);return t||(t=this._createPromiseDecorator(v.GET_PURCHASES),zn(this,eo,io).call(this).then((function(t){return fetch(\"\".concat(Jn,\"/\").concat(e.options.xsollaProjectId,\"/user/inventory/items\"),{headers:{Authorization:\"Bearer \".concat(t)}})})).then((function(e){if(!e.ok)throw new Error(\"Xsolla inventory HTTP \".concat(e.status));return e.json()})).then((function(t){var r=e._paymentsGetProductsPlatformData()||[];e._paymentsPurchases=(t.items||[]).map((function(e){var t=r.find((function(t){return t.id===e.sku}));return t?jn({id:t.id},e):null})).filter(Boolean),e._resolvePromiseDecorator(v.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(v.GET_PURCHASES,t)}))),t.promise}}])&&Nn(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),h}(zr);function lo(e){return lo=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},lo(e)}function fo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=yo(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ho(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,yo(n.key),n)}}function yo(e){var t=function(e,t){if(\"object\"!=lo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=lo(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==lo(t)?t:String(t)}function mo(){return mo=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=go(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},mo.apply(this,arguments)}function vo(e,t){return vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vo(e,t)}function _o(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function go(e){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},go(e)}var So=new WeakSet;function bo(){var e=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized=\"false\"===this._platformSdk.options.guest,new Promise((function(t){e._platformSdk.getUsers([e._playerId],(function(r){if(r&&1===r.length){var n=r[0];e._playerName=n.full_name,\"\"!==n.avatar&&(e._playerPhotos=[n.avatar])}t()}))}))}const Eo=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&vo(e,t)}(u,t);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=go(o);if(s){var r=go(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===lo(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return _o(e)}(this,e)});function u(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t=_o(e=c.call.apply(c,[this].concat(o))),r=So),r.add(t),e}return r=u,(n=[{key:\"platformId\",get:function(){return e.ABSOLUTE_GAMES}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"https://unpkg.com/@agru/sdk/dist/umd/index.min.js\").then((function(){e._platformSdk=new window.AgRuSdk,e._platformSdk.on(window.AgRuSdkMethods.ShowCampaign,(function(t,r){\"rewarded\"===t.type?null===r?t.status?e._setRewardedState(a.OPENED):(t.reward&&e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED):null===r?t.status?e._setInterstitialState(i.OPENED):e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)}));var t=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}(e,So,bo).call(e);Promise.all([t]).finally((function(){e._isInitialized=!0,e._defaultStorageType=e._isPlayerAuthorized?f.PLATFORM_INTERNAL:f.LOCAL_STORAGE,e._resolvePromiseDecorator(v.INITIALIZE)}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(v.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(v.AUTHORIZE_PLAYER),this._platformSdk.authorize((function(t,r){null===r?e._resolvePromiseDecorator(v.AUTHORIZE_PLAYER):e._rejectPromiseDecorator(v.AUTHORIZE_PLAYER,r)}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||mo(go(u.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL?this._isPlayerAuthorized:mo(go(u.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,r){if(n._platformStorageCachedData){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a=void 0===n._platformStorageCachedData[e[i]]?null:n._platformStorageCachedData[e[i]];o.push(a)}return void t(o)}t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}else n._isPlayerAuthorized?n._platformSdk.getSaveData((function(o,i){if(null===i){if(n._platformStorageCachedData=o||{},Array.isArray(e)){for(var a=[],s=0;s<e.length;s++){var c=void 0===n._platformStorageCachedData[e[s]]?null:n._platformStorageCachedData[e[s]];a.push(c)}return void t(a)}t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}else r(i)})):r()})):mo(go(u.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===f.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?po({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.setSaveData(i,(function(e,t){null===t&&(n._platformStorageCachedData=i,r()),o(t)}))}else o()})):mo(go(u.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?po({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r._platformSdk.setSaveData(o,(function(e,i){null===i&&(r._platformStorageCachedData=o,t()),n(i)}))}else n()})):mo(go(u.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){this._platformSdk.showCampaign(\"default\")}},{key:\"showRewarded\",value:function(){this._platformSdk.showCampaign(\"rewarded\")}}])&&ho(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(zr);function Po(e){return Po=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Po(e)}function wo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ao(n.key),n)}}function Ao(e){var t=function(e,t){if(\"object\"!=Po(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Po(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Po(t)?t:String(t)}function Oo(e,t){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oo(e,t)}function ko(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Do(e)}function Io(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Ro(e,t,\"set\"),r),r}function To(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ro(e,t,\"get\"))}function Ro(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Lo=new WeakMap;const jo=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Oo(e,t)}(p,t);var r,n,o,u,l=(o=p,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Do(o);if(u){var r=Do(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Po(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ko(e)}(this,e)});function p(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=ko(e=l.call.apply(l,[this].concat(i))),n={writable:!0,value:!1},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,r=Lo),r.set(t,n),e}return r=p,(n=[{key:\"platformId\",get:function(){return e.GAME_DISTRIBUTION}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isMinimumDelayBetweenInterstitialEnabled\",get:function(){return!1}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(v.INITIALIZE);if(!e)if(e=this._createPromiseDecorator(v.INITIALIZE),this._options&&\"string\"==typeof this._options.gameId){var t=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(e){switch(e.name){case\"SDK_READY\":t._platformSdk=window.gdsdk,t._isInitialized=!0,t.showInterstitial(),t._resolvePromiseDecorator(v.INITIALIZE);break;case\"SDK_GAME_START\":To(t,Lo)?(t._setRewardedState(a.CLOSED),t._platformSdk.preloadAd(\"rewarded\")):t._setInterstitialState(i.CLOSED);break;case\"SDK_GAME_PAUSE\":To(t,Lo)?t._setRewardedState(a.OPENED):t._setInterstitialState(i.OPENED);break;case\"SDK_REWARDED_WATCH_COMPLETE\":t._setRewardedState(a.REWARDED)}}},this._defaultStorageType=f.LOCAL_STORAGE,this._isBannerSupported=!0,me(\"https://html5.api.gamedistribution.com/main.min.js\")}else this._rejectPromiseDecorator(v.INITIALIZE,b);return e.promise}},{key:\"showBanner\",value:function(e){var t=this,r=document.getElementById(c);r||(r=ve(e)),r.style.display=\"block\",this._platformSdk.showAd(\"display\",{containerId:c}).then((function(){t._setBannerState(s.SHOWN)})).catch((function(){t._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var e=document.getElementById(c);e&&(e.style.display=\"none\"),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){var e=this;Io(this,Lo,!1),this._platformSdk?this._platformSdk.showAd().catch((function(){e._setInterstitialState(i.FAILED)})):this._setInterstitialState(i.FAILED)}},{key:\"preloadRewarded\",value:function(){this._platformSdk.preloadAd(\"rewarded\")}},{key:\"showRewarded\",value:function(){var e=this;Io(this,Lo,!0),this._platformSdk?this._platformSdk.showAd(\"rewarded\").catch((function(){e._setRewardedState(a.FAILED)})):this._setRewardedState(a.FAILED)}}])&&wo(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(zr);function No(e){return No=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},No(e)}function Co(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Wo(n.key),n)}}function Bo(){return Bo=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fo(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Bo.apply(this,arguments)}function Go(e,t){return Go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Go(e,t)}function Mo(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fo(e)}function xo(e,t){Uo(e,t),t.add(e)}function Ho(e,t,r){Uo(e,t),t.set(e,r)}function Uo(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function zo(e,t,r){return(t=Wo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wo(e){var t=function(e,t){if(\"object\"!=No(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=No(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==No(t)?t:String(t)}function Vo(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Zo(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Yo(e,t,\"get\"))}function Yo(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Jo=\"AUTHORIZED\",Ko={VALUABLE_ACCESS:\"VALUABLE_ACCESS\",PHOTO_CONTENT:\"PHOTO_CONTENT\"},qo=new WeakMap,Xo=new WeakMap,Qo=new WeakMap,$o=new WeakMap,ei=new WeakSet,ti=new WeakSet,ri=new WeakSet,ni=new WeakSet,oi=new WeakSet,ii=new WeakSet,ai=new WeakSet,si=new WeakSet,ci=new WeakSet,ui=new WeakSet,li=new WeakSet,fi=new WeakSet,pi=new WeakSet,di=new WeakSet,hi=new WeakSet,yi=new WeakSet;function mi(){return{userProfile:{fields:\"uid,name,pic50x50,pic128x128,pic_base\",method:\"users.getCurrentUser\"},hasAppPermission:function(e){return{method:\"users.hasAppPermission\",ext_perm:e}}}}function vi(){var e=this;return{userProfileCallback:function(t,r,n){return Vo(e,ei,gi).call(e,t,r,n)},hasValueAccessCallback:function(t,r,n){return Vo(e,ri,bi).call(e,r,n)}}}function _i(){var e=this;return{showPermissions:function(){return Vo(e,ni,Ei).call(e)},loadAd:function(t){return Vo(e,oi,Pi).call(e,t)},showLoadedAd:function(t,r){return Vo(e,ii,wi).call(e,r)},showAd:function(t,r){return Vo(e,ai,Ai).call(e,r)},requestBannerAds:function(t,r){return Vo(e,si,Oi).call(e,t,r)},showBannerAds:function(t,r){return Vo(e,ui,Di).call(e,r)},hideBannerAds:function(t,r){return Vo(e,ci,ki).call(e,r)},setBannerFormat:function(t){return Vo(e,li,Ii).call(e,t)},showInvite:function(t){return Vo(e,fi,Ti).call(e,t)},showRatingDialog:function(t,r){return Vo(e,pi,Ri).call(e,t,r)},joinGroup:function(t,r){return Vo(e,di,Li).call(e,t,r)},showLoginSuggestion:function(t,r){return Vo(e,ti,Si).call(e,t,r)},postMediatopic:function(t,r){return Vo(e,hi,ji).call(e,t,r)},isAdBlockEnabled:function(t,r){return Vo(e,yi,Ni).call(e,t,r)}}}function gi(e,t){\"ok\"===e&&(this._playerId=t.uid,this._playerName=t.name,this._playerPhotos=[t.pic50x50,t.pic128x128,t.pic_base]),this._isInitialized=!0,this._platformSdk.Client.call(Zo(this,Xo).hasAppPermission(Ko.VALUABLE_ACCESS),Zo(this,Qo).hasValueAccessCallback)}function Si(e,t){if(\"error\"===e)return this._isPlayerAuthorized=!1,void this._rejectPromiseDecorator(v.AUTHORIZE_PLAYER,t);this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(v.AUTHORIZE_PLAYER)}function bi(e){if(this._hasValuableAccessPermission=!!e,this._defaultStorageType=this._hasValuableAccessPermission?f.PLATFORM_INTERNAL:f.LOCAL_STORAGE,this._hasValuableAccessPermission||this._hasValuableAccessPermissionShowed)this._resolvePromiseDecorator(v.INITIALIZE);else{var t=Object.values(Ko).map((function(e){return'\"'.concat(e,'\"')})).join(\",\");this._platformSdk.UI.showPermissions(\"[\".concat(t,\"]\"))}}function Ei(){this._hasValuableAccessPermissionShowed=!0,this._platformSdk.Client.call(Zo(this,Xo).hasAppPermission(Ko.VALUABLE_ACCESS),Zo(this,Qo).hasValueAccessCallback)}function Pi(e){\"error\"===e?this._setRewardedState(a.FAILED):(this._setRewardedState(a.OPENED),this._platformSdk.UI.showLoadedAd())}function wi(e){switch(e){case\"complete\":this._setRewardedState(a.REWARDED),this._setRewardedState(a.CLOSED);break;case\"skip\":this._setRewardedState(a.CLOSED);break;default:this._setRewardedState(a.FAILED)}}function Ai(e){switch(e){case\"ready\":case\"ad_prepared\":break;case\"ad_shown\":this._setInterstitialState(i.OPENED),this._setInterstitialState(i.CLOSED);break;default:this._setInterstitialState(i.FAILED)}}function Oi(e,t){if(\"error\"!==e)switch(t){case\"ad_loaded\":this._platformSdk.invokeUIMethod(\"showBannerAds\",Zo(this,qo));break;case\"banner_shown\":case\"ad_shown\":this._setBannerState(s.SHOWN);break;case\"hidden_by_user\":this._setBannerState(s.HIDDEN)}else this._setBannerState(s.FAILED)}function ki(e){e?this._setBannerState(s.HIDDEN):this._setBannerState(s.FAILED)}function Di(e){e||this._setBannerState(s.FAILED)}function Ii(e){\"error\"===e?this._setBannerState(s.FAILED):this.showBanner(this._platformBannerOptions)}function Ti(e){\"error\"===e?this._rejectPromiseDecorator(v.INVITE_FRIENDS):this._resolvePromiseDecorator(v.INVITE_FRIENDS)}function Ri(e,t){\"error\"===e?this._rejectPromiseDecorator(v.RATE,t):this._resolvePromiseDecorator(v.RATE)}function Li(e,t){\"error\"===e?this._rejectPromiseDecorator(v.JOIN_COMMUNITY,t):this._resolvePromiseDecorator(v.JOIN_COMMUNITY)}function ji(e,t){\"error\"===e?this._rejectPromiseDecorator(v.CREATE_POST,t):this._resolvePromiseDecorator(v.CREATE_POST)}function Ni(e,t){\"ok\"===e?this._resolvePromiseDecorator(v.ADBLOCK_DETECT,\"true\"===t):this._rejectPromiseDecorator(v.ADBLOCK_DETECT)}const Ci=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Go(e,t)}(u,t);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fo(o);if(s){var r=Fo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===No(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Mo(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return xo(Mo(e=c.call.apply(c,[this].concat(r))),yi),xo(Mo(e),hi),xo(Mo(e),di),xo(Mo(e),pi),xo(Mo(e),fi),xo(Mo(e),li),xo(Mo(e),ui),xo(Mo(e),ci),xo(Mo(e),si),xo(Mo(e),ai),xo(Mo(e),ii),xo(Mo(e),oi),xo(Mo(e),ni),xo(Mo(e),ri),xo(Mo(e),ti),xo(Mo(e),ei),Ho(Mo(e),$o,{get:_i,set:void 0}),Ho(Mo(e),Qo,{get:vi,set:void 0}),Ho(Mo(e),Xo,{get:mi,set:void 0}),zo(Mo(e),\"_hasValuableAccessPermission\",!1),zo(Mo(e),\"_hasValuableAccessPermissionShowed\",!1),zo(Mo(e),\"_platformBannerOptions\",{}),Ho(Mo(e),qo,{writable:!0,value:null}),e}return r=u,(n=[{key:\"platformId\",get:function(){return e.OK}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isCreatePostSupported\",get:function(){return!0}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"//api.ok.ru/js/fapi5.js\").then((function(){ge(\"FAPI\").then((function(){e._platformSdk=window.FAPI,window.API_callback=function(t,r,n){return Zo(e,$o)[t](r,n)};var t=e._platformSdk.Util.getRequestParameters()||{};t.api_server&&t.apiconnection?e._platformSdk.init(t.api_server,t.apiconnection,(function(){var t,r=null===(t=e._platformSdk)||void 0===t?void 0:t.saved_state;e._isPlayerAuthorized=!r||r===Jo,e._isPlayerAuthorized?e._platformSdk.Client.call(Zo(e,Xo).userProfile,Zo(e,Qo).userProfileCallback):(e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE))}),(function(){e._rejectPromiseDecorator(v.INITIALIZE)})):e._rejectPromiseDecorator(v.INITIALIZE,P)}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(v.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(v.AUTHORIZE_PLAYER),this._platformSdk.UI.showLoginSuggestion(Jo)),e.promise}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||Bo(Fo(u.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL?this._hasValuableAccessPermission:Bo(Fo(u.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===f.PLATFORM_INTERNAL?this._hasValuableAccessPermission?new Promise((function(t,o){var i=Array.isArray(e)?e:[e],a={method:\"storage.get\",keys:i,scope:\"CUSTOM\"};n._platformSdk.Client.call(a,(function(n,a,s){if(a){var c=a.data||{};if(Array.isArray(e)){var u=[];return i.forEach((function(e){if(\"\"!==c[e]&&void 0!==c[e]){var t=c[e];if(r)try{t=JSON.parse(c[e])}catch(e){}u.push(t)}else u.push(null)})),void t(u)}if(\"\"===c[e]||void 0===c[e])return void t(null);var l=c[e];if(r)try{l=JSON.parse(c[e])}catch(e){}t(l)}else o(s)}))})):Promise.reject(S):Bo(Fo(u.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;if(r===f.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(S);for(var o=Array.isArray(e)?e:[e],i=Array.isArray(e)?t:[t],a=[],s=function(){var e=o[c],t=i[c];\"string\"!=typeof t&&(t=JSON.stringify(t));var r={method:\"storage.set\",key:e,value:t},s=new Promise((function(e,t){n._platformSdk.Client.call(r,(function(r,n){n?e():t()}))}));a.push(s)},c=0;c<o.length;c++)s();return Promise.all(a)}return Bo(Fo(u.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;if(t===f.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(S);for(var n=Array.isArray(e)?e:[e],o=[],i=function(){var e={method:\"storage.set\",key:n[a]},t=new Promise((function(t,n){r._platformSdk.Client.call(e,(function(e,r){r?t():n()}))}));o.push(t)},a=0;a<n.length;a++)i();return Promise.all(o)}return Bo(Fo(u.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){try{this._platformSdk.UI.showAd()}catch(e){this._setInterstitialState(i.FAILED)}}},{key:\"showRewarded\",value:function(){try{this._platformSdk.UI.loadAd()}catch(e){this._setRewardedState(a.FAILED)}}},{key:\"showBanner\",value:function(e){var t,r;r=e,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t=this,Yo(t,qo,\"set\"),r),this._platformSdk.invokeUIMethod(\"requestBannerAds\")}},{key:\"hideBanner\",value:function(){this._platformSdk.invokeUIMethod(\"hideBannerAds\")}},{key:\"checkAdBlock\",value:function(){var e=this._getPromiseDecorator(v.ADBLOCK_DETECT);return e||(e=this._createPromiseDecorator(v.ADBLOCK_DETECT),this._platformSdk.invokeUIMethod(\"isAdBlockEnabled\")),e.promise}},{key:\"inviteFriends\",value:function(e){var t=(e||{}).text;if(!e||\"string\"!=typeof t)return Promise.reject();var r=this._getPromiseDecorator(v.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(v.INVITE_FRIENDS),t.length>120?this._rejectPromiseDecorator(v.INVITE_FRIENDS,k):this._platformSdk.UI.showInvite(t)),r.promise}},{key:\"rate\",value:function(){var e=this._getPromiseDecorator(v.RATE);return e||(e=this._createPromiseDecorator(v.RATE),this._platformSdk.UI.showRatingDialog()),e.promise}},{key:\"createPost\",value:function(e){if(!e||null==e||!e.media)return Promise.reject();var t,r=this._getPromiseDecorator(v.CREATE_POST);return r||(r=this._createPromiseDecorator(v.CREATE_POST),this._platformSdk.UI.postMediatopic(e,null!==(t=e.status)&&void 0!==t&&t)),r.promise}},{key:\"joinCommunity\",value:function(e){if(!e||null==e||!e.groupId)return Promise.reject();var t,r=this._getPromiseDecorator(v.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(v.JOIN_COMMUNITY),this._platformSdk.UI.joinGroup(e.groupId,null!==(t=e.enableMessages)&&void 0!==t&&t)),r.promise}}])&&Co(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(zr);function Bi(e){return Bi=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Bi(e)}function Gi(){Gi=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new T(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var c=f(e[o],e,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==Bi(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r(\"throw\",e,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var u=f(t,r,n);if(\"normal\"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(D,this),this.reset(!0)}function R(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Bi(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;I(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function Mi(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Ui(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ui(n.key),n)}}function Ui(e){var t=function(e,t){if(\"object\"!=Bi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Bi(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Bi(t)?t:String(t)}function zi(){return zi=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},zi.apply(this,arguments)}function Wi(e,t){return Wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wi(e,t)}function Vi(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Zi(e){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zi(e)}function Yi(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Ji(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Ki=new WeakSet,qi=new WeakSet;function Xi(){var e=this;return new Promise((function(t){e._platformSdk.userService.getUser().then((function(t){return e._playerId=t.id,e._isPlayerAuthorized=t.isAuthorized,e._playerName=t.name,e._playerPhotos=t.photos,e._playerExtra=t,delete e._playerExtra.isAuthorized,delete e._playerExtra.id,delete e._playerExtra.name,delete e._playerExtra.photos,e._defaultStorageType=e._isPlayerAuthorized?f.PLATFORM_INTERNAL:f.LOCAL_STORAGE,e._isPlayerAuthorized?Ji(e,qi,Qi).call(e,[]):Promise.resolve()})).finally((function(){t()}))}))}function Qi(e){return $i.apply(this,arguments)}function $i(){var e;return e=Gi().mark((function e(t){var r,n=arguments;return Gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1],this._platformStorageCachedData){e.next=5;break}return e.next=4,this.platformSdk.cloudSaveApi.getState();case 4:this._platformStorageCachedData=e.sent;case 5:return e.abrupt(\"return\",Ee(t,this._platformStorageCachedData,r));case 6:case\"end\":return e.stop()}}),e,this)})),$i=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Mi(i,n,o,a,s,\"next\",e)}function s(e){Mi(i,n,o,a,s,\"throw\",e)}a(void 0)}))},$i.apply(this,arguments)}const ea=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Wi(e,t)}(u,t);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zi(o);if(s){var r=Zi(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Bi(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Vi(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Yi(Vi(e=c.call.apply(c,[this].concat(r))),qi),Yi(Vi(e),Ki),e}return r=u,(n=[{key:\"platformId\",get:function(){return e.PLAYGAMA}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"platformLanguage\",get:function(){return this._platformSdk.platformService.getLanguage()||zi(Zi(u.prototype),\"platformLanguage\",this)}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"https://developer.playgama.com/sdk/v1.js\").then((function(){ge(\"PLAYGAMA_SDK\").then((function(){e._platformSdk=window.PLAYGAMA_SDK,Ji(e,Ki,Xi).call(e).then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||zi(Zi(u.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL?this._isPlayerAuthorized:zi(Zi(u.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){return t===f.PLATFORM_INTERNAL?this._isPlayerAuthorized?Ji(this,qi,Qi).call(this,e,r):Promise.reject():zi(Zi(u.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;switch(r){case f.PLATFORM_INTERNAL:return this._isPlayerAuthorized?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?xi({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n.platformSdk.cloudSaveApi.setItems(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))})):Promise.reject();case f.LOCAL_STORAGE:var o={};if(Array.isArray(e))for(var i=0;i<e.length;i++)o[e[i]]=\"string\"!=typeof t[i]?JSON.stringify(t[i]):t[i];else o[e]=\"string\"!=typeof t?JSON.stringify(t):t;return this._platformSdk.storageApi.setItems(o),zi(Zi(u.prototype),\"setDataToStorage\",this).call(this,e,t,r);default:return Promise.reject(g)}}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;switch(t){case f.PLATFORM_INTERNAL:return new Promise((function(t,n){var o=null!==r._platformStorageCachedData?xi({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r.platformSdk.cloudSaveApi.setItems(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))}));case f.LOCAL_STORAGE:return this._platformSdk.storageApi.deleteItems(Array.isArray(e)?e:[e]),zi(Zi(u.prototype),\"deleteDataFromStorage\",this).call(this,e,t);default:return Promise.reject(g)}}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.advService.showInterstitial({onOpen:function(){e._setInterstitialState(i.OPENED)},onEmpty:function(){e._setInterstitialState(i.FAILED)},onClose:function(){e._setInterstitialState(i.CLOSED)},onError:function(){e._setInterstitialState(i.FAILED)}})}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.advService.showRewarded({onOpen:function(){e._setRewardedState(a.OPENED)},onRewarded:function(){e._setRewardedState(a.REWARDED)},onEmpty:function(){e._setRewardedState(a.FAILED)},onClose:function(){e._setRewardedState(a.CLOSED)},onError:function(){e._setRewardedState(a.FAILED)}})}},{key:\"authorizePlayer\",value:function(e){var t=this,r=this._getPromiseDecorator(v.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(v.AUTHORIZE_PLAYER),this._isPlayerAuthorized?Ji(this,Ki,Xi).call(this,e).then((function(){t._resolvePromiseDecorator(v.AUTHORIZE_PLAYER)})):this._platformSdk.userService.authorizeUser().then((function(){Ji(t,Ki,Xi).call(t,e).then((function(){t._resolvePromiseDecorator(v.AUTHORIZE_PLAYER)}))})).catch((function(e){t._rejectPromiseDecorator(v.AUTHORIZE_PLAYER,e)}))),r.promise}},{key:\"paymentsPurchase\",value:function(e,t){var r=this,n=this._paymentsGetProductPlatformData(e);if(!n)return Promise.reject();t&&t.externalId&&(n.externalId=t.externalId),n.externalId||(n.externalId=this._paymentsGenerateTransactionId(e));var o=this._getPromiseDecorator(v.PURCHASE);return o||(o=this._createPromiseDecorator(v.PURCHASE),this._platformSdk.inGamePaymentsApi.purchase(n).then((function(t){if(\"PAID\"===t.status){var n=xi({id:e},t);r._paymentsPurchases.push(n),r._resolvePromiseDecorator(v.PURCHASE,n)}else r._rejectPromiseDecorator(v.PURCHASE,t.error)})).catch((function(e){r._rejectPromiseDecorator(v.PURCHASE,e)}))),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=e.map((function(e){return{id:e.id,price:\"\".concat(e.amount,\" Gam\"),priceCurrencyCode:\"Gam\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:e.amount}}));return Promise.resolve(t)}}])&&Hi(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(zr);function ta(e){return ta=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ta(e)}function ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function na(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ua(n.key),n)}}function oa(){return oa=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sa(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},oa.apply(this,arguments)}function ia(e,t){return ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ia(e,t)}function aa(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function sa(e){return sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sa(e)}function ca(e,t,r){return(t=ua(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ua(e){var t=function(e,t){if(\"object\"!=ta(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ta(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ta(t)?t:String(t)}function la(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function fa(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,da(e,t,\"set\"),r),r}function pa(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,da(e,t,\"get\"))}function da(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var ha=new WeakMap,ya=new WeakMap;const ma=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ia(e,t)}(u,t);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sa(o);if(s){var r=sa(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ta(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return aa(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return la(aa(e=c.call.apply(c,[this].concat(r))),ha,{writable:!0,value:void 0}),la(aa(e),ya,{writable:!0,value:void 0}),ca(aa(e),\"_defaultStorageType\",f.PLATFORM_INTERNAL),ca(aa(e),\"_isPlayerAuthorized\",!0),e}return r=u,n=[{key:\"platformId\",get:function(){return e.PLAYDECK}},{key:\"platformLanguage\",get:function(){return pa(this,ha)?pa(this,ha):oa(sa(u.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),window.addEventListener(\"message\",(function t(r){var n=r.data;if(n&&n.playdeck){var o=n.playdeck;if(\"getUserProfile\"===o.method){var i=o.value;e._playerId=i.telegramId,e._playerPhotos=[i.avatar],e._playerName=i.username,fa(e,ha,i.locale),fa(e,ya,i.params),window.removeEventListener(\"message\",t),e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}}})),window.parent.postMessage({playdeck:{method:\"getUserProfile\"}},\"*\")),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case d.GAME_OVER:return window.parent.postMessage({playdeck:{method:\"gameEnd\"}},\"*\"),Promise.resolve();case d.GAME_READY:return window.parent.postMessage({playdeck:{method:\"loading\",value:100}},\"*\"),Promise.resolve();default:return oa(sa(u.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"showInterstitial\",value:function(){var e=this;window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":e._setInterstitialState(i.OPENED);break;case\"rewardedAd\":case\"skipAd\":e._setInterstitialState(i.CLOSED),window.removeEventListener(\"message\",t);break;case\"errAd\":case\"notFoundAd\":e._setInterstitialState(i.FAILED),window.removeEventListener(\"message\",t)}})),window.parent.postMessage({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"showRewarded\",value:function(){var e=this;window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":e._setRewardedState(a.OPENED);break;case\"rewardedAd\":e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",t);break;case\"skipAd\":e._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",t);break;case\"errAd\":case\"notFoundAd\":e._setRewardedState(a.FAILED),window.removeEventListener(\"message\",t)}})),window.parent.postMessage({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||oa(sa(u.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL||oa(sa(u.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){return t===f.PLATFORM_INTERNAL?new Promise((function(t){var r={},n=Array.isArray(e)?e:[e];window.addEventListener(\"message\",(function o(i){var a=i.data;if(a&&a.playdeck&&\"getData\"===a.playdeck.method&&n.includes(a.playdeck.key)){var s=a.playdeck;if(\"getData\"===s.method&&(r[s.key]=s.value.data),Object.keys(r).length===n.length){window.removeEventListener(\"message\",o);var c=Array.isArray(e)?e.map((function(e){return r[e]})):r[e];t(c)}}})),n.forEach((function(e){return window.parent.postMessage({playdeck:{method:\"getData\",key:e}},\"*\")}))})):oa(sa(u.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){return r===f.PLATFORM_INTERNAL?new Promise((function(r){var n=Array.isArray(e)?e:[e],o=(Array.isArray(t)?t:[t]).map((function(e){return\"string\"!=typeof e?JSON.stringify(e):e}));n.forEach((function(e,t){return window.parent.postMessage({playdeck:{method:\"setData\",key:e,value:o[t]}},\"*\")})),r()})):oa(sa(u.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){return t===f.PLATFORM_INTERNAL?new Promise((function(t){(Array.isArray(e)?e:[e]).forEach((function(e){return window.parent.postMessage({playdeck:{method:\"setData\",key:e,value:\"\"}},\"*\")})),t()})):oa(sa(u.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"share\",value:function(){var e=this,t=this._getPromiseDecorator(v.SHARE);return t||(t=this._createPromiseDecorator(v.SHARE),window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;o&&\"customShare\"===o.method&&(window.removeEventListener(\"message\",t),e._resolvePromiseDecorator(v.SHARE))})),window.parent.postMessage({playdeck:{method:\"customShare\",value:pa(this,ya)}},\"*\")),t.promise}},{key:\"paymentsPurchase\",value:function(e,t){var r=this,n=this._paymentsGetProductPlatformData(e);if(!n)return Promise.reject();t&&t.externalId&&(n.externalId=t.externalId),n.externalId||(n.externalId=this._paymentsGenerateTransactionId(e));var o=this._getPromiseDecorator(v.PURCHASE);return o||(o=this._createPromiseDecorator(v.PURCHASE),window.addEventListener(\"message\",(function e(t){var r=t.data,n=null==r?void 0:r.playdeck;n&&\"requestPayment\"===n.method&&(window.parent.postMessage({playdeck:{method:\"openTelegramLink\",value:n.value.url}},\"*\"),window.removeEventListener(\"message\",e))})),window.addEventListener(\"message\",(function t(n){var o=n.data,i=null==o?void 0:o.playdeck;if(i&&\"invoiceClosed\"===i.method)if(\"paid\"===i.value.status){window.removeEventListener(\"message\",t);var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(r),!0).forEach((function(t){ca(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:e},i.value);r._paymentsPurchases.push(a),r._resolvePromiseDecorator(v.PURCHASE,a)}else\"cancelled\"!==i.value.status&&\"failed\"!==i.value.status||(window.removeEventListener(\"message\",t),r._rejectPromiseDecorator(v.PURCHASE,i.value))})),window.parent.postMessage({playdeck:{method:\"requestPayment\",value:n}},\"*\")),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=e.map((function(e){return{id:e.id,price:\"\".concat(e.amount,\" Stars\"),priceCurrencyCode:\"Stars\",priceValue:e.amount}}));return Promise.resolve(t)}}],n&&na(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(zr);function va(e){return va=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},va(e)}function _a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Aa(n.key),n)}}function ga(){return ga=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ea(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ga.apply(this,arguments)}function Sa(e,t){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sa(e,t)}function ba(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ea(e){return Ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ea(e)}function Pa(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function wa(e,t,r){return(t=Aa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aa(e){var t=function(e,t){if(\"object\"!=va(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=va(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==va(t)?t:String(t)}function Oa(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Da(e,t,\"set\"),r),r}function ka(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Da(e,t,\"get\"))}function Da(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Ia=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,La=new WeakMap;const ja=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Sa(e,t)}(u,t);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ea(o);if(s){var r=Ea(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===va(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ba(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return wa(ba(e=c.call.apply(c,[this].concat(r))),\"_defaultStorageType\",f.PLATFORM_INTERNAL),wa(ba(e),\"_isPlayerAuthorized\",!0),Pa(ba(e),Ia,{writable:!0,value:void 0}),Pa(ba(e),Ta,{writable:!0,value:void 0}),Pa(ba(e),Ra,{writable:!0,value:{onStart:function(){return e._setRewardedState(a.OPENED)},onSkip:function(){return e._setRewardedState(a.CLOSED)},onReward:function(){return e._setRewardedState(a.REWARDED)},onError:function(){return e._setRewardedState(a.FAILED)}}}),Pa(ba(e),La,{writable:!0,value:{onStart:function(){return e._setInterstitialState(i.OPENED)},onSkip:function(){return e._setInterstitialState(i.CLOSED)},onError:function(){return e._setInterstitialState(i.FAILED)}}}),e}return r=u,(n=[{key:\"platformId\",get:function(){return e.TELEGRAM}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.initDataUnsafe.user.language_code:ga(Ea(u.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!!ka(this,Ta)}},{key:\"isRewardedSupported\",get:function(){return!!ka(this,Ta)}},{key:\"deviceType\",get:function(){switch(ka(this,Ia)){case\"android\":case\"android_x\":case\"ios\":return p.MOBILE;case\"tdesktop\":case\"unigram\":case\"macos\":return p.DESKTOP;default:return ga(Ea(u.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"https://telegram.org/js/telegram-web-app.js\").then((function(){e._platformSdk=window.Telegram.WebApp;var t=e._platformSdk.initDataUnsafe.user;e._playerId=t.id,e._playerName=[t.first_name,t.last_name].filter(Boolean).join(\" \"),e._playerPhotos=[t.photo_url],Oa(e,Ia,e._platformSdk.platform),e._isInitialized=!0,e._options&&e._options.adsgramBlockId?me(\"https://sad.adsgram.ai/js/sad.min.js\").then((function(){Oa(e,Ta,window.Adsgram.init({blockId:e._options.adsgramBlockId}))})).finally((function(){e._resolvePromiseDecorator(v.INITIALIZE)})):e._resolvePromiseDecorator(v.INITIALIZE)}))),t.promise}},{key:\"sendMessage\",value:function(e){return e===d.GAME_READY?(this._platformSdk.ready(),Promise.resolve()):ga(Ea(u.prototype),\"sendMessage\",this).call(this,e)}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||ga(Ea(u.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL||ga(Ea(u.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,o){Array.isArray(e)?n._platformSdk.CloudStorage.getItems(e,(function(n,i){if(n)o(n);else{var a=[];e.forEach((function(e){var t=i[e];if(r&&\"string\"==typeof t)try{t=JSON.parse(t)}catch(e){}a.push(t)})),t(a)}})):n._platformSdk.CloudStorage.getItem(e,(function(e,n){e&&o(e);var i=n;if(r&&\"string\"==typeof i)try{i=JSON.parse(i)}catch(e){}t(i)}))})):ga(Ea(u.prototype),\"getDataFromStorage\",this).call(this,e,t)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===f.PLATFORM_INTERNAL?new Promise((function(r){var o=Array.isArray(e)?e:[e],i=(Array.isArray(t)?t:[t]).map((function(e){return\"string\"!=typeof e?JSON.stringify(e):e}));o.forEach((function(e,t){return n._platformSdk.CloudStorage.setItem(e,i[t])})),r()})):ga(Ea(u.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t){(Array.isArray(e)?e:[e]).forEach((function(e){return r._platformSdk.CloudStorage.removeItem(e)})),t()})):ga(Ea(u.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){var e=this;ka(this,Ta)?(ka(this,Ta).addEventListener(\"onStart\",ka(this,La).onStart),ka(this,Ta).addEventListener(\"onSkip\",ka(this,La).onSkip),ka(this,Ta).addEventListener(\"onError\",ka(this,La).onError),ka(this,Ta).addEventListener(\"onBannerNotFound\",ka(this,La).onError),ka(this,Ta).show().finally((function(){ka(e,Ta).removeEventListener(\"onStart\",ka(e,La).onStart),ka(e,Ta).removeEventListener(\"onSkip\",ka(e,La).onSkip),ka(e,Ta).removeEventListener(\"onError\",ka(e,La).onError),ka(e,Ta).removeEventListener(\"onBannerNotFound\",ka(e,La).onError)}))):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var e=this;ka(this,Ta)?(ka(this,Ta).addEventListener(\"onStart\",ka(this,Ra).onStart),ka(this,Ta).addEventListener(\"onSkip\",ka(this,Ra).onSkip),ka(this,Ta).addEventListener(\"onReward\",ka(this,Ra).onReward),ka(this,Ta).addEventListener(\"onError\",ka(this,Ra).onError),ka(this,Ta).addEventListener(\"onBannerNotFound\",ka(this,Ra).onError),ka(this,Ta).show().finally((function(){ka(e,Ta).addEventListener(\"onStart\",ka(e,Ra).onStart),ka(e,Ta).addEventListener(\"onSkip\",ka(e,Ra).onSkip),ka(e,Ta).addEventListener(\"onReward\",ka(e,Ra).onReward),ka(e,Ta).addEventListener(\"onError\",ka(e,Ra).onError),ka(e,Ta).addEventListener(\"onBannerNotFound\",ka(e,Ra).onError)}))):this._setRewardedState(a.FAILED)}},{key:\"clipboardRead\",value:function(){var e=this,t=this._getPromiseDecorator(v.CLIPBOARD_READ);return t||(t=this._createPromiseDecorator(v.CLIPBOARD_READ),this._platformSdk.readTextFromClipboard((function(t){t?e._resolvePromiseDecorator(v.CLIPBOARD_READ,t):e._rejectPromiseDecorator(v.CLIPBOARD_READ)}))),t.promise}}])&&_a(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(zr);var Na=[\"player\"];function Ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Fa(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ga(e){return Ga=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ga(e)}function Ma(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Fa(n.key),n)}}function Fa(e){var t=function(e,t){if(\"object\"!=Ga(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ga(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ga(t)?t:String(t)}function xa(){return xa=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=za(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xa.apply(this,arguments)}function Ha(e,t){return Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ha(e,t)}function Ua(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function za(e){return za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},za(e)}function Wa(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Va(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Za=\"userData\",Ya=\"6129580795478709\",Ja=new WeakSet,Ka=new WeakSet;function qa(){var e=this;return new Promise((function(t,r){e._platformStorageCachedData?t(e._platformStorageCachedData):e._platformSdk.api(\"user_data/retrieve\",\"POST\",{key:Za},(function(n){n.error&&\"Key not found\"!==n.error&&r(n);var o={};try{n.jsondata&&(o=JSON.parse(n.jsondata))}catch(e){}e._platformStorageCachedData=o,t(o)}))}))}function Xa(e){if(\"ok\"===e.status){this._isPlayerAuthorized=!0,this._defaultStorageType=f.PLATFORM_INTERNAL;var t=e.authResponse.details,r=t.pid,n=t.locale,o=t.nickname,i=t.first_name,a=t.last_name,s=t.avatars;r&&(this._playerId=r),this._platformLanguage=n,this._playerName=[i,a].filter((function(e){return!!e})).join(\" \")||o,this._playerPhotos=[];var c=s.thumb_url,u=s.medium_url,l=s.large_url;c&&this._playerPhotos.push(c),u&&this._playerPhotos.push(u),l&&this._playerPhotos.push(l)}}const Qa=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ha(e,t)}(u,t);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=za(o);if(s){var r=za(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Ga(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ua(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Wa(Ua(e=c.call.apply(c,[this].concat(r))),Ka),Wa(Ua(e),Ja),e}return r=u,(n=[{key:\"platformId\",get:function(){return e.Y8}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return y}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"isGetAchievementsListSupported\",get:function(){return!0}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r=this._getPromiseDecorator(v.INITIALIZE);return r||(r=this._createPromiseDecorator(v.INITIALIZE),null!==(t=this._options)&&void 0!==t&&t.gameId?me(\"https://cdn.y8.com/api/sdk.js\").then((function(){ge(\"ID\").then((function(){e._platformSdk=window.ID,e._platformSdk.Event.subscribe(\"id.init\",(function(){var t,r,n,o,i,a;(t={hostId:\"ca-host-pub-\".concat(Ya),adsenseId:e._options.channelId?\"ca-pub-\".concat(Ya):e._options.adsenseId,channelId:e._options.channelId},r=t.hostId,n=t.adsenseId,o=t.channelId,i=t.adFrequencyHint,a=void 0===i?\"180s\":i,new Promise((function(e){var t=document.createElement(\"script\");t.setAttribute(\"data-ad-client\",n),o?t.setAttribute(\"data-ad-channel\",o):r&&t.setAttribute(\"data-ad-host\",r),t.setAttribute(\"data-ad-frequency-hint\",a),t.src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",t.addEventListener(\"load\",e),document.head.appendChild(t)}))).then((function(){e._showAd=function(e){window.adsbygoogle.push(e)},window.adsbygoogle.push({preloadAdBreaks:\"on\",sound:\"on\",onReady:function(){}})})),e._platformSdk.getLoginStatus((function(t){Va(e,Ka,Xa).call(e,t),e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}))})),e._platformSdk.init({appId:e._options.gameId})}))})):this._rejectPromiseDecorator(v.INITIALIZE,E)),r.promise}},{key:\"authorizePlayer\",value:function(){var e=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(t,r){e._platformSdk.login((function(n){Va(e,Ka,Xa).call(e,n),\"ok\"===n.status?(e._platformStorageCachedData=null,t()):r()}))}))}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||xa(za(u.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL?this._isPlayerAuthorized:xa(za(u.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,o){Va(n,Ja,qa).call(n).then((function(n){var o=(Array.isArray(e)?e:[e]).map((function(e){var t=n[e];return r||\"object\"!==Ga(t)||null===t?null!=t?t:null:JSON.stringify(t)}));t(o)})).catch(o)})):xa(za(u.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===f.PLATFORM_INTERNAL?new Promise((function(r,o){Va(n,Ja,qa).call(n).then((function(i){var a=Ba({},i);if(Array.isArray(e))for(var s=0;s<e.length;s++)a[e[s]]=t[s];else a[e]=t;n._platformSdk.api(\"user_data/submit\",\"POST\",{key:Za,value:JSON.stringify(a)},(function(e){\"ok\"===e.status?(n._platformStorageCachedData=a,r()):o(e)}))})).catch(o)})):xa(za(u.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,n){Va(r,Ja,qa).call(r).then((function(o){var i=Ba({},o);if(Array.isArray(e))for(var a=0;a<e.length;a++)delete i[e[a]];else delete i[e];r._platformSdk.api(\"user_data/submit\",\"POST\",{key:Za,value:JSON.stringify(i)},(function(e){\"ok\"===e.status?(r._platformStorageCachedData=i,t()):n(e)}))})).catch(n)})):xa(za(u.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){var e=this;this._showAd?this._showAd({type:\"start\",name:\"start-game\",beforeAd:function(){e._setInterstitialState(i.OPENED)},afterAd:function(){e.interstitialState!==i.FAILED&&e._setInterstitialState(i.CLOSED)},adBreakDone:function(t){\"viewed\"!==t.breakStatus&&e._setInterstitialState(i.FAILED)}}):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var e=this;this._showAd?this._showAd({type:\"reward\",name:\"rewarded Ad\",beforeAd:function(){e._setRewardedState(a.OPENED)},afterAd:function(){e.rewardedState!==a.FAILED&&e._setRewardedState(a.CLOSED)},beforeReward:function(e){e(0)},adDismissed:function(){e._setRewardedState(a.FAILED)},adViewed:function(){e._setRewardedState(a.REWARDED)},adBreakDone:function(t){\"frequencyCapped\"!==t.breakStatus&&\"other\"!==t.breakStatus||e._setRewardedState(a.FAILED)}}):this._setRewardedState(a.FAILED)}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(v.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(v.LEADERBOARDS_SET_SCORE);var o={table:e,points:t};this._platformSdk.GameAPI.Leaderboards.save(o,(function(e){var t=e.success,n=e.errormessage;t?r._resolvePromiseDecorator(v.LEADERBOARDS_SET_SCORE):r._rejectPromiseDecorator(v.LEADERBOARDS_SET_SCORE,n)}))}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();var r=this._getPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES);if(!r){r=this._createPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES);var n={table:e,mode:\"alltime\"};this._platformSdk.GameAPI.Leaderboards.listCustom(n,(function(e){var r=e.scores,n=e.success,o=e.errormessage;if(n){var i=r.map((function(e){return{id:e.playerid,name:e.playername,score:e.points,rank:e.rank,photo:null}}));t._resolvePromiseDecorator(v.LEADERBOARDS_GET_ENTRIES,i)}else t._rejectPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES,o)}))}return r.promise}},{key:\"unlockAchievement\",value:function(e){var t=this;return this._isPlayerAuthorized&&e.achievement&&e.achievementkey?new Promise((function(r){t._platformSdk.GameAPI.Achievements.save(e,(function(e){r(e)}))})):Promise.reject()}},{key:\"getAchievementsList\",value:function(e){var t=this;return new Promise((function(r,n){t._platformSdk.GameAPI.Achievements.listCustom(e,(function(e){e.success?r(e.achievements.map((function(e){var t=e.player;return Ba(Ba({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Na)),{},{playerid:t.playerid,playername:t.playername,lastupdated:t.lastupdated,date:t.date,rdate:t.rdate})}))):n(new Error(e.errorcode))}))}))}},{key:\"showAchievementsNativePopup\",value:function(e){return this._platformSdk.GameAPI.Achievements.list(e),Promise.resolve()}}])&&Ma(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(zr);function $a(e){return $a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},$a(e)}function es(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ts(n.key),n)}}function ts(e){var t=function(e,t){if(\"object\"!=$a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=$a(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==$a(t)?t:String(t)}function rs(){return rs=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=os(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},rs.apply(this,arguments)}function ns(e,t){return ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ns(e,t)}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},os(e)}const is=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ns(e,t)}(u,t);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=os(o);if(s){var r=os(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===$a(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:\"platformId\",get:function(){return e.LAGGED}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return m}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),this._options&&this._options.devId&&this._options.publisherId?me(\"https://lagged.com/api/rev-share/lagged.js\").then((function(){ge(\"LaggedAPI\").then((function(){e._platformSdk=window.LaggedAPI,e._platformSdk.init(e._options.devId,e._options.publisherId),e._platformSdk.User.get((function(t){var r,n=null!==(r=null==t?void 0:t.user)&&void 0!==r?r:{},o=n.id,i=n.name,a=n.avatar;o>0&&(e._playerId=o,e._playerName=i,e._playerPhotos.push(a),e._isPlayerAuthorized=!0),e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}))}))})):this._rejectPromiseDecorator(v.INITIALIZE,w)),t.promise}},{key:\"isStorageSupported\",value:function(e){return e!==f.PLATFORM_INTERNAL&&rs(os(u.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e!==f.PLATFORM_INTERNAL&&rs(os(u.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"showInterstitial\",value:function(){var e=this;this._setInterstitialState(i.OPENED),this._platformSdk.APIAds.show((function(){e._setInterstitialState(i.CLOSED)}))}},{key:\"showRewarded\",value:function(){var e=this;this._setRewardedState(a.OPENED),this._platformSdk.GEvents.reward((function(t,r){t?r():e._setRewardedState(a.FAILED)}),(function(t){t?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)}))}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this,n=this._getPromiseDecorator(v.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(v.LEADERBOARDS_SET_SCORE);var o={score:t,board:e};this._platformSdk.Scores.save(o,(function(e){e.success?r._resolvePromiseDecorator(v.LEADERBOARDS_SET_SCORE):r._rejectPromiseDecorator(v.LEADERBOARDS_SET_SCORE,e.errormsg)}))}return n.promise}},{key:\"unlockAchievement\",value:function(e){var t=this;return e.achievement?new Promise((function(r,n){t._platformSdk.Achievements.save(Array.isArray(e.achievement)?e.achievement:[e.achievement],(function(e){e.success?r(e):n(e.errormsg)}))})):Promise.reject()}}])&&es(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(zr);function as(){as=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new T(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var c=f(e[o],e,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==ls(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r(\"throw\",e,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var u=f(t,r,n);if(\"normal\"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(D,this),this.reset(!0)}function R(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ls(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;I(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function ss(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(r),!0).forEach((function(t){gs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ls(e){return ls=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ls(e)}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ps(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ss(n.key),n)}}function ds(){return ds=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ms(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ds.apply(this,arguments)}function hs(e,t){return hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hs(e,t)}function ys(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ms(e)}function vs(e,t){_s(e,t),t.add(e)}function _s(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function gs(e,t,r){return(t=Ss(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ss(e){var t=function(e,t){if(\"object\"!=ls(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ls(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ls(t)?t:String(t)}function bs(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Es(e,t,\"set\"),r),r}function Es(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}function Ps(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var ws=new WeakMap,As=new WeakSet,Os=new WeakSet,ks=new WeakSet,Ds=new WeakSet;function Is(){var e=this;e._platformSdk.overlayViews.setCustomEventHandler((function(t){if(\"leaderboard\"===t)bs(e,ws,!0);else if(\"close\"===t){if(function(e,t){return t.get?t.get.call(e):t.value}(r=e,Es(r,ws,\"get\")))return void bs(e,ws,!1);e._overlay&&(document.body.removeChild(document.getElementById(e._overlay.iframeElement.id)),e._overlay.dismissAsync(),e._overlay=null)}var r}))}function Ts(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedInterstitialPromises[e])return this._preloadedInterstitialPromises[e];var r=null;return this._preloadedInterstitialPromises[e]=this._platformSdk.getInterstitialAdAsync(e).then((function(e){return r=e,e.loadAsync()})).then((function(){return r})).catch((function(){return t._preloadedInterstitialPromises[e]=null,Promise.reject()})),this._preloadedInterstitialPromises[e]}function Rs(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedRewardedPromises[e])return this._preloadedRewardedPromises[e];var r=null;return this._preloadedRewardedPromises[e]=this._platformSdk.getRewardedVideoAsync(e).then((function(e){return r=e,e.loadAsync()})).then((function(){return r})).catch((function(){return t._preloadedRewardedPromises[e]=null,Promise.reject()})),this._preloadedRewardedPromises[e]}function Ls(){return js.apply(this,arguments)}function js(){var e;return e=as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._platformSdk.player.isSubscribedBotAsync();case 3:if(!e.sent){e.next=6;break}return e.abrupt(\"return\",Promise.resolve());case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),\"INVALID_OPERATION\"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=13;break}e.next=14;break;case 13:throw new Error(e.t0);case 14:return e.prev=15,e.next=18,this._platformSdk.player.canSubscribeBotAsync();case 18:if(!e.sent){e.next=21;break}return e.abrupt(\"return\",this._platformSdk.player.subscribeBotAsync());case 21:e.next=28;break;case 23:if(e.prev=23,e.t1=e.catch(15),\"INVALID_OPERATION\"!==(null===e.t1||void 0===e.t1?void 0:e.t1.code)){e.next=27;break}return e.abrupt(\"return\",Promise.resolve());case 27:throw new Error(e.t1);case 28:return e.abrupt(\"return\",Promise.resolve());case 29:case\"end\":return e.stop()}}),e,this,[[0,8],[15,23]])})),js=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ss(i,n,o,a,s,\"next\",e)}function s(e){ss(i,n,o,a,s,\"throw\",e)}a(void 0)}))},js.apply(this,arguments)}const Ns=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&hs(e,t)}(l,t);var r,n,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ms(o);if(c){var r=ms(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ls(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ys(e)}(this,e)});function l(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return vs(ys(e=u.call.apply(u,[this].concat(i))),Ds),vs(ys(e),ks),vs(ys(e),Os),vs(ys(e),As),gs(ys(e),\"_contextId\",null),gs(ys(e),\"_supportedApis\",[]),gs(ys(e),\"_preloadedInterstitialPromises\",{}),gs(ys(e),\"_preloadedRewardedPromises\",{}),gs(ys(e),\"_defaultStorageType\",f.PLATFORM_INTERNAL),gs(ys(e),\"_isJoinCommunitySupported\",!1),n={writable:!0,value:!1},_s(t=ys(e),r=ws),r.set(t,n),e}return r=l,n=[{key:\"platformId\",get:function(){return e.FACEBOOK}},{key:\"platformLanguage\",get:function(){return this._platformLanguage||ds(ms(l.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.getPlatform()){case\"IOS\":case\"ANDROID\":case\"MOBILE_WEB\":return p.MOBILE;case\"WEB\":return p.DESKTOP;default:return ds(ms(l.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return\"native_popup\"}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedApis.includes(\"inviteAsync\")}},{key:\"isJoinCommunitySupported\",get:function(){return this._isJoinCommunitySupported}},{key:\"isShareSupported\",get:function(){return this._supportedApis.includes(\"shareAsync\")}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"https://connect.facebook.net/en_US/fbinstant.8.0.js\").then((function(){return ge(\"FBInstant\")})).then((function(){return e._platformSdk=window.FBInstant,e._platformSdk.initializeAsync()})).then((function(){return e._isPlayerAuthorized=!0,e._playerId=e._platformSdk.player.getID(),e._contextId=e._platformSdk.context.getID(),e._platformLanguage=e._platformSdk.getLocale(),\"string\"==typeof e._platformLanguage&&(e._platformLanguage=e._platformLanguage.substring(0,2).toLowerCase()),e._supportedApis=e._platformSdk.getSupportedAPIs(),Ps(e,As,Is).call(e),Promise.allSettled([e._platformSdk.community.canFollowOfficialPageAsync(),e._platformSdk.community.canJoinOfficialGroupAsync()]).then((function(t){var r,n,o=(n=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(r,n)||function(e,t){if(e){if(\"string\"==typeof e)return fs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fs(e,t):void 0}}(r,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=o[0],a=o[1],s=\"fulfilled\"===i.status&&i.value,c=\"fulfilled\"===a.status&&a.value;e._isJoinCommunitySupported=!0===s&&!0===c}))})).then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)})).catch((function(t){return e._rejectPromiseDecorator(v.INITIALIZE,t)}))),t.promise}},{key:\"sendMessage\",value:function(e){var t=this;return e===d.GAME_READY?(this._platformSdk.setLoadingProgress(100),this._options.subscribeForNotificationsOnStart&&setTimeout((function(){return Ps(t,Ds,Ls).call(t)}),0),new Promise((function(e){t._platformSdk.startGameAsync().then(e)}))):ds(ms(l.prototype),\"sendMessage\",this).call(this,e)}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL?this._supportedApis.includes(\"player.getDataAsync\"):ds(ms(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL?this._isPlayerAuthorized:ds(ms(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,o){var i=Array.isArray(e)?e:[e];n._platformSdk.player.getDataAsync(i).then((function(e){var n=i.map((function(t){var n=e[t];return r||\"object\"!==ls(n)||null===n?null!=n?n:null:JSON.stringify(n)}));t(n)})).catch(o)})):ds(ms(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===f.PLATFORM_INTERNAL?new Promise((function(r,o){var i={};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.player.setDataAsync(i).then(r).catch(o)})):ds(ms(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,n){var o={};if(Array.isArray(e))for(var i=0;i<e.length;i++)o[e[i]]=null;else o[e]=null;r._platformSdk.player.setDataAsync(o).then(t).catch(n)})):ds(ms(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e,t){var r=this;this._platformSdk.loadBannerAdAsync(t,e).then((function(){r._setBannerState(s.SHOWN)})).catch((function(){r._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.hideBannerAdAsync().then((function(){e._setBannerState(s.HIDDEN)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"preloadInterstitial\",value:function(e){Ps(this,Os,Ts).call(this,e)}},{key:\"showInterstitial\",value:function(e){var t=this;Ps(this,Os,Ts).call(this,e).then((function(e){return t._setInterstitialState(i.OPENED),e.showAsync()})).then((function(){t._setInterstitialState(i.CLOSED)})).catch((function(){return t._advertisementShowErrorPopup(!1)})).finally((function(){Ps(t,Os,Ts).call(t,e,!0)}))}},{key:\"preloadRewarded\",value:function(e){Ps(this,ks,Rs).call(this,e)}},{key:\"showRewarded\",value:function(e){var t=this;Ps(this,ks,Rs).call(this,e).then((function(e){return t._setRewardedState(a.OPENED),e.showAsync()})).then((function(){t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)})).catch((function(){return t._advertisementShowErrorPopup(!0)})).finally((function(){Ps(t,ks,Rs).call(t,e,!0)}))}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this,n=this._getPromiseDecorator(v.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(v.LEADERBOARDS_SET_SCORE);var o=\"number\"==typeof t?t:parseInt(t,10);this._platformSdk.globalLeaderboards.setScoreAsync(e,o).then((function(){r._resolvePromiseDecorator(v.LEADERBOARDS_SET_SCORE)})).catch((function(e){r._rejectPromiseDecorator(v.LEADERBOARDS_SET_SCORE,e)}))}return n.promise}},{key:\"leaderboardsShowNativePopup\",value:function(e){var t=this,r=this._getPromiseDecorator(v.LEADERBOARDS_SHOW_NATIVE_POPUP);if(!r){r=this._createPromiseDecorator(v.LEADERBOARDS_SHOW_NATIVE_POPUP);var n=function(){var e=document.createElement(\"div\");e.style.position=\"fixed\",e.style.top=\"0\",e.style.left=\"0\",e.style.width=\"100vw\",e.style.height=\"100vh\",e.style.backgroundColor=\"rgba(0, 0, 0, 0.5)\",e.style.display=\"flex\",e.style.justifyContent=\"center\",e.style.alignItems=\"center\",e.style.zIndex=\"9999\",e.id=\"loading-overlay\";var t=document.createElement(\"div\");return t.style.fontSize=\"24px\",t.style.color=\"#fff\",t.innerText=\"Loading...\",e.appendChild(t),e}();document.body.appendChild(n),this._platformSdk.globalLeaderboards.getTopEntriesAsync(e,20).then((function(e){var r=e.map((function(e){return{score:e.getScore(),sessionID:e.getPlayer().getSessionID()}})),o=t._platformSdk.overlayViews.createOverlayViewWithXMLString('\\n    <View style=\"position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center\" onTapEvent=\"close\">\\n        <View style=\"position: relative; background-color: #2E3C75;color: #fff;padding: 20px;border-radius: 10px;box-shadow: 0 0 10px #2E3C75;font-size: 24px;text-align: center;min-width: 250px;max-width: 30%;max-height: 80%;overflow: auto;flex-direction: column;justify-content: center;align-items: center;\">\\n            <View style=\"display: flex; flex-direction: column; align-items: center; justify-content: center;\" onTapEvent=\"leaderboard\">\\n                <For source=\"{{players}}\" itemName=\"player\">\\n                    <View style=\"display: flex;align-items: center;justify-content: space-between;width: 100%;gap: 10px;\">\\n                      <Image src=\"{{FBInstant.players[{{player.sessionID}}].photo}}\" style=\"width: 50px; height: 50px; border-radius: 50%\" />\\n                      <Text content=\"{{FBInstant.players[{{player.sessionID}}].name}}\" style=\"flex: 1; text-align: start;\" />\\n                      <Text content=\"{{player.score}}\" />\\n                    </View>\\n                </For>\\n            </View>\\n        </View>\\n    </View>\\n',\"\",{players:r},(function(e){e.showAsync(),t._overlay=e,n.remove(),t._resolvePromiseDecorator(v.LEADERBOARDS_SHOW_NATIVE_POPUP)}),(function(e,r){n.remove(),t._rejectPromiseDecorator(v.LEADERBOARDS_SHOW_NATIVE_POPUP,r)})).iframeElement;o.style.zIndex=9999,o.style.position=\"absolute\",o.style.top=0,o.style.left=0,o.style.height=\"100vh\",o.style.width=\"100vw\",o.style.border=0,o.id=o.name,document.body.appendChild(o)})).catch((function(e){n.remove(),t._rejectPromiseDecorator(v.LEADERBOARDS_SHOW_NATIVE_POPUP,e)}))}return r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);r||(r={id:e});var n=this._getPromiseDecorator(v.PURCHASE);return n||(n=this._createPromiseDecorator(v.PURCHASE),this._platformSdk.payments.purchaseAsync({productID:r.platformProductId}).then((function(r){var n=us({id:e},r);delete n.productID,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(v.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(v.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(v.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(v.CONSUME_PURCHASE),this._platformSdk.payments.consumePurchaseAsync(this._paymentsPurchases[r].purchaseToken).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(v.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(v.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(v.GET_CATALOG);return r||(r=this._createPromiseDecorator(v.GET_CATALOG),this._platformSdk.payments.getCatalogAsync().then((function(r){var n=t.map((function(e){var t=r.find((function(t){return t.productID===e.platformProductId}));return{id:e.id,title:t.title,description:t.description,imageURI:t.imageURI,price:t.price,priceCurrencyCode:t.priceCurrencyCode,priceValue:t.priceAmount}}));e._resolvePromiseDecorator(v.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(v.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(v.GET_PURCHASES);return t||(t=this._createPromiseDecorator(v.GET_PURCHASES),this._platformSdk.payments.getPurchasesAsync().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){var t=us({id:r.find((function(t){return t.id===e.productID})).id},e);return delete t.productID,t})),e._resolvePromiseDecorator(v.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(v.GET_PURCHASES,t)}))),t.promise}},{key:\"inviteFriends\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.image||!t.text)return Promise.reject();if(!Se(t.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(v.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(v.INVITE_FRIENDS),this._platformSdk.inviteAsync(t).then((function(){e._resolvePromiseDecorator(v.INVITE_FRIENDS)})).catch((function(t){e._rejectPromiseDecorator(v.INVITE_FRIENDS,t)}))),r.promise}},{key:\"joinCommunity\",value:function(e){var t=this,r=this._getPromiseDecorator(v.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(v.JOIN_COMMUNITY),e&&!0===e.isPage?this._platformSdk.community.followOfficialPageAsync().then((function(e){return t._resolvePromiseDecorator(v.JOIN_COMMUNITY,e)})).catch((function(e){return t._rejectPromiseDecorator(v.JOIN_COMMUNITY,e)})):this._platformSdk.community.joinOfficialGroupAsync().then((function(e){return t._resolvePromiseDecorator(v.JOIN_COMMUNITY,e)})).catch((function(e){return t._rejectPromiseDecorator(v.JOIN_COMMUNITY,e)}))),r.promise}},{key:\"share\",value:function(e){var t=this;if(!e.image||!e.text)return Promise.reject();if(!Se(e.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(v.SHARE);return r||(r=this._createPromiseDecorator(v.SHARE),this._platformSdk.shareAsync(us({intent:\"REQUEST\"},e)).then((function(){t._resolvePromiseDecorator(v.SHARE)})).catch((function(e){t._rejectPromiseDecorator(v.SHARE,e)}))),r.promise}}],n&&ps(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(zr);function Cs(e){return Cs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Cs(e)}function Bs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Gs(n.key),n)}}function Gs(e){var t=function(e,t){if(\"object\"!=Cs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Cs(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Cs(t)?t:String(t)}var Ms,Fs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r;return t=e,r=[{key:\"send\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"*\";window.parent&&window.parent.postMessage(e,t)}},{key:\"addListener\",value:function(e){window.addEventListener(\"message\",e)}},{key:\"removeListener\",value:function(e){window.removeEventListener(\"message\",e)}},{key:\"generateMessageId\",value:function(){return\"\".concat(Date.now(),\"-\").concat(Math.random())}}],r&&Bs(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(r),!0).forEach((function(t){Ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Us(e){return Us=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Us(e)}function zs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,qs(n.key),n)}}function Ws(e,t){return Ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ws(e,t)}function Vs(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Zs(e,t){Qs(e,t),t.add(e)}function Ys(){return Ys=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Js(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ys.apply(this,arguments)}function Js(e){return Js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Js(e)}function Ks(e,t,r){return(t=qs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qs(e){var t=function(e,t){if(\"object\"!=Us(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Us(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Us(t)?t:String(t)}function Xs(e,t,r){Qs(e,t),t.set(e,r)}function Qs(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function $s(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function ec(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var tc=\"banner\",rc=\"get_data_from_storage\",nc=\"get_server_time\",oc=\"clipboard_read\",ic=\"unlock_achievement\",ac=\"get_achievements\",sc=\"get_performance_resources\",cc=\"isStorageInternalSupported\",uc=\"isStorageLocalSupported\",lc=new WeakMap,fc=new WeakMap,pc=new WeakSet,dc=new WeakSet,hc=function(r){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ws(e,t)}(p,r);var n,o,c,u,l=(c=p,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Js(c);if(u){var r=Js(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Us(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Vs(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Zs(Vs(e=l.call.apply(l,[this].concat(r))),dc),Zs(Vs(e),pc),Xs(Vs(e),lc,{get:yc,set:void 0}),Xs(Vs(e),fc,{writable:!0,value:new Fs}),Ks(Vs(e),\"_supportedFeatures\",[]),Ks(Vs(e),\"_leaderboardsType\",null),e}return n=p,(o=[{key:\"platformId\",get:function(){return e.QA_TOOL}},{key:\"platformLanguage\",get:function(){return this._supportedFeatures.includes(\"isGetLanguageSupported\")&&ec(this,fc).send({type:t.PLATFORM,action:\"get_language\",options:{language:this._platformLanguage}}),this._platformLanguage}},{key:\"platformTld\",get:function(){return this._platformTld}},{key:\"deviceType\",get:function(){return this._deviceType}},{key:\"platformPayload\",get:function(){return this._platformPayload}},{key:\"isInterstitialSupported\",get:function(){return this._supportedFeatures.includes(\"isInterstitialSupported\")}},{key:\"isRewardedSupported\",get:function(){return this._supportedFeatures.includes(\"isRewardedSupported\")}},{key:\"isPlayerAuthorizationSupported\",get:function(){return this._supportedFeatures.includes(\"isPlayerAuthorizationSupported\")}},{key:\"isPaymentsSupported\",get:function(){return this._supportedFeatures.includes(\"isPaymentsSupported\")}},{key:\"isRemoteConfigSupported\",get:function(){return this._supportedFeatures.includes(\"isRemoteConfigSupported\")}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedFeatures.includes(\"isInviteFriendsSupported\")}},{key:\"isJoinCommunitySupported\",get:function(){return this._supportedFeatures.includes(\"isJoinCommunitySupported\")}},{key:\"isShareSupported\",get:function(){return this._supportedFeatures.includes(\"isShareSupported\")}},{key:\"isCreatePostSupported\",get:function(){return this._supportedFeatures.includes(\"isCreatePostSupported\")}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToHomeScreenSupported\")}},{key:\"isAddToFavoritesSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToFavoritesSupported\")}},{key:\"isRateSupported\",get:function(){return this._supportedFeatures.includes(\"isRateSupported\")}},{key:\"leaderboardsType\",get:function(){var e;return null!==(e=this._leaderboardsType)&&void 0!==e?e:h}},{key:\"isClipboardSupported\",get:function(){return this._supportedFeatures.includes(\"isClipboardSupported\")}},{key:\"isAchievementsSupported\",get:function(){return this._supportedFeatures.includes(\"isAchievementsSupported\")}},{key:\"isGetAchievementsListSupported\",get:function(){return this._supportedFeatures.includes(\"isGetAchievementsListSupported\")}},{key:\"isAchievementsNativePopupSupported\",get:function(){return this._supportedFeatures.includes(\"isAchievementsNativePopupSupported\")}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var r=this._getPromiseDecorator(v.INITIALIZE);return r||(r=this._createPromiseDecorator(v.INITIALIZE),this._defaultStorageType=f.PLATFORM_INTERNAL,ec(this,fc).addListener((function(r){var n=r.data;if(null!=n&&n.type&&n.type===t.PLATFORM&&(n.action===v.INITIALIZE&&$s(e,pc,mc).call(e,n),n.action===sc)){var o,i=ec(e,fc).generateMessageId(),a=(null==n||null===(o=n.options)||void 0===o?void 0:o.resources)||[];$s(e,dc,vc).call(e,i,a)}})),ec(this,fc).send({type:t.PLATFORM,action:v.INITIALIZE})),r.promise}},{key:\"authorizePlayer\",value:function(e){var r=this,n=this._getPromiseDecorator(v.AUTHORIZE_PLAYER);if(!n){n=this._createPromiseDecorator(v.AUTHORIZE_PLAYER);var o=ec(this,fc).generateMessageId();ec(this,fc).addListener((function e(n){var i=n.data;if((null==i?void 0:i.type)===t.PLAYER&&i.action===v.AUTHORIZE_PLAYER&&i.id===o){var a=i.player,s=i.auth;\"success\"===s.status?(r._isPlayerAuthorized=!0,r._playerId=a.userId,r._playerName=a.name,a.profilePictureUrl&&(r._playerPhotos=[a.profilePictureUrl]),r._resolvePromiseDecorator(v.AUTHORIZE_PLAYER)):r._rejectPromiseDecorator(v.AUTHORIZE_PLAYER,s.error),ec(r,fc).removeListener(e)}})),ec(this,fc).send({type:t.PLAYER,action:v.AUTHORIZE_PLAYER,id:o,options:e})}return n.promise}},{key:\"sendMessage\",value:function(e){return[d.GAME_READY,d.IN_GAME_LOADING_STARTED,d.IN_GAME_LOADING_STOPPED,d.GAMEPLAY_STARTED,d.GAMEPLAY_STOPPED,d.PLAYER_GOT_ACHIEVEMENT,d.GAME_OVER].includes(e)?(ec(this,fc).send({type:t.PLATFORM,action:e}),Promise.resolve()):Ys(Js(p.prototype),\"sendMessage\",this).call(this,e)}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(r,n){var o,i=ec(e,fc).generateMessageId(),a=function a(s){var c=s.data;if((null==c?void 0:c.type)===t.PLATFORM&&c.action===nc&&c.id===i){if(!c.time)return void n(new Error(\"Invalid server time\"));clearTimeout(o),r(c.time),ec(e,fc).removeListener(a)}};ec(e,fc).addListener(a),ec(e,fc).send({type:t.PLATFORM,action:nc,id:i}),o=setTimeout((function(){n(new Error(\"Server time request timeout\")),ec(e,fc).removeListener(a)}),5e3)}))}},{key:\"isStorageSupported\",value:function(e){return ec(this,fc).send({type:t.STORAGE,action:\"is_storage_supported\",options:{storageType:e}}),!(e!==f.PLATFORM_INTERNAL||!this._supportedFeatures.includes(cc))||!(e!==f.LOCAL_STORAGE||!this._supportedFeatures.includes(uc))}},{key:\"isStorageAvailable\",value:function(e){return ec(this,fc).send({type:t.STORAGE,action:\"is_storage_available\",options:{storageType:e}}),!(e!==f.PLATFORM_INTERNAL||!this._supportedFeatures.includes(cc))||!(e!==f.LOCAL_STORAGE||!this._supportedFeatures.includes(uc))}},{key:\"getDataFromStorage\",value:function(e,r,n){var o=this;if(r===f.PLATFORM_INTERNAL||r===f.LOCAL_STORAGE&&ec(this,lc)){var i=ec(this,fc).generateMessageId();return new Promise((function(a){ec(o,fc).addListener((function e(r){var n=r.data;if((null==n?void 0:n.type)===t.STORAGE&&n.action===rc&&n.id===i){var s=Object.values(n.storage);a(s),ec(o,fc).removeListener(e)}})),ec(o,fc).send({type:t.STORAGE,action:rc,id:i,options:{key:e,storageType:r,tryParseJson:n}})}))}return ec(this,fc).send({type:t.STORAGE,action:rc,options:{key:e,storageType:r,tryParseJson:n}}),Ys(Js(p.prototype),\"getDataFromStorage\",this).call(this,e,r,n)}},{key:\"setDataToStorage\",value:function(e,r,n){return ec(this,fc).send({type:t.STORAGE,action:\"set_data_to_storage\",options:{key:e,value:r,storageType:n}}),n===f.PLATFORM_INTERNAL||n===f.LOCAL_STORAGE&&ec(this,lc)?Promise.resolve():Ys(Js(p.prototype),\"setDataToStorage\",this).call(this,e,r,n)}},{key:\"deleteDataFromStorage\",value:function(e,r){return ec(this,fc).send({type:t.STORAGE,action:\"delete_data_from_storage\",options:{key:e,storageType:r}}),r===f.PLATFORM_INTERNAL||r===f.LOCAL_STORAGE&&ec(this,lc)?Promise.resolve():Ys(Js(p.prototype),\"deleteDataFromStorage\",this).call(this,e,r)}},{key:\"showInterstitial\",value:function(e){var r=this;ec(this,fc).addListener((function e(n){var o=n.data;if((null==o?void 0:o.type)===t.ADVERTISEMENT)switch(o.payload.status){case\"start\":r._setInterstitialState(i.LOADING);break;case\"open\":r._setInterstitialState(i.OPENED);break;case\"failed\":r._setInterstitialState(i.FAILED);break;case\"close\":r._setInterstitialState(i.CLOSED),ec(r,fc).removeListener(e)}})),ec(this,fc).send({type:t.ADVERTISEMENT,action:\"interstitial\",options:{placement:e}})}},{key:\"showRewarded\",value:function(e){var r=this;ec(this,fc).addListener((function e(n){var o=n.data;if((null==o?void 0:o.type)===t.ADVERTISEMENT)switch(o.payload.status){case\"start\":r._setRewardedState(a.LOADING);break;case\"open\":r._setRewardedState(a.OPENED);break;case\"failed\":r._setRewardedState(a.FAILED);break;case\"rewarded\":r._setRewardedState(a.REWARDED);break;case\"close\":r._setRewardedState(a.CLOSED),ec(r,fc).removeListener(e)}})),ec(this,fc).send({type:t.ADVERTISEMENT,action:\"reward\",options:{placement:e}})}},{key:\"showBanner\",value:function(e,r){this._setBannerState(s.SHOWN),ec(this,fc).send({type:t.ADVERTISEMENT,action:s.SHOWN,options:{type:tc,position:e,placement:r}})}},{key:\"hideBanner\",value:function(){this._setBannerState(s.HIDDEN),ec(this,fc).send({type:t.ADVERTISEMENT,action:s.HIDDEN,options:{type:tc}})}},{key:\"checkAdBlock\",value:function(){return ec(this,fc).send({type:\"check_adblock\",action:v.ADBLOCK_DETECT}),Ys(Js(p.prototype),\"checkAdBlock\",this).call(this)}},{key:\"inviteFriends\",value:function(){var e=this._getPromiseDecorator(v.INVITE_FRIENDS);return e||(e=this._createPromiseDecorator(v.INVITE_FRIENDS),this._resolvePromiseDecorator(v.INVITE_FRIENDS),ec(this,fc).send({type:t.SOCIAL,action:v.INVITE_FRIENDS})),e.promise}},{key:\"joinCommunity\",value:function(){var e=this._getPromiseDecorator(v.JOIN_COMMUNITY);return e||(e=this._createPromiseDecorator(v.JOIN_COMMUNITY),this._resolvePromiseDecorator(v.JOIN_COMMUNITY),ec(this,fc).send({type:t.SOCIAL,action:v.JOIN_COMMUNITY})),e.promise}},{key:\"share\",value:function(){var e=this._getPromiseDecorator(v.SHARE);return e||(e=this._createPromiseDecorator(v.SHARE),this._resolvePromiseDecorator(v.SHARE),ec(this,fc).send({type:t.SOCIAL,action:v.SHARE})),e.promise}},{key:\"createPost\",value:function(){var e=this._getPromiseDecorator(v.CREATE_POST);return e||(e=this._createPromiseDecorator(v.CREATE_POST),this._resolvePromiseDecorator(v.CREATE_POST),ec(this,fc).send({type:t.SOCIAL,action:v.CREATE_POST})),e.promise}},{key:\"addToHomeScreen\",value:function(){var e=this._getPromiseDecorator(v.ADD_TO_HOME_SCREEN);return e||(e=this._createPromiseDecorator(v.ADD_TO_HOME_SCREEN),this._resolvePromiseDecorator(v.ADD_TO_HOME_SCREEN),ec(this,fc).send({type:t.SOCIAL,action:v.ADD_TO_HOME_SCREEN})),e.promise}},{key:\"addToFavorites\",value:function(){var e=this._getPromiseDecorator(v.ADD_TO_FAVORITES);return e||(e=this._createPromiseDecorator(v.ADD_TO_FAVORITES),this._resolvePromiseDecorator(v.ADD_TO_FAVORITES),ec(this,fc).send({type:t.SOCIAL,action:v.ADD_TO_FAVORITES})),e.promise}},{key:\"rate\",value:function(){var e=this._getPromiseDecorator(v.RATE);return e||(e=this._createPromiseDecorator(v.RATE),this._resolvePromiseDecorator(v.RATE),ec(this,fc).send({type:t.SOCIAL,action:v.RATE})),e.promise}},{key:\"paymentsPurchase\",value:function(e){var r=this,n=this._paymentsGetProductPlatformData(e);if(!n)return Promise.reject();var o=this._getPromiseDecorator(v.PURCHASE);if(!o){o=this._createPromiseDecorator(v.PURCHASE);var i=ec(this,fc).generateMessageId();ec(this,fc).addListener((function n(o){var a=o.data;if((null==a?void 0:a.type)===t.PAYMENTS&&a.action===v.PURCHASE&&a.id===i){var s;if(!a.purchase||\"object\"!==Us(a.purchase))return r._rejectPromiseDecorator(v.PURCHASE,new Error(\"Invalid purchase\")),void ec(r,fc).removeListener(n);if(null!==(s=a.purchase)&&void 0!==s&&s.status){var c=Hs({id:e},a.purchase.purchaseData);delete c.commonId,r._paymentsPurchases.push(c),r._resolvePromiseDecorator(v.PURCHASE,c)}else{var u;r._rejectPromiseDecorator(v.PURCHASE,(null===(u=a.purchase)||void 0===u?void 0:u.error)||new Error(\"Unknown purchase error\"))}ec(r,fc).removeListener(n)}})),ec(this,fc).send({type:t.PAYMENTS,action:v.PURCHASE,id:i,options:{product:n}})}return o.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var r=this,n=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(n<0)return Promise.reject();var o=this._getPromiseDecorator(v.CONSUME_PURCHASE);if(!o){o=this._createPromiseDecorator(v.CONSUME_PURCHASE);var i=ec(this,fc).generateMessageId();ec(this,fc).addListener((function o(a){var s=a.data;if((null==s?void 0:s.type)===t.PAYMENTS&&s.action===v.CONSUME_PURCHASE&&s.id===i){var c;if(!s.purchase||\"object\"!==Us(s.purchase))return r._rejectPromiseDecorator(v.CONSUME_PURCHASE,new Error(\"Invalid purchase\")),void ec(r,fc).removeListener(o);if(null!==(c=s.purchase)&&void 0!==c&&c.status){var u=Hs({id:e},s.purchase);r._paymentsPurchases.splice(n,1),r._resolvePromiseDecorator(v.CONSUME_PURCHASE,u)}else{var l;r._rejectPromiseDecorator(v.CONSUME_PURCHASE,(null===(l=s.purchase)||void 0===l?void 0:l.error)||new Error(\"Unknown consume purchase error\"))}ec(r,fc).removeListener(o)}})),ec(this,fc).send({type:t.PAYMENTS,action:v.CONSUME_PURCHASE,id:i,options:{product:this._paymentsPurchases[n]}})}return o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,r=this._getPromiseDecorator(v.GET_CATALOG);if(!r){r=this._createPromiseDecorator(v.GET_CATALOG);var n=this._paymentsGetProductsPlatformData(),o=ec(this,fc).generateMessageId();ec(this,fc).addListener((function r(i){var a=i.data;if((null==a?void 0:a.type)===t.PAYMENTS&&a.action===v.GET_CATALOG&&a.id===o){var s=n.map((function(e){return{id:e.id,price:\"\".concat(e.amount,\" Gam\"),priceCurrencyCode:\"Gam\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:e.amount}}));ec(e,fc).removeListener(r),e._resolvePromiseDecorator(v.GET_CATALOG,s)}})),ec(this,fc).send({type:t.PAYMENTS,action:v.GET_CATALOG,id:o})}return r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,r=this._getPromiseDecorator(v.GET_PURCHASES);if(!r){r=this._createPromiseDecorator(v.GET_PURCHASES);var n=ec(this,fc).generateMessageId();ec(this,fc).addListener((function r(o){var i=o.data;if((null==i?void 0:i.type)===t.PAYMENTS&&i.action===v.GET_PURCHASES&&i.id===n){var a=e._paymentsGetProductsPlatformData();e._paymentsPurchases=i.purchases.map((function(e){return Hs({id:a.find((function(t){return t.id===e.id})).id},e.purchaseData)})),ec(e,fc).removeListener(r),e._resolvePromiseDecorator(v.GET_PURCHASES,e._paymentsPurchases)}})),ec(this,fc).send({type:t.PAYMENTS,action:v.GET_PURCHASES,id:n})}return r.promise}},{key:\"getRemoteConfig\",value:function(){var e=this,r=this._getPromiseDecorator(v.GET_REMOTE_CONFIG);if(!r){r=this._createPromiseDecorator(v.GET_REMOTE_CONFIG);var n=ec(this,fc).generateMessageId();ec(this,fc).addListener((function r(o){var i=o.data;(null==i?void 0:i.type)===t.REMOTE_CONFIG&&i.action===v.GET_REMOTE_CONFIG&&i.id===n&&(e._resolvePromiseDecorator(v.GET_REMOTE_CONFIG,i.result),ec(e,fc).removeListener(r))})),ec(this,fc).send({type:t.REMOTE_CONFIG,action:v.GET_REMOTE_CONFIG,id:n})}return r.promise}},{key:\"clipboardWrite\",value:function(e){var r=this,n=this._getPromiseDecorator(v.CLIPBOARD_WRITE);if(!n){n=this._createPromiseDecorator(v.CLIPBOARD_WRITE);var o=ec(this,fc).generateMessageId();ec(this,fc).addListener((function e(n){var i=n.data;(null==i?void 0:i.type)===t.CLIPBOARD&&i.action===v.CLIPBOARD_WRITE&&i.id===o&&(r._resolvePromiseDecorator(v.CLIPBOARD_WRITE,!0),ec(r,fc).removeListener(e))})),ec(this,fc).send({type:t.CLIPBOARD,action:v.CLIPBOARD_WRITE,id:o,options:{text:e}})}return n.promise}},{key:\"clipboardRead\",value:function(){var e=this,r=this._getPromiseDecorator(oc);if(!r){r=this._createPromiseDecorator(oc);var n=ec(this,fc).generateMessageId();ec(this,fc).addListener((function r(o){var i=o.data;if((null==i?void 0:i.type)===t.CLIPBOARD&&i.action===oc&&i.id===n){var a=i.text;e._resolvePromiseDecorator(oc,a),ec(e,fc).removeListener(r)}})),ec(this,fc).send({type:t.CLIPBOARD,action:oc,id:n,options:{}})}return r.promise}},{key:\"leaderboardsSetScore\",value:function(e,r){if(this.leaderboardsType===h)return Promise.reject(new Error(\"Leaderboards are not available\"));var n=this._getPromiseDecorator(v.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(v.LEADERBOARDS_SET_SCORE);var o={id:e,score:r};ec(this,fc).send({type:t.LEADERBOARDS,action:v.LEADERBOARDS_SET_SCORE,options:o}),this._resolvePromiseDecorator(v.LEADERBOARDS_SET_SCORE)}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var r=this;if(this.leaderboardsType===h||this.leaderboardsType===m)return Promise.reject(new Error(\"Leaderboards are not available\"));var n=this._getPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES);if(!n){n=this._createPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES);var o=ec(this,fc).generateMessageId();ec(this,fc).addListener((function e(n){var i=n.data;(null==i?void 0:i.type)===t.LEADERBOARDS&&i.action===v.LEADERBOARDS_GET_ENTRIES&&i.id===o?(r._resolvePromiseDecorator(v.LEADERBOARDS_GET_ENTRIES,i.entries),ec(r,fc).removeListener(e)):r._rejectPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES)})),ec(this,fc).send({type:t.LEADERBOARDS,action:v.LEADERBOARDS_GET_ENTRIES,id:o,options:{id:e}})}return n.promise}},{key:\"unlockAchievement\",value:function(e){var r=this;return new Promise((function(n){var o=ec(r,fc).generateMessageId();ec(r,fc).addListener((function e(i){var a=i.data;(null==a?void 0:a.type)===t.ACHIEVEMENTS&&a.action===ic&&a.id===o&&(n(a.result),ec(r,fc).removeListener(e))})),ec(r,fc).send({type:t.ACHIEVEMENTS,action:ic,id:o,options:e})}))}},{key:\"getAchievementsList\",value:function(e){var r=this;return new Promise((function(n){var o=ec(r,fc).generateMessageId();ec(r,fc).addListener((function e(i){var a=i.data;(null==a?void 0:a.type)===t.ACHIEVEMENTS&&a.action===ac&&a.id===o&&(n(a.result),ec(r,fc).removeListener(e))})),ec(r,fc).send({type:t.ACHIEVEMENTS,action:ac,id:o,options:e})}))}},{key:\"showAchievementsNativePopup\",value:function(){return ec(this,fc).send({type:t.ACHIEVEMENTS,action:\"show_achievements_native_popup\"}),Promise.resolve()}},{key:\"_paymentsGetProductsPlatformData\",value:function(){return this._options.payments?this._options.payments.map((function(e){return Hs({id:e.id},e.playgama)})):[]}},{key:\"_paymentsGetProductPlatformData\",value:function(e){var t=this._options.payments;if(!t)return null;var r=t.find((function(t){return t.id===e}));return r?Hs({id:r.id},r.playgama):null}}])&&zs(n.prototype,o),Object.defineProperty(n,\"prototype\",{writable:!1}),p}(zr);function yc(){return this._supportedFeatures.includes(\"isStorageRemoteLocalSupported\")}function mc(e){var t,r,n,o,i;this._supportedFeatures=e.supportedFeatures||[],this._isBannerSupported=this._supportedFeatures.includes(\"isBannerSupported\");var a=e.config,s=void 0===a?{}:a;this._deviceType=null!==(t=s.deviceType)&&void 0!==t?t:Ys(Js(Ms.prototype),\"deviceType\",this),this._platformLanguage=null!==(r=s.platformLanguage)&&void 0!==r?r:Ys(Js(Ms.prototype),\"platformLanguage\",this),this._platformTld=null!==(n=s.platformTld)&&void 0!==n?n:Ys(Js(Ms.prototype),\"platformTld\",this),this._platformPayload=null!==(o=s.platformPayload)&&void 0!==o?o:Ys(Js(Ms.prototype),\"platformPayload\",this),this._leaderboardsType=null!==(i=s.leaderboardsType)&&void 0!==i?i:h,this._paymentsPurchases=e.purchases||[],this._isInitialized=!0,this._resolvePromiseDecorator(v.INITIALIZE),ec(this,fc).send({type:\"liveness\",action:\"ping\",options:{version:\"1.25.0\"}})}function vc(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(r)?r:[],o=performance.getEntriesByType(\"resource\")||[],i=n.length>0?n:[\"name\",\"initiatorType\"],a=o.map((function(e){var t={};return i.forEach((function(r){r in e&&(t[r]=e[r])})),t}));return ec(this,fc).send({type:t.PLATFORM,action:sc,id:e,options:{resources:a}}),Promise.resolve(o)}Ms=hc;const _c=hc;function gc(e){return gc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},gc(e)}function Sc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,bc(n.key),n)}}function bc(e){var t=function(e,t){if(\"object\"!=gc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=gc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==gc(t)?t:String(t)}function Ec(){return Ec=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wc(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ec.apply(this,arguments)}function Pc(e,t){return Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pc(e,t)}function wc(e){return wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wc(e)}const Ac=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Pc(e,t)}(u,t);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wc(o);if(s){var r=wc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===gc(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:\"platformId\",get:function(){return e.POKI}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"https://game-cdn.poki.com/scripts/v2/poki-sdk.js\").then((function(){ge(\"PokiSDK\",\"init\").then((function(){e._platformSdk=window.PokiSDK,e._platformSdk.init().then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}))}))}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case d.GAME_READY:return this._platformSdk.gameLoadingFinished(),Promise.resolve();case d.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case d.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();default:return Ec(wc(u.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"showInterstitial\",value:function(){var e=this,t=!1;this._platformSdk.commercialBreak((function(){t=!0,e._setInterstitialState(i.OPENED)})).then((function(){t?e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)})).catch((function(t){e._setInterstitialState(i.FAILED,t)}))}},{key:\"showRewarded\",value:function(){var e=this,t=!1;this._platformSdk.rewardedBreak((function(){t=!0,e._setRewardedState(a.OPENED)})).then((function(r){t?(r&&e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)})).catch((function(t){e._setRewardedState(a.FAILED,t)}))}}])&&Sc(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(zr);function Oc(e){return Oc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Oc(e)}function kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Tc(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ic(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Tc(n.key),n)}}function Tc(e){var t=function(e,t){if(\"object\"!=Oc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Oc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Oc(t)?t:String(t)}function Rc(e,t){return Rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rc(e,t)}function Lc(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function jc(e){return jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jc(e)}function Nc(e,t){Cc(e,t),t.add(e)}function Cc(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Bc(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Gc(e,t,\"get\"))}function Gc(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}function Mc(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Fc=new WeakMap,xc=new WeakSet,Hc=new WeakSet,Uc=new WeakSet;function zc(){var e=this;return Bc(this,Fc)?new Promise((function(t){Bc(e,Fc).requestOutOfPageAd(\"interstitial\").then((function(r){switch(r.state){case\"empty\":return void e._advertisementShowErrorPopup(!1).then((function(){return t()}));case\"ready\":e._setInterstitialState(i.OPENED),r.show()}r.addEventListener(\"ready\",(function(){e._setInterstitialState(i.OPENED),r.show()})),r.addEventListener(\"empty\",(function(){e._advertisementShowErrorPopup(!1).then((function(){return t()}))})),r.addEventListener(\"closed\",(function(){e._setInterstitialState(i.CLOSED),t()}))}))})):this._advertisementShowErrorPopup(!1)}function Wc(){var e=this;return Bc(this,Fc)?new Promise((function(t){Bc(e,Fc).requestOutOfPageAd(\"rewarded\").then((function(r){switch(r.state){case\"empty\":return void e._advertisementShowErrorPopup(!0).then((function(){return t()}));case\"ready\":e._setRewardedState(a.OPENED),r.show()}r.addEventListener(\"ready\",(function(){e._setRewardedState(a.OPENED),r.show()})),r.addEventListener(\"rewarded\",(function(){e._setRewardedState(a.REWARDED)})),r.addEventListener(\"empty\",(function(){e._advertisementShowErrorPopup(!0).then((function(){return t()}))})),r.addEventListener(\"closed\",(function(){e._setRewardedState(a.CLOSED),t()}))}))})):this._advertisementShowErrorPopup(!0)}function Vc(e){e.playerId&&(this._isPlayerAuthorized=!0,this._playerId=e.playerId,this._playerName=e.playerDisplayName,this._playerExtra=e,delete this._playerExtra.playerId,delete this._playerExtra.playerDisplayName)}const Zc=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Rc(e,t)}(l,t);var r,n,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jc(o);if(c){var r=jc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Oc(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Lc(e)}(this,e)});function l(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Nc(Lc(e=u.call.apply(u,[this].concat(i))),Uc),Nc(Lc(e),Hc),Nc(Lc(e),xc),n={writable:!0,value:null},Cc(t=Lc(e),r=Fc),r.set(t,n),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.MSN}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return m}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);if(!t){var r;t=this._createPromiseDecorator(v.INITIALIZE),me(\"https://assets.msn.com/staticsb/statics/latest/msstart-games-sdk/msstart-v1.0.0-rc.20.min.js\").then((function(){return ge(\"$msstart\")})).then((function(){e._platformSdk=window.$msstart,e._platformSdk.getSignedInUserAsync().then((function(t){Mc(e,Uc,Vc).call(e,t)})).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}))}));var n=null===(r=this._options)||void 0===r||null===(r=r.advertisement)||void 0===r?void 0:r.backfillId;n&&me(\"https://playgama.com/ads/msn.v0.1.js\").then((function(){return ge(\"pgAds\")})).then((function(){window.pgAds.init(n).then((function(){var t,r,n;t=e,r=Fc,n=window.pgAds,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t,Gc(t,r,\"set\"),n);var o=e._options.gameId;Bc(e,Fc).updateTargeting({gameId:o})}))}))}return t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(t,r){e._platformSdk.signInAsync().then((function(r){Mc(e,Uc,Vc).call(e,r),t()})).catch((function(e){r(e)}))}))}},{key:\"share\",value:function(e){var t=this;return new Promise((function(r,n){t._platformSdk.shareAsync(e).then(r).catch(n)}))}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;return new Promise((function(e,n){r._platformSdk.submitGameResultsAsync(t).then(e).catch(n)}))}},{key:\"showBanner\",value:function(e){var t,r=this;t=\"top\"===e?\"top:728x90\":\"bottom:320x50\",this._platformSdk.showDisplayAdsAsync([t]).then((function(){r._setBannerState(s.SHOWN)})).catch((function(){r._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.hideDisplayAdsAsync().then((function(){e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.loadAdsAsync(!1).then((function(t){return e._platformSdk.showAdsAsync(t.instanceId)})).then((function(t){return e._setInterstitialState(i.OPENED),t.showAdsCompletedAsync})).then((function(){return e._setInterstitialState(i.CLOSED)})).catch((function(){return Mc(e,xc,zc).call(e)}))}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.loadAdsAsync(!0).then((function(t){return e._platformSdk.showAdsAsync(t.instanceId)})).then((function(t){return e._setRewardedState(a.OPENED),t.showAdsCompletedAsync})).then((function(){e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)})).catch((function(){return Mc(e,Hc,Wc).call(e)}))}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();var n=this._getPromiseDecorator(v.PURCHASE);return n||(n=this._createPromiseDecorator(v.PURCHASE),this._platformSdk.iap.purchaseAsync({productId:r.platformProductId}).then((function(r){if(\"IAP_PURCHASE_FAILURE\"!==r.code){var n=Dc(Dc({id:e},r.receipt),{},{receiptSignature:r.receiptSignature});delete n.productId,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(v.PURCHASE,n)}else t._rejectPromiseDecorator(v.PURCHASE,r.description)})).catch((function(e){t._rejectPromiseDecorator(v.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(v.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(v.CONSUME_PURCHASE),this._platformSdk.iap.consumeAsync({productId:this._paymentsPurchases[r].id}).then((function(n){if(\"IAP_CONSUME_FAILURE\"!==n.code){t._paymentsPurchases.splice(r,1);var o=Dc(Dc({id:e},n.consumptionReceipt),{},{consumptionSignature:n.consumptionSignature});delete o.productId,t._resolvePromiseDecorator(v.CONSUME_PURCHASE,o)}else t._rejectPromiseDecorator(v.CONSUME_PURCHASE,n.description)})).catch((function(e){t._rejectPromiseDecorator(v.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(v.GET_CATALOG);return r||(r=this._createPromiseDecorator(v.GET_CATALOG),this._platformSdk.iap.getAllAddOnsAsync({productId:this._options.gameId}).then((function(r){if(\"IAP_GET_ALL_ADD_ONS_FAILURE\"!==r.code){var n=t.map((function(e){var t=r.find((function(t){return t.productId===e.platformProductId}));return{id:e.id,title:t.title,description:t.description,publisherName:t.publisherName,inAppOfferToken:t.inAppOfferToken,isConsumable:t.isConsumable,price:\"\".concat(t.price.listPrice,\" \").concat(t.price.currencyCode,\" \"),priceCurrencyCode:t.price.currencyCode,priceValue:t.price.listPrice}}));e._resolvePromiseDecorator(v.GET_CATALOG,n)}else e._rejectPromiseDecorator(v.GET_CATALOG,r.description)})).catch((function(t){e._rejectPromiseDecorator(v.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(v.GET_PURCHASES);return t||(t=this._createPromiseDecorator(v.GET_PURCHASES),this._platformSdk.iap.getAllPurchasesAsync({productId:this._options.gameId}).then((function(t){if(\"IAP_GET_ALL_PURCHASES_FAILURE\"!==t.code){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.receipts.map((function(e){var n=Dc(Dc({id:r.find((function(t){return t.id===e.productId})).id},e),{},{receiptSignature:t.receiptSignature});return delete n.productId,n})),e._resolvePromiseDecorator(v.GET_PURCHASES,e._paymentsPurchases)}else e._rejectPromiseDecorator(v.GET_PURCHASES,t.description)})).catch((function(t){e._rejectPromiseDecorator(v.GET_PURCHASES,t)}))),t.promise}}])&&Ic(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(zr);function Yc(e){return Yc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Yc(e)}function Jc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(r),!0).forEach((function(t){ru(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,nu(n.key),n)}}function Xc(){return Xc=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eu(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Xc.apply(this,arguments)}function Qc(e,t){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qc(e,t)}function $c(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eu(e)}function tu(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function ru(e,t,r){return(t=nu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nu(e){var t=function(e,t){if(\"object\"!=Yc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Yc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Yc(t)?t:String(t)}function ou(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var iu=new WeakSet,au=new WeakSet,su=new WeakSet,cu=new WeakSet,uu=new WeakSet,lu=new WeakSet,fu=new WeakSet,pu=new WeakSet,du=new WeakSet,hu=new WeakSet,yu=new WeakSet,mu=new WeakSet,vu=new WeakSet;function _u(e,t){window.system&&window.system.postMessage(JSON.stringify({action:e,data:t}))}function gu(){if(window.system){var e=this;window.system.onmessage=function(t){try{var r=JSON.parse(t),n=r.action,o=r.data;n===v.INITIALIZE?ou(e,su,Su).call(e,o):n===v.AUTHORIZE_PLAYER?ou(e,cu,bu).call(e,o):n===v.SET_INTERSTITIAL_STATE?ou(e,uu,Eu).call(e,o):n===v.SET_REWARDED_STATE?ou(e,lu,Pu).call(e,o):n===v.GET_CATALOG?ou(e,fu,wu).call(e,o):n===v.PURCHASE?ou(e,pu,Au).call(e,o):n===v.CONSUME_PURCHASE?ou(e,du,Ou).call(e,o):n===v.GET_PURCHASES?ou(e,hu,ku).call(e,o):n===v.GET_STORAGE_DATA?ou(e,yu,Du).call(e,o):n===v.SET_STORAGE_DATA?ou(e,mu,Iu).call(e,o):n===v.DELETE_STORAGE_DATA&&ou(e,vu,Tu).call(e,o)}catch(e){console.error(\"Error parsing Huawei message:\",e)}}}}function Su(e){e.success?(this._isInitialized=!0,this._resolvePromiseDecorator(v.INITIALIZE,e)):this._rejectPromiseDecorator(v.INITIALIZE,new Error(e))}function bu(e){e.success?(this._playerId=e.playerId,this._playerName=e.playerName,this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(v.AUTHORIZE_PLAYER)):this._rejectPromiseDecorator(v.AUTHORIZE_PLAYER,new Error(e))}function Eu(e){Object.values(i).includes(e.state)&&this._setInterstitialState(e.state,e.state===i.FAILED?new Error(e):void 0)}function Pu(e){Object.values(a).includes(e.state)&&this._setRewardedState(e.state,e.state===a.FAILED?new Error(e):void 0)}function wu(e){if(e.success){var t=this._paymentsGetProductsPlatformData().map((function(t){var r=e.data.find((function(e){return e.productId===t.id}));return{id:t.id,title:r.productName,description:r.productDesc,price:r.price,priceCurrencyCode:r.currency,priceValue:1e-6*r.microsPrice,subSpecialPeriodCycles:r.subSpecialPeriodCycles,subProductLevel:r.subProductLevel,priceType:r.priceType}}));this._resolvePromiseDecorator(v.GET_CATALOG,t)}else this._rejectPromiseDecorator(v.GET_CATALOG,new Error(e))}function Au(e){if(e.success){var t=e.data,r=Kc({id:e.id},t);delete r.productId,this._paymentsPurchases.push(r),this._resolvePromiseDecorator(v.PURCHASE,r)}else this._rejectPromiseDecorator(v.PURCHASE,new Error(e))}function Ou(e){if(e.success){var t=this._paymentsPurchases.findIndex((function(t){return t.purchaseToken===e.purchaseToken}));t>=0&&this._paymentsPurchases.splice(t,1),this._resolvePromiseDecorator(v.CONSUME_PURCHASE,e)}else this._rejectPromiseDecorator(v.CONSUME_PURCHASE,new Error(e))}function ku(e){if(e.success){var t=this._paymentsGetProductsPlatformData();this._paymentsPurchases=e.data.map((function(e){var r=JSON.parse(e),n=Kc({id:t.find((function(e){return e.id===r.productId})).id},r);return delete n.productId,n})),this._resolvePromiseDecorator(v.GET_PURCHASES,this._paymentsPurchases)}else this._rejectPromiseDecorator(v.GET_PURCHASES,new Error(e))}function Du(e){e.success?this._resolvePromiseDecorator(v.GET_STORAGE_DATA,e.data):this._rejectPromiseDecorator(v.GET_STORAGE_DATA,new Error(e))}function Iu(e){e.success?this._resolvePromiseDecorator(v.SET_STORAGE_DATA,e.data):this._rejectPromiseDecorator(v.SET_STORAGE_DATA,new Error(e))}function Tu(e){e.success?this._resolvePromiseDecorator(v.DELETE_STORAGE_DATA,e.data):this._rejectPromiseDecorator(v.DELETE_STORAGE_DATA,new Error(e))}const Ru=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Qc(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=eu(o);if(i){var r=eu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Yc(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return $c(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return tu($c(e=a.call.apply(a,[this].concat(r))),vu),tu($c(e),mu),tu($c(e),yu),tu($c(e),hu),tu($c(e),du),tu($c(e),pu),tu($c(e),fu),tu($c(e),lu),tu($c(e),uu),tu($c(e),cu),tu($c(e),su),tu($c(e),au),tu($c(e),iu),ru($c(e),\"_defaultStorageType\",f.PLATFORM_INTERNAL),e}return r=s,(n=[{key:\"platformId\",get:function(){return e.HUAWEI}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!0}},{key:\"initialize\",value:function(){if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(v.INITIALIZE);return e||(e=this._createPromiseDecorator(v.INITIALIZE),this._options&&this._options.appId?(this._appId=this._options.appId,ou(this,au,gu).call(this),ou(this,iu,_u).call(this,v.INITIALIZE,this._appId)):this._rejectPromiseDecorator(v.INITIALIZE,A)),e.promise}},{key:\"authorizePlayer\",value:function(){var e=this._getPromiseDecorator(v.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(v.AUTHORIZE_PLAYER),ou(this,iu,_u).call(this,v.AUTHORIZE_PLAYER)),e.promise}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||Xc(eu(s.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL||Xc(eu(s.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"setDataToStorage\",value:function(e,t,r){if(r!==f.PLATFORM_INTERNAL)return Xc(eu(s.prototype),\"setDataToStorage\",this).call(this,e,t,r);var n=this._getPromiseDecorator(v.SET_STORAGE_DATA);return n||(n=this._createPromiseDecorator(v.SET_STORAGE_DATA),ou(this,iu,_u).call(this,v.SET_STORAGE_DATA,{key:e,value:t})),n.promise}},{key:\"getDataFromStorage\",value:function(e,t){if(t!==f.PLATFORM_INTERNAL)return Xc(eu(s.prototype),\"getDataFromStorage\",this).call(this,e,t);var r=this._getPromiseDecorator(v.GET_STORAGE_DATA);return r||(r=this._createPromiseDecorator(v.GET_STORAGE_DATA),ou(this,iu,_u).call(this,v.GET_STORAGE_DATA,e)),r.promise}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t!==f.PLATFORM_INTERNAL)return Xc(eu(s.prototype),\"deleteDataFromStorage\",this).call(this,e,t);var r=this._getPromiseDecorator(v.DELETE_STORAGE_DATA);return r||(r=this._createPromiseDecorator(v.DELETE_STORAGE_DATA),ou(this,iu,_u).call(this,v.DELETE_STORAGE_DATA,e)),r.promise}},{key:\"showInterstitial\",value:function(e){ou(this,iu,_u).call(this,v.SHOW_INTERSTITIAL,e)}},{key:\"showRewarded\",value:function(e){ou(this,iu,_u).call(this,v.SHOW_REWARDED,e)}},{key:\"paymentsPurchase\",value:function(e){if(!this._paymentsGetProductPlatformData(e))return Promise.reject();var t=this._getPromiseDecorator(v.PURCHASE);return t||(t=this._createPromiseDecorator(v.PURCHASE),ou(this,iu,_u).call(this,v.PURCHASE,e)),t.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(t<0)return Promise.reject();var r=this._getPromiseDecorator(v.CONSUME_PURCHASE);return r||(r=this._createPromiseDecorator(v.CONSUME_PURCHASE),ou(this,iu,_u).call(this,v.CONSUME_PURCHASE,this._paymentsPurchases[t].purchaseToken)),r.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=this._getPromiseDecorator(v.GET_CATALOG);return t||(t=this._createPromiseDecorator(v.GET_CATALOG),ou(this,iu,_u).call(this,v.GET_CATALOG,e.map((function(e){return e.id})))),t.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this._getPromiseDecorator(v.GET_PURCHASES);return e||(e=this._createPromiseDecorator(v.GET_PURCHASES),ou(this,iu,_u).call(this,v.GET_PURCHASES)),e.promise}}])&&qc(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(zr);function Lu(e){return Lu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Lu(e)}function ju(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Fu(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ju(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cu(){Cu=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new T(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var c=f(e[o],e,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==Lu(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r(\"throw\",e,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var u=f(t,r,n);if(\"normal\"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(D,this),this.reset(!0)}function R(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Lu(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;I(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function Bu(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Gu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Bu(i,n,o,a,s,\"next\",e)}function s(e){Bu(i,n,o,a,s,\"throw\",e)}a(void 0)}))}}function Mu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Fu(n.key),n)}}function Fu(e){var t=function(e,t){if(\"object\"!=Lu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Lu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Lu(t)?t:String(t)}function xu(){return xu=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zu(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xu.apply(this,arguments)}function Hu(e,t){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hu(e,t)}function Uu(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function zu(e){return zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zu(e)}var Wu=new WeakSet;function Vu(){var e=this,t={loading:a.LOADING,opened:a.OPENED,closed:a.CLOSED,failed:a.FAILED,rewarded:a.REWARDED},r={loading:i.LOADING,opened:i.OPENED,closed:i.CLOSED,failed:i.FAILED},n={loading:s.LOADING,shown:s.SHOWN,hidden:s.HIDDEN,failed:s.FAILED};this._platformSdk.advertisement.on(\"REWARDED_STATE_CHANGED\",(function(r){var n=t[r];n&&(e._setRewardedState(n),n===a.REWARDED&&e._setRewardedState(a.CLOSED))})),this._platformSdk.advertisement.on(\"INTERSTITIAL_STATE_CHANGED\",(function(t){var n=r[t];n&&e._setInterstitialState(n)})),this._platformSdk.advertisement.on(\"BANNER_STATE_CHANGED\",(function(t){var r=n[t];r&&e._setBannerState(r)}))}const Zu=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Hu(e,t)}(u,t);var r,n,o,i,a,s,c=(a=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zu(a);if(s){var r=zu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Lu(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Uu(e)}(this,e)});function u(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t=Uu(e=c.call.apply(c,[this].concat(o))),r=Wu),r.add(t),e}return r=u,n=[{key:\"platformId\",get:function(){return e.BITQUEST}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return y}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"https://app.bitquest.games/bqsdk.min.js\").then((function(){ge(\"bq\").then((function(){e._platformSdk=window.bq,e._platformSdk.initialize().then((function(){e._platformSdk.platform.sendMessage(\"game_ready\");var t=e._platformSdk.player,r=t.id,n=void 0===r?null:r,o=t.name,i=void 0===o?\"\":o;e._playerId=n,e._playerName=i,e._isPlayerAuthorized=!0,e._defaultStorageType=f.PLATFORM_INTERNAL,e._playerExtra=t,delete e._playerExtra.id,delete e._playerExtra.name,function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}(e,Wu,Vu).call(e),e.showPreRoll(),e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)})).catch((function(t){e._rejectPromiseDecorator(v.INITIALIZE,t)}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||xu(zu(u.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL||xu(zu(u.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;if(t===f.PLATFORM_INTERNAL){if(Array.isArray(e)){var o=e.map((function(e){return n._platformSdk.storage.get(e,\"platform_internal\").then((function(e){var t=e;if(r&&\"string\"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}))}));return Promise.all(o)}return this._platformSdk.storage.get(e,\"platform_internal\").then((function(e){var t=e;if(r&&\"string\"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}))}return xu(zu(u.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:(i=Gu(Cu().mark((function e(t,r,n){return Cu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==f.PLATFORM_INTERNAL){e.next=12;break}if(!Array.isArray(t)){e.next=9;break}if(Array.isArray(r)){e.next=4;break}throw new Error(\"Value must be an array if key is an array\");case 4:if(t.length===r.length){e.next=6;break}throw new Error(\"Key and value arrays must have the same length\");case 6:return e.next=8,this._platformSdk.storage.set(t,r,\"platform_internal\");case 8:case 11:return e.abrupt(\"return\");case 9:return e.next=11,this._platformSdk.storage.set(t,r,\"platform_internal\");case 12:return e.next=14,xu(zu(u.prototype),\"setDataToStorage\",this).call(this,t,r,n);case 14:case\"end\":return e.stop()}}),e,this)}))),function(e,t,r){return i.apply(this,arguments)})},{key:\"deleteDataFromStorage\",value:(o=Gu(Cu().mark((function e(t,r){var n;return Cu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==f.PLATFORM_INTERNAL){e.next=13;break}if(!Array.isArray(t)){e.next=10;break}n=0;case 3:if(!(n<t.length)){e.next=9;break}return e.next=6,this._platformSdk.storage.delete(t[n],\"platform_internal\");case 6:n++,e.next=3;break;case 9:return e.abrupt(\"return\");case 10:return e.next=12,this._platformSdk.storage.delete(t,\"platform_internal\");case 12:return e.abrupt(\"return\");case 13:return e.next=15,xu(zu(u.prototype),\"deleteDataFromStorage\",this).call(this,t,r);case 15:case\"end\":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:\"showRewarded\",value:function(){this._platformSdk.advertisement.showRewarded()}},{key:\"showInterstitial\",value:function(){this._platformSdk.advertisement.showInterstitial()}},{key:\"showPreRoll\",value:function(){this._platformSdk.advertisement.showPreRoll()}},{key:\"showBanner\",value:function(){this._platformSdk.advertisement.showBanner()}},{key:\"hideBanner\",value:function(){this._platformSdk.advertisement.hideBanner()}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._getPromiseDecorator(v.PURCHASE);return r||(r=this._createPromiseDecorator(v.PURCHASE),this._platformSdk.payment.purchase(e).then((function(r){var n=Nu({id:e},r.purchaseData);delete n.productID,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(v.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(v.PURCHASE,e)}))),r.promise}},{key:\"paymentsGetCatalog\",value:function(){var e,t=this,r=this._paymentsGetProductsPlatformData();if(!r||!Array.isArray(r)||0===r.length)return Promise.reject(new Error(\"No platform products available\"));if(!this._isInitialized||null===(e=this._platformSdk)||void 0===e||!e.payment)return Promise.reject(new Error(\"SDK not initialized or payment not available\"));var n=this._getPromiseDecorator(v.GET_CATALOG);return n||(n=this._createPromiseDecorator(v.GET_CATALOG),this._platformSdk.payment.getCatalog().then((function(e){if(!Array.isArray(e))throw new Error(\"Catalog response is not an array\");var n=r.map((function(t){var r=e.find((function(e){return e.purchaseId===t.id}));return r?{id:t.id,name:r.name,description:r.description,price:r.priceValue,priceCurrencyCode:r.currencyCode,priceValue:r.price}:null})).filter(Boolean);t._resolvePromiseDecorator(v.GET_CATALOG,n)})).catch((function(e){t._rejectPromiseDecorator(v.GET_CATALOG,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(v.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(v.CONSUME_PURCHASE),this._platformSdk.payment.consumePurchase(e).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(v.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(v.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(v.GET_PURCHASES);return t||(t=this._createPromiseDecorator(v.GET_PURCHASES),this._platformSdk.payment.getPurchases().then((function(t){var r=null==t?void 0:t.purchases,n=e._paymentsGetProductsPlatformData();e._paymentsPurchases=r.map((function(e){var t=n.find((function(t){return t.id===e.purchaseId}));if(!t)return null;var r=Nu({id:t.id},e);return delete r.purchaseId,r})).filter(Boolean),e._resolvePromiseDecorator(v.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(v.GET_PURCHASES,t)}))),t.promise}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(v.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(v.LEADERBOARDS_SET_SCORE);var o=\"number\"==typeof t?t:parseInt(t,10);this._platformSdk.leaderboard.setScore(e,o).then((function(){r._resolvePromiseDecorator(v.LEADERBOARDS_SET_SCORE)})).catch((function(e){r._rejectPromiseDecorator(v.LEADERBOARDS_SET_SCORE,e)}))}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this,r=this._getPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES);return r||(r=this._createPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES),this._platformSdk.leaderboard.getEntries(e).then((function(e){var r=Array.isArray(e)?e:e.entries||e.data||[];t._resolvePromiseDecorator(v.LEADERBOARDS_GET_ENTRIES,r)})).catch((function(e){t._rejectPromiseDecorator(v.LEADERBOARDS_GET_ENTRIES,e)}))),r.promise}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(t){t(e._platformSdk.platform.getServerTime())}))}}],n&&Mu(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(zr);function Yu(e){return Yu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Yu(e)}function Ju(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,$u(n.key),n)}}function Ku(e,t){return Ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ku(e,t)}function qu(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xu(e)}function Qu(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function $u(e){var t=function(e,t){if(\"object\"!=Yu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Yu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Yu(t)?t:String(t)}function el(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var tl=new WeakSet,rl=new WeakSet,nl=new WeakSet;function ol(){var e=this;this._platformSdk.ads.on(\"rewarded:start\",(function(){e._setRewardedState(a.OPENED)})),this._platformSdk.ads.on(\"rewarded:close\",(function(t){t||e._setRewardedState(a.FAILED)})),this._platformSdk.ads.on(\"rewarded:reward\",(function(){e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)}))}function il(){var e=this;this._platformSdk.ads.on(\"fullscreen:start\",(function(){e._setInterstitialState(i.OPENED)})),this._platformSdk.ads.on(\"fullscreen:close\",(function(){e._setInterstitialState(i.CLOSED)}))}function al(){var e=this;this._platformSdk.ads.on(\"sticky:render\",(function(){e._setBannerState(s.SHOWN)})),this._platformSdk.ads.on(\"sticky:close\",(function(){e._setBannerState(s.HIDDEN)}))}const sl=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ku(e,t)}(c,t);var r,n,o,i,s=(o=c,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xu(o);if(i){var r=Xu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Yu(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return qu(e)}(this,e)});function c(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,c);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Qu(qu(e=s.call.apply(s,[this].concat(o))),nl),Qu(qu(e),rl),Qu(qu(e),tl),t=qu(e),!0,(r=$u(r=\"_isBannerSupported\"))in t?Object.defineProperty(t,r,{value:true,enumerable:!0,configurable:!0,writable:!0}):t[r]=true,e}return r=c,(n=[{key:\"platformId\",get:function(){return e.GAMEPUSH}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);if(!t)if(t=this._createPromiseDecorator(v.INITIALIZE),this._options&&this._options.projectId&&this._options.publicToken){var r=\"https://gamepush.com/sdk/game-score.js?projectId=\".concat(this._options.projectId,\"&publicToken=\").concat(this._options.publicToken);me(r).then((function(){ge(\"GamePush\").then((function(){var t;e._platformSdk=window.GamePush;var r=null===(t=e._platformSdk)||void 0===t?void 0:t.player;if(r){var n=r.id,o=void 0===n?null:n,i=r.name,a=void 0===i?\"\":i,s=r.avatar,c=void 0===s?\"\":s;e._isPlayerAuthorized=!0,e._playerId=o,e._playerName=a,c&&e._playerPhotos.push(c)}e._isInitialized=!0,el(e,rl,il).call(e),el(e,tl,ol).call(e),el(e,nl,al).call(e),e._resolvePromiseDecorator(v.INITIALIZE)}))}))}else this._rejectPromiseDecorator(v.INITIALIZE,O);return t.promise}},{key:\"showInterstitial\",value:function(){this._platformSdk.ads.showFullscreen()}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.ads.showRewardedVideo().catch((function(){e._setRewardedState(a.FAILED)}))}},{key:\"showBanner\",value:function(){this._platformSdk.ads.showSticky()}},{key:\"hideBanner\",value:function(){this._platformSdk.ads.closeSticky()}},{key:\"checkAdBlock\",value:function(){var e=this;return new Promise((function(t){e._platformSdk.ads.isAdblockEnabled().then((function(e){t(e)}))}))}}])&&Ju(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(zr);function cl(e){return cl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},cl(e)}function ul(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(r),!0).forEach((function(t){yl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ul(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ml(n.key),n)}}function pl(e,t){return pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pl(e,t)}function dl(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function hl(e){return hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hl(e)}function yl(e,t,r){return(t=ml(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ml(e){var t=function(e,t){if(\"object\"!=cl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=cl(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==cl(t)?t:String(t)}const vl=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&pl(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hl(o);if(i){var r=hl(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===cl(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return dl(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return yl(dl(e=a.call.apply(a,[this].concat(r))),\"_appId\",null),yl(dl(e),\"_accessToken\",null),e}return r=s,(n=[{key:\"platformId\",get:function(){return e.DISCORD}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r=this._getPromiseDecorator(v.INITIALIZE);return r||(r=this._createPromiseDecorator(v.INITIALIZE),null!==(t=this._options)&&void 0!==t&&t.appId?(this._appId=this._options.appId,me(\"/cdn/discord/discord-v2.0.0.min.js\").then((function(){ge(\"discord\",\"DiscordSDK\").then((function(){return e._platformSdk=new window.discord.DiscordSDK(e._appId),e._platformSdk.ready()})).then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}))}))):this._rejectPromiseDecorator(v.INITIALIZE,D)),r.promise}},{key:\"authorizePlayer\",value:function(){var e=this,t=this._getPromiseDecorator(v.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(v.AUTHORIZE_PLAYER),this._platformSdk.commands.authorize({client_id:this._appId,response_type:\"code\",state:\"\",prompt:\"none\",scope:[\"identify\"]}).then((function(e){var t=e.code;return fetch(\"\".concat(\"/api\",\"/token\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({code:t})})})).then((function(e){return e.json()})).then((function(t){return e._accessToken=t.access_token,e._platformSdk.commands.authenticate({access_token:e._accessToken})})).then((function(t){if(null===t)throw new Error(\"Authorization failed\");return e._isPlayerAuthorized=!0,e._resolvePromiseDecorator(v.AUTHORIZE_PLAYER),fetch(\"/users/@me\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(e._accessToken),\"Content-Type\":\"application/json\"}})})).then((function(e){return e.json()})).then((function(t){e._playerId=t.id,e._playerName=t.username,t.avatar&&e._playerPhotos.push(\"https://cdn.discordapp.com/avatars/\".concat(t.id,\"/\").concat(t.avatar,\".png\")),e._playerExtra=t,delete e._playerExtra.id,delete e._playerExtra.username,delete e._playerExtra.avatar})).catch((function(t){e._accessToken=null,e._rejectPromiseDecorator(v.AUTHORIZE_PLAYER,t)}))),t.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();var n=this._getPromiseDecorator(v.PURCHASE);return n||(n=this._createPromiseDecorator(v.PURCHASE),this._platformSdk.commands.startPurchase({sku_id:r.platformProductId}).then((function(r){if(!r)throw new Error(\"Purchase failed\");var n=ll({id:e},r);t._paymentsPurchases.push(n),t._resolvePromiseDecorator(v.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(v.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(v.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(v.CONSUME_PURCHASE),fetch(\"/applications/\".concat(this._appId,\"/entitlements/\").concat(this._paymentsPurchases[r].purchaseToken,\"/consume\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(this._accessToken),\"Content-Type\":\"application/json\"},body:JSON.stringify({})}).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(v.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(v.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(v.GET_CATALOG);return r||(r=this._createPromiseDecorator(v.GET_CATALOG),this._platformSdk.commands.getSkus().then((function(r){var n=r.skus,o=t.map((function(e){var t,r,o=n.find((function(t){return t.id===e.platformProductId})),i=(r=window.discord.PriceUtils.formatPrice(o.price).replace(/[^\\d.,-]/g,\"\")).includes(\".\")&&r.includes(\",\")&&r.indexOf(\",\")<r.indexOf(\".\")?parseFloat(r.replace(/,/g,\"\")):r.includes(\".\")&&r.includes(\",\")&&r.indexOf(\",\")>r.indexOf(\".\")?parseFloat(r.replace(/\\./g,\"\").replace(\",\",\".\")):r.includes(\",\")&&-1!==r.lastIndexOf(\",\")&&r.lastIndexOf(\",\")===r.length-4?parseInt(r.replace(/,/,\"\"),10):r.includes(\",\")&&-1!==r.lastIndexOf(\",\")&&r.lastIndexOf(\",\")!==r.length-3?parseFloat(r.replace(\",\",\".\")):r.includes(\".\")&&-1!==r.lastIndexOf(\".\")&&r.lastIndexOf(\".\")===r.length-4?parseInt(r.replace(/\\./,\"\"),10):r.includes(\".\")?parseFloat(r):parseInt(r,10),a=null===(t=o.price)||void 0===t||null===(t=t.currency)||void 0===t?void 0:t.toUpperCase(),s=\"\".concat(i,\" \").concat(a);return{id:e.id,title:o.name,price:s,priceValue:i,priceCurrencyCode:a}}));e._resolvePromiseDecorator(v.GET_CATALOG,o)})).catch((function(t){e._rejectPromiseDecorator(v.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(v.GET_PURCHASES);return t||(t=this._createPromiseDecorator(v.GET_PURCHASES),this._platformSdk.commands.getEntitlements().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.entitlements.map((function(e){return ll({id:r.find((function(t){return t.id===e.id})).id},e)})),e._resolvePromiseDecorator(v.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(v.GET_PURCHASES,t)}))),t.promise}},{key:\"inviteFriends\",value:function(){var e=this,t=this._getPromiseDecorator(v.INVITE_FRIENDS);return t||(t=this._createPromiseDecorator(v.INVITE_FRIENDS),this._platformSdk.commands.openInviteDialog().then((function(){e._resolvePromiseDecorator(v.INVITE_FRIENDS)})).catch((function(t){e._rejectPromiseDecorator(v.INVITE_FRIENDS,t)}))),t.promise}},{key:\"share\",value:function(e){var t=this;if(!e.mediaUrl)return Promise.reject();var r=this._getPromiseDecorator(v.SHARE);return r||(r=this._createPromiseDecorator(v.SHARE),this._platformSdk.commands.openShareMomentDialog({mediaUrl:e.mediaUrl}).then((function(){t._resolvePromiseDecorator(v.SHARE)})).catch((function(e){t._rejectPromiseDecorator(v.SHARE,e)}))),r.promise}}])&&fl(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(zr);function _l(e){return _l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_l(e)}function gl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=El(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,El(n.key),n)}}function El(e){var t=function(e,t){if(\"object\"!=_l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=_l(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==_l(t)?t:String(t)}function Pl(){return Pl=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ol(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Pl.apply(this,arguments)}function wl(e,t){return wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wl(e,t)}function Al(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ol(e){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ol(e)}function kl(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function Dl(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Tl(e,t,\"set\"),r),r}function Il(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Tl(e,t,\"get\"))}function Tl(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Rl=new WeakMap,Ll=new WeakMap,jl=new WeakMap;const Nl=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&wl(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ol(o);if(i){var r=Ol(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===_l(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Al(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return kl(Al(e=a.call.apply(a,[this].concat(r))),Rl,{writable:!0,value:void 0}),kl(Al(e),Ll,{writable:!0,value:!0}),kl(Al(e),jl,{writable:!0,value:!1}),e}return r=s,(n=[{key:\"platformId\",get:function(){return e.YOUTUBE}},{key:\"platformLanguage\",get:function(){return Il(this,Rl)?Il(this,Rl):Pl(Ol(s.prototype),\"platformLanguage\",this)}},{key:\"isPlatformAudioEnabled\",get:function(){return Il(this,Ll)}},{key:\"isPlatformPaused\",get:function(){return Il(this,jl)}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return m}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),me(\"https://www.youtube.com/game_api/v1\").then((function(){ge(\"ytgame\").then((function(){e._platformSdk=window.ytgame,e._defaultStorageType=f.PLATFORM_INTERNAL,Dl(e,Ll,e._platformSdk.system.isAudioEnabled());var t=e._platformSdk.system.getLanguage().then((function(t){Dl(e,Rl,t.length>2?t.slice(0,2):t)}));e._platformStorageCachedData={};var r=e._platformSdk.game.loadData().then((function(t){\"string\"==typeof t&&\"\"!==t&&(e._platformStorageCachedData=JSON.parse(t))}));e._platformSdk.system.onAudioEnabledChange((function(t){Dl(e,Ll,t),e._setAudioState(t)})),e._platformSdk.system.onPause((function(){Dl(e,jl,!0),e._setPauseState(Il(e,jl))})),e._platformSdk.system.onResume((function(){Dl(e,jl,!1),e._setPauseState(Il(e,jl))})),Promise.all([t,r]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE),e._platformSdk.game.firstFrameReady()}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===f.PLATFORM_INTERNAL||Pl(Ol(s.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===f.PLATFORM_INTERNAL||Pl(Ol(s.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,o){n._platformSdk.game.loadData().then((function(o){if(\"string\"==typeof o&&\"\"!==o&&(n._platformStorageCachedData=JSON.parse(o)),Array.isArray(e)){for(var i=[],a=0;a<e.length;a++){var s=void 0===n._platformStorageCachedData[e[a]]?null:n._platformStorageCachedData[e[a]];if(\"string\"==typeof s&&r)try{s=JSON.parse(s)}catch(e){}i.push(s)}t(i)}else{var c=void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e];if(\"string\"==typeof c&&r)try{c=JSON.parse(c)}catch(e){}t(c)}})).catch((function(){o()}))})):Pl(Ol(s.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===f.PLATFORM_INTERNAL?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?Sl({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.game.saveData(JSON.stringify(i)).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))})):Pl(Ol(s.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===f.PLATFORM_INTERNAL?new Promise((function(t,n){var o=null!==r._platformStorageCachedData?Sl({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r._platformSdk.game.saveData(JSON.stringify(o)).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))})):Pl(Ol(s.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"sendMessage\",value:function(e){return e===d.GAME_READY?(this._platformSdk.game.gameReady(),Promise.resolve()):Pl(Ol(s.prototype),\"sendMessage\",this).call(this,e)}},{key:\"leaderboardsSetScore\",value:function(e,t,r){var n=this;if(!r)return Promise.reject();var o=this._getPromiseDecorator(v.LEADERBOARDS_SET_SCORE);if(!o){o=this._createPromiseDecorator(v.LEADERBOARDS_SET_SCORE);var i=\"string\"==typeof t?parseInt(t,10):t;this._platformSdk.engagement.sendScore({value:i}).then((function(){n._resolvePromiseDecorator(v.LEADERBOARDS_SET_SCORE)})).catch((function(e){n._rejectPromiseDecorator(v.LEADERBOARDS_SET_SCORE,e)}))}return o.promise}}])&&bl(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(zr);function Cl(e){return Cl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Cl(e)}function Bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=xl(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,xl(n.key),n)}}function xl(e){var t=function(e,t){if(\"object\"!=Cl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Cl(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Cl(t)?t:String(t)}function Hl(e,t){return Hl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hl(e,t)}function Ul(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function zl(e){return zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zl(e)}function Wl(e,t){Zl(e,t),t.add(e)}function Vl(e,t,r){Zl(e,t),t.set(e,r)}function Zl(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Yl(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ql(e,t,\"get\"))}function Jl(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Kl(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,ql(e,t,\"set\"),r),r}function ql(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Xl=new WeakMap,Ql=new WeakMap,$l=new WeakMap,ef=new WeakMap,tf=new WeakMap,rf=new WeakMap,nf=new WeakMap,of=new WeakSet,af=new WeakSet;function sf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(\"ins\");return r.setAttribute(\"data-adspot-key\",e),r.setAttribute(\"data-source\",Yl(this,Xl)),Object.entries(t).forEach((function(e){var t,n,o=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return Ml(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ml(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=o[0],a=o[1];return r.setAttribute(i,String(a))})),r}function cf(e){var t=this;this._platformSdk.setConfiguration(Gl(Gl({},e),{},{reqType:\"prod\",logLevel:1,adRequestTimeout:6e3,adRenderingTimeout:5e3})),this._platformSdk.onAdPrepared=function(e){e===Yl(t,Ql)?t._setBannerState(s.SHOWN):e===Yl(t,ef)?t._setInterstitialState(i.OPENED):e===Yl(t,rf)&&t._setRewardedState(a.OPENED)},this._platformSdk.onAdFailedToLoad=function(e,r){var n;if(console.error(JSON.stringify(r)),e===Yl(t,Ql))null===(n=Yl(t,$l))||void 0===n||n.remove(),Kl(t,$l,null),t._setBannerState(s.FAILED);else if(e===Yl(t,ef)){var o;null===(o=Yl(t,tf))||void 0===o||o.remove(),Kl(t,tf,null),t._setInterstitialState(i.FAILED)}else if(e===Yl(t,rf)){var c;null===(c=Yl(t,nf))||void 0===c||c.remove(),Kl(t,nf,null),t._setRewardedState(a.FAILED)}},this._platformSdk.onAdClosed=function(e,r,n){var o;if(e===Yl(t,ef))t._setInterstitialState(i.CLOSED),null===(o=Yl(t,tf))||void 0===o||o.remove(),Kl(t,tf,null);else if(e===Yl(t,rf)){var s;n&&r&&t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED),null===(s=Yl(t,nf))||void 0===s||s.remove(),Kl(t,nf,null)}}}const uf=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Hl(e,t)}(f,t);var r,n,o,i,a=(o=f,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zl(o);if(i){var r=zl(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Cl(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ul(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,f);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Wl(Ul(e=a.call.apply(a,[this].concat(r))),af),Wl(Ul(e),of),Vl(Ul(e),Xl,{writable:!0,value:null}),Vl(Ul(e),Ql,{writable:!0,value:null}),Vl(Ul(e),$l,{writable:!0,value:null}),Vl(Ul(e),ef,{writable:!0,value:null}),Vl(Ul(e),tf,{writable:!0,value:null}),Vl(Ul(e),rf,{writable:!0,value:null}),Vl(Ul(e),nf,{writable:!0,value:null}),e}return r=f,(n=[{key:\"platformId\",get:function(){return e.JIO_GAMES}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return m}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(v.INITIALIZE);return t||(t=this._createPromiseDecorator(v.INITIALIZE),this._options&&this._options.packageName?me(\"https://jioadsweb.akamaized.net/jioads/websdk/default/stable/v2/jioAds.js\").then((function(){ge(\"JioAds\").then((function(){var t=e;Kl(e,Xl,e._options.packageName),e._platformSdk=window.JioAds,window.DroidHandler?(window.DroidHandler.getUserProfile(),window.DroidHandler.postMessage(JSON.stringify({key:\"getUserProperties\"}))):window.onUserPropertiesResponse({detail:{uid:\"\",ifa:\"\"}}),window.onUserProfileResponse=function(e){var r=JSON.parse(e);t.playerId=r.gamer_id||null,t.playerName=r.gamer_name||null,r.gamer_avatar_url&&t.playerPhotos.push(r.gamer_avatar_url),t._isPlayerAuthorized=!0},window.onUserPropertiesResponse=function(e){Jl(t,af,cf).call(t,e)},e._platformSdk.onInitialised=function(){e._isInitialized=!0,e._resolvePromiseDecorator(v.INITIALIZE)}}))})):this._rejectPromiseDecorator(v.INITIALIZE,I)),t.promise}},{key:\"showBanner\",value:function(e,t){if(!Yl(this,$l)){Kl(this,Ql,t),Kl(this,$l,ve(e));var r=Jl(this,of,sf).call(this,t,{\"data-container-id\":c});Yl(this,$l).appendChild(r)}}},{key:\"hideBanner\",value:function(){var e;null===(e=Yl(this,$l))||void 0===e||e.remove(),Kl(this,$l,null),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(e){if(!Yl(this,tf)){Kl(this,ef,e),Kl(this,tf,_e(u));var t=Jl(this,of,sf).call(this,e,{\"data-container-id\":u});Yl(this,tf).appendChild(t)}}},{key:\"showRewarded\",value:function(e){if(!Yl(this,nf)){Kl(this,rf,e),Kl(this,nf,_e(l));var t=Jl(this,of,sf).call(this,e,{\"data-container-id\":l});Yl(this,nf).appendChild(t)}}},{key:\"leaderboardsSetScore\",value:function(e,t,r){if(!r||!window.DroidHandler)return Promise.reject();var n=\"string\"==typeof t?parseInt(t,10):t;return window.DroidHandler.postScore(n),Promise.resolve()}}])&&Fl(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),f}(zr);function lf(e){return lf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},lf(e)}function ff(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=hf(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ff(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function df(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,hf(n.key),n)}}function hf(e){var t=function(e,t){if(\"object\"!=lf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=lf(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==lf(t)?t:String(t)}function yf(e,t){vf(e,t),t.add(e)}function mf(e,t,r){vf(e,t),t.set(e,r)}function vf(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function _f(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,bf(e,t,\"set\"),r),r}function gf(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Sf(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,bf(e,t,\"get\"))}function bf(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Ef=new WeakMap,Pf=new WeakMap,wf=new WeakMap,Af=new WeakMap,Of=new WeakMap,kf=new WeakSet,Df=new WeakSet,If=new WeakSet;function Tf(t){var r,n=e.MOCK,o=new URL(window.location.href);if(t.forciblySetPlatformId)n=gf(this,Df,Rf).call(this,t.forciblySetPlatformId.toLowerCase());else{var i=[\"y\",\"a\",\"n\",\"d\",\"e\",\"x\",\".\",\"n\",\"e\",\"t\"].join(\"\");o.searchParams.has(\"platform_id\")?n=gf(this,Df,Rf).call(this,o.searchParams.get(\"platform_id\").toLowerCase()):o.hostname.includes(i)||o.hash.includes(\"yandex\")?n=e.YANDEX:o.hostname.includes(\"crazygames.\")||o.hostname.includes(\"1001juegos.com\")?n=e.CRAZY_GAMES:o.hostname.includes(\"gamedistribution.com\")?n=e.GAME_DISTRIBUTION:o.hostname.includes(\"lagged.\")?n=e.LAGGED:o.searchParams.has(\"api_id\")&&o.searchParams.has(\"viewer_id\")&&o.searchParams.has(\"auth_key\")||o.searchParams.has(\"vk_app_id\")?n=e.VK:o.searchParams.has(\"app_id\")&&o.searchParams.has(\"player_id\")&&o.searchParams.has(\"game_sid\")&&o.searchParams.has(\"auth_key\")?n=e.ABSOLUTE_GAMES:o.searchParams.has(\"playdeck\")?n=e.PLAYDECK:o.hash.includes(\"tgWebAppData\")?n=e.TELEGRAM:o.hostname.includes(\"y8\")?n=e.Y8:o.hostname.includes(\"fbsbx\")?n=e.FACEBOOK:o.hostname.includes(\"poki-gdn\")||o.hostname.includes(\"poki-user-content\")?n=e.POKI:o.hostname.includes(\"msn.\")||o.hostname.includes(\"msnfun.\")||o.hostname.includes(\"start.gg\")?n=e.MSN:o.hash.includes(\"customUrl_\")||document.referrer.includes(\"bitquest\")?n=e.BITQUEST:o.hostname.includes(\"eponesh.\")?n=e.GAMEPUSH:o.hostname.includes(\"discordsays.com\")?n=e.DISCORD:o.hostname.includes(\"usercontent.goog\")&&(n=e.YOUTUBE)}var a=t;switch(null!==(r=a.platforms)&&void 0!==r&&r[n]&&(a=Pe(a,a.platforms[n])),delete a.platforms,n){case e.VK:_f(this,wf,new on(a));break;case e.YANDEX:_f(this,wf,new kn(a));break;case e.CRAZY_GAMES:_f(this,wf,new uo(a));break;case e.ABSOLUTE_GAMES:_f(this,wf,new Eo(a));break;case e.GAME_DISTRIBUTION:_f(this,wf,new jo(a));break;case e.OK:_f(this,wf,new Ci(a));break;case e.PLAYGAMA:_f(this,wf,new ea(a));break;case e.PLAYDECK:_f(this,wf,new ma(a));break;case e.TELEGRAM:_f(this,wf,new ja(a));break;case e.Y8:_f(this,wf,new Qa(a));break;case e.LAGGED:_f(this,wf,new is(a));break;case e.FACEBOOK:_f(this,wf,new Ns(a));break;case e.POKI:_f(this,wf,new Ac(a));break;case e.QA_TOOL:_f(this,wf,new _c(a));break;case e.MSN:_f(this,wf,new Zc(a));break;case e.HUAWEI:_f(this,wf,new Ru(a));break;case e.BITQUEST:_f(this,wf,new Zu(a));break;case e.GAMEPUSH:_f(this,wf,new sl(a));break;case e.DISCORD:_f(this,wf,new vl(a));break;case e.YOUTUBE:_f(this,wf,new Nl(a));break;case e.JIO_GAMES:_f(this,wf,new uf(a));break;default:_f(this,wf,new zr(a))}}function Rf(t){for(var r=Object.values(e),n=0;n<r.length;n++)if(t===r[n])return t;return e.MOCK}function Lf(e){return Sf(this,Ef)||console.error(_),Sf(this,Af)[e]}const jf=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),yf(this,If),yf(this,Df),yf(this,kf),mf(this,Ef,{writable:!0,value:!1}),mf(this,Pf,{writable:!0,value:null}),mf(this,wf,{writable:!0,value:null}),mf(this,Af,{writable:!0,value:{}}),mf(this,Of,{writable:!0,value:\"javascript\"})}var c,u;return c=r,(u=[{key:\"version\",get:function(){return\"1.25.0\"}},{key:\"isInitialized\",get:function(){return Sf(this,Ef)}},{key:\"options\",get:function(){return Sf(this,wf).options}},{key:\"platform\",get:function(){return gf(this,If,Lf).call(this,t.PLATFORM)}},{key:\"player\",get:function(){return gf(this,If,Lf).call(this,t.PLAYER)}},{key:\"game\",get:function(){return gf(this,If,Lf).call(this,t.GAME)}},{key:\"storage\",get:function(){return gf(this,If,Lf).call(this,t.STORAGE)}},{key:\"advertisement\",get:function(){return gf(this,If,Lf).call(this,t.ADVERTISEMENT)}},{key:\"social\",get:function(){return gf(this,If,Lf).call(this,t.SOCIAL)}},{key:\"device\",get:function(){return gf(this,If,Lf).call(this,t.DEVICE)}},{key:\"leaderboard\",get:function(){return gf(this,If,Lf).call(this,t.LEADERBOARDS)}},{key:\"leaderboards\",get:function(){return gf(this,If,Lf).call(this,t.LEADERBOARDS)}},{key:\"payments\",get:function(){return gf(this,If,Lf).call(this,t.PAYMENTS)}},{key:\"achievements\",get:function(){return gf(this,If,Lf).call(this,t.ACHIEVEMENTS)}},{key:\"remoteConfig\",get:function(){return gf(this,If,Lf).call(this,t.REMOTE_CONFIG)}},{key:\"clipboard\",get:function(){return gf(this,If,Lf).call(this,t.CLIPBOARD)}},{key:\"engine\",get:function(){return Sf(this,Of)},set:function(e){_f(this,Of,e)}},{key:\"PLATFORM_ID\",get:function(){return e}},{key:\"PLATFORM_MESSAGE\",get:function(){return d}},{key:\"MODULE_NAME\",get:function(){return t}},{key:\"EVENT_NAME\",get:function(){return n}},{key:\"INTERSTITIAL_STATE\",get:function(){return i}},{key:\"REWARDED_STATE\",get:function(){return a}},{key:\"BANNER_STATE\",get:function(){return s}},{key:\"STORAGE_TYPE\",get:function(){return f}},{key:\"VISIBILITY_STATE\",get:function(){return o}},{key:\"DEVICE_TYPE\",get:function(){return p}},{key:\"initialize\",value:function(e){var r=this;if(Sf(this,Ef))return Promise.resolve();if(!Sf(this,Pf)){_f(this,Pf,new x);var n,o=\"./playgama-bridge-config.json\";e&&e.configFilePath&&(o=e.configFilePath),fetch(o).then((function(e){return e.json()})).then((function(e){n=pf({},e)})).catch((function(t){console.error(\"Config parsing error.\",t),n=pf({},e)})).finally((function(){gf(r,kf,Tf).call(r,n),Sf(r,wf).engine=r.engine,Sf(r,Af)[t.PLATFORM]=new ae(Sf(r,wf)),Sf(r,Af)[t.PLAYER]=new pe(Sf(r,wf)),Sf(r,Af)[t.GAME]=new Le(Sf(r,wf)),Sf(r,Af)[t.STORAGE]=new Me(Sf(r,wf)),Sf(r,Af)[t.ADVERTISEMENT]=new Mt(Sf(r,wf)),Sf(r,Af)[t.SOCIAL]=new Wt(Sf(r,wf)),Sf(r,Af)[t.DEVICE]=new qt(Sf(r,wf)),Sf(r,Af)[t.LEADERBOARDS]=new ur(Sf(r,wf)),Sf(r,Af)[t.PAYMENTS]=new yr(Sf(r,wf)),Sf(r,Af)[t.REMOTE_CONFIG]=new br(Sf(r,wf)),Sf(r,Af)[t.CLIPBOARD]=new kr(Sf(r,wf)),Sf(r,Af)[t.ACHIEVEMENTS]=new jr(Sf(r,wf)),Sf(r,wf).initialize().then((function(){var e,n;if(_f(r,Ef,!0),console.info(\"%c PlaygamaBridge v.\".concat(r.version,\" initialized. \"),\"background: #01A5DA; color: white\"),Sf(r,Pf)&&(Sf(r,Pf).resolve(),_f(r,Pf,null)),null!==(e=Sf(r,wf).options)&&void 0!==e&&null!==(e=e.advertisement)&&void 0!==e&&null!==(e=e.interstitial)&&void 0!==e&&e.preloadOnStart){var o=Sf(r,wf).options.advertisement.interstitial.preloadOnStart;Sf(r,Af)[t.ADVERTISEMENT].preloadInterstitial(o)}if(null!==(n=Sf(r,wf).options)&&void 0!==n&&null!==(n=n.advertisement)&&void 0!==n&&null!==(n=n.rewarded)&&void 0!==n&&n.preloadOnStart){var i=Sf(r,wf).options.advertisement.rewarded.preloadOnStart;Sf(r,Af)[t.ADVERTISEMENT].preloadRewarded(i)}})).finally((function(){setTimeout((function(){return Sf(r,Af)[t.GAME].setLoadingProgress(100,!0)}),700)}))}))}return Sf(this,Pf).promise}}])&&df(c.prototype,u),Object.defineProperty(c,\"prototype\",{writable:!1}),r}();window.bridge=new jf,window.playgamaBridge=window.bridge})()})();",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension = {",
            "    isLastActionCompletedSuccessfully: false,",
            "    actionParametersContainer: {},",
            "",
            "    // game",
            "    isVisibilityStateChanged: false,",
            "    prevVisibilityState: null,",
            "    visibilityStateStack: [],",
            "",
            "    // platform",
            "    serverTime: 0,",
            "    isGetServerTimeCompleted: false,",
            "    nextIsGetServerTimeCompleted: false,",
            "    allGames: [],",
            "    gameById: null,",
            "    isGetAllGamesCompleted: false,",
            "    nextIsGetAllGamesCompleted: false,",
            "    isGetGameByIdCompleted: false,",
            "    nextIsGetGameByIdCompleted: false,",
            "    isPlatformAudioStateChanged: false,",
            "    platformAudioStateStack: [],",
            "    platformAudioState: null,",
            "    platformPreviousAudioState: null,",
            "    isPlatformPauseStateChanged: false,",
            "    platformPauseStateStack: [],",
            "    platformPauseState: null,",
            "    platformPreviousPauseState: null,",
            "    ",
            "    // storage",
            "    storageData: {},",
            "    storageDataGetRequestKeys: [],",
            "    storageDataSetRequestKeys: [],",
            "    storageDataSetRequestValues: [],",
            "    storageDataDeleteRequestKeys: [],",
            "    isStorageDataGetRequestCompleted: false,",
            "    isStorageDataSetRequestCompleted: false,",
            "    isStorageDataDeleteRequestCompleted: false,",
            "    nextIsStorageDataGetRequestCompleted: false,",
            "    nextIsStorageDataSetRequestCompleted: false,",
            "    nextIsStorageDataDeleteRequestCompleted: false,",
            "",
            "    // advertisement",
            "    bannerState: null,",
            "    prevBannerState: null,",
            "    bannerStateStack: [],",
            "    interstitialState: null,",
            "    prevInterstitialState: null,",
            "    interstitialStateStack: [],",
            "    rewardedState: null,",
            "    prevRewardedState: null,",
            "    rewardedStateStack: [],",
            "    isAdBlockDetected: false,",
            "    isBannerStateChanged: false,",
            "    isInterstitialStateChanged: false,",
            "    isRewardedStateChanged: false,",
            "    isCheckAdBlockCompleted: false,",
            "    nextIsCheckAdBlockCompleted: false,",
            "",
            "    // player",
            "    isAuthorizePlayerCompleted: false,",
            "    nextIsAuthorizePlayerCompleted: false,",
            "",
            "    // social",
            "    isShareCompleted: false,",
            "    isInviteFriendsCompleted: false,",
            "    isJoinCommunityCompleted: false,",
            "    nextIsShareCompleted: false,",
            "    nextIsInviteFriendsCompleted: false,",
            "    nextIsJoinCommunityCompleted: false,",
            "    isCreatePostCompleted: false,",
            "    isAddToHomeScreenCompleted: false,",
            "    isAddToFavoritesCompleted: false,",
            "    isRateCompleted: false,",
            "    nextIsCreatePostCompleted: false,",
            "    nextIsAddToHomeScreenCompleted: false,",
            "    nextIsAddToFavoritesCompleted: false,",
            "    nextIsRateCompleted: false,",
            "",
            "    // leaderboards",
            "    isLeaderboardsSetScoreCompleted: false,",
            "    isLeaderboardsGetEntriesCompleted: false,",
            "    isLeaderboardsShowNativePopupCompleted: false,",
            "    nextIsLeaderboardsSetScoreCompleted: false,",
            "    nextIsLeaderboardsGetEntriesCompleted: false,",
            "    nextIsLeaderboardsShowNativePopupCompleted: false,",
            "    leaderboardEntries: [],",
            "    ",
            "    // payments",
            "    isPaymentsPurchaseCompleted: false,",
            "    isPaymentsGetPurchasesCompleted: false,",
            "    isPaymentsGetCatalogCompleted: false,",
            "    isPaymentsConsumePurchaseCompleted: false,",
            "    nextIsPaymentsPurchaseCompleted: false,",
            "    nextIsPaymentsGetPurchasesCompleted: false,",
            "    nextIsPaymentsGetCatalogCompleted: false,",
            "    nextIsPaymentsConsumePurchaseCompleted: false,",
            "    paymentsPurchase: null,",
            "    paymentsPurchases: [],",
            "    paymentsCatalog: [],",
            "",
            "    // achievements",
            "    isAchievementsUnlockCompleted: false,",
            "    isAchievementsGetListCompleted: false,",
            "    isAchievementsShowNativePopupCompleted: false,",
            "    nextIsAchievementsUnlockCompleted: false,",
            "    nextIsAchievementsGetListCompleted: false,",
            "    nextIsAchievementsShowNativePopupCompleted: false,",
            "    achievementsList: [],",
            "",
            "    // remote",
            "    remoteConfig: {},",
            "    isRemoteConfigGotCompleted: false,",
            "    nextIsRemoteConfigGotCompleted: false,",
            "}",
            "",
            "// utils",
            "gdjs._playgamaBridgeExtension.addActionParameter = function (path, value, sep = '.') {",
            "    const keys = path.replace(/\\[/g, sep).replace(/]/g, '').split(sep).map(item => isNaN(+item) ? item : +item);",
            "",
            "    let current = gdjs._playgamaBridgeExtension.actionParametersContainer;",
            "",
            "    for (let i = 0; i < keys.length; i++) {",
            "        const key = keys[i];",
            "        if (['__proto__', 'prototype', 'constructor'].includes(key)) {",
            "            break;",
            "        }",
            "",
            "        if (i < keys.length - 1) {",
            "            if ((Array.isArray(current[key]) && typeof keys[i + 1] !== 'number') || (!Array.isArray(current[key]) && typeof keys[i + 1] === 'number') || typeof current[key] !== 'object') {",
            "                break;",
            "            }",
            "            current = current[key];",
            "        } else if (Array.isArray(current[key]) && Array.isArray(value)) {",
            "            current[key] = [ ...current[key], ...value ];",
            "        } else if (",
            "            typeof value === 'object' && typeof current[key] === 'object' && !Array.isArray(current[key]) && !Array.isArray(value)) {",
            "            current[key] = { ...current[key], ...value };",
            "        } else {",
            "            current[key] = value;",
            "        }",
            "    }",
            "}",
            "",
            "bridge.engine = 'gdevelop'",
            "bridge.initialize(bridgeOptions)",
            "    .then(() => {",
            "        bridge.advertisement.on('banner_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.bannerStateStack.push(state);",
            "        });",
            "",
            "        bridge.advertisement.on('interstitial_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.interstitialStateStack.push(state);",
            "",
            "        });",
            "",
            "        bridge.advertisement.on('rewarded_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.rewardedStateStack.push(state);",
            "        });",
            "",
            "        bridge.game.on('visibility_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.visibilityStateStack.push(state)",
            "        });",
            "",
            "        bridge.platform.on('audio_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.platformAudioStateStack.push(state)",
            "        });",
            "",
            "        bridge.platform.on('pause_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.platformPauseStateStack.push(state)",
            "        });",
            "",
            "        function updateState() {",
            "            // visibility",
            "            if (gdjs._playgamaBridgeExtension.visibilityStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.visibilityState = gdjs._playgamaBridgeExtension.visibilityStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isVisibilityStateChanged = gdjs._playgamaBridgeExtension.visibilityState !== gdjs._playgamaBridgeExtension.prevVisibilityState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isVisibilityStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevVisibilityState = gdjs._playgamaBridgeExtension.visibilityState;",
            "            }",
            "",
            "            // advertisement",
            "            if (gdjs._playgamaBridgeExtension.bannerStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.bannerState = gdjs._playgamaBridgeExtension.bannerStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isBannerStateChanged = gdjs._playgamaBridgeExtension.bannerState !== gdjs._playgamaBridgeExtension.prevBannerState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isBannerStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevBannerState = gdjs._playgamaBridgeExtension.bannerState;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.interstitialStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.interstitialState = gdjs._playgamaBridgeExtension.interstitialStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isInterstitialStateChanged = gdjs._playgamaBridgeExtension.interstitialState !== gdjs._playgamaBridgeExtension.prevInterstitialState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isInterstitialStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevInterstitialState = gdjs._playgamaBridgeExtension.interstitialState;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.rewardedStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.rewardedState = gdjs._playgamaBridgeExtension.rewardedStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isRewardedStateChanged = gdjs._playgamaBridgeExtension.rewardedState !== gdjs._playgamaBridgeExtension.prevRewardedState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isRewardedStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevRewardedState = gdjs._playgamaBridgeExtension.rewardedState;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted !== gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted = gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = false;",
            "            }",
            "",
            "            // platform",
            "            if (gdjs._playgamaBridgeExtension.platformAudioStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.platformAudioState = gdjs._playgamaBridgeExtension.platformAudioStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged = gdjs._playgamaBridgeExtension.platformAudioState !== gdjs._playgamaBridgeExtension.platformPreviousAudioState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged) {",
            "                gdjs._playgamaBridgeExtension.platformPreviousAudioState = gdjs._playgamaBridgeExtension.platformAudioState;",
            "            }",
            "",
            "",
            "            if (gdjs._playgamaBridgeExtension.platformPauseStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.platformPauseState = gdjs._playgamaBridgeExtension.platformPauseStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged = gdjs._playgamaBridgeExtension.platformPauseState !== gdjs._playgamaBridgeExtension.platformPreviousPauseState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged) {",
            "                gdjs._playgamaBridgeExtension.platformPreviousPauseState = gdjs._playgamaBridgeExtension.platformPauseState;",
            "            }",
            "",
            "",
            "            if (gdjs._playgamaBridgeExtension.isGetServerTimeCompleted !== gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                gdjs._playgamaBridgeExtension.isGetServerTimeCompleted = gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isGetAllGamesCompleted !== gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isGetAllGamesCompleted = gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isGetGameByIdCompleted !== gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                gdjs._playgamaBridgeExtension.isGetGameByIdCompleted = gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = false;",
            "            }",
            "",
            "            // storage",
            "            if (gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = false;",
            "            }",
            "",
            "            // player",
            "            if (gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted !== gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted = gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = false;",
            "            }",
            "",
            "            // social",
            "            if (gdjs._playgamaBridgeExtension.isShareCompleted !== gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                gdjs._playgamaBridgeExtension.isShareCompleted = gdjs._playgamaBridgeExtension.nextIsShareCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsShareCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isInviteFriendsCompleted !== gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                gdjs._playgamaBridgeExtension.isInviteFriendsCompleted = gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isJoinCommunityCompleted !== gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                gdjs._playgamaBridgeExtension.isJoinCommunityCompleted = gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isCreatePostCompleted !== gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                gdjs._playgamaBridgeExtension.isCreatePostCompleted = gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted = gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted = gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isRateCompleted !== gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                gdjs._playgamaBridgeExtension.isRateCompleted = gdjs._playgamaBridgeExtension.nextIsRateCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsRateCompleted = false;",
            "            }",
            "",
            "            // leaderboards",
            "            if (gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted) {",
            "                gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isLeaderboardsShowNativePopupCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.isLeaderboardsShowNativePopupCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted = false;",
            "            }",
            "",
            "            // payments",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = false;",
            "            }",
            "",
            "            // achievements",
            "            if (gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = false;",
            "            }",
            "",
            "            // remote configs",
            "            if (gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted !== gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted = gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = false;",
            "            }",
            "",
            "            requestAnimationFrame(updateState);",
            "        }",
            "",
            "        requestAnimationFrame(updateState);",
            "    });"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add Action Parameter.",
      "fullName": "Add Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, isNaN(+value) ? value : +value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Add Bool Action Parameter.",
      "fullName": "Add Bool Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddBoolActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "trueorfalse"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Initialized.",
      "fullName": "Is Initialized",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsInitialized",
      "sentence": "Is Initialized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = window.bridge && window.bridge.isInitialized;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Id.",
      "fullName": "Platform Id",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Language.",
      "fullName": "Platform Language",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformLanguage",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.language;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Payload.",
      "fullName": "Platform Payload",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformPayload",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.payload;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Tld.",
      "fullName": "Platform Tld",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformTld",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.tld || '';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Is Audio Enabled.",
      "fullName": "Platform Is Audio Enabled",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformIsAudioEnabled",
      "sentence": "Platform Is Audio Enabled",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isAudioEnabled;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Is Paused.",
      "fullName": "Platform Is Paused",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformIsPaused",
      "sentence": "Platform Is Paused",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isPaused;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get All Games Supported.",
      "fullName": "Is Get All Games Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetAllGamesSupported",
      "sentence": "Is Get All Games Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetAllGamesSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get Game By Id Supported.",
      "fullName": "Is Get Game By Id Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetGameByIdSupported",
      "sentence": "Is Get Game By Id Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetGameByIdSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get All Games Completed.",
      "fullName": "On Get All Games Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetAllGamesCompleted",
      "sentence": "On Get All Games Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetAllGamesCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Game By Id Completed.",
      "fullName": "On Get Game By Id Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetGameByIdCompleted",
      "sentence": "On Get Game By Id Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetGameByIdCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get All Games.",
      "fullName": "Platform Get All Games",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetAllGames",
      "sentence": "Platform Get All Games",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getAllGames()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.allGames = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get Game By Id.",
      "fullName": "Platform Get Game By Id",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetGameById",
      "sentence": "Platform Get Game By Id",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getGameById(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.gameById = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Count.",
      "fullName": "Platform All Games Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Game Properties Count.",
      "fullName": "Platform All Game Properties Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length > 0 ",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0] || {}).length",
            "    : 0"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Name.",
      "fullName": "Platform All Games Property Name",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Value.",
      "fullName": "Platform All Games Property Value",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const gameIndex = eventsFunctionContext.getArgument(\"GameIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (gdjs._playgamaBridgeExtension.allGames.length > 0) {",
            "    const game = gdjs._playgamaBridgeExtension.allGames[gameIndex];",
            "",
            "    eventsFunctionContext.returnValue = isNaN(+property) ",
            "        ? game[property]",
            "        : game[Object.keys(game || {})[+property]]",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Game Index",
          "name": "GameIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform Game By Id Property Value.",
      "fullName": "Platform Game By Id Property Value",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformGameByIdPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (!gdjs._playgamaBridgeExtension.gameById) {",
            "    eventsFunctionContext.returnValue = '';",
            "    return;",
            "}",
            "",
            "if (typeof property === 'number') {",
            "    let properties = Object.keys(gdjs._playgamaBridgeExtension.gameById);",
            "    let propertyName = properties[property];",
            "    eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[propertyName];",
            "    return;",
            "}",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[property];"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform On Audio State Changed.",
      "fullName": "Platform On Audio State Changed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformOnAudioStateChanged",
      "sentence": "Platform On Audio State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform On Pause State Changed.",
      "fullName": "Platform On Pause State Changed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformOnPauseStateChanged",
      "sentence": "Platform On Pause State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Device Type.",
      "fullName": "Device Type",
      "functionType": "StringExpression",
      "group": "Device",
      "name": "DeviceType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.device.type;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Mobile.",
      "fullName": "Is Mobile",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsMobile",
      "sentence": "Is Mobile",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'mobile';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tablet.",
      "fullName": "Is Tablet",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTablet",
      "sentence": "Is Tablet",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tablet';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Desktop.",
      "fullName": "Is Desktop",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsDesktop",
      "sentence": "Is Desktop",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'desktop';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tv.",
      "fullName": "Is Tv",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTv",
      "sentence": "Is Tv",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tv';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Id.",
      "fullName": "Player Id",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Name.",
      "fullName": "Player Name",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Extra Properties Count.",
      "fullName": "Player Extra Properties Count",
      "functionType": "Expression",
      "group": "Player",
      "name": "PlayerExtraPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = Object.keys(bridge.player.extra).length",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Extra Property Name.",
      "fullName": "Player Extra Property Name",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerExtraPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "eventsFunctionContext.returnValue = Object.keys(bridge.player.extra)[propertyIndex]"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Player Extra Property Value.",
      "fullName": "Player Extra Property Value",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerExtraPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "eventsFunctionContext.returnValue = bridge.player.extra[property];"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Player Photos Count.",
      "fullName": "Player Photos Count",
      "functionType": "Expression",
      "group": "Player",
      "name": "PlayerPhotosCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.photos.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Photo # _PARAM1_.",
      "fullName": "Player Photo",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerPhoto",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\")",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos[index];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Visibility State.",
      "fullName": "Visibility State",
      "functionType": "StringExpression",
      "group": "Game",
      "name": "VisibilityState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.game.visibilityState;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Visibility State Changed.",
      "fullName": "On Visibility State Changed",
      "functionType": "Condition",
      "group": "Game",
      "name": "OnVisibilityStateChanged",
      "sentence": "On Visibility State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isVisibilityStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Default Storage Type.",
      "fullName": "Default Storage Type",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "DefaultStorageType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.storage.defaultType;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Storage Data.",
      "fullName": "Storage Data",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageData",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.storageData[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Storage Data As JSON.",
      "fullName": "Storage Data As JSON",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageDataAsJSON",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "let value = gdjs._playgamaBridgeExtension.storageData[key];",
            "",
            "if (typeof value !== 'string') {",
            "    value = JSON.stringify(value);",
            "}",
            "",
            "eventsFunctionContext.returnValue = value;"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Get Request.",
      "fullName": "Append Parameter to Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataGetRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Get Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataGetRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Set Request.",
      "fullName": "Append Parameter to Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataSetRequest",
      "sentence": "Append Parameter _PARAM1_ : _PARAM2_ to Storage Data Set Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "const value = eventsFunctionContext.getArgument(\"Value\")",
            "",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestKeys.push(key);",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestValues.push(value);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Delete Request.",
      "fullName": "Append Parameter to Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataDeleteRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Delete Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Last Action Completed Successfully.",
      "fullName": "Is Last Action Completed Successfully",
      "functionType": "Condition",
      "group": "Common",
      "name": "IsLastActionCompletedSuccessfully",
      "sentence": "Is Last Action Completed Successfully",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Get Request.",
      "fullName": "Send Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataGetRequest",
      "sentence": "Send Storage Data Get Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataGetRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.get(storageDataGetRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(data => {",
            "            for (let i = 0; i < data.length; i++) {",
            "                let key = storageDataGetRequestKeys[i];",
            "                let value = data[i];",
            "                storageData[key] = value;",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataGetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = true;",
            "            resolve()",
            "        });",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Set Request.",
      "fullName": "Send Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataSetRequest",
      "sentence": "Send Storage Data Set Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false",
            "",
            "const { storageData, storageDataSetRequestKeys, storageDataSetRequestValues } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.set(storageDataSetRequestKeys, storageDataSetRequestValues, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            for (let i = 0; i < storageDataSetRequestKeys.length; i++) {",
            "                let key = storageDataSetRequestKeys[i]",
            "                storageData[key] = storageDataSetRequestValues[i]",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestValues = []",
            "",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Delete Request.",
      "fullName": "Send Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataDeleteRequest",
      "sentence": "Send Storage Data Delete Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataDeleteRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.delete(storageDataDeleteRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            if (storageData) {",
            "                for (const key of storageDataDeleteRequestKeys) {",
            "                    delete storageData[key];",
            "                }",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys = [];",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Get Request Completed.",
      "fullName": "On Storage Data Get Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataGetRequestCompleted",
      "sentence": "On Storage Data Get Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Set Request Completed.",
      "fullName": "On Storage Data Set Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataSetRequestCompleted",
      "sentence": "On Storage Data Set Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Delete Request Completed.",
      "fullName": "On Storage Data Delete Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataDeleteRequestCompleted",
      "sentence": "On Storage Data Delete Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Storage Data.",
      "fullName": "Has Storage Data",
      "functionType": "Condition",
      "group": "Storage",
      "name": "HasStorageData",
      "sentence": "Has _PARAM1_ in Storage Data",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { storageData } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = storageData[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Supported.",
      "fullName": "Is Storage Supported",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageSupported",
      "sentence": "Is Storage Supported _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isSupported(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Available.",
      "fullName": "Is Storage Available",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageAvailable",
      "sentence": "Is Storage Available _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isAvailable(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Set Minimum Delay Between Interstitial.",
      "fullName": "Set Minimum Delay Between Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "SetMinimumDelayBetweenInterstitial",
      "sentence": "Set Minimum Delay Between Interstitial _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const seconds = eventsFunctionContext.getArgument(\"Seconds\");",
            "",
            "bridge.advertisement.setMinimumDelayBetweenInterstitial(seconds);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Seconds",
          "name": "Seconds",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Banner.",
      "fullName": "Show Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowBanner",
      "sentence": "Show Banner on _PARAM1_  with placement _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const position = eventsFunctionContext.getArgument(\"Position\");",
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showBanner(position, placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Position",
          "name": "Position",
          "supplementaryInformation": "[\"bottom\",\"top\"]",
          "type": "stringWithSelector"
        },
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Hide Banner.",
      "fullName": "Hide Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "HideBanner",
      "sentence": "Hide Banner",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "bridge.advertisement.hideBanner(gdjs._playgamaBridgeExtension.actionParametersContainer);",
            "",
            "gdjs._playgamaBridgeExtension.actionParametersContainer = {};"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Show Interstitial.",
      "fullName": "Show Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowInterstitial",
      "sentence": "Show Interstitial with placement _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showInterstitial(placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Rewarded.",
      "fullName": "Show Rewarded",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowRewarded",
      "sentence": "Show Rewarded with placement _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showRewarded(placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check AdBlock.",
      "fullName": "Check AdBlock",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "CheckAdBlock",
      "sentence": "Check AdBlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.advertisement.checkAdBlock()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.isAdBlockDetected = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Minimum Delay Between Interstitial.",
      "fullName": "Minimum Delay Between Interstitial",
      "functionType": "Expression",
      "group": "Advertisement",
      "name": "MinimumDelayBetweenInterstitial",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.advertisement.minimumDelayBetweenInterstitial;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Banner State.",
      "fullName": "Banner State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "BannerState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Interstitial State.",
      "fullName": "Interstitial State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "InterstitialState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rewarded State.",
      "fullName": "Rewarded State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "RewardedState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.rewardedState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rewarded Placement.",
      "fullName": "Rewarded Placement",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "RewardedPlacement",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.advertisement.rewardedPlacement;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Banner Supported.",
      "fullName": "Is Banner Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsBannerSupported",
      "sentence": "Is Banner Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isBannerSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Interstitial Supported.",
      "fullName": "Is Interstitial Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsInterstitialSupported",
      "sentence": "Is Interstitial Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isInterstitialSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Rewarded Supported.",
      "fullName": "Is Rewarded Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsRewardedSupported",
      "sentence": "Is Rewarded Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isRewardedSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner State Changed.",
      "fullName": "On Banner State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerStateChanged",
      "sentence": "On Banner State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isBannerStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Loading.",
      "fullName": "On Banner Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerLoading",
      "sentence": "On Banner Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Shown.",
      "fullName": "On Banner Shown",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerShown",
      "sentence": "On Banner Shown",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"shown\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Hidden.",
      "fullName": "On Banner Hidden",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerHidden",
      "sentence": "On Banner Hidden",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"hidden\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Failed.",
      "fullName": "On Banner Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerFailed",
      "sentence": "On Banner Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial State Changed.",
      "fullName": "On Interstitial State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialStateChanged",
      "sentence": "On Interstitial State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInterstitialStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Loading.",
      "fullName": "On Interstitial Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialLoading",
      "sentence": "On Interstitial Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Opened.",
      "fullName": "On Interstitial Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialOpened",
      "sentence": "On Interstitial Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Closed.",
      "fullName": "On Interstitial Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialClosed",
      "sentence": "On Interstitial Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Failed.",
      "fullName": "On Interstitial Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialFailed",
      "sentence": "On Interstitial Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded State Changed.",
      "fullName": "On Rewarded State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedStateChanged",
      "sentence": "On Rewarded State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRewardedStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Loading.",
      "fullName": "On Rewarded Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedLoading",
      "sentence": "On Rewarded Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Opened.",
      "fullName": "On Rewarded Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedOpened",
      "sentence": "On Rewarded Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Closed.",
      "fullName": "On Rewarded Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedClosed",
      "sentence": "On Rewarded Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Rewarded.",
      "fullName": "On Rewarded Rewarded",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedRewarded",
      "sentence": "On Rewarded Rewarded",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"rewarded\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Failed.",
      "fullName": "On Rewarded Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedFailed",
      "sentence": "On Rewarded Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Check AdBlock Completed.",
      "fullName": "On Check AdBlock Completed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnCheckAdBlockCompleted",
      "sentence": "On Check AdBlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Message.",
      "fullName": "Send Message",
      "functionType": "Action",
      "group": "Platform",
      "name": "SendMessage",
      "sentence": "Send Message _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const message = eventsFunctionContext.getArgument(\"Message\")",
            "",
            "bridge.platform.sendMessage(bridge.PLATFORM_MESSAGE[message])",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Message",
          "name": "Message",
          "supplementaryInformation": "[\"GAME_READY\",\"IN_GAME_LOADING_STARTED\",\"IN_GAME_LOADING_STOPPED\",\"GAMEPLAY_STARTED\",\"GAMEPLAY_STOPPED\",\"PLAYER_GOT_ACHIEVEMENT\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Get Server Time.",
      "fullName": "Get Server Time",
      "functionType": "Action",
      "group": "Platform",
      "name": "GetServerTime",
      "sentence": "Get Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getServerTime()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.serverTime = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Server Time.",
      "fullName": "Server Time",
      "functionType": "Expression",
      "group": "Platform",
      "name": "ServerTime",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Server Time Completed.",
      "fullName": "On Get Server Time Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetServerTimeCompleted",
      "sentence": "On Get Server Time Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetServerTimeCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Server Time.",
      "fullName": "Has Server Time",
      "functionType": "Condition",
      "group": "Platform",
      "name": "HasServerTime",
      "sentence": "Has Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime > 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Authorize Player.",
      "fullName": "Authorize Player",
      "functionType": "Action",
      "group": "Player",
      "name": "AuthorizePlayer",
      "sentence": "Authorize Player",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.player.authorize(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorization Supported.",
      "fullName": "Is Player Authorization Supported",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorizationSupported",
      "sentence": "Is Player Authorization Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorizationSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorized.",
      "fullName": "Is Player Authorized",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorized",
      "sentence": "Is Player Authorized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorized;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Authorize Player Completed.",
      "fullName": "On Authorize Player Completed",
      "functionType": "Condition",
      "group": "Player",
      "name": "OnAuthorizePlayerCompleted",
      "sentence": "On Authorize Player Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Name.",
      "fullName": "Does Player Have Name",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHaveName",
      "sentence": "Does Player Have Name",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name === 'string';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Photo.",
      "fullName": "Does Player Have Photo",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHavePhoto",
      "sentence": "Does Player Have Photo # _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\");",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos.length > index;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Share.",
      "fullName": "Share",
      "functionType": "Action",
      "group": "Social",
      "name": "Share",
      "sentence": "Share",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.share(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsShareCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Invite Friends.",
      "fullName": "Invite Friends",
      "functionType": "Action",
      "group": "Social",
      "name": "InviteFriends",
      "sentence": "Invite Friends",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.inviteFriends(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = true;",
            "            resolve();",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Join Community.",
      "fullName": "Join Community",
      "functionType": "Action",
      "group": "Social",
      "name": "JoinCommunity",
      "sentence": "Join Community",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.joinCommunity(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Create Post.",
      "fullName": "Create Post",
      "functionType": "Action",
      "group": "Social",
      "name": "CreatePost",
      "sentence": "Create Post",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.createPost(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Home Screen.",
      "fullName": "Add To Home Screen",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToHomeScreen",
      "sentence": "Add To Home Screen",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "   bridge.social.addToHomeScreen()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Favorites.",
      "fullName": "Add To Favorites",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToFavorites",
      "sentence": "Add To Favorites",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.addToFavorites()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rate.",
      "fullName": "Rate",
      "functionType": "Action",
      "group": "Social",
      "name": "Rate",
      "sentence": "Rate",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.rate()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsRateCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Share Supported.",
      "fullName": "Is Share Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsShareSupported",
      "sentence": "Is Share Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isShareSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Share Completed.",
      "fullName": "On Share Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnShareCompleted",
      "sentence": "On Share Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isShareCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Invite Friends Supported.",
      "fullName": "Is Invite Friends Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsInviteFriendsSupported",
      "sentence": "Is Invite Friends Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isInviteFriendsSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Invite Friends Completed.",
      "fullName": "On Invite Friends Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnInviteFriendsCompleted",
      "sentence": "On Invite Friends Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInviteFriendsCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Join Community Supported.",
      "fullName": "Is Join Community Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsJoinCommunitySupported",
      "sentence": "Is Join Community Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isJoinCommunitySupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Join Community Completed.",
      "fullName": "On Join Community Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnJoinCommunityCompleted",
      "sentence": "On Join Community Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isJoinCommunityCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Create Post Supported.",
      "fullName": "Is Create Post Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsCreatePostSupported",
      "sentence": "Is Create Post Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isCreatePostSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Create Post Completed.",
      "fullName": "On Create Post Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnCreatePostCompleted",
      "sentence": "On Create Post Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCreatePostCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Home Screen Supported.",
      "fullName": "Is Add To Home Screen Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToHomeScreenSupported",
      "sentence": "Is Add To Home Screen Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToHomeScreenSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Home Screen Completed.",
      "fullName": "On Add To Home Screen Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToHomeScreenCompleted",
      "sentence": "On Add To Home Screen Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Favorites Supported.",
      "fullName": "Is Add To Favorites Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToFavoritesSupported",
      "sentence": "Is Add To Favorites Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToFavoritesSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Favorites Completed.",
      "fullName": "On Add To Favorites Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToFavoritesCompleted",
      "sentence": "On Add To Favorites Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Rate Supported.",
      "fullName": "Is Rate Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsRateSupported",
      "sentence": "Is Rate Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isRateSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rate Completed.",
      "fullName": "On Rate Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnRateCompleted",
      "sentence": "On Rate Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRateCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is External Links Allowed.",
      "fullName": "Is External Links Allowed",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsExternalLinksAllowed",
      "sentence": "Is External Links Allowed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isExternalLinksAllowed;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Set Score.",
      "fullName": "Leaderboards Set Score",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsSetScore",
      "sentence": "Leaderboards Set Score - Id: _PARAM1_, Score: _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    const score = eventsFunctionContext.getArgument('Score');",
            "    bridge.leaderboards.setScore(id, score)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        },
        {
          "description": "Score",
          "name": "Score",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Get Entries.",
      "fullName": "Leaderboards Get Entries",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsGetEntries",
      "sentence": "Leaderboards Get Entries - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "gdjs._playgamaBridgeExtension.leaderboardEntries = [];",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    bridge.leaderboards.getEntries(id)",
            "        .then(entries => {",
            "            gdjs._playgamaBridgeExtension.leaderboardEntries = entries || [];",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Show Native Popup.",
      "fullName": "Leaderboards Show Native Popup",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsShowNativePopup",
      "sentence": "Leaderboards Show Native Popup - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    bridge.leaderboards.showNativePopup(id)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Type.",
      "fullName": "Leaderboards Type",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardsType",
      "sentence": "Is Leaderboard Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "supplementaryInformation": "[\"not_available\",\"in_game\",\"native\"]",
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Not Available.",
      "fullName": "The leaderboard is of type Not Available",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNotAvailable",
      "sentence": "The leaderboard is of type Not Available",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'not_available';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type In Game.",
      "fullName": "The leaderboard is of type In Game",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeInGame",
      "sentence": "The leaderboard is of type In Game",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'in_game';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Native.",
      "fullName": "The leaderboard is of type Native",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNative",
      "sentence": "The leaderboard is of type Native",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'native';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Native Popup.",
      "fullName": "The leaderboard is of type Native Popup",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNativePopup",
      "sentence": "The leaderboard is of type Native Popup",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'native_popup';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Set Score Completed.",
      "fullName": "On Leaderboards Set Score Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsSetScoreCompleted",
      "sentence": "On Leaderboards Set Score Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Get Entries Completed.",
      "fullName": "On Leaderboards Get Entries Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsGetEntriesCompleted",
      "sentence": "On Leaderboards Get Entries Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Show Native Popup Completed.",
      "fullName": "On Leaderboards Show Native Popup Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsShowNativePopupCompleted",
      "sentence": "On Leaderboards Show Native Popup Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsShowNativePopupCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entries Count.",
      "fullName": "Leaderboard Entries Count",
      "functionType": "Expression",
      "group": "Leaderboards",
      "name": "LeaderboardEntriesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.leaderboardEntries.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Id.",
      "fullName": "Leaderboard Entry Id",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['id'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Name.",
      "fullName": "Leaderboard Entry Name",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['name'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Photo.",
      "fullName": "Leaderboard Entry Photo",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryPhoto",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['photo'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Rank.",
      "fullName": "Leaderboard Entry Rank",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryRank",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['rank'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Score.",
      "fullName": "Leaderboard Entry Score",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryScore",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['score'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase.",
      "fullName": "Payments Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsPurchase",
      "sentence": "Payments Purchase - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument(\"Id\");",
            "    bridge.payments.purchase(id)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchase = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Get Purchases.",
      "fullName": "Payments Get Purchases",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetPurchases",
      "sentence": "Payments Get Purchases",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getPurchases()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchases = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Get Catalog.",
      "fullName": "Payments Get Catalog",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetCatalog",
      "sentence": "Payments Get Catalog",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getCatalog()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsCatalog = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Consume Purchase.",
      "fullName": "Payments Consume Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsConsumePurchase",
      "sentence": "Payments Consume Purchase - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument(\"Id\");",
            "    bridge.payments.consumePurchase(id)",
            "        .then((data) => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchase = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Payments Supported.",
      "fullName": "Is Payments Supported",
      "functionType": "Condition",
      "group": "Payments",
      "name": "IsPaymentsSupported",
      "sentence": "Is Payments Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.payments.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Purchase Completed.",
      "fullName": "On Payments Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsPurchaseCompleted",
      "sentence": "On Payments Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Purchases Completed.",
      "fullName": "On Payments Get Purchases Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetPurchasesCompleted",
      "sentence": "On Payments Get Purchases Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Catalog Completed.",
      "fullName": "On Payments Get Catalog Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetCatalogCompleted",
      "sentence": "On Payments Get Catalog Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Consume Purchase Completed.",
      "fullName": "On Payments Consume Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsConsumePurchaseCompleted",
      "sentence": "On Payments Consume Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Properties Count.",
      "fullName": "Payments Last Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase).length",
            "    : 0;",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Name.",
      "fullName": "Payments Last Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase)[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "const { paymentsPurchase } = gdjs._playgamaBridgeExtension;",
            "",
            "if (!paymentsPurchase) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "} else {",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? paymentsPurchase[property]",
            "        : paymentsPurchase[Object.keys(paymentsPurchase)[property]];",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchases Count.",
      "fullName": "Payments Purchases Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Properties Count.",
      "fullName": "Payments Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Property Name.",
      "fullName": "Payments Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const purchaseIndex = eventsFunctionContext.getArgument(\"PurchaseIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsPurchases } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsPurchases.length > 0) {",
            "    const purchase = paymentsPurchases[purchaseIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? purchase[property]",
            "        : purchase[Object.keys(purchase)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Purchase Index",
          "name": "PurchaseIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Items Count.",
      "fullName": "Payments Catalog Items Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Properties Count.",
      "fullName": "Payments Catalog Item Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Name.",
      "fullName": "Payments Catalog Item Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Value.",
      "fullName": "Payments Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const productIndex = eventsFunctionContext.getArgument(\"ProductIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length > 0) {",
            "    const product = paymentsCatalog[productIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? product[property]",
            "        : product[Object.keys(product)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Product Index",
          "name": "ProductIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments First Catalog Item Property Value.",
      "fullName": "Payments First Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsFirstCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const filterProperty = eventsFunctionContext.getArgument(\"FilterProperty\");",
            "const filterPropertyValue = eventsFunctionContext.getArgument(\"FilterPropertyValue\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length <= 0) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "",
            "const product = paymentsCatalog.find(item => item[filterProperty] === filterPropertyValue);",
            "",
            "if (!product) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "    ",
            "eventsFunctionContext.returnValue = isNaN(+property)",
            "    ? product[property]",
            "    : product[Object.keys(product)[property]];",
            "",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Filter Property",
          "name": "FilterProperty",
          "type": "string"
        },
        {
          "description": "Filter Property Value",
          "name": "FilterPropertyValue",
          "type": "string"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Supported.",
      "fullName": "Is Achievements Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsSupported",
      "sentence": "Is Achievements Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Get List Supported.",
      "fullName": "Is Achievements Get List Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsGetListSupported",
      "sentence": "Is Achievements Get List Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isGetListSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Native Popup Supported.",
      "fullName": "Is Achievements Native Popup Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsNativePopupSupported",
      "sentence": "Is Achievements Native Popup Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isNativePopupSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Unlock Completed.",
      "fullName": "On Achievements Unlock Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsUnlockCompleted",
      "sentence": "On Achievements Unlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Get List Completed.",
      "fullName": "On Achievements Get List Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsGetListCompleted",
      "sentence": "On Achievements Get List Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Show Native Popup Completed.",
      "fullName": "On Achievements Show Native Popup Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsShowNativePopupCompleted",
      "sentence": "On Achievements Show Native Popup Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Count.",
      "fullName": "Achievements Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Properties Count.",
      "fullName": "Achievement Properties Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Name.",
      "fullName": "Achievement Property Name",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {})[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Value.",
      "fullName": "Achievement Property Value",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const achievementIndex = eventsFunctionContext.getArgument(\"AchievementIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { achievementsList } = gdjs._playgamaBridgeExtension;",
            "",
            "if (achievementsList.length > 0) {",
            "    const achievement = achievementsList[achievementIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? achievement[property]",
            "        : achievement[Object.keys(achievement)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Achievement Index",
          "name": "AchievementIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievements Unlock.",
      "fullName": "Achievements Unlock",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsUnlock",
      "sentence": "Achievements Unlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.unlock(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Get List.",
      "fullName": "Achievements Get List",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsGetList",
      "sentence": "Achievements Get List",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.getList(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.achievementsList = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Show Native Popup.",
      "fullName": "Achievements Show Native Popup",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsShowNativePopup",
      "sentence": "Achievements Show Native Popup",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.showNativePopup(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Remote Config Supported.",
      "fullName": "Is Remote Config Supported",
      "functionType": "Condition",
      "group": "Remote",
      "name": "IsRemoteConfigSupported",
      "sentence": "Is Remote Config Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.remoteConfig.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Remote Config Got Completed.",
      "fullName": "On Remote Config Got Completed",
      "functionType": "Condition",
      "group": "Remote",
      "name": "OnRemoteConfigGotCompleted",
      "sentence": "On Remote Config Got Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Remote Config Value.",
      "fullName": "Has Remote Config Value",
      "functionType": "Condition",
      "group": "Remote",
      "name": "HasRemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = remoteConfig[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Remote Config Value.",
      "fullName": "Remote Config Value",
      "functionType": "StringExpression",
      "group": "Remote",
      "name": "RemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "eventsFunctionContext.returnValue = remoteConfig[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Remote Config Get Request.",
      "fullName": "Send Remote Config Get Request",
      "functionType": "Action",
      "group": "Remote",
      "name": "SendRemoteConfigGetRequest",
      "sentence": "Send Remote Config Get Request",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    window.bridge.remoteConfig.get(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.remoteConfig = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Ad Block Detected.",
      "fullName": "Is Ad Block Detected",
      "functionType": "Condition",
      "name": "IsAdBlockDetected",
      "sentence": "Is Ad Block Detected",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAdBlockDetected;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [],
  "eventsBasedObjects": []
}