{
  "author": "Playgama",
  "category": "Ads",
  "extensionNamespace": "",
  "fullName": "Playgama Bridge",
  "gdevelopVersion": "",
  "helpPath": "/extensions/playgama-bridge/details",
  "iconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSIjOTc0N0ZGIi8+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",
  "name": "PlaygamaBridge",
  "previewIconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K",
  "shortDescription": "One SDK for cross-platform publishing HTML5 games.",
  "version": "1.27.1",
  "description": [
    "One SDK for cross-platform publishing HTML5 games. ",
    "Please refer to [Playgama documentation](https://wiki.playgama.com/playgama/sdk/engines/gdevelop) for detailed guidance."
  ],
  "origin": {
    "identifier": "PlaygamaBridge",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "playgama",
    "bridge",
    "html5",
    "sdk",
    "platform",
    "ads"
  ],
  "authorIds": [
    "pGl7czfmrbUqIa4ZZkTji4NL9zX2"
  ],
  "dependencies": [],
  "globalVariables": [],
  "sceneVariables": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onFirstSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "window.bridgeOptions = {",
            "    \"advertisement\": {",
            "        \"interstitial\": {",
            "            \"preloadOnStart\": true",
            "        },",
            "        \"rewarded\": {",
            "            \"preloadOnStart\": true",
            "        },",
            "        \"useBuiltInErrorPopup\": true,",
            "        \"backfillId\": \"\"",
            "    },",
            "    \"payments\": [],",
            "    \"leaderboards\": [],",
            "    \"sendAnalyticsEvents\": true",
            "}",
            "",
            "gdjs._playgamaBridgeExtension = {",
            "    isLastActionCompletedSuccessfully: false,",
            "    actionParametersContainer: {},",
            "",
            "    // game",
            "    isVisibilityStateChanged: false,",
            "    prevVisibilityState: null,",
            "    visibilityStateStack: [],",
            "",
            "    // platform",
            "    serverTime: 0,",
            "    isGetServerTimeCompleted: false,",
            "    nextIsGetServerTimeCompleted: false,",
            "    allGames: [],",
            "    gameById: null,",
            "    isGetAllGamesCompleted: false,",
            "    nextIsGetAllGamesCompleted: false,",
            "    isGetGameByIdCompleted: false,",
            "    nextIsGetGameByIdCompleted: false,",
            "    isPlatformAudioStateChanged: false,",
            "    platformAudioStateStack: [],",
            "    platformAudioState: null,",
            "    platformPreviousAudioState: null,",
            "    isPlatformPauseStateChanged: false,",
            "    platformPauseStateStack: [],",
            "    platformPauseState: null,",
            "    platformPreviousPauseState: null,",
            "    ",
            "    // storage",
            "    storageData: {},",
            "    storageDataGetRequestKeys: [],",
            "    storageDataSetRequestKeys: [],",
            "    storageDataSetRequestValues: [],",
            "    storageDataDeleteRequestKeys: [],",
            "    isStorageDataGetRequestCompleted: false,",
            "    isStorageDataSetRequestCompleted: false,",
            "    isStorageDataDeleteRequestCompleted: false,",
            "    nextIsStorageDataGetRequestCompleted: false,",
            "    nextIsStorageDataSetRequestCompleted: false,",
            "    nextIsStorageDataDeleteRequestCompleted: false,",
            "",
            "    // advertisement",
            "    bannerState: null,",
            "    prevBannerState: null,",
            "    bannerStateStack: [],",
            "    interstitialState: null,",
            "    prevInterstitialState: null,",
            "    interstitialStateStack: [],",
            "    rewardedState: null,",
            "    prevRewardedState: null,",
            "    rewardedStateStack: [],",
            "    isAdBlockDetected: false,",
            "    isBannerStateChanged: false,",
            "    isInterstitialStateChanged: false,",
            "    isRewardedStateChanged: false,",
            "    isCheckAdBlockCompleted: false,",
            "    nextIsCheckAdBlockCompleted: false,",
            "",
            "    // player",
            "    isAuthorizePlayerCompleted: false,",
            "    nextIsAuthorizePlayerCompleted: false,",
            "",
            "    // social",
            "    isShareCompleted: false,",
            "    isInviteFriendsCompleted: false,",
            "    isJoinCommunityCompleted: false,",
            "    nextIsShareCompleted: false,",
            "    nextIsInviteFriendsCompleted: false,",
            "    nextIsJoinCommunityCompleted: false,",
            "    isCreatePostCompleted: false,",
            "    isAddToHomeScreenCompleted: false,",
            "    isAddToFavoritesCompleted: false,",
            "    isRateCompleted: false,",
            "    nextIsCreatePostCompleted: false,",
            "    nextIsAddToHomeScreenCompleted: false,",
            "    nextIsAddToFavoritesCompleted: false,",
            "    nextIsRateCompleted: false,",
            "",
            "    // leaderboards",
            "    isLeaderboardsSetScoreCompleted: false,",
            "    isLeaderboardsGetEntriesCompleted: false,",
            "    isLeaderboardsShowNativePopupCompleted: false,",
            "    nextIsLeaderboardsSetScoreCompleted: false,",
            "    nextIsLeaderboardsGetEntriesCompleted: false,",
            "    nextIsLeaderboardsShowNativePopupCompleted: false,",
            "    leaderboardEntries: [],",
            "    ",
            "    // payments",
            "    isPaymentsPurchaseCompleted: false,",
            "    isPaymentsGetPurchasesCompleted: false,",
            "    isPaymentsGetCatalogCompleted: false,",
            "    isPaymentsConsumePurchaseCompleted: false,",
            "    nextIsPaymentsPurchaseCompleted: false,",
            "    nextIsPaymentsGetPurchasesCompleted: false,",
            "    nextIsPaymentsGetCatalogCompleted: false,",
            "    nextIsPaymentsConsumePurchaseCompleted: false,",
            "    paymentsPurchase: null,",
            "    paymentsPurchases: [],",
            "    paymentsCatalog: [],",
            "",
            "    // achievements",
            "    isAchievementsUnlockCompleted: false,",
            "    isAchievementsGetListCompleted: false,",
            "    isAchievementsShowNativePopupCompleted: false,",
            "    nextIsAchievementsUnlockCompleted: false,",
            "    nextIsAchievementsGetListCompleted: false,",
            "    nextIsAchievementsShowNativePopupCompleted: false,",
            "    achievementsList: [],",
            "",
            "    // remote",
            "    remoteConfig: {},",
            "    isRemoteConfigGotCompleted: false,",
            "    nextIsRemoteConfigGotCompleted: false,",
            "}",
            "",
            "// utils",
            "gdjs._playgamaBridgeExtension.addActionParameter = function (path, value, sep = '.') {",
            "    const keys = path.replace(/\\[/g, sep).replace(/]/g, '').split(sep).map(item => isNaN(+item) ? item : +item);",
            "",
            "    let current = gdjs._playgamaBridgeExtension.actionParametersContainer;",
            "",
            "    for (let i = 0; i < keys.length; i++) {",
            "        const key = keys[i];",
            "        if (['__proto__', 'prototype', 'constructor'].includes(key)) {",
            "            break;",
            "        }",
            "",
            "        if (i < keys.length - 1) {",
            "            if ((Array.isArray(current[key]) && typeof keys[i + 1] !== 'number') || (!Array.isArray(current[key]) && typeof keys[i + 1] === 'number') || typeof current[key] !== 'object') {",
            "                break;",
            "            }",
            "            current = current[key];",
            "        } else if (Array.isArray(current[key]) && Array.isArray(value)) {",
            "            current[key] = [ ...current[key], ...value ];",
            "        } else if (",
            "            typeof value === 'object' && typeof current[key] === 'object' && !Array.isArray(current[key]) && !Array.isArray(value)) {",
            "            current[key] = { ...current[key], ...value };",
            "        } else {",
            "            current[key] = value;",
            "        }",
            "    }",
            "}",
            "",
            "",
            "let bridgeScript = null",
            "let bridgeTimeout = null",
            "let bridgeLoaded = false",
            "",
            "function initializeBridge() {",
            "    clearTimeout(bridgeTimeout)",
            "    bridge.engine = 'gdevelop'",
            "    bridge.initialize(bridgeOptions)",
            "        .then(() => {",
            "            bridge.advertisement.on('banner_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.bannerStateStack.push(state);",
            "            });",
            "",
            "            bridge.advertisement.on('interstitial_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.interstitialStateStack.push(state);",
            "",
            "            });",
            "",
            "            bridge.advertisement.on('rewarded_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.rewardedStateStack.push(state);",
            "            });",
            "",
            "            bridge.game.on('visibility_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.visibilityStateStack.push(state)",
            "            });",
            "",
            "            bridge.platform.on('audio_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.platformAudioStateStack.push(state)",
            "            });",
            "",
            "            bridge.platform.on('pause_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.platformPauseStateStack.push(state)",
            "            });",
            "",
            "            function updateState() {",
            "                // visibility",
            "                if (gdjs._playgamaBridgeExtension.visibilityStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.visibilityState = gdjs._playgamaBridgeExtension.visibilityStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isVisibilityStateChanged = gdjs._playgamaBridgeExtension.visibilityState !== gdjs._playgamaBridgeExtension.prevVisibilityState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isVisibilityStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.prevVisibilityState = gdjs._playgamaBridgeExtension.visibilityState;",
            "                }",
            "",
            "                // advertisement",
            "                if (gdjs._playgamaBridgeExtension.bannerStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.bannerState = gdjs._playgamaBridgeExtension.bannerStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isBannerStateChanged = gdjs._playgamaBridgeExtension.bannerState !== gdjs._playgamaBridgeExtension.prevBannerState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isBannerStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.prevBannerState = gdjs._playgamaBridgeExtension.bannerState;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.interstitialStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.interstitialState = gdjs._playgamaBridgeExtension.interstitialStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isInterstitialStateChanged = gdjs._playgamaBridgeExtension.interstitialState !== gdjs._playgamaBridgeExtension.prevInterstitialState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isInterstitialStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.prevInterstitialState = gdjs._playgamaBridgeExtension.interstitialState;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.rewardedStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.rewardedState = gdjs._playgamaBridgeExtension.rewardedStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isRewardedStateChanged = gdjs._playgamaBridgeExtension.rewardedState !== gdjs._playgamaBridgeExtension.prevRewardedState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isRewardedStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.prevRewardedState = gdjs._playgamaBridgeExtension.rewardedState;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted !== gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted = gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = false;",
            "                }",
            "",
            "                // platform",
            "                if (gdjs._playgamaBridgeExtension.platformAudioStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.platformAudioState = gdjs._playgamaBridgeExtension.platformAudioStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged = gdjs._playgamaBridgeExtension.platformAudioState !== gdjs._playgamaBridgeExtension.platformPreviousAudioState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.platformPreviousAudioState = gdjs._playgamaBridgeExtension.platformAudioState;",
            "                }",
            "",
            "",
            "                if (gdjs._playgamaBridgeExtension.platformPauseStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.platformPauseState = gdjs._playgamaBridgeExtension.platformPauseStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged = gdjs._playgamaBridgeExtension.platformPauseState !== gdjs._playgamaBridgeExtension.platformPreviousPauseState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.platformPreviousPauseState = gdjs._playgamaBridgeExtension.platformPauseState;",
            "                }",
            "",
            "",
            "                if (gdjs._playgamaBridgeExtension.isGetServerTimeCompleted !== gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isGetServerTimeCompleted = gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isGetAllGamesCompleted !== gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isGetAllGamesCompleted = gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isGetGameByIdCompleted !== gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isGetGameByIdCompleted = gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = false;",
            "                }",
            "",
            "                // storage",
            "                if (gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = false;",
            "                }",
            "",
            "                // player",
            "                if (gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted !== gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted = gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = false;",
            "                }",
            "",
            "                // social",
            "                if (gdjs._playgamaBridgeExtension.isShareCompleted !== gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isShareCompleted = gdjs._playgamaBridgeExtension.nextIsShareCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsShareCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isInviteFriendsCompleted !== gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isInviteFriendsCompleted = gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isJoinCommunityCompleted !== gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isJoinCommunityCompleted = gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isCreatePostCompleted !== gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isCreatePostCompleted = gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted = gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted = gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isRateCompleted !== gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isRateCompleted = gdjs._playgamaBridgeExtension.nextIsRateCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsRateCompleted = false;",
            "                }",
            "",
            "                // leaderboards",
            "                if (gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isLeaderboardsShowNativePopupCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isLeaderboardsShowNativePopupCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted = false;",
            "                }",
            "",
            "                // payments",
            "                if (gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = false;",
            "                }",
            "",
            "                // achievements",
            "                if (gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = false;",
            "                }",
            "",
            "                // remote configs",
            "                if (gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted !== gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted = gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = false;",
            "                }",
            "            }",
            "",
            "            gdjs.registerRuntimeScenePostEventsCallback(updateState)",
            "        });",
            "}",
            "",
            "function addLocalBridge() {",
            "    if (bridgeLoaded) return",
            "    bridgeLoaded = true",
            "    clearTimeout(bridgeTimeout)",
            "",
            "    if (bridgeScript && bridgeScript.parentNode) {",
            "        bridgeScript.onload = null",
            "        bridgeScript.onerror = null",
            "        bridgeScript.src = ''",
            "        bridgeScript.parentNode.removeChild(bridgeScript)",
            "    }",
            "",
            "    evalLocalScript()",
            "}",
            "",
            "bridgeScript = document.createElement('script')",
            "bridgeScript.src = 'https://bridge.playgama.com/v1/stable/playgama-bridge.js'",
            "bridgeScript.onload = initializeBridge",
            "bridgeScript.onerror = addLocalBridge",
            "",
            "bridgeTimeout = setTimeout(() => {",
            "    console.warn('CDN bridge failed to load within 2 seconds, loading local bridge')",
            "    addLocalBridge()",
            "}, 2000)",
            "",
            "document.head.appendChild(bridgeScript)",
            "",
            "function evalLocalScript() {",
            "    (()=>{var t={258:t=>{!function(e){t.exports=e;var r=\"listeners\",n={on:function(t,e){return a(this,t).push(e),this},once:function(t,e){var r=this;return n.originalListener=e,a(r,t).push(n),r;function n(){i.call(r,t,n),e.apply(this,arguments)}},off:i,emit:function(t,e){var r=this,n=a(r,t,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(t){t.call(r)}));else if(2===o)n.forEach((function(t){t.call(r,e)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(t){t.apply(r,i)}))}return!!n.length}};function o(t){for(var e in n)t[e]=n[e];return t}function i(t,e){var n,o=this;if(arguments.length){if(e){if(n=a(o,t,!0)){if(!(n=n.filter((function(t){return t!==e&&t.originalListener!==e}))).length)return i.call(o,t);o[r][t]=n}}else if((n=o[r])&&(delete n[t],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(t,e,n){if(!n||t[r]){var o=t[r]||(t[r]={});return o[e]||(o[e]=[])}}o(e.prototype),e.mixin=o}((function t(){if(!(this instanceof t))return new t}))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{\"use strict\";var t={VK:\"vk\",OK:\"ok\",YANDEX:\"yandex\",CRAZY_GAMES:\"crazy_games\",ABSOLUTE_GAMES:\"absolute_games\",GAME_DISTRIBUTION:\"game_distribution\",PLAYGAMA:\"playgama\",PLAYDECK:\"playdeck\",TELEGRAM:\"telegram\",Y8:\"y8\",LAGGED:\"lagged\",FACEBOOK:\"facebook\",POKI:\"poki\",MOCK:\"mock\",QA_TOOL:\"qa_tool\",MSN:\"msn\",HUAWEI:\"huawei\",BITQUEST:\"bitquest\",GAMEPUSH:\"gamepush\",DISCORD:\"discord\",JIO_GAMES:\"jio_games\",YOUTUBE:\"youtube\",PORTAL:\"portal\",REDDIT:\"reddit\",XIAOMI:\"xiaomi\"},e={CORE:\"core\",PLATFORM:\"platform\",PLAYER:\"player\",GAME:\"game\",STORAGE:\"storage\",ADVERTISEMENT:\"advertisement\",SOCIAL:\"social\",DEVICE:\"device\",LEADERBOARDS:\"leaderboards\",PAYMENTS:\"payments\",REMOTE_CONFIG:\"remote_config\",CLIPBOARD:\"clipboard\",ACHIEVEMENTS:\"achievements\",ANALYTICS:\"analytics\"},n={INTERSTITIAL_STATE_CHANGED:\"interstitial_state_changed\",REWARDED_STATE_CHANGED:\"rewarded_state_changed\",BANNER_STATE_CHANGED:\"banner_state_changed\",VISIBILITY_STATE_CHANGED:\"visibility_state_changed\",AUDIO_STATE_CHANGED:\"audio_state_changed\",PAUSE_STATE_CHANGED:\"pause_state_changed\",ORIENTATION_STATE_CHANGED:\"orientation_state_changed\"},o={VISIBLE:\"visible\",HIDDEN:\"hidden\"},i={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\"},a={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\",REWARDED:\"rewarded\"},s={LOADING:\"loading\",SHOWN:\"shown\",HIDDEN:\"hidden\",FAILED:\"failed\"},c=\"banner-container\",u={LOCAL_STORAGE:\"local_storage\",PLATFORM_INTERNAL:\"platform_internal\"},l={DESKTOP:\"desktop\",MOBILE:\"mobile\",TABLET:\"tablet\",TV:\"tv\"},f={PORTRAIT:\"portrait\",LANDSCAPE:\"landscape\"},p=\"bridge-orientation-overlay\",h={GAME_READY:\"game_ready\",IN_GAME_LOADING_STARTED:\"in_game_loading_started\",IN_GAME_LOADING_STOPPED:\"in_game_loading_stopped\",GAMEPLAY_STARTED:\"gameplay_started\",GAMEPLAY_STOPPED:\"gameplay_stopped\",PLAYER_GOT_ACHIEVEMENT:\"player_got_achievement\",GAME_OVER:\"game_over\"},d=\"not_available\",y=\"in_game\",m=\"native\",v=\"native_popup\",_={INITIALIZE:\"initialize\",AUTHORIZE_PLAYER:\"authorize_player\",SHARE:\"share\",INVITE_FRIENDS:\"invite_friends\",JOIN_COMMUNITY:\"join_community\",CREATE_POST:\"create_post\",ADD_TO_HOME_SCREEN:\"add_to_home_screen\",ADD_TO_FAVORITES:\"add_to_favorites\",RATE:\"rate\",LEADERBOARDS_SET_SCORE:\"leaderboards_set_score\",LEADERBOARDS_GET_ENTRIES:\"leaderboards_get_entries\",LEADERBOARDS_SHOW_NATIVE_POPUP:\"leaderboards_show_native_popup\",GET_PURCHASES:\"get_purchases\",GET_CATALOG:\"get_catalog\",PURCHASE:\"purchase\",CONSUME_PURCHASE:\"consume_purchase\",GET_REMOTE_CONFIG:\"get_remote_config\",GET_STORAGE_DATA:\"get_storage_data\",SET_STORAGE_DATA:\"set_storage_data\",DELETE_STORAGE_DATA:\"delete_storage_data\",CLIPBOARD_WRITE:\"clipboard_write\",ADBLOCK_DETECT:\"adblock_detect\",SET_INTERSTITIAL_STATE:\"set_interstitial_state\",SET_REWARDED_STATE:\"set_rewarded_state\",SHOW_INTERSTITIAL:\"show_interstitial\",SHOW_REWARDED:\"show_rewarded\"},g={SDK_NOT_INITIALIZED:{message:\"Before using the SDK you must initialize it\"},STORAGE_NOT_SUPPORTED:{message:\"Storage not supported\"},STORAGE_NOT_AVAILABLE:{message:\"Storage not available\"},GAME_PARAMS_NOT_FOUND:{message:\"Game params are not found\"},INVITE_FRIENDS_MESSAGE_LENGTH_ERROR:{message:\"Message is too long\"}};function S(t){return S=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},S(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function E(t){var e=function(t,e){if(\"object\"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=S(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==S(e)?e:String(e)}function P(t,e,r){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.set(t,r)}function w(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,O(t,e,\"set\"),r),r}function A(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,O(t,e,\"get\"))}function O(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var T=new WeakMap,k=new WeakMap,D=new WeakMap;const I=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),P(this,T,{writable:!0,value:void 0}),P(this,k,{writable:!0,value:void 0}),P(this,D,{writable:!0,value:void 0}),w(this,T,new Promise((function(t,r){w(e,k,t),w(e,D,r)})))}var e,r;return e=t,(r=[{key:\"promise\",get:function(){return A(this,T)}},{key:\"resolve\",value:function(t){A(this,k).call(this,t)}},{key:\"reject\",value:function(t){A(this,D).call(this,t)}}])&&b(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();var R=r(258),L=r.n(R);function j(t){return j=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},j(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,G(n.key),n)}}function C(t,e,r){return e&&N(t.prototype,e),r&&N(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function G(t){var e=function(t,e){if(\"object\"!=j(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=j(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==j(e)?e:String(e)}const M=C((function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,o=void 0,(n=G(n=\"_platformBridge\"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=e})),B=\"1.27.1\";function x(t){return x=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},x(t)}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,U(n.key),n)}}function U(t){var e=function(t,e){if(\"object\"!=x(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=x(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==x(e)?e:String(e)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function W(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function Z(t,e){J(t,e),e.add(t)}function Y(t,e,r){J(t,e),e.set(t,r)}function J(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function K(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Q(t,e,\"get\"))}function q(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function X(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Q(t,e,\"set\"),r),r}function Q(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var $=new WeakMap,tt=new WeakMap,et=new WeakMap,rt=new WeakMap,nt=new WeakMap,ot=new WeakSet,it=new WeakSet,at=new WeakSet,st=new WeakSet,ct=new WeakSet;function ut(){if(0!==K(this,$).length){var e=function(t){if(Array.isArray(t))return H(t)}(n=K(this,$))||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(n)||function(t,e){if(t){if(\"string\"==typeof t)return H(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(t,e):void 0}}(n)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}();X(this,$,[]),X(this,tt,null);var r=\"https://playgama.com/api/events/v2/bridge/analytics\";this._platformBridge.platformId===t.DISCORD&&(r=\"/playgama/api/events/v2/bridge/analytics\"),fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({events:e})}).then((function(t){if(!t.ok)throw new Error(\"Network response was not ok: \".concat(t.status))})).catch((function(t){console.error(\"Error sending analytics events:\",t)}))}var n}function lt(){var e,r=this._platformBridge.options;switch(this._platformBridge.platformId){case t.GAME_DISTRIBUTION:case t.Y8:e=r.gameId;break;case t.HUAWEI:e=r.appId;break;case t.MSN:e=r.gameId;break;case t.DISCORD:e=r.appId;break;case t.GAMEPUSH:e=r.projectId;break;default:e=null}return e||(e=q(this,at,ft).call(this,window.location.href)),e}function ft(e){try{var r=new URL(e).pathname.split(\"/\").filter(Boolean);switch(this._platformBridge.platformId){case t.YANDEX:var n=r.indexOf(\"app\"),o=-1!==n?r[n+1]:null;if(o)return\"Yandex \".concat(o);break;case t.LAGGED:var i=r.indexOf(\"g\"),a=-1!==i?r[i+1]:null;if(a)return q(this,st,pt).call(this,a);break;case t.CRAZY_GAMES:var s=r.indexOf(\"game\"),c=-1!==s?r[s+1]:null;if(c)return q(this,st,pt).call(this,c);break;case t.PLAYGAMA:var u=r.indexOf(\"game\"),l=-1!==u?r[u+1]:null;if(l)return q(this,st,pt).call(this,l);var f=r[0];if(\"string\"==typeof f&&/^[a-z0-9]{10,}$/i.test(f))return\"Playgama \".concat(f)}}catch(t){return null}return null}function pt(t){return\"string\"!=typeof t||0===t.length?\"\":t.replace(/-/g,\" \").replace(/\\b\\w/g,(function(t){return t.toUpperCase()}))}function ht(){var t=this;K(this,et)||X(this,et,setInterval((function(){t.send(\"\".concat(e.CORE,\"_ping\"),e.CORE)}),15e3))}const dt=new(function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&V(t,e)}(s,t);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(o);if(i){var r=z(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===x(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return W(t)}(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Z(W(t=a.call.apply(a,[this].concat(r))),ct),Z(W(t),st),Z(W(t),at),Z(W(t),it),Z(W(t),ot),Y(W(t),$,{writable:!0,value:[]}),Y(W(t),tt,{writable:!0,value:null}),Y(W(t),et,{writable:!0,value:null}),Y(W(t),rt,{writable:!0,value:null}),Y(W(t),nt,{writable:!0,value:(new Date).toISOString()}),t}return r=s,n=[{key:\"initialize\",value:function(t){this._platformBridge=t,X(this,rt,q(this,it,lt).call(this));var r={event_name:\"\".concat(e.CORE,\"_initialization_started\"),module:e.CORE,bridge_version:B,platform_id:this._platformBridge.platformId,game_id:K(this,rt),timestamp:K(this,nt),data:{}};return K(this,$).push(r),q(this,ct,ht).call(this),this}},{key:\"send\",value:function(t,e){var r,n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!1!==(null===(r=this._platformBridge.options)||void 0===r?void 0:r.sendAnalyticsEvents)){var i=window.location.href;if(!(i.startsWith(\"file://\")||i.includes(\"localhost\")||i.includes(\"127.0.0.1\"))){var a={event_name:t,module:e,bridge_version:B,platform_id:this._platformBridge.platformId,game_id:K(this,rt),timestamp:(new Date).toISOString(),data:o};K(this,$).push(a),K(this,tt)&&clearTimeout(K(this,tt)),X(this,tt,setTimeout((function(){q(n,ot,ut).call(n)}),3e3))}}}}],n&&F(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(M));function yt(t){return yt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},yt(t)}function mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,vt(n.key),n)}}function vt(t){var e=function(t,e){if(\"object\"!=yt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=yt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==yt(e)?e:String(e)}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function gt(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function bt(t,e,r){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.set(t,r)}function Et(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Pt(t,e,\"get\"))}function Pt(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var wt=new WeakMap,At=new WeakMap,Ot=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&_t(t,e)}(c,t);var r,o,i,a,s=(i=c,a=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(i);if(a){var r=St(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===yt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return gt(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,c),bt(gt(e=s.call(this,t)),wt,{writable:!0,value:!1}),bt(gt(e),At,{writable:!0,value:performance.now()}),e._platformBridge.on(n.AUDIO_STATE_CHANGED,(function(t){return e.emit(n.AUDIO_STATE_CHANGED,t)})),e._platformBridge.on(n.PAUSE_STATE_CHANGED,(function(t){return e.emit(n.PAUSE_STATE_CHANGED,t)})),e}return r=c,(o=[{key:\"id\",get:function(){return this._platformBridge.platformId}},{key:\"sdk\",get:function(){return this._platformBridge.platformSdk}},{key:\"language\",get:function(){return this._platformBridge.platformLanguage}},{key:\"payload\",get:function(){return this._platformBridge.platformPayload}},{key:\"tld\",get:function(){return this._platformBridge.platformTld}},{key:\"isGetAllGamesSupported\",get:function(){return this._platformBridge.isPlatformGetAllGamesSupported}},{key:\"isGetGameByIdSupported\",get:function(){return this._platformBridge.isPlatformGetGameByIdSupported}},{key:\"isAudioEnabled\",get:function(){return this._platformBridge.isPlatformAudioEnabled}},{key:\"isPaused\",get:function(){return this._platformBridge.isPlatformPaused}},{key:\"sendMessage\",value:function(t){var r,n,o={};if(t===h.GAME_READY){if(Et(this,wt))return Promise.reject();n=!0,function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(r=this,Pt(r,wt,\"set\"),n),o={time_s:((performance.now()-Et(this,At))/1e3).toFixed(2)};var i=document.getElementById(\"loading-overlay\");i&&i.remove()}return dt.send(\"\".concat(e.PLATFORM,\"_message_\").concat(t),e.PLATFORM,o),this._platformBridge.sendMessage(t)}},{key:\"getServerTime\",value:function(){return this._platformBridge.getServerTime()}},{key:\"getAllGames\",value:function(){return this._platformBridge.getAllGames()}},{key:\"getGameById\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getGameById(e)}return this._platformBridge.getGameById(t)}}])&&mt(r.prototype,o),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(M);L().mixin(Ot.prototype);const Tt=Ot;function kt(t){return kt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},kt(t)}function Dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,It(n.key),n)}}function It(t){var e=function(t,e){if(\"object\"!=kt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=kt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==kt(e)?e:String(e)}function Rt(t,e){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rt(t,e)}function Lt(t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lt(t)}const jt=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Rt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lt(n);if(o){var r=Lt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===kt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:\"isAuthorizationSupported\",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:\"isAuthorized\",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:\"id\",get:function(){return this._platformBridge.playerId}},{key:\"name\",get:function(){return this._platformBridge.playerName}},{key:\"photos\",get:function(){return this._platformBridge.playerPhotos}},{key:\"extra\",get:function(){return this._platformBridge.playerExtra}},{key:\"authorize\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.authorize(e)}return this._platformBridge.authorizePlayer(t)}}])&&Dt(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(M);function Nt(t){return Nt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Nt(t)}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(r),!0).forEach((function(e){var n,o,i,a;n=t,o=e,i=r[e],a=function(t,e){if(\"object\"!=Nt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Nt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(o),(o=\"symbol\"==Nt(a)?a:String(a))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Bt=[\"post\",\"Message\"].join(\"\"),xt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){var o=document.createElement(\"script\");o.src=t;for(var i=0;i<Object.keys(e).length;i++){var a=Object.keys(e)[i],s=e[a];o.setAttribute(a,s)}o.addEventListener(\"load\",r),o.addEventListener(\"error\",(function(){return n(new Error(\"Failed to load: \".concat(t)))})),document.head.appendChild(o)}))},Ht=function(t){var e=t.adSenseId,r=t.channelId,n=t.hostId,o=t.interstitialPlacementId,i=t.rewardedPlacementId,a=t.adFrequencyHint,s=void 0===a?\"180s\":a,c=t.testMode,u=void 0!==c&&c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(t){var a=document.createElement(\"script\");a.src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",a.setAttribute(\"data-ad-client\",e),r?a.setAttribute(\"data-ad-channel\",r):n&&a.setAttribute(\"data-ad-host\",n),o&&a.setAttribute(\"data-admob-interstitial-slot\",o),i&&a.setAttribute(\"data-admob-rewarded-slot\",i),u&&a.setAttribute(\"data-adbreak-test\",\"on\"),a.setAttribute(\"data-ad-frequency-hint\",s),a.setAttribute(\"crossorigin\",\"anonymous\"),a.addEventListener(\"load\",(function(){window.adsbygoogle=window.adsbygoogle||[],window.adsbygoogle.push(Mt({preloadAdBreaks:\"on\",sound:\"on\",onReady:function(){}},l)),t((function(t){return window.adsbygoogle.push(t)}))})),document.head.appendChild(a)}))};function Ft(t){var e=document.createElement(\"div\");return e.id=c,e.style.position=\"absolute\",document.body.appendChild(e),\"top\"===t?(e.style.top=\"0px\",e.style.height=\"90px\",e.style.width=\"100%\"):(e.style.bottom=\"0px\",e.style.height=\"90px\",e.style.width=\"100%\"),e}var Ut=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length<=0?Promise.resolve():new Promise((function(t){var r=setInterval((function(){for(var n=window,o=0;o<e.length;o++){var i=n[e[o]];if(!i)return;n=i}t(),clearInterval(r)}),100)}))},Vt=function(t){return/^data:image\\/(png|jpeg|jpg|gif|bmp|webp|svg\\+xml);base64,[A-Za-z0-9+/]+={0,2}$/.test(t)},Wt=function(t,e){return void 0===t[e]?null:t[e]};function zt(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t))return t.reduce((function(t,n,o){if(t[o]=Wt(e,n),r)try{t[o]=JSON.parse(t[o])}catch(t){}return t}),new Array(t.length));var n=Wt(e,t);if(r&&\"string\"==typeof n)try{n=JSON.parse(n)}catch(t){}return n}function Zt(t,e){for(var r=Mt({},t),n=Object.keys(e),o=0;o<n.length;o++){var i=n[o];i in t&&e[i]instanceof Object&&t[i]instanceof Object?r[i]=Zt(t[i],e[i]):r[i]=e[i]}return r}function Yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"*\";window.parent&&window.parent[Bt](t,e)}function Jt(t){return Jt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Jt(t)}function Kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,te(n.key),n)}}function qt(t,e){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qt(t,e)}function Xt(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}function $t(t,e,r){return(e=te(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function te(t){var e=function(t,e){if(\"object\"!=Jt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Jt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Jt(e)?e:String(e)}var ee=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&qt(t,e)}(c,e);var r,o,i,a,s=(i=c,a=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qt(i);if(a){var r=Qt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Jt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Xt(t)}(this,t)});function c(e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,c),$t(Xt(r=s.call(this,e)),\"_currentLoadingProgress\",null),$t(Xt(r),\"_loadingProcessCompleted\",!1),r._platformBridge.on(n.VISIBILITY_STATE_CHANGED,(function(t){return r.emit(n.VISIBILITY_STATE_CHANGED,t)})),r._platformBridge.options.disableLoadingLogo||function(t){var e=document.createElement(\"style\");e.textContent=\"\\n        .fullscreen {\\n            background: #242424;\\n            width: 100vw;\\n            height: 100vh;\\n            position: absolute;\\n            top: 0px;\\n            left: 0px;\\n        }\\n\\n        #loading-overlay {\\n            font-size: 20px;\\n            z-index: 1;\\n            display: flex;\\n            flex-direction: column;\\n            justify-content: center;\\n            align-items: center;\\n        }\\n\\n        #logo {\\n            width: 10%;\\n            max-width: 300px;\\n            min-width: 120px;\\n            overflow: visible;\\n        }\\n\\n        .fill-rect {\\n            transform: translateY(100%);\\n            transition: transform 0.3s ease-out;\\n        }\\n\\n        #gradientMover {\\n            display: none;\\n        }\\n\\n        .gradient-mover {\\n            animation: moveGradient 0.4s linear;\\n        }\\n\\n        @keyframes moveGradient {\\n            0% { transform: translateX(0); }\\n            100% { transform: translateX(-250%); }\\n        }\\n\\n        .logo-fade-out {\\n            animation: logoFadeOut 1s linear;\\n        }\\n\\n        .logo-fade-out path {\\n            fill: white;\\n            stroke: white;\\n        }\\n\\n        @keyframes logoFadeOut {\\n            0% { opacity: 1; }\\n            50% { opacity: 0; }\\n            100% { opacity: 0; }\\n        }\\n    \",document.head.appendChild(e);var r=document.createElement(\"div\");r.id=\"loading-overlay\",r.className=\"fullscreen\",document.body.appendChild(r);var n=!1===t?{viewBox:\"0 0 633 819\",paths:[\"M632 1V632H1V1H632ZM350 125.586V507.414L380.586 538H546V451H478.599L478.308 451.278L454.598 474H443.406L450.944 452.328L451 452.169V187.459L457.369 182H546V95H380.586L350 125.586ZM283 125.586L252.414 95H87V182H175.631L182 187.459V445.54L175.631 451H87V538H252.414L283 507.414V125.586Z\",\"M633 687V660H548V687H560V791H548V819H633V792H601L592 801H587L590 792V752H627V725H590V687H633Z\",\"M533 718V675L518 660H450L435 675V802L450 819H518L533 804V734H482V761H503V788L499 792H476L467 801H462L465 792V691L469 687H499L503 691V718H533Z\",\"M402 660H310V687H322V792H310V819H402L417 804V675L402 660ZM387 788L383 792H363L354 801H349L352 792V687H383L387 691V788Z\",\"M295 687V660H239V687H251V792H239V819H295V792H283V687H295Z\",\"M215 791L200 760H209L224 745V675L209 660H121V687H132V792H121V819H162V760H166L193 819H227V791H215ZM194 729L190 733H173L164 742H159L162 733V687H190L194 691V729Z\",\"M106 724V675L91 660H0V687H12V792H0V819H91L106 804V749L89 744V728L106 724ZM73 788L69 792H53L44 801H39L42 792V752H73V788ZM73 725H53L44 734H39L42 725V687H69L73 691V725Z\"],fillColor:\"#aa76ff\",strokeColor:\"#aa76ff\",gradientStops:[{offset:\"0.235577\",color:\"#aa76ff\"},{offset:\"0.240685\",color:\"white\"},{offset:\"0.659749\",color:\"#aa76ff\"}]}:{viewBox:\"0 0 633 918\",paths:[\"M633 687V660H548V687H560V791H548V819H633V792H601L592 801H587L590 792V752H627V725H590V687H633Z\",\"M533 718V675L518 660H450L435 675V802L450 819H518L533 804V734H482V761H503V788L499 792H476L467 801H462L465 792V691L469 687H499L503 691V718H533Z\",\"M612 847H564V894H579V861H591V894H606V861H612C615 861 617 864 617 867V894H633V868C633 856 623 847 612 847Z\",\"M533 846C519 846 508 857 508 870C508 884 519 895 533 895C546 895 557 884 557 870C557 857 546 846 533 846ZM533 880C528 880 524 875 524 870C524 865 528 861 533 861C538 861 542 865 542 870C542 875 538 880 533 880Z\",\"M402 660H310V687H322V792H310V819H402L417 804V675L402 660ZM387 788L383 792H363L354 801H349L352 792V687H383L387 691V788Z\",\"M484 861H502V847H482C469 847 459 858 459 871C459 884 469 894 482 894H502V880H484C478 880 474 876 474 871C474 865 478 861 484 861Z\",\"M444 875C438 875 434 879 434 885C434 890 438 895 444 895C449 895 454 890 454 885C454 879 449 875 444 875Z\",\"M402 847C389 847 378 857 378 870C378 883 389 894 402 894H425V847H402ZM410 880H403C398 880 394 876 394 870C394 865 398 861 403 861H410V880Z\",\"M295 687V660H239V687H251V792H239V819H295V792H283V687H295Z\",\"M350 847H303V894H318V861H329V894H345V861H350C353 861 356 864 356 867V894H371V868C371 856 362 847 350 847Z\",\"M215 791L200 760H209L224 745V675L209 660H121V687H132V792H121V819H162V760H166L193 819H227V791H215ZM194 729L190 733H173L164 742H159L162 733V687H190L194 691V729Z\",\"M269 847C256 847 247 857 247 870C247 883 256 894 269 894H293V847H269ZM277 880H271C265 880 261 876 261 870C261 865 265 861 271 861H277V880Z\",\"M214 847C201 847 190 857 190 870C190 883 201 894 214 894H224V895C224 900 220 903 215 903H195V918H216C229 918 239 908 239 895V847H214ZM224 880H215C210 880 206 876 206 870C206 865 210 861 215 861H224V880Z\",\"M106 724V675L91 660H0V687H12V792H0V819H91L106 804V749L89 744V728L106 724ZM73 788L69 792H53L44 801H39L42 792V752H73V788ZM73 725H53L44 734H39L42 725V687H69L73 691V725Z\",\"M167 847V880H153V847H137V894H167V895C167 900 163 904 157 904H137V918H158C172 918 182 909 182 896V847H167Z\",\"M104 847C91 847 80 857 80 870C80 883 91 894 104 894H127V847H104ZM112 880H105C100 880 96 876 96 870C96 865 100 861 105 861H112V880Z\",\"M56 833V894H72V833H56Z\",\"M25 847H2V908H17V894H25C38 894 49 883 49 870C49 857 38 847 25 847ZM24 880H17V861H24C29 861 33 865 33 870C33 876 29 880 24 880Z\",\"M0 0V633H633V0H0ZM451 452L443 475H456L480 452H546V537H382L352 507V126L382 96H546V181H458L451 187V452ZM252 96L282 126V507L252 537H88V452H176L183 446V187L176 181H88V96H252Z\"],fillColor:\"#aa76ff\",strokeColor:\"#aa76ff\",gradientStops:[{offset:\"0.235577\",color:\"#aa76ff\"},{offset:\"0.240685\",color:\"white\"},{offset:\"0.659749\",color:\"#aa76ff\"}]};n.gradientWidthMultiplier=4;var o,i,a=(o=n.viewBox.split(/[ ,]+/),i=4,function(t){if(Array.isArray(t))return t}(o)||function(t,e){var r=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(o,i)||function(t,e){if(t){if(\"string\"==typeof t)return Ct(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(t,e):void 0}}(o,i)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),s=a[2],c=a[3],u=Number(s),l=Number(c),f=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");f.setAttribute(\"id\",\"logo\"),f.setAttribute(\"viewBox\",n.viewBox),f.setAttribute(\"fill\",\"none\"),f.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\");var p=document.createElementNS(f.namespaceURI,\"defs\"),h=document.createElementNS(f.namespaceURI,\"mask\");h.setAttribute(\"id\",\"logo-mask\");var d=document.createElementNS(f.namespaceURI,\"rect\");d.setAttribute(\"x\",\"0\"),d.setAttribute(\"y\",\"0\"),d.setAttribute(\"width\",\"100%\"),d.setAttribute(\"height\",\"100%\"),d.setAttribute(\"fill\",\"black\"),h.appendChild(d),n.paths.forEach((function(t){var e=document.createElementNS(f.namespaceURI,\"path\");e.setAttribute(\"d\",t),e.setAttribute(\"fill\",\"white\"),h.appendChild(e)})),p.appendChild(h);var y=document.createElementNS(f.namespaceURI,\"linearGradient\");y.setAttribute(\"id\",\"shineGradient\"),y.setAttribute(\"x1\",\"1233\"),y.setAttribute(\"y1\",\"0\"),y.setAttribute(\"x2\",\"1866\"),y.setAttribute(\"y2\",\"633\"),y.setAttribute(\"gradientUnits\",\"userSpaceOnUse\"),n.gradientStops.forEach((function(t){var e=t.offset,r=t.color,n=document.createElementNS(f.namespaceURI,\"stop\");n.setAttribute(\"offset\",e),n.setAttribute(\"stop-color\",r),y.appendChild(n)})),p.appendChild(y),f.appendChild(p);var m=document.createElementNS(f.namespaceURI,\"g\");m.setAttribute(\"mask\",\"url(#logo-mask)\");var v=document.createElementNS(f.namespaceURI,\"rect\");v.setAttribute(\"id\",\"gradientMover\"),v.setAttribute(\"x\",\"0\"),v.setAttribute(\"y\",\"0\"),v.setAttribute(\"width\",String(u*n.gradientWidthMultiplier)),v.setAttribute(\"height\",String(l)),v.setAttribute(\"fill\",\"url(#shineGradient)\"),v.style.transform=\"translateX(0)\",m.appendChild(v),f.appendChild(m);var _=document.createElementNS(f.namespaceURI,\"g\");_.setAttribute(\"mask\",\"url(#logo-mask)\");var g=document.createElementNS(f.namespaceURI,\"rect\");g.setAttribute(\"id\",\"fillRect\"),g.setAttribute(\"class\",\"fill-rect\"),g.setAttribute(\"x\",\"0\"),g.setAttribute(\"y\",\"0\"),g.setAttribute(\"width\",\"100%\"),g.setAttribute(\"height\",String(l)),g.setAttribute(\"fill\",n.fillColor),_.appendChild(g),f.appendChild(_),n.paths.forEach((function(t){var e=document.createElementNS(f.namespaceURI,\"path\");e.setAttribute(\"d\",t),e.setAttribute(\"stroke\",n.strokeColor),e.setAttribute(\"stroke-width\",\"3\"),f.appendChild(e)})),r.appendChild(f)}(r._platformBridge.platformId!==t.YANDEX&&r._platformBridge.options.showFullLoadingLogo),r}return r=c,o=[{key:\"visibilityState\",get:function(){return this._platformBridge.visibilityState}},{key:\"setLoadingProgress\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(this._loadingProcessCompleted||e&&null!==this._currentLoadingProgress)){var r=document.getElementById(\"fillRect\"),n=document.getElementById(\"gradientMover\"),o=document.getElementById(\"logo\"),i=document.getElementById(\"loading-overlay\");if(r&&n&&o&&i){this._currentLoadingProgress=t;var a=Math.max(0,Math.min(100,t)),s=100-a;r.style.transform=\"translateY(\".concat(s,\"%)\"),100===a?(this._loadingProcessCompleted=!0,setTimeout((function(){r.style.display=\"none\",n.style.display=\"block\",n.classList.add(\"gradient-mover\")}),400),setTimeout((function(){return o.classList.add(\"logo-fade-out\")}),900),setTimeout((function(){return i.remove()}),1400)):n.classList.remove(\"gradient-mover\")}}}}],o&&Kt(r.prototype,o),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(M);L().mixin(ee.prototype);const re=ee;function ne(t){return ne=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ne(t)}function oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,ie(n.key),n)}}function ie(t){var e=function(t,e){if(\"object\"!=ne(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=ne(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==ne(e)?e:String(e)}function ae(t,e){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ae(t,e)}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}const ce=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ae(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=se(n);if(o){var r=se(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===ne(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return e=a,r=[{key:\"defaultType\",get:function(){return this._platformBridge.defaultStorageType}},{key:\"isSupported\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageSupported(t)}},{key:\"isAvailable\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageAvailable(t)}},{key:\"get\",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){var n=e[this._platformBridge.platformId];if(n)return this.get(t,n,r)}var o=e;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?Array.isArray(t)&&0===t.length?Promise.resolve([]):this._platformBridge.getDataFromStorage(t,o,r):Promise.reject()}},{key:\"set\",value:function(t,e,r){if(r){var n=r[this._platformBridge.platformId];if(n)return this.set(t,e,n)}var o=r;if(o||(o=this.defaultType),!this._platformBridge.isStorageAvailable(o))return Promise.reject();if(Array.isArray(t)){if(!Array.isArray(e))return Promise.reject(new Error(\"Value must be an array when key is an array\"));if(t.length!==e.length)return Promise.reject(new Error(\"Key and value arrays must have the same length\"));if(0===t.length)return Promise.resolve()}return this._platformBridge.setDataToStorage(t,e,o)}},{key:\"delete\",value:function(t,e){if(e){var r=e[this._platformBridge.platformId];if(r)return this.delete(t,r)}var n=e;return n||(n=this.defaultType),this._platformBridge.isStorageAvailable(n)?Array.isArray(t)&&0===t.length?Promise.resolve():this._platformBridge.deleteDataFromStorage(t,n):Promise.reject()}}],r&&oe(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(M);function ue(t){return ue=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ue(t)}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,fe(n.key),n)}}function fe(t){var e=function(t,e){if(\"object\"!=ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=ue(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==ue(e)?e:String(e)}function pe(t,e){de(t,e),e.add(t)}function he(t,e,r){de(t,e),e.set(t,r)}function de(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function ye(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function me(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,_e(t,e,\"set\"),r),r}function ve(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,_e(t,e,\"get\"))}function _e(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var ge=\"started\",Se=new WeakMap,be=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,we=new WeakSet,Ae=new WeakSet,Oe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),pe(this,Ae),pe(this,we),he(this,Se,{writable:!0,value:0}),he(this,be,{writable:!0,value:0}),he(this,Ee,{writable:!0,value:\"created\"}),he(this,Pe,{writable:!0,value:0}),me(this,Se,e)}var e,r;return e=t,(r=[{key:\"state\",get:function(){return ve(this,Ee)}},{key:\"start\",value:function(){var t=this;ve(this,Ee)!==ge&&(me(this,be,ve(this,Se)),ye(this,we,Te).call(this,ge),me(this,Pe,setInterval((function(){me(t,be,ve(t,be)-1),t.emit(\"time_left_changed\",ve(t,be)),ve(t,be)<=0&&(ye(t,Ae,ke).call(t),ye(t,we,Te).call(t,\"completed\"))}),1e3)))}},{key:\"stop\",value:function(){ye(this,Ae,ke).call(this),ve(this,Ee)===ge&&ye(this,we,Te).call(this,\"stopped\")}}])&&le(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function Te(t){me(this,Ee,t),this.emit(\"state_changed\",ve(this,Ee))}function ke(){clearInterval(ve(this,Pe)),me(this,be,0)}L().mixin(Oe.prototype);const De=Oe;function Ie(t){return Ie=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Ie(t)}function Re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Le(n.key),n)}}function Le(t){var e=function(t,e){if(\"object\"!=Ie(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Ie(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Ie(e)?e:String(e)}function je(t,e){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},je(t,e)}function Ne(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Ce(t){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ce(t)}function Ge(t,e){Be(t,e),e.add(t)}function Me(t,e,r){Be(t,e),e.set(t,r)}function Be(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function xe(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Ue(t,e,\"set\"),r),r}function He(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Fe(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ue(t,e,\"get\"))}function Ue(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var Ve=new WeakMap,We=new WeakMap,ze=new WeakMap,Ze=new WeakMap,Ye=new WeakMap,Je=new WeakMap,Ke=new WeakMap,qe=new WeakMap,Xe=new WeakMap,Qe=new WeakSet,$e=new WeakSet,tr=new WeakSet,er=new WeakSet,rr=new WeakSet,nr=new WeakSet,or=new WeakSet,ir=new WeakSet,ar=new WeakSet,sr=new WeakSet,cr=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&je(t,e)}(l,t);var e,r,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ce(o);if(c){var r=Ce(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Ie(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ne(t)}(this,t)});function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l),Ge(Ne(e=u.call(this,t)),sr),Ge(Ne(e),ar),Ge(Ne(e),ir),Ge(Ne(e),or),Ge(Ne(e),nr),Ge(Ne(e),rr),Ge(Ne(e),er),Ge(Ne(e),tr),Ge(Ne(e),$e),Ge(Ne(e),Qe),Me(Ne(e),Ve,{writable:!0,value:s.HIDDEN}),Me(Ne(e),We,{writable:!0,value:null}),Me(Ne(e),ze,{writable:!0,value:null}),Me(Ne(e),Ze,{writable:!0,value:i.CLOSED}),Me(Ne(e),Ye,{writable:!0,value:null}),Me(Ne(e),Je,{writable:!0,value:void 0}),Me(Ne(e),Ke,{writable:!0,value:60}),Me(Ne(e),qe,{writable:!0,value:a.CLOSED}),Me(Ne(e),Xe,{writable:!0,value:null}),e._platformBridge.on(n.BANNER_STATE_CHANGED,(function(t){return He(Ne(e),or,yr).call(Ne(e),t)})),e._platformBridge.on(n.INTERSTITIAL_STATE_CHANGED,(function(t){t===i.CLOSED&&He(Ne(e),rr,hr).call(Ne(e)),He(Ne(e),ir,mr).call(Ne(e),t)})),e._platformBridge.on(n.REWARDED_STATE_CHANGED,(function(t){return He(Ne(e),ar,vr).call(Ne(e),t)})),He(Ne(e),tr,fr).call(Ne(e)),e}return e=l,r=[{key:\"isBannerSupported\",get:function(){var t;return!0!==(null===(t=this._platformBridge.options)||void 0===t||null===(t=t.advertisement)||void 0===t||null===(t=t.banner)||void 0===t?void 0:t.disable)&&this._platformBridge.isBannerSupported}},{key:\"bannerState\",get:function(){return Fe(this,Ve)}},{key:\"isInterstitialSupported\",get:function(){var t;return!0!==(null===(t=this._platformBridge.options)||void 0===t||null===(t=t.advertisement)||void 0===t||null===(t=t.interstitial)||void 0===t?void 0:t.disable)&&this._platformBridge.isInterstitialSupported}},{key:\"interstitialState\",get:function(){return Fe(this,Ze)}},{key:\"isRewardedSupported\",get:function(){var t;return!0!==(null===(t=this._platformBridge.options)||void 0===t||null===(t=t.advertisement)||void 0===t||null===(t=t.rewarded)||void 0===t?void 0:t.disable)&&this._platformBridge.isRewardedSupported}},{key:\"rewardedPlacement\",get:function(){return Fe(this,Xe)}},{key:\"rewardedState\",get:function(){return Fe(this,qe)}},{key:\"minimumDelayBetweenInterstitial\",get:function(){return Fe(this,Ke)}},{key:\"setMinimumDelayBetweenInterstitial\",value:function(t){if(null===He(this,$e,lr).call(this,He(this,er,pr).call(this))){var e=He(this,$e,lr).call(this,t);null!==e&&He(this,Qe,ur).call(this,e)}}},{key:\"showBanner\",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"bottom\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.bannerState!==s.LOADING&&this.bannerState!==s.SHOWN){xe(this,We,e);var n,o=r;if(o||null!==(n=this._platformBridge.options)&&void 0!==n&&null!==(n=n.advertisement)&&void 0!==n&&null!==(n=n.banner)&&void 0!==n&&n.placementFallback&&(o=this._platformBridge.options.advertisement.banner.placementFallback),xe(this,ze,o),He(this,or,yr).call(this,s.LOADING),this.isBannerSupported){var i=null===(t=this._platformBridge.options)||void 0===t||null===(t=t.advertisement)||void 0===t||null===(t=t.banner)||void 0===t?void 0:t.placements,a=He(this,sr,_r).call(this,o,i);this._platformBridge.showBanner(e,a)}else He(this,or,yr).call(this,s.FAILED)}}},{key:\"hideBanner\",value:function(){this.bannerState!==s.LOADING&&this.bannerState!==s.HIDDEN&&this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:\"preloadInterstitial\",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.isInterstitialSupported){var r,n=e;n&&\"string\"==typeof n||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.interstitial)&&void 0!==r&&r.placementFallback&&(n=this._platformBridge.options.advertisement.interstitial.placementFallback);var o=null===(t=this._platformBridge.options)||void 0===t||null===(t=t.advertisement)||void 0===t||null===(t=t.interstitial)||void 0===t?void 0:t.placements,i=He(this,sr,_r).call(this,n,o);this._platformBridge.preloadInterstitial(i)}}},{key:\"showInterstitial\",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!He(this,nr,dr).call(this)){var r,n=e;if(n||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.interstitial)&&void 0!==r&&r.placementFallback&&(n=this._platformBridge.options.advertisement.interstitial.placementFallback),xe(this,Ye,n),He(this,ir,mr).call(this,i.LOADING),this.isInterstitialSupported)if(this._platformBridge.isMinimumDelayBetweenInterstitialEnabled&&Fe(this,Je)&&Fe(this,Je).state===ge)He(this,ir,mr).call(this,i.FAILED);else{var o=null===(t=this._platformBridge.options)||void 0===t||null===(t=t.advertisement)||void 0===t||null===(t=t.interstitial)||void 0===t?void 0:t.placements,a=He(this,sr,_r).call(this,n,o);this._platformBridge.showInterstitial(a)}else He(this,ir,mr).call(this,i.FAILED)}}},{key:\"preloadRewarded\",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.isRewardedSupported){var r,n=e;n&&\"string\"==typeof n||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.rewarded)&&void 0!==r&&r.placementFallback&&(n=this._platformBridge.options.advertisement.rewarded.placementFallback);var o=null===(t=this._platformBridge.options)||void 0===t||null===(t=t.advertisement)||void 0===t||null===(t=t.rewarded)||void 0===t?void 0:t.placements,i=He(this,sr,_r).call(this,n,o);this._platformBridge.preloadRewarded(i)}}},{key:\"showRewarded\",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!He(this,nr,dr).call(this)){var r;xe(this,Xe,e),Fe(this,Xe)||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.rewarded)&&void 0!==r&&r.placementFallback&&xe(this,Xe,this._platformBridge.options.advertisement.rewarded.placementFallback);var n=null===(t=this._platformBridge.options)||void 0===t||null===(t=t.advertisement)||void 0===t||null===(t=t.rewarded)||void 0===t?void 0:t.placements,o=He(this,sr,_r).call(this,Fe(this,Xe),n);He(this,ar,vr).call(this,a.LOADING),this.isRewardedSupported?this._platformBridge.showRewarded(o):He(this,ar,vr).call(this,a.FAILED)}}},{key:\"checkAdBlock\",value:function(){return this._platformBridge.checkAdBlock()}}],r&&Re(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),l}(M);function ur(t){xe(this,Ke,t),Fe(this,Je)&&(Fe(this,Je).stop(),He(this,rr,hr).call(this))}function lr(t){if(\"number\"==typeof t)return t;if(\"string\"==typeof t){var e=parseInt(t,10);return Number.isNaN(e)?null:e}return null}function fr(){var t=He(this,er,pr).call(this);if(void 0!==t){var e=He(this,$e,lr).call(this,t);null!==e&&He(this,Qe,ur).call(this,e)}}function pr(){var t;return null===(t=this._platformBridge.options)||void 0===t||null===(t=t.advertisement)||void 0===t?void 0:t.minimumDelayBetweenInterstitial}function hr(){Fe(this,Ke)>0&&this._platformBridge.isMinimumDelayBetweenInterstitialEnabled&&(xe(this,Je,new De(Fe(this,Ke))),Fe(this,Je).start())}function dr(){var t=[i.LOADING,i.OPENED].includes(Fe(this,Ze)),e=[a.LOADING,a.OPENED,a.REWARDED].includes(Fe(this,qe));return t||e}function yr(t){Fe(this,Ve)!==t&&(xe(this,Ve,t),dt.send(\"\".concat(e.ADVERTISEMENT,\"_banner_\").concat(t),e.ADVERTISEMENT,{position:Fe(this,We),placement:Fe(this,ze)}),this.emit(n.BANNER_STATE_CHANGED,Fe(this,Ve)))}function mr(t){Fe(this,Ze)!==t&&(xe(this,Ze,t),dt.send(\"\".concat(e.ADVERTISEMENT,\"_interstitial_\").concat(t),e.ADVERTISEMENT,{placement:Fe(this,Ye)}),this.emit(n.INTERSTITIAL_STATE_CHANGED,Fe(this,Ze)))}function vr(t){Fe(this,qe)!==t&&(xe(this,qe,t),dt.send(\"\".concat(e.ADVERTISEMENT,\"_rewarded_\").concat(t),e.ADVERTISEMENT,{placement:Fe(this,Xe)}),this.emit(n.REWARDED_STATE_CHANGED,Fe(this,qe)))}function _r(t,e){if(!t)return t;if(!e)return t;var r=e.find((function(e){return e.id===t}));return r&&r[this._platformBridge.platformId]?r[this._platformBridge.platformId]:t}L().mixin(cr.prototype);const gr=cr;function Sr(t){return Sr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Sr(t)}function br(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Er(n.key),n)}}function Er(t){var e=function(t,e){if(\"object\"!=Sr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Sr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Sr(e)?e:String(e)}function Pr(t,e){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pr(t,e)}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wr(t)}const Ar=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Pr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wr(n);if(o){var r=wr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Sr(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:\"isInviteFriendsSupported\",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:\"isJoinCommunitySupported\",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:\"isShareSupported\",get:function(){return this._platformBridge.isShareSupported}},{key:\"isCreatePostSupported\",get:function(){return this._platformBridge.isCreatePostSupported}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:\"isAddToFavoritesSupported\",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:\"isRateSupported\",get:function(){return this._platformBridge.isRateSupported}},{key:\"isExternalLinksAllowed\",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:\"inviteFriends\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.inviteFriends(e)}return this._platformBridge.inviteFriends(t)}},{key:\"joinCommunity\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.joinCommunity(e)}return this._platformBridge.joinCommunity(t)}},{key:\"share\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.share(e)}return this._platformBridge.share(t)}},{key:\"createPost\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.createPost(e)}return this._platformBridge.createPost(t)}},{key:\"addToHomeScreen\",value:function(){return this._platformBridge.addToHomeScreen()}},{key:\"addToFavorites\",value:function(){return this._platformBridge.addToFavorites()}},{key:\"rate\",value:function(){return this._platformBridge.rate()}}])&&br(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(M);function Or(t){return Or=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Or(t)}function Tr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,kr(n.key),n)}}function kr(t){var e=function(t,e){if(\"object\"!=Or(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Or(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Or(e)?e:String(e)}function Dr(t,e){return Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dr(t,e)}function Ir(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Rr(t){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(t)}function Lr(t,e){Nr(t,e),e.add(t)}function jr(t,e,r){Nr(t,e),e.set(t,r)}function Nr(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Cr(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Br(t,e,\"set\"),r),r}function Gr(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Mr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Br(t,e,\"get\"))}function Br(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var xr=new WeakMap,Hr=new WeakMap,Fr=new WeakMap,Ur=new WeakMap,Vr=new WeakSet,Wr=new WeakSet,zr=new WeakSet,Zr=new WeakSet,Yr=new WeakSet,Jr=new WeakSet,Kr=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Dr(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rr(n);if(o){var r=Rr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Or(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ir(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,a),Lr(Ir(e=i.call(this,t)),Jr),Lr(Ir(e),Yr),Lr(Ir(e),Zr),Lr(Ir(e),zr),Lr(Ir(e),Wr),Lr(Ir(e),Vr),jr(Ir(e),xr,{writable:!0,value:null}),jr(Ir(e),Hr,{writable:!0,value:null}),jr(Ir(e),Fr,{writable:!0,value:null}),jr(Ir(e),Ur,{writable:!0,value:!1}),Gr(Ir(e),Vr,qr).call(Ir(e)),e}return e=a,(r=[{key:\"type\",get:function(){return this._platformBridge.deviceType}},{key:\"orientation\",get:function(){return Mr(this,xr)}}])&&Tr(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(M);function qr(){var t,e,r,n=this,o=this._platformBridge.deviceType;if(o===l.MOBILE||o===l.TABLET){var i=null===(t=this._platformBridge.options)||void 0===t?void 0:t.device;Cr(this,Ur,null!==(e=null==i?void 0:i.useBuiltInOrientationPopup)&&void 0!==e&&e),Cr(this,Fr,null!==(r=null==i?void 0:i.supportedOrientations)&&void 0!==r?r:[f.PORTRAIT,f.LANDSCAPE]),Cr(this,xr,Gr(this,Wr,Xr).call(this)),window.screen.orientation?window.screen.orientation.addEventListener(\"change\",(function(){return Gr(n,zr,Qr).call(n)})):window.addEventListener(\"orientationchange\",(function(){return Gr(n,zr,Qr).call(n)})),window.addEventListener(\"resize\",(function(){return Gr(n,zr,Qr).call(n)})),Gr(this,Zr,$r).call(this)}}function Xr(){var t;return null!==(t=window.screen.orientation)&&void 0!==t&&t.type?window.screen.orientation.type.includes(\"portrait\")?f.PORTRAIT:f.LANDSCAPE:window.matchMedia?window.matchMedia(\"(orientation: portrait)\").matches?f.PORTRAIT:f.LANDSCAPE:window.innerHeight>window.innerWidth?f.PORTRAIT:f.LANDSCAPE}function Qr(){var t=Gr(this,Wr,Xr).call(this);t!==Mr(this,xr)&&(Cr(this,xr,t),this.emit(n.ORIENTATION_STATE_CHANGED,Mr(this,xr)),Gr(this,Zr,$r).call(this))}function $r(){if(Mr(this,Ur))if(1===Mr(this,Fr).length){var t=Mr(this,Fr)[0];Mr(this,xr)!==t?Gr(this,Yr,tn).call(this):Gr(this,Jr,en).call(this)}else Gr(this,Jr,en).call(this)}function tn(){Mr(this,Hr)||(Cr(this,Hr,function(){if(!document.getElementById(\"bridge-orientation-overlay-styles\")){var t=document.createElement(\"style\");t.id=\"bridge-orientation-overlay-styles\",t.textContent=\"\\n            #\".concat(p,\" {\\n                position: fixed;\\n                top: 0;\\n                left: 0;\\n                width: 100vw;\\n                height: 100vh;\\n                background-color: rgba(0, 0, 0, 0.95);\\n                display: flex;\\n                flex-direction: column;\\n                justify-content: center;\\n                align-items: center;\\n                z-index: 9999999;\\n            }\\n\\n            #bridge-orientation-icon {\\n                width: 80px;\\n                height: 80px;\\n                animation: bridge-rotate-phone 1.5s ease-in-out infinite;\\n            }\\n\\n            #bridge-orientation-message {\\n                color: #fff;\\n                font-size: 18px;\\n                font-family: Arial, sans-serif;\\n                margin-top: 20px;\\n                text-align: center;\\n            }\\n\\n            @keyframes bridge-rotate-phone {\\n                0%, 100% { transform: rotate(0deg); }\\n                50% { transform: rotate(90deg); }\\n            }\\n        \"),document.head.appendChild(t)}var e=document.createElement(\"div\");e.id=p;var r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");r.setAttribute(\"id\",\"bridge-orientation-icon\"),r.setAttribute(\"viewBox\",\"0 0 24 24\"),r.setAttribute(\"fill\",\"none\"),r.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),r.innerHTML='\\n        <rect x=\"5\" y=\"2\" width=\"14\" height=\"20\" rx=\"2\" stroke=\"white\" stroke-width=\"2\"/>\\n        <line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"18\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\"/>\\n    ';var n=document.createElement(\"div\");return n.id=\"bridge-orientation-message\",n.innerText=\"Please rotate your device\",e.appendChild(r),e.appendChild(n),e}()),document.body.appendChild(Mr(this,Hr)))}function en(){Mr(this,Hr)&&(Mr(this,Hr).remove(),Cr(this,Hr,null))}L().mixin(Kr.prototype);const rn=Kr;function nn(t){return nn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},nn(t)}function on(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,an(n.key),n)}}function an(t){var e=function(t,e){if(\"object\"!=nn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=nn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==nn(e)?e:String(e)}function sn(t,e){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sn(t,e)}function cn(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function un(t){return un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},un(t)}function ln(t,e){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.add(t)}function fn(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}var pn=new WeakSet,hn=new WeakSet;function dn(t){var e;if(!t)return t;var r=null===(e=this._platformBridge.options)||void 0===e?void 0:e.leaderboards;if(!r)return t;var n=r.find((function(e){return e.id===t}));return n&&n[this._platformBridge.platformId]?n[this._platformBridge.platformId]:t}function yn(t){var e,r=null===(e=this._platformBridge.options)||void 0===e?void 0:e.leaderboards;if(!r)return!1;var n=r.find((function(e){return e.id===t}));return!!n&&!0===n.isMain}const mn=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&sn(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=un(n);if(o){var r=un(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===nn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return cn(t)}(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ln(cn(t=i.call.apply(i,[this].concat(r))),hn),ln(cn(t),pn),t}return e=a,(r=[{key:\"type\",get:function(){return this._platformBridge.leaderboardsType}},{key:\"setScore\",value:function(t,e){var r=fn(this,pn,dn).call(this,t),n=fn(this,hn,yn).call(this,t);return this._platformBridge.leaderboardsSetScore(r,e,n)}},{key:\"getEntries\",value:function(t){var e=fn(this,pn,dn).call(this,t);return this._platformBridge.leaderboardsGetEntries(e)}},{key:\"showNativePopup\",value:function(t){var e=fn(this,pn,dn).call(this,t);return this._platformBridge.leaderboardsShowNativePopup(e)}}])&&on(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(M);function vn(t){return vn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},vn(t)}function _n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,gn(n.key),n)}}function gn(t){var e=function(t,e){if(\"object\"!=vn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=vn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==vn(e)?e:String(e)}function Sn(t,e){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sn(t,e)}function bn(t){return bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bn(t)}const En=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Sn(t,e)}(s,t);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bn(o);if(i){var r=bn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===vn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,s),a.apply(this,arguments)}return r=s,(n=[{key:\"isSupported\",get:function(){return this._platformBridge.isPaymentsSupported}},{key:\"purchase\",value:function(t,r){return dt.send(\"\".concat(e.PAYMENTS,\"_purchase_started\"),e.PAYMENTS,{id:t}),this._platformBridge.paymentsPurchase(t,r).then((function(r){return dt.send(\"\".concat(e.PAYMENTS,\"_purchase_completed\"),e.PAYMENTS,{id:t}),r})).catch((function(r){throw dt.send(\"\".concat(e.PAYMENTS,\"_purchase_failed\"),e.PAYMENTS,{id:t}),r}))}},{key:\"getPurchases\",value:function(){return dt.send(\"\".concat(e.PAYMENTS,\"_get_purchases_started\"),e.PAYMENTS),this._platformBridge.paymentsGetPurchases().then((function(t){return dt.send(\"\".concat(e.PAYMENTS,\"_get_purchases_completed\"),e.PAYMENTS),t})).catch((function(t){throw dt.send(\"\".concat(e.PAYMENTS,\"_get_purchases_failed\"),e.PAYMENTS),t}))}},{key:\"getCatalog\",value:function(){return dt.send(\"\".concat(e.PAYMENTS,\"_get_catalog_started\"),e.PAYMENTS),this._platformBridge.paymentsGetCatalog().then((function(t){return dt.send(\"\".concat(e.PAYMENTS,\"_get_catalog_completed\"),e.PAYMENTS),t})).catch((function(t){throw dt.send(\"\".concat(e.PAYMENTS,\"_get_catalog_failed\"),e.PAYMENTS),t}))}},{key:\"consumePurchase\",value:function(t){return dt.send(\"\".concat(e.PAYMENTS,\"_consume_purchase_started\"),e.PAYMENTS,{id:t}),this._platformBridge.paymentsConsumePurchase(t).then((function(r){return dt.send(\"\".concat(e.PAYMENTS,\"_consume_purchase_completed\"),e.PAYMENTS,{id:t}),r})).catch((function(r){throw dt.send(\"\".concat(e.PAYMENTS,\"_consume_purchase_failed\"),e.PAYMENTS,{id:t}),r}))}}])&&_n(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(M);function Pn(t){return Pn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Pn(t)}function wn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,An(n.key),n)}}function An(t){var e=function(t,e){if(\"object\"!=Pn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Pn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Pn(e)?e:String(e)}function On(t,e){return On=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},On(t,e)}function Tn(t){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tn(t)}const kn=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&On(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tn(n);if(o){var r=Tn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Pn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isRemoteConfigSupported}},{key:\"get\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.get(e)}return this._platformBridge.getRemoteConfig(t)}}])&&wn(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(M);function Dn(t){return Dn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Dn(t)}function In(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Rn(n.key),n)}}function Rn(t){var e=function(t,e){if(\"object\"!=Dn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Dn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Dn(e)?e:String(e)}function Ln(t,e){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ln(t,e)}function jn(t){return jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jn(t)}const Nn=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ln(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jn(n);if(o){var r=jn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Dn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isClipboardSupported}},{key:\"read\",value:function(){return this._platformBridge.clipboardRead()}},{key:\"write\",value:function(t){return this._platformBridge.clipboardWrite(t)}}])&&In(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(M);function Cn(t){return Cn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Cn(t)}function Gn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Mn(n.key),n)}}function Mn(t){var e=function(t,e){if(\"object\"!=Cn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Cn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Cn(e)?e:String(e)}function Bn(t,e){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bn(t,e)}function xn(t){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xn(t)}const Hn=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Bn(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xn(n);if(o){var r=xn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Cn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isAchievementsSupported}},{key:\"isGetListSupported\",get:function(){return this._platformBridge.isGetAchievementsListSupported}},{key:\"isNativePopupSupported\",get:function(){return this._platformBridge.isAchievementsNativePopupSupported}},{key:\"unlock\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.unlock(e)}return this._platformBridge.unlockAchievement(t)}},{key:\"getList\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getList(e)}return this._platformBridge.getAchievementsList(t)}},{key:\"showNativePopup\",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.showNativePopup(e)}return this._platformBridge.showAchievementsNativePopup(t)}}])&&Gn(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(M);function Fn(t){return Fn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Fn(t)}function Un(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Vn(n.key),n)}}function Vn(t){var e=function(t,e){if(\"object\"!=Fn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Fn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Fn(e)?e:String(e)}function Wn(t,e,r){zn(t,e),e.set(t,r)}function zn(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Zn(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Yn(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Kn(t,e,\"get\"))}function Jn(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Kn(t,e,\"set\"),r),r}function Kn(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var qn=new WeakMap,Xn=new WeakMap,Qn=new WeakMap,$n=new WeakSet;function to(){var t=Object.values(Yn(this,qn)).some((function(t){return!0===t}));Yn(this,Xn)!==t&&(Jn(this,Xn,t),Yn(this,Qn).call(this,Yn(this,Xn)))}const eo=function(){function t(e,r){var n,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),zn(this,n=$n),n.add(this),Wn(this,qn,{writable:!0,value:{}}),Wn(this,Xn,{writable:!0,value:!1}),Wn(this,Qn,{writable:!0,value:null}),Jn(this,Qn,r),e.forEach((function(t){Yn(o,qn)[t]=!1}))}var e,r;return e=t,(r=[{key:\"setState\",value:function(t,e){t in Yn(this,qn)&&\"boolean\"==typeof e&&Yn(this,qn)[t]!==e&&(Yn(this,qn)[t]=e,Zn(this,$n,to).call(this))}},{key:\"getState\",value:function(t){return t in Yn(this,qn)&&Yn(this,qn)[t]}},{key:\"getAggregatedState\",value:function(){return Yn(this,Xn)}},{key:\"resetAll\",value:function(){var t=this;Object.keys(Yn(this,qn)).forEach((function(e){Yn(t,qn)[e]=!1})),Zn(this,$n,to).call(this)}}])&&Un(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function ro(t){return ro=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ro(t)}function no(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function oo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?no(Object(r),!0).forEach((function(e){ao(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):no(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function io(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,so(n.key),n)}}function ao(t,e,r){return(e=so(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function so(t){var e=function(t,e){if(\"object\"!=ro(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=ro(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==ro(e)?e:String(e)}function co(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var uo=new WeakMap,lo=function(){function e(t){var r,i,a,s=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),ao(this,\"_isInitialized\",!1),ao(this,\"_platformSdk\",null),ao(this,\"_isPlayerAuthorized\",!1),ao(this,\"_playerId\",null),ao(this,\"_playerName\",null),ao(this,\"_playerPhotos\",[]),ao(this,\"_playerExtra\",{}),ao(this,\"_visibilityState\",null),ao(this,\"_localStorage\",null),ao(this,\"_defaultStorageType\",u.LOCAL_STORAGE),ao(this,\"_platformStorageCachedData\",null),ao(this,\"_isBannerSupported\",!1),ao(this,\"_paymentsPurchases\",[]),ao(this,\"_pauseStateAggregator\",null),ao(this,\"_audioStateAggregator\",null),a={writable:!0,value:{}},function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(r=this,i=uo),i.set(r,a);try{this._localStorage=window.localStorage}catch(t){}this._visibilityState=document.visibilityState;var c=[\"interstitial\",\"rewarded\",\"visibility\",\"platform\"];this._pauseStateAggregator=new eo(c,(function(t){return s.emit(n.PAUSE_STATE_CHANGED,t)})),this._audioStateAggregator=new eo(c,(function(t){return s.emit(n.AUDIO_STATE_CHANGED,!t)})),document.addEventListener(\"visibilitychange\",(function(){s._setVisibilityState(document.visibilityState)})),window.addEventListener(\"blur\",(function(){s._setVisibilityState(o.HIDDEN)})),window.addEventListener(\"focus\",(function(){s._setVisibilityState(o.VISIBLE)})),t&&(this._options=oo({},t))}var r,c;return r=e,(c=[{key:\"options\",get:function(){return this._options}},{key:\"platformId\",get:function(){return t.MOCK}},{key:\"platformSdk\",get:function(){return this._platformSdk}},{key:\"platformLanguage\",get:function(){var t=navigator.language;return\"string\"==typeof t?t.substring(0,2).toLowerCase():\"en\"}},{key:\"platformPayload\",get:function(){return new URL(window.location.href).searchParams.get(\"payload\")}},{key:\"platformTld\",get:function(){return null}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!1}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!1}},{key:\"isPlatformAudioEnabled\",get:function(){return!this._audioStateAggregator||!this._audioStateAggregator.getAggregatedState()}},{key:\"isPlatformPaused\",get:function(){return!!this._pauseStateAggregator&&this._pauseStateAggregator.getAggregatedState()}},{key:\"visibilityState\",get:function(){return this._visibilityState}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!1}},{key:\"isPlayerAuthorized\",get:function(){return this._isPlayerAuthorized}},{key:\"playerId\",get:function(){return this._playerId}},{key:\"playerName\",get:function(){return this._playerName}},{key:\"playerPhotos\",get:function(){return this._playerPhotos}},{key:\"playerExtra\",get:function(){return this._playerExtra}},{key:\"defaultStorageType\",get:function(){return this._defaultStorageType}},{key:\"isBannerSupported\",get:function(){return this._isBannerSupported}},{key:\"isInterstitialSupported\",get:function(){return!1}},{key:\"isMinimumDelayBetweenInterstitialEnabled\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!1}},{key:\"isInviteFriendsSupported\",get:function(){return!1}},{key:\"isJoinCommunitySupported\",get:function(){return!1}},{key:\"isShareSupported\",get:function(){return!1}},{key:\"isCreatePostSupported\",get:function(){return!1}},{key:\"isAddToHomeScreenSupported\",get:function(){return!1}},{key:\"isAddToFavoritesSupported\",get:function(){return!1}},{key:\"isRateSupported\",get:function(){return!1}},{key:\"isExternalLinksAllowed\",get:function(){return!0}},{key:\"deviceType\",get:function(){if(navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(t))return l.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(t))return l.TABLET}return l.DESKTOP}},{key:\"isPaymentsSupported\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return d}},{key:\"isRemoteConfigSupported\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!0}},{key:\"isAchievementsSupported\",get:function(){return!1}},{key:\"isGetAchievementsListSupported\",get:function(){return!1}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){return Promise.resolve()}},{key:\"sendMessage\",value:function(){return Promise.resolve()}},{key:\"getServerTime\",value:function(){return new Promise((function(t,e){fetch(\"https://playgama.com/api/v1/timestamp/now\").then((function(t){if(!t.ok)throw new Error(\"Network response was not ok\");return t.json()})).then((function(e){t(1e3*e.timestamp)})).catch((function(){e()}))}))}},{key:\"getAllGames\",value:function(){return Promise.reject()}},{key:\"getGameById\",value:function(){return Promise.reject()}},{key:\"authorizePlayer\",value:function(){return Promise.reject()}},{key:\"isStorageSupported\",value:function(t){switch(t){case u.LOCAL_STORAGE:return null!==this._localStorage;case u.PLATFORM_INTERNAL:default:return!1}}},{key:\"isStorageAvailable\",value:function(t){switch(t){case u.LOCAL_STORAGE:return null!==this._localStorage;case u.PLATFORM_INTERNAL:default:return!1}}},{key:\"getDataFromStorage\",value:function(t,e,r){if(e===u.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var n=[],o=0;o<t.length;o++)n.push(this._getDataFromLocalStorage(t[o],r));return Promise.resolve(n)}var i=this._getDataFromLocalStorage(t,r);return Promise.resolve(i)}return Promise.reject(g.STORAGE_NOT_SUPPORTED)}return Promise.reject(g.STORAGE_NOT_SUPPORTED)}},{key:\"setDataToStorage\",value:function(t,e,r){if(r===u.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var n=0;n<t.length;n++)this._setDataToLocalStorage(t[n],e[n]);return Promise.resolve()}return this._setDataToLocalStorage(t,e),Promise.resolve()}return Promise.reject(g.STORAGE_NOT_SUPPORTED)}return Promise.reject(g.STORAGE_NOT_SUPPORTED)}},{key:\"deleteDataFromStorage\",value:function(t,e){if(e===u.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this._deleteDataFromLocalStorage(t[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(t),Promise.resolve()}return Promise.reject(g.STORAGE_NOT_SUPPORTED)}return Promise.reject(g.STORAGE_NOT_SUPPORTED)}},{key:\"showBanner\",value:function(){this._setBannerState(s.FAILED)}},{key:\"hideBanner\",value:function(){this._setBannerState(s.HIDDEN)}},{key:\"preloadInterstitial\",value:function(){}},{key:\"showInterstitial\",value:function(){this._setInterstitialState(i.FAILED)}},{key:\"preloadRewarded\",value:function(){}},{key:\"showRewarded\",value:function(){this._setRewardedState(a.FAILED)}},{key:\"checkAdBlock\",value:function(){var t=document.createElement(\"div\");t.className=\"textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox\",t.style.position=\"absolute\",t.style.left=\"-9999px\",t.style.width=\"1px\",t.style.height=\"1px\",document.body.appendChild(t);var e={method:\"HEAD\",mode:\"no-cors\"};return new Promise((function(r){fetch(\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",e).then((function(e){e.redirected?r(e.redirected):window.setTimeout((function(){var e,n=0===t.offsetHeight||\"none\"===(null===(e=window.getComputedStyle(t))||void 0===e?void 0:e.display);r(n),t.remove()}),100)})).catch((function(){r(!0)}))}))}},{key:\"inviteFriends\",value:function(){return Promise.reject()}},{key:\"joinCommunity\",value:function(){return Promise.reject()}},{key:\"share\",value:function(){return Promise.reject()}},{key:\"createPost\",value:function(){return Promise.reject()}},{key:\"addToHomeScreen\",value:function(){return Promise.reject()}},{key:\"addToFavorites\",value:function(){return Promise.reject()}},{key:\"rate\",value:function(){return Promise.reject()}},{key:\"leaderboardsSetScore\",value:function(){return Promise.reject()}},{key:\"leaderboardsGetEntries\",value:function(){return Promise.reject()}},{key:\"leaderboardsShowNativePopup\",value:function(){return Promise.reject()}},{key:\"paymentsPurchase\",value:function(t){if(this.isPaymentsSupported){var e={id:t};return this._paymentsPurchases.push(e),Promise.resolve(e)}return Promise.reject()}},{key:\"paymentsConsumePurchase\",value:function(t){if(this.isPaymentsSupported){var e=this._paymentsPurchases.findIndex((function(e){return e.id===t}));return e<0?Promise.reject():(this._paymentsPurchases.splice(e,1),Promise.resolve({id:t}))}return Promise.reject()}},{key:\"paymentsGetCatalog\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsGetProductsPlatformData()):Promise.reject()}},{key:\"paymentsGetPurchases\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsPurchases):Promise.reject()}},{key:\"getRemoteConfig\",value:function(){return Promise.reject()}},{key:\"clipboardRead\",value:function(){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.readText():Promise.reject()}},{key:\"clipboardWrite\",value:function(t){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.writeText(t):Promise.reject()}},{key:\"unlockAchievement\",value:function(){return Promise.reject()}},{key:\"getAchievementsList\",value:function(){return Promise.reject()}},{key:\"showAchievementsNativePopup\",value:function(){return Promise.reject()}},{key:\"_getDataFromLocalStorage\",value:function(t,e){var r=this._localStorage.getItem(t);if(e&&\"string\"==typeof r)try{r=JSON.parse(r)}catch(t){}return r}},{key:\"_setDataToLocalStorage\",value:function(t,e){this._localStorage.setItem(t,\"object\"===ro(e)?JSON.stringify(e):e)}},{key:\"_deleteDataFromLocalStorage\",value:function(t){this._localStorage.removeItem(t)}},{key:\"_setVisibilityState\",value:function(t){if(this._visibilityState!==t){this._visibilityState=t,this.emit(n.VISIBILITY_STATE_CHANGED,this._visibilityState);var e=t===o.HIDDEN;this._pauseStateAggregator&&this._pauseStateAggregator.setState(\"visibility\",e),this._audioStateAggregator&&this._audioStateAggregator.setState(\"visibility\",e)}}},{key:\"_setBannerState\",value:function(t){this.emit(n.BANNER_STATE_CHANGED,t)}},{key:\"_setInterstitialState\",value:function(t){this.emit(n.INTERSTITIAL_STATE_CHANGED,t);var e=t===i.OPENED;this._pauseStateAggregator&&this._pauseStateAggregator.setState(\"interstitial\",e),this._audioStateAggregator&&this._audioStateAggregator.setState(\"interstitial\",e)}},{key:\"_setRewardedState\",value:function(t){this.emit(n.REWARDED_STATE_CHANGED,t);var e=t===a.OPENED||t===a.REWARDED;this._pauseStateAggregator&&this._pauseStateAggregator.setState(\"rewarded\",e),this._audioStateAggregator&&this._audioStateAggregator.setState(\"rewarded\",e)}},{key:\"_setAudioState\",value:function(t){this._audioStateAggregator?this._audioStateAggregator.setState(\"platform\",!t):this.emit(n.AUDIO_STATE_CHANGED,t)}},{key:\"_setPauseState\",value:function(t){this._pauseStateAggregator?this._pauseStateAggregator.setState(\"platform\",t):this.emit(n.PAUSE_STATE_CHANGED,t)}},{key:\"_createPromiseDecorator\",value:function(t){var e=new I;return co(this,uo)[t]=e,e}},{key:\"_getPromiseDecorator\",value:function(t){return co(this,uo)[t]}},{key:\"_resolvePromiseDecorator\",value:function(t,e){co(this,uo)[t]&&(co(this,uo)[t].resolve(e),delete co(this,uo)[t])}},{key:\"_rejectPromiseDecorator\",value:function(t,e){co(this,uo)[t]&&(co(this,uo)[t].reject(e),delete co(this,uo)[t])}},{key:\"_paymentsGetProductsPlatformData\",value:function(){var t=this;return this._options.payments?this._options.payments.map((function(e){var r=oo({},e[t.platformId]);return r.platformProductId=r.id,r.id=e.id,r})):[]}},{key:\"_paymentsGetProductPlatformData\",value:function(t){var e=this._options.payments;if(!e)return null;var r=e.find((function(e){return e.id===t}));if(!r)return null;var n=oo({},r[this.platformId]);return n.platformProductId=n.id,n.id=r.id,n}},{key:\"_paymentsGenerateTransactionId\",value:function(t){return\"\".concat(t,\"_\").concat(Date.now(),\"_\").concat(Math.random().toString(36).substring(2,10))}},{key:\"_advertisementShowErrorPopup\",value:function(t){var e,r=this;return(null===(e=this._options)||void 0===e||null===(e=e.advertisement)||void 0===e?void 0:e.useBuiltInErrorPopup)?function(t){if(!document.getElementById(\"bridge-info-popup-styles\")){var e=document.createElement(\"style\");e.id=\"bridge-info-popup-styles\",e.textContent=\"\\n            #bridge-info-popup-overlay {\\n                position: fixed;\\n                top: 0;\\n                left: 0;\\n                width: 100vw;\\n                height: 100vh;\\n                background-color: rgba(0, 0, 0, 0.5);\\n                z-index: 9998;\\n                display: none;\\n            }\\n\\n            #bridge-info-popup {\\n                position: fixed;\\n                top: 50%;\\n                left: 50%;\\n                transform: translate(-50%, -50%);\\n                background-color: #2E3C75;\\n                color: #fff;\\n                padding: 20px;\\n                z-index: 9999;\\n                display: none;\\n                border-radius: 10px;\\n                box-shadow: 0 0 10px #2E3C75;\\n                font-size: 24px;\\n                font-family: 'Roboto', sans-serif;\\n                text-align: center;\\n                min-width: 250px;\\n                max-width: 30%;\\n                flex-direction: column;\\n                justify-content: center;\\n                align-items: center;\\n            }\\n\\n            #bridge-info-popup-button {\\n                margin-top: 24px;\\n                width: 150px;\\n                background-color: rgba(255, 255, 255, 0.2);\\n                color: #fff;\\n                border: none;\\n                font-size: 24px;\\n                padding: 20px;\\n                border-radius: 5px;\\n                cursor: pointer;\\n                font-family: 'Roboto', sans-serif;\\n                display: block;\\n            }\\n\\n            #bridge-info-popup-button:hover {\\n                background-color: rgba(255, 255, 255, 0.3);\\n            }\",document.head.appendChild(e)}var r=document.getElementById(\"bridge-info-popup-overlay\");r||((r=document.createElement(\"div\")).id=\"bridge-info-popup-overlay\",document.body.appendChild(r));var n=document.getElementById(\"bridge-info-popup\");n||((n=document.createElement(\"div\")).id=\"bridge-info-popup\"),n.innerText=\"Oops! It looks like you closed the ad too early, or it isn't available right now.\";var o=document.getElementById(\"bridge-info-popup-button\");return o||((o=document.createElement(\"button\")).id=\"bridge-info-popup-button\",o.innerText=\"OK\",n.appendChild(o)),document.body.appendChild(n),new Promise((function(t){o.onclick=function(){n.style.display=\"none\",r.style.display=\"none\",t()},r.style.display=\"block\",n.style.display=\"flex\"}))}().then((function(){t?r._setRewardedState(a.FAILED):r._setInterstitialState(i.FAILED)})):(t?this._setRewardedState(a.FAILED):this._setInterstitialState(i.FAILED),Promise.resolve())}},{key:\"_playerApplyGuestData\",value:function(){var t=function(){var t,e=\"bridge_player_guest_id\";try{t=localStorage.getItem(e)}catch(t){}if(!t){var r=Array.from({length:8},(function(){return\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".charAt(Math.floor(62*Math.random()))})).join(\"\"),n=Date.now().toString(36);t=\"\".concat(r).concat(n);try{localStorage.setItem(e,t)}catch(t){}}return{id:t,name:\"Guest \".concat(t)}}();this._playerId=t.id,this._playerName=t.name}}])&&io(r.prototype,c),Object.defineProperty(r,\"prototype\",{writable:!1}),e}();L().mixin(lo.prototype);const fo=lo;function po(t){return po=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},po(t)}function ho(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,So(n.key),n)}}function yo(){return yo=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_o(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},yo.apply(this,arguments)}function mo(t,e){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mo(t,e)}function vo(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function _o(t){return _o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(t)}function go(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function So(t){var e=function(t,e){if(\"object\"!=po(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=po(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==po(e)?e:String(e)}function bo(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Eo(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Po(t,e,\"get\"))}function Po(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var wo=new WeakMap,Ao=new WeakSet;function Oo(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"result\",i=this._getPromiseDecorator(t);return i||(i=this._createPromiseDecorator(t),this._platformSdk.send(e,n).then((function(e){e[o]?r._resolvePromiseDecorator(t):r._rejectPromiseDecorator(t)})).catch((function(e){r._rejectPromiseDecorator(t,e)}))),i.promise}const To=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&mo(t,e)}(p,e);var r,n,o,c,f=(o=p,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_o(o);if(c){var r=_o(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===po(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return vo(t)}(this,t)});function p(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return go(e=vo(t=f.call.apply(f,[this].concat(o))),r=Ao),r.add(e),function(t,e,r){(e=So(e))in t?Object.defineProperty(t,e,{value:true,enumerable:!0,configurable:!0,writable:!0}):t[e]=true}(vo(t),\"_isBannerSupported\"),function(t,e,r){go(t,e),e.set(t,{writable:!0,value:void 0})}(vo(t),wo),t}return r=p,(n=[{key:\"platformId\",get:function(){return t.VK}},{key:\"platformLanguage\",get:function(){var t=new URL(window.location.href);if(t.searchParams.has(\"language\")){var e=t.searchParams.get(\"language\"),r=0;try{r=parseInt(e,10)}catch(t){r=0}switch(r){case 0:default:return\"ru\";case 1:return\"uk\";case 2:return\"be\";case 3:return\"en\"}}return yo(_o(p.prototype),\"platformLanguage\",this)}},{key:\"platformPayload\",get:function(){var t=new URL(window.location.href);return t.searchParams.has(\"hash\")?t.searchParams.get(\"hash\"):yo(_o(p.prototype),\"platformPayload\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(Eo(this,wo)){case\"html5_ios\":case\"html5_android\":case\"html5_mobile\":return l.MOBILE;case\"web\":return l.DESKTOP;default:return yo(_o(p.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPlayerAuthorized\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return\"html5_android\"===Eo(this,wo)}},{key:\"isAddToFavoritesSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r,n,o=this._getPromiseDecorator(_.INITIALIZE);if(!o){o=this._createPromiseDecorator(_.INITIALIZE);var i=new URL(window.location.href);i.searchParams.has(\"platform\")&&(e=this,r=wo,n=i.searchParams.get(\"platform\"),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(e,Po(e,r,\"set\"),n)),xt(\"https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js\").then((function(){Ut(\"vkBridge\").then((function(){t._platformSdk=window.vkBridge,t._platformSdk.send(\"VKWebAppInit\").then((function(){t._platformSdk.send(\"VKWebAppGetUserInfo\").then((function(e){e&&(t._playerId=e.id,t._playerName=\"\".concat(e.first_name,\" \").concat(e.last_name),e.photo_100&&t._playerPhotos.push(e.photo_100),e.photo_200&&t._playerPhotos.push(e.photo_200),e.photo_max_orig&&t._playerPhotos.push(e.photo_max_orig))})).finally((function(){t._isInitialized=!0,t._defaultStorageType=u.PLATFORM_INTERNAL,t._resolvePromiseDecorator(_.INITIALIZE)}))}))}))}))}return o.promise}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||yo(_o(p.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL||yo(_o(p.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,o){var i=Array.isArray(t)?t:[t];n._platformSdk.send(\"VKWebAppStorageGet\",{keys:i}).then((function(n){if(Array.isArray(t)){var o=[];return i.forEach((function(t){var e=n.keys.findIndex((function(e){return e.key===t}));if(e<0)o.push(null);else if(\"\"!==n.keys[e].value){var i=n.keys[e].value;if(r)try{i=JSON.parse(n.keys[e].value)}catch(t){}o.push(i)}else o.push(null)})),void e(o)}if(\"\"!==n.keys[0].value){var a=n.keys[0].value;if(r)try{a=JSON.parse(n.keys[0].value)}catch(t){}e(a)}else e(null)})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?o(t.error_data.error_reason):o()}))})):yo(_o(p.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;if(r===u.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a={key:t[i],value:e[i]};\"string\"!=typeof e[i]&&(a.value=JSON.stringify(e[i])),o.push(this._platformSdk.send(\"VKWebAppStorageSet\",a))}return Promise.all(o)}var s={key:t,value:e};return\"string\"!=typeof e&&(s.value=JSON.stringify(e)),new Promise((function(t,e){n._platformSdk.send(\"VKWebAppStorageSet\",s).then((function(){t()})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?e(t.error_data.error_reason):e()}))}))}return yo(_o(p.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){if(e===u.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this.setDataToStorage(t[n],\"\",e));return Promise.all(r)}return this.setDataToStorage(t,\"\",e)}return yo(_o(p.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"showBanner\",value:function(t){var e=this;this._platformSdk.send(\"VKWebAppShowBannerAd\",{banner_location:t}).then((function(t){t.result?e._setBannerState(s.SHOWN):e._setBannerState(s.FAILED)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var t=this;this._platformSdk.send(\"VKWebAppHideBannerAd\").then((function(e){e.result&&t._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var t=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"interstitial\"}).then((function(e){e.result&&t._setInterstitialState(i.OPENED)})).finally((function(){t._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"interstitial\"}).then((function(e){t._setInterstitialState(e.result?i.CLOSED:i.FAILED)})).catch((function(){t._setInterstitialState(i.FAILED)}))}))}},{key:\"showRewarded\",value:function(){var t=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(e){e.result&&t._setRewardedState(a.OPENED)})).finally((function(){t._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(e){e.result?(t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)):t._setRewardedState(a.FAILED)})).catch((function(){t._setRewardedState(a.FAILED)}))}))}},{key:\"inviteFriends\",value:function(){return bo(this,Ao,Oo).call(this,_.INVITE_FRIENDS,\"VKWebAppShowInviteBox\",{},\"success\")}},{key:\"joinCommunity\",value:function(t){if(!t||!t.groupId)return Promise.reject();var e=t.groupId;return\"string\"==typeof e&&(e=parseInt(e,10),Number.isNaN(e))?Promise.reject():bo(this,Ao,Oo).call(this,_.JOIN_COMMUNITY,\"VKWebAppJoinGroup\",{group_id:e}).then((function(){window.open(\"https://vk.com/public\".concat(e))}))}},{key:\"share\",value:function(t){var e={};return t&&t.link&&(e.link=t.link),bo(this,Ao,Oo).call(this,_.SHARE,\"VKWebAppShare\",e,\"type\")}},{key:\"addToHomeScreen\",value:function(){return this.isAddToHomeScreenSupported?bo(this,Ao,Oo).call(this,_.ADD_TO_HOME_SCREEN,\"VKWebAppAddToHomeScreen\"):Promise.reject()}},{key:\"addToFavorites\",value:function(){return bo(this,Ao,Oo).call(this,_.ADD_TO_FAVORITES,\"VKWebAppAddToFavorites\")}},{key:\"clipboardWrite\",value:function(t){return bo(this,Ao,Oo).call(this,_.CLIPBOARD_WRITE,\"VKWebAppCopyText\",{text:t})}}])&&ho(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(fo);function ko(t){return ko=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ko(t)}function Do(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Io(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Do(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Lo(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Do(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ro(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Lo(n.key),n)}}function Lo(t){var e=function(t,e){if(\"object\"!=ko(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=ko(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==ko(e)?e:String(e)}function jo(){return jo=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Go(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},jo.apply(this,arguments)}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},No(t,e)}function Co(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Go(t){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(t)}function Mo(t,e,r){Bo(t,e),e.set(t,r)}function Bo(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function xo(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Ho(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Uo(t,e,\"set\"),r),r}function Fo(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Uo(t,e,\"get\"))}function Uo(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var Vo=new WeakMap,Wo=new WeakMap,zo=new WeakMap,Zo=new WeakMap,Yo=new WeakSet;function Jo(){var t=this;return new Promise((function(e){var r=!1;t._options&&t._options.useSignedData&&(r=t._options.useSignedData),t._platformSdk.getPlayer({signed:r}).then((function(e){t._playerId=e.getUniqueID(),t._isPlayerAuthorized=e.isAuthorized(),t._defaultStorageType=t._isPlayerAuthorized?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE;var n=e.getName();\"\"!==n&&(t._playerName=n),t._playerPhotos=[];var o=e.getPhoto(\"small\"),i=e.getPhoto(\"medium\"),a=e.getPhoto(\"large\");return o&&t._playerPhotos.push(o),i&&t._playerPhotos.push(i),a&&t._playerPhotos.push(a),t._playerExtra={payingStatus:e.getPayingStatus()},r&&(t._playerExtra.signature=e.signature),Ho(t,Wo,e),e.getData()})).then((function(e){t._platformStorageCachedData=e})).finally((function(){e()}))}))}const Ko=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&No(t,e)}(p,e);var r,n,o,c,f=(o=p,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Go(o);if(c){var r=Go(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===ko(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Co(t)}(this,t)});function p(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Bo(e=Co(t=f.call.apply(f,[this].concat(o))),r=Yo),r.add(e),Mo(Co(t),Vo,{writable:!0,value:!1}),Mo(Co(t),Wo,{writable:!0,value:null}),Mo(Co(t),zo,{writable:!0,value:null}),Mo(Co(t),Zo,{writable:!0,value:null}),t}return r=p,(n=[{key:\"platformId\",get:function(){return t.YANDEX}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():jo(Go(p.prototype),\"platformLanguage\",this)}},{key:\"platformTld\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():jo(Go(p.prototype),\"platformTld\",this)}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!0}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.deviceInfo.type){case l.DESKTOP:return l.DESKTOP;case l.MOBILE:return l.MOBILE;case l.TABLET:return l.TABLET;case l.TV:return l.TV;default:return jo(Go(p.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return Fo(this,Vo)}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return y}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isRemoteConfigSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),xt(\"/sdk.js\").then((function(){Ut(\"YaGames\",\"init\").then((function(){window.YaGames.init().then((function(e){var r;t._platformSdk=e,Ho(t,Zo,xo(t,Yo,Jo).call(t));var n=null===(r=t._platformSdk.features.PluginEngineDataReporterAPI)||void 0===r?void 0:r.report({engineName:\"\",engineVersion:\"\",pluginName:\"playgama-bridge\",pluginVersion:\"1.27.1\"}),o=t._platformSdk.shortcut.canShowPrompt().then((function(e){Ho(t,Vo,e.canShow)})),i=new Promise((function(t){setTimeout(t,1e3)})),a=Promise.race([o,i]),c=t._platformSdk.getPayments().then((function(e){Ho(t,zo,e)}));t._isBannerSupported=!0;var u=t._platformSdk.adv.getBannerAdvStatus().then((function(e){e.stickyAdvIsShowing&&t._setBannerState(s.SHOWN)}));Promise.all([n,a,c,u]).finally((function(){t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)}))}))}))}))),e.promise}},{key:\"sendMessage\",value:function(t){switch(t){case h.GAME_READY:var e;return null===(e=this._platformSdk.features.LoadingAPI)||void 0===e||e.ready(),Promise.resolve();case h.GAMEPLAY_STARTED:var r;return null===(r=this._platformSdk.features.GameplayAPI)||void 0===r||r.start(),Promise.resolve();case h.GAMEPLAY_STOPPED:var n;return null===(n=this._platformSdk.features.GameplayAPI)||void 0===n||n.stop(),Promise.resolve();default:return jo(Go(p.prototype),\"sendMessage\",this).call(this,t)}}},{key:\"getServerTime\",value:function(){var t=this;return new Promise((function(e){e(t._platformSdk.serverTime())}))}},{key:\"getAllGames\",value:function(){var t=this;return new Promise((function(e,r){t._platformSdk.features.GamesAPI.getAllGames().then((function(t){var r=t.games;e(r)})).catch(r)}))}},{key:\"getGameById\",value:function(t){var e=this;return null!=t&&t.gameId?new Promise((function(r,n){e._platformSdk.features.GamesAPI.getGameByID(null==t?void 0:t.gameId).then((function(t){var e=t.game,n=t.isAvailable;r(Io(Io({},e),{},{isAvailable:n}))})).catch(n)})):Promise.reject(new Error(\"Provide gameId\"))}},{key:\"authorizePlayer\",value:function(){var t=this,e=this._getPromiseDecorator(_.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(_.AUTHORIZE_PLAYER),this._isPlayerAuthorized?(Ho(this,Zo,xo(this,Yo,Jo).call(this)),Fo(this,Zo).then((function(){t._resolvePromiseDecorator(_.AUTHORIZE_PLAYER)}))):this._platformSdk.auth.openAuthDialog().then((function(){Ho(t,Zo,xo(t,Yo,Jo).call(t)),Fo(t,Zo).then((function(){t._resolvePromiseDecorator(_.AUTHORIZE_PLAYER)}))})).catch((function(e){t._rejectPromiseDecorator(_.AUTHORIZE_PLAYER,e)}))),e.promise}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||jo(Go(p.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:jo(Go(p.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?Fo(this,Zo).then((function(){return new Promise((function(e){if(Array.isArray(t)){for(var r=[],o=0;o<t.length;o++){var i=void 0===n._platformStorageCachedData[t[o]]?null:n._platformStorageCachedData[t[o]];r.push(i)}e(r)}else e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])}))})):Promise.reject():jo(Go(p.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;return r===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?Fo(this,Zo).then((function(){return new Promise((function(r,o){var i=null!==n._platformStorageCachedData?Io({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;Fo(n,Wo).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(t){o(t)}))}))})):Promise.reject():jo(Go(p.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?Fo(this,Zo).then((function(){return new Promise((function(e,n){var o=null!==r._platformStorageCachedData?Io({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];Fo(r,Wo).setData(o).then((function(){r._platformStorageCachedData=o,e()})).catch((function(t){n(t)}))}))})):Promise.reject():jo(Go(p.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"showBanner\",value:function(){var t=this;this._platformSdk.adv.showBannerAdv().then((function(e){e.stickyAdvIsShowing?t._setBannerState(s.SHOWN):t._setBannerState(s.FAILED)})).catch((function(){t._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var t=this;this._platformSdk.adv.hideBannerAdv().then((function(e){e.stickyAdvIsShowing||t._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var t=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){t._setInterstitialState(i.OPENED)},onClose:function(e){e?t._setInterstitialState(i.CLOSED):t._setInterstitialState(i.FAILED)},onError:function(t){console.error(t)}}})}},{key:\"showRewarded\",value:function(){var t=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){t._setRewardedState(a.OPENED)},onRewarded:function(){t._setRewardedState(a.REWARDED)},onClose:function(){t._setRewardedState(a.CLOSED)},onError:function(){t._setRewardedState(a.FAILED)}}})}},{key:\"checkAdBlock\",value:function(){return new Promise((function(t){t(!1)}))}},{key:\"addToHomeScreen\",value:function(){var t=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var e=this._getPromiseDecorator(_.ADD_TO_HOME_SCREEN);return e||(e=this._createPromiseDecorator(_.ADD_TO_HOME_SCREEN),this._platformSdk.shortcut.showPrompt().then((function(e){\"accepted\"!==e.outcome?t._rejectPromiseDecorator(_.ADD_TO_HOME_SCREEN):t._resolvePromiseDecorator(_.ADD_TO_HOME_SCREEN)})).catch((function(e){t._rejectPromiseDecorator(_.ADD_TO_HOME_SCREEN,e)}))),e.promise}},{key:\"rate\",value:function(){var t=this,e=this._getPromiseDecorator(_.RATE);return e||(e=this._createPromiseDecorator(_.RATE),this._platformSdk.feedback.canReview().then((function(e){e.value?t._platformSdk.feedback.requestReview().then((function(e){e.feedbackSent?t._resolvePromiseDecorator(_.RATE):t._rejectPromiseDecorator(_.RATE)})).catch((function(e){t._rejectPromiseDecorator(_.RATE,e)})):t._rejectPromiseDecorator(_.RATE,e.reason)})).catch((function(e){t._rejectPromiseDecorator(_.RATE,e)}))),e.promise}},{key:\"leaderboardsSetScore\",value:function(t,e){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(_.LEADERBOARDS_SET_SCORE);return n||(n=this._createPromiseDecorator(_.LEADERBOARDS_SET_SCORE),this._platformSdk.leaderboards.setScore(t,e).then((function(){r._resolvePromiseDecorator(_.LEADERBOARDS_SET_SCORE)})).catch((function(t){r._rejectPromiseDecorator(_.LEADERBOARDS_SET_SCORE,t)}))),n.promise}},{key:\"leaderboardsGetEntries\",value:function(t){var e=this,r=this._getPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES);if(!r){r=this._createPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES);var n={quantityTop:20};this._isPlayerAuthorized&&(n.includeUser=!0,n.quantityAround=3),this._platformSdk.leaderboards.getEntries(t,n).then((function(t){var r;r=t&&t.entries.length>0?t.entries.map((function(t){return{id:t.player.uniqueID,name:t.player.publicName,score:t.score,rank:t.rank,photo:t.player.getAvatarSrc(\"large\")}})):[],e._resolvePromiseDecorator(_.LEADERBOARDS_GET_ENTRIES,r)})).catch((function(t){e._rejectPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES,t)}))}return r.promise}},{key:\"paymentsPurchase\",value:function(t){var e=this;if(!Fo(this,zo))return Promise.reject();var r=this._paymentsGetProductPlatformData(t);r||(r={id:t});var n=this._getPromiseDecorator(_.PURCHASE);return n||(n=this._createPromiseDecorator(_.PURCHASE),Fo(this,zo).purchase(r).then((function(r){var n=Io({id:t},r.purchaseData);delete n.productID,e._paymentsPurchases.push(n),e._resolvePromiseDecorator(_.PURCHASE,n)})).catch((function(t){e._rejectPromiseDecorator(_.PURCHASE,t)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(t){var e=this;if(!Fo(this,zo))return Promise.reject();var r=this._paymentsPurchases.findIndex((function(e){return e.id===t}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(_.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(_.CONSUME_PURCHASE),Fo(this,zo).consumePurchase(this._paymentsPurchases[r].purchaseToken).then((function(){e._paymentsPurchases.splice(r,1),e._resolvePromiseDecorator(_.CONSUME_PURCHASE,{id:t})})).catch((function(t){e._rejectPromiseDecorator(_.CONSUME_PURCHASE,t)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var t=this;if(!Fo(this,zo))return Promise.reject();var e=this._paymentsGetProductsPlatformData(),r=this._getPromiseDecorator(_.GET_CATALOG);return r||(r=this._createPromiseDecorator(_.GET_CATALOG),Fo(this,zo).getCatalog().then((function(r){var n=e.map((function(t){var e,n=r.find((function(e){return e.id===t.id}));return{id:t.id,title:n.title,description:n.description,imageURI:n.imageURI,price:n.price,priceCurrencyCode:n.priceCurrencyCode,priceValue:n.priceValue,priceCurrencyImage:null===(e=n.getPriceCurrencyImage)||void 0===e?void 0:e.call(n,\"medium\")}}));t._resolvePromiseDecorator(_.GET_CATALOG,n)})).catch((function(e){t._rejectPromiseDecorator(_.GET_CATALOG,e)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var t=this;if(!Fo(this,zo))return Promise.reject();var e=this._getPromiseDecorator(_.GET_PURCHASES);return e||(e=this._createPromiseDecorator(_.GET_PURCHASES),Fo(this,zo).getPurchases().then((function(e){var r=t._paymentsGetProductsPlatformData();t._paymentsPurchases=e.map((function(t){var e=Io({id:r.find((function(e){return e.id===t.productID})).id},t.purchaseData);return delete e.productID,e})),t._resolvePromiseDecorator(_.GET_PURCHASES,t._paymentsPurchases)})).catch((function(e){t._rejectPromiseDecorator(_.GET_PURCHASES,e)}))),e.promise}},{key:\"getRemoteConfig\",value:function(t){var e=this;if(!this._platformSdk)return Promise.reject();var r=t;r||(r={}),r.clientFeatures||(r.clientFeatures=[]);var n=this._getPromiseDecorator(_.GET_REMOTE_CONFIG);return n||(n=this._createPromiseDecorator(_.GET_REMOTE_CONFIG),this._platformSdk.getFlags(r).then((function(t){e._resolvePromiseDecorator(_.GET_REMOTE_CONFIG,t)})).catch((function(t){e._rejectPromiseDecorator(_.GET_REMOTE_CONFIG,t)}))),n.promise}},{key:\"clipboardWrite\",value:function(t){var e=this,r=this._getPromiseDecorator(_.CLIPBOARD_WRITE);return r||(r=this._createPromiseDecorator(_.CLIPBOARD_WRITE),this._platformSdk.clipboard.writeText(t).then((function(){e._resolvePromiseDecorator(_.CLIPBOARD_WRITE,!0)})).catch((function(t){e._rejectPromiseDecorator(_.CLIPBOARD_WRITE,t)}))),r.promise}}])&&Ro(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(fo);function qo(t){return qo=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},qo(t)}function Xo(){Xo=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(t,r,s)}),a}function f(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",h=\"suspendedYield\",d=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==qo(l)&&n.call(l,\"__await\")?e.resolve(l.__await).then((function(t){r(\"next\",t,a,s)}),(function(t){r(\"throw\",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r(\"throw\",t,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===d)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=d;var u=f(e,r,n);if(\"normal\"===u.type){if(o=n.done?y:h,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,\"throw\"===n&&e.iterator.return&&(r.method=\"return\",r.arg=t,T(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,e.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||\"\"===e){var r=e[a];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(qo(e)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===_||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,\"GeneratorFunction\")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},w(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type=\"throw\",s.arg=e,r.next=n,o&&(r.method=\"next\",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),m}},e}function Qo(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function $o(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Qo(i,n,o,a,s,\"next\",t)}function s(t){Qo(i,n,o,a,s,\"throw\",t)}a(void 0)}))}}function ti(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ei(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ti(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=ni(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ti(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ri(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,ni(n.key),n)}}function ni(t){var e=function(t,e){if(\"object\"!=qo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=qo(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==qo(e)?e:String(e)}function oi(){return oi=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=si(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},oi.apply(this,arguments)}function ii(t,e){return ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ii(t,e)}function ai(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function si(t){return si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},si(t)}function ci(t,e){li(t,e),e.add(t)}function ui(t,e,r){li(t,e),e.set(t,r)}function li(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function fi(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function pi(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,di(t,e,\"set\"),r),r}function hi(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,di(t,e,\"get\"))}function di(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var yi=\"https://cdn.xsolla.net/payments-bucket-prod/embed/1.5.0/widget.min.js\",mi=\"https://store.xsolla.com/api/v2/project/\",vi=new WeakMap,_i=new WeakMap,gi=new WeakMap,Si=new WeakSet,bi=new WeakSet,Ei=new WeakSet,Pi=new WeakSet;function wi(){var t=this;return hi(this,_i)?new Promise((function(e,r){t._platformSdk.user.getUser().then((function(n){if(!n)return t._playerApplyGuestData(),void r();t._isPlayerAuthorized=!0,n.username&&(t._playerName=n.username),n.profilePictureUrl&&(t._playerPhotos=[n.profilePictureUrl]),t._playerExtra=n,t._options.useUserToken?t._platformSdk.user.getUserToken().then((function(e){t._playerExtra.jwt=e})).finally((function(){e()})):e()})).catch((function(e){t._playerApplyGuestData(),r(e)}))})):(this._playerApplyGuestData(),Promise.reject())}function Ai(){return Oi.apply(this,arguments)}function Oi(){return(Oi=$o(Xo().mark((function t(){return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.XPayStationWidget){t.next=2;break}return t.abrupt(\"return\");case 2:return t.next=4,xt(yi);case 4:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function Ti(){return ki.apply(this,arguments)}function ki(){return(ki=$o(Xo().mark((function t(){var e;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._platformSdk.user.getXsollaUserToken();case 2:return e=t.sent,t.abrupt(\"return\",e);case 4:case\"end\":return t.stop()}}),t,this)})))).apply(this,arguments)}function Di(t,e,r){return Ii.apply(this,arguments)}function Ii(){return(Ii=$o(Xo().mark((function t(e,r,n){var o;return Xo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(mi,\"/\").concat(e,\"/order/\").concat(r),{headers:{Authorization:\"Bearer \".concat(n)}});case 2:if((o=t.sent).ok){t.next=5;break}throw new Error(\"Xsolla order HTTP \".concat(o.status));case 5:return t.abrupt(\"return\",o.json());case 6:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}const Ri=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&ii(t,e)}(d,e);var r,n,o,f,p=(o=d,f=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=si(o);if(f){var r=si(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===qo(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return ai(t)}(this,t)});function d(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,d);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ci(ai(t=p.call.apply(p,[this].concat(r))),Pi),ci(ai(t),Ei),ci(ai(t),bi),ci(ai(t),Si),ui(ai(t),vi,{writable:!0,value:!1}),ui(ai(t),_i,{writable:!0,value:!1}),ui(ai(t),gi,{writable:!0,value:{adStarted:function(){hi(ai(t),vi)?t._setRewardedState(a.OPENED):t._setInterstitialState(i.OPENED)},adFinished:function(){hi(ai(t),vi)?(t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)):t._setInterstitialState(i.CLOSED)},adError:function(){hi(ai(t),vi)?t._setRewardedState(a.FAILED):t._setInterstitialState(i.FAILED)}}}),t}return r=d,(n=[{key:\"platformId\",get:function(){return t.CRAZY_GAMES}},{key:\"platformLanguage\",get:function(){return hi(this,_i)?this._platformSdk.user.systemInfo.countryCode.toLowerCase():oi(si(d.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return hi(this,_i)}},{key:\"isPaymentsSupported\",get:function(){return!0===hi(this,_i)}},{key:\"deviceType\",get:function(){if(hi(this,_i)){var t=this._platformSdk.user.systemInfo.device.type.toLowerCase();if([l.DESKTOP,l.MOBILE,l.TABLET].includes(t))return t}return oi(si(d.prototype),\"deviceType\",this)}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),xt(\"https://sdk.crazygames.com/crazygames-sdk-v3.js\").then((function(){Ut(\"CrazyGames\",\"SDK\",\"init\").then((function(){t._platformSdk=window.CrazyGames.SDK,t._defaultStorageType=u.PLATFORM_INTERNAL,t._isBannerSupported=!0,t._platformSdk.init().then((function(){pi(t,_i,t._platformSdk.user.isUserAccountAvailable);var e=fi(t,Si,wi).call(t);t.options.xsollaProjectId&&fi(t,bi,Ai).call(t),Promise.all([e]).finally((function(){t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)}))}))}))}))),e.promise}},{key:\"authorizePlayer\",value:function(){var t=this;if(!hi(this,_i))return Promise.reject();if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(_.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(_.AUTHORIZE_PLAYER),this._platformSdk.user.showAuthPrompt().then((function(){fi(t,Si,wi).call(t).then((function(){t._resolvePromiseDecorator(_.AUTHORIZE_PLAYER)}))})).catch((function(e){t._rejectPromiseDecorator(_.AUTHORIZE_PLAYER,e)}))),e.promise}},{key:\"sendMessage\",value:function(t){switch(t){case h.IN_GAME_LOADING_STARTED:return this._platformSdk.game.loadingStart(),Promise.resolve();case h.IN_GAME_LOADING_STOPPED:return this._platformSdk.game.loadingStop(),Promise.resolve();case h.GAMEPLAY_STARTED:return this._platformSdk.game.gameplayStart(),Promise.resolve();case h.GAMEPLAY_STOPPED:return this._platformSdk.game.gameplayStop(),Promise.resolve();case h.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.game.happytime(),Promise.resolve();default:return oi(si(d.prototype),\"sendMessage\",this).call(this,t)}}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||oi(si(d.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL||oi(si(d.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e){if(Array.isArray(t)){var o=[];return t.forEach((function(t){var e=n._platformSdk.data.getItem(t);if(r)try{e=JSON.parse(e)}catch(t){}o.push(e)})),void e(o)}var i=n._platformSdk.data.getItem(t);if(r)try{i=JSON.parse(i)}catch(t){}e(i)})):oi(si(d.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r){if(Array.isArray(t)){for(var o=0;o<t.length;o++){var i=e[o];\"string\"!=typeof e[o]&&(i=JSON.stringify(e[o])),n._platformSdk.data.setItem(t[o],i)}r()}else{var a=e;\"string\"!=typeof e&&(a=JSON.stringify(e)),n._platformSdk.data.setItem(t,a),r()}})):oi(si(d.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;return e===u.PLATFORM_INTERNAL?Array.isArray(t)?(t.forEach((function(t){return r._platformSdk.data.removeItem(t)})),Promise.resolve()):(this._platformSdk.data.removeItem(t),Promise.resolve()):oi(si(d.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"showBanner\",value:function(t){var e=this,r=document.getElementById(c);r||(r=Ft(t)),r.style.display=\"block\",this._platformSdk.banner.requestResponsiveBanner([c]).then((function(){e._setBannerState(s.SHOWN)})).catch((function(){e._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var t=document.getElementById(c);t&&(t.style.display=\"none\"),this._platformSdk.banner.clearAllBanners(),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){pi(this,vi,!1),this._platformSdk.ad.requestAd(\"midgame\",hi(this,gi))}},{key:\"showRewarded\",value:function(){pi(this,vi,!0),this._platformSdk.ad.requestAd(\"rewarded\",hi(this,gi))}},{key:\"checkAdBlock\",value:function(){var t=this;return new Promise((function(e){t._platformSdk.ad.hasAdblock().then((function(t){e(t)}))}))}},{key:\"paymentsPurchase\",value:function(t){var e=this,r=this._paymentsGetProductPlatformData(t);r||(r={id:t});var n=r.platformProductId||r.id,o=this._getPromiseDecorator(_.PURCHASE);return o||(o=this._createPromiseDecorator(_.PURCHASE),fi(this,bi,Ai).call(this).then((function(){return fi(e,Ei,Ti).call(e)})).then((function(t){var o=window.XPayStationWidget;if(!o)throw new Error(\"Xsolla Pay Station widget not loaded\");o.init({access_token:t,sandbox:e.options.isSandbox||!1,childWindow:{target:\"_blank\"},settings:{external_id:n}});var i=!1;o.on(o.eventTypes.STATUS,(function(o,a){try{var s=a&&a.paymentInfo||{};if(s.status&&/done|charged|success/i.test(String(s.status))){var c=s.order_id||s.invoice;if(!c)return;fi(e,Pi,Di).call(e,e.options.xsollaProjectId,c,t).then((function(t){e._platformSdk.analytics.trackOrder(\"xsolla\",t);var o=ei({id:r.id,sku:n,orderId:c},t);e._paymentsPurchases.push(o),i||(i=!0,e._resolvePromiseDecorator(_.PURCHASE,o))})).catch((function(t){i||e._rejectPromiseDecorator(_.PURCHASE,t)}))}}catch(t){i||e._rejectPromiseDecorator(_.PURCHASE,t)}})),o.on(\"close\",(function(){i||e._rejectPromiseDecorator(_.PURCHASE,new Error(\"Purchase canceled/closed\"))})),o.open()})).catch((function(t){e._rejectPromiseDecorator(_.PURCHASE,t)}))),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var t=this,e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject(new Error(\"No platform products available\"));var r=this._getPromiseDecorator(_.GET_CATALOG);return r||(r=this._createPromiseDecorator(_.GET_CATALOG),fi(this,Ei,Ti).call(this).then((function(e){return fetch(\"\".concat(mi,\"/\").concat(t.options.xsollaProjectId,\"/items?limit=50\"),{headers:{Authorization:\"Bearer \".concat(e)}})})).then((function(t){if(!t.ok)throw new Error(\"Xsolla catalog HTTP \".concat(t.status));return t.json()})).then((function(r){var n=new Map((r.items||[]).map((function(t){return[t.sku,t]}))),o=e.map((function(t){var e,r,o,i,a,s,c,u,l,f,p=t.platformProductId||t.id,h=n.get(p);return{id:t.id,name:null!==(e=null!==(r=null==h?void 0:h.name)&&void 0!==r?r:t.name)&&void 0!==e?e:t.id,description:null!==(o=null!==(i=null==h?void 0:h.description)&&void 0!==i?i:t.description)&&void 0!==o?o:\"\",price:null!==(a=null==h||null===(s=h.price)||void 0===s?void 0:s.amount)&&void 0!==a?a:null,priceCurrencyCode:null!==(c=null==h||null===(u=h.price)||void 0===u?void 0:u.currency)&&void 0!==c?c:null,priceValue:null!==(l=null==h||null===(f=h.price)||void 0===f?void 0:f.amount)&&void 0!==l?l:null}}));t._resolvePromiseDecorator(_.GET_CATALOG,o)})).catch((function(e){t._rejectPromiseDecorator(_.GET_CATALOG,e)}))),r.promise}},{key:\"paymentsConsumePurchase\",value:function(t){var e=this._paymentsPurchases.findIndex((function(e){return e.id===t}));if(e<0)return Promise.reject(new Error(\"No such purchase to consume\"));var r=this._getPromiseDecorator(_.CONSUME_PURCHASE);if(!r){r=this._createPromiseDecorator(_.CONSUME_PURCHASE);try{this._paymentsPurchases.splice(e,1),this._resolvePromiseDecorator(_.CONSUME_PURCHASE,{id:t})}catch(t){this._rejectPromiseDecorator(_.CONSUME_PURCHASE,t)}}return r.promise}},{key:\"paymentsGetPurchases\",value:function(){var t=this,e=this._getPromiseDecorator(_.GET_PURCHASES);return e||(e=this._createPromiseDecorator(_.GET_PURCHASES),fi(this,Ei,Ti).call(this).then((function(e){return fetch(\"\".concat(mi,\"/\").concat(t.options.xsollaProjectId,\"/user/inventory/items\"),{headers:{Authorization:\"Bearer \".concat(e)}})})).then((function(t){if(!t.ok)throw new Error(\"Xsolla inventory HTTP \".concat(t.status));return t.json()})).then((function(e){var r=t._paymentsGetProductsPlatformData()||[];t._paymentsPurchases=(e.items||[]).map((function(t){var e=r.find((function(e){return e.id===t.sku}));return e?ei({id:e.id},t):null})).filter(Boolean),t._resolvePromiseDecorator(_.GET_PURCHASES,t._paymentsPurchases)})).catch((function(e){t._rejectPromiseDecorator(_.GET_PURCHASES,e)}))),e.promise}}])&&ri(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),d}(fo);function Li(t){return Li=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Li(t)}function ji(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ji(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Gi(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ji(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ci(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Gi(n.key),n)}}function Gi(t){var e=function(t,e){if(\"object\"!=Li(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Li(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Li(e)?e:String(e)}function Mi(){return Mi=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hi(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Mi.apply(this,arguments)}function Bi(t,e){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bi(t,e)}function xi(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Hi(t){return Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hi(t)}var Fi=new WeakSet;function Ui(){var t=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized=\"false\"===this._platformSdk.options.guest,new Promise((function(e){t._platformSdk.getUsers([t._playerId],(function(r){if(r&&1===r.length){var n=r[0];t._playerName=n.full_name,\"\"!==n.avatar&&(t._playerPhotos=[n.avatar])}e()}))}))}const Vi=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Bi(t,e)}(l,e);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hi(o);if(s){var r=Hi(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Li(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return xi(t)}(this,t)});function l(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e=xi(t=c.call.apply(c,[this].concat(o))),r=Fi),r.add(e),t}return r=l,(n=[{key:\"platformId\",get:function(){return t.ABSOLUTE_GAMES}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),xt(\"https://unpkg.com/@agru/sdk/dist/umd/index.min.js\").then((function(){t._platformSdk=new window.AgRuSdk,t._platformSdk.on(window.AgRuSdkMethods.ShowCampaign,(function(e,r){\"rewarded\"===e.type?null===r?e.status?t._setRewardedState(a.OPENED):(e.reward&&t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)):t._setRewardedState(a.FAILED):null===r?e.status?t._setInterstitialState(i.OPENED):t._setInterstitialState(i.CLOSED):t._setInterstitialState(i.FAILED)}));var e=function(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}(t,Fi,Ui).call(t);Promise.all([e]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE,t._resolvePromiseDecorator(_.INITIALIZE)}))}))),e.promise}},{key:\"authorizePlayer\",value:function(){var t=this;if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(_.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(_.AUTHORIZE_PLAYER),this._platformSdk.authorize((function(e,r){null===r?t._resolvePromiseDecorator(_.AUTHORIZE_PLAYER):t._rejectPromiseDecorator(_.AUTHORIZE_PLAYER,r)}))),e.promise}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||Mi(Hi(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:Mi(Hi(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,r){if(n._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===n._platformStorageCachedData[t[i]]?null:n._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])}else n._isPlayerAuthorized?n._platformSdk.getSaveData((function(o,i){if(null===i){if(n._platformStorageCachedData=o||{},Array.isArray(t)){for(var a=[],s=0;s<t.length;s++){var c=void 0===n._platformStorageCachedData[t[s]]?null:n._platformStorageCachedData[t[s]];a.push(c)}return void e(a)}e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])}else r(i)})):r()})):Mi(Hi(l.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?Ni({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n._platformSdk.setSaveData(i,(function(t,e){null===e&&(n._platformStorageCachedData=i,r()),o(e)}))}else o()})):Mi(Hi(l.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?Ni({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];r._platformSdk.setSaveData(o,(function(t,i){null===i&&(r._platformStorageCachedData=o,e()),n(i)}))}else n()})):Mi(Hi(l.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"showInterstitial\",value:function(){this._platformSdk.showCampaign(\"default\")}},{key:\"showRewarded\",value:function(){this._platformSdk.showCampaign(\"rewarded\")}}])&&Ci(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function Wi(t){return Wi=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Wi(t)}function zi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Zi(n.key),n)}}function Zi(t){var e=function(t,e){if(\"object\"!=Wi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Wi(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Wi(e)?e:String(e)}function Yi(t,e){return Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yi(t,e)}function Ji(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Ki(t){return Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ki(t)}function qi(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Qi(t,e,\"set\"),r),r}function Xi(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Qi(t,e,\"get\"))}function Qi(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var $i=new WeakMap;const ta=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Yi(t,e)}(p,e);var r,n,o,l,f=(o=p,l=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ki(o);if(l){var r=Ki(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Wi(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ji(t)}(this,t)});function p(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=Ji(t=f.call.apply(f,[this].concat(i))),n={writable:!0,value:!1},function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,r=$i),r.set(e,n),t}return r=p,(n=[{key:\"platformId\",get:function(){return t.GAME_DISTRIBUTION}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isMinimumDelayBetweenInterstitialEnabled\",get:function(){return!1}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(_.INITIALIZE);if(!t)if(t=this._createPromiseDecorator(_.INITIALIZE),this._options&&\"string\"==typeof this._options.gameId){var e=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(t){switch(t.name){case\"SDK_READY\":e._platformSdk=window.gdsdk,e._isInitialized=!0,e.showInterstitial(),e._resolvePromiseDecorator(_.INITIALIZE);break;case\"SDK_GAME_START\":Xi(e,$i)?(e._setRewardedState(a.CLOSED),e._platformSdk.preloadAd(\"rewarded\")):e._setInterstitialState(i.CLOSED);break;case\"SDK_GAME_PAUSE\":Xi(e,$i)?e._setRewardedState(a.OPENED):e._setInterstitialState(i.OPENED);break;case\"SDK_REWARDED_WATCH_COMPLETE\":e._setRewardedState(a.REWARDED)}}},this._defaultStorageType=u.LOCAL_STORAGE,this._isBannerSupported=!0,xt(\"https://html5.api.gamedistribution.com/main.min.js\")}else this._rejectPromiseDecorator(_.INITIALIZE,g.GAME_PARAMS_NOT_FOUND);return t.promise}},{key:\"showBanner\",value:function(t){var e=this,r=document.getElementById(c);r||(r=Ft(t)),r.style.display=\"block\",this._platformSdk.showAd(\"display\",{containerId:c}).then((function(){e._setBannerState(s.SHOWN)})).catch((function(){e._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var t=document.getElementById(c);t&&(t.style.display=\"none\"),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){var t=this;qi(this,$i,!1),this._platformSdk?this._platformSdk.showAd().catch((function(){t._setInterstitialState(i.FAILED)})):this._setInterstitialState(i.FAILED)}},{key:\"preloadRewarded\",value:function(){this._platformSdk.preloadAd(\"rewarded\")}},{key:\"showRewarded\",value:function(){var t=this;qi(this,$i,!0),this._platformSdk?this._platformSdk.showAd(\"rewarded\").catch((function(){t._setRewardedState(a.FAILED)})):this._setRewardedState(a.FAILED)}}])&&zi(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(fo);function ea(t){return ea=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ea(t)}function ra(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,fa(n.key),n)}}function na(){return na=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=aa(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},na.apply(this,arguments)}function oa(t,e){return oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oa(t,e)}function ia(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function aa(t){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aa(t)}function sa(t,e){ua(t,e),e.add(t)}function ca(t,e,r){ua(t,e),e.set(t,r)}function ua(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function la(t,e,r){return(e=fa(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fa(t){var e=function(t,e){if(\"object\"!=ea(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=ea(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==ea(e)?e:String(e)}function pa(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function ha(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,da(t,e,\"get\"))}function da(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var ya=\"AUTHORIZED\",ma={VALUABLE_ACCESS:\"VALUABLE_ACCESS\",PHOTO_CONTENT:\"PHOTO_CONTENT\"},va=new WeakMap,_a=new WeakMap,ga=new WeakMap,Sa=new WeakMap,ba=new WeakSet,Ea=new WeakSet,Pa=new WeakSet,wa=new WeakSet,Aa=new WeakSet,Oa=new WeakSet,Ta=new WeakSet,ka=new WeakSet,Da=new WeakSet,Ia=new WeakSet,Ra=new WeakSet,La=new WeakSet,ja=new WeakSet,Na=new WeakSet,Ca=new WeakSet,Ga=new WeakSet;function Ma(){return{userProfile:{fields:\"uid,name,pic50x50,pic128x128,pic_base\",method:\"users.getCurrentUser\"},hasAppPermission:function(t){return{method:\"users.hasAppPermission\",ext_perm:t}}}}function Ba(){var t=this;return{userProfileCallback:function(e,r,n){return pa(t,ba,Ha).call(t,e,r,n)},hasValueAccessCallback:function(e,r,n){return pa(t,Pa,Ua).call(t,r,n)}}}function xa(){var t=this;return{showPermissions:function(){return pa(t,wa,Va).call(t)},loadAd:function(e){return pa(t,Aa,Wa).call(t,e)},showLoadedAd:function(e,r){return pa(t,Oa,za).call(t,r)},showAd:function(e,r){return pa(t,Ta,Za).call(t,r)},requestBannerAds:function(e,r){return pa(t,ka,Ya).call(t,e,r)},showBannerAds:function(e,r){return pa(t,Ia,Ka).call(t,r)},hideBannerAds:function(e,r){return pa(t,Da,Ja).call(t,r)},setBannerFormat:function(e){return pa(t,Ra,qa).call(t,e)},showInvite:function(e){return pa(t,La,Xa).call(t,e)},showRatingDialog:function(e,r){return pa(t,ja,Qa).call(t,e,r)},joinGroup:function(e,r){return pa(t,Na,$a).call(t,e,r)},showLoginSuggestion:function(e,r){return pa(t,Ea,Fa).call(t,e,r)},postMediatopic:function(e,r){return pa(t,Ca,ts).call(t,e,r)},isAdBlockEnabled:function(e,r){return pa(t,Ga,es).call(t,e,r)}}}function Ha(t,e){\"ok\"===t&&(this._playerId=e.uid,this._playerName=e.name,this._playerPhotos=[e.pic50x50,e.pic128x128,e.pic_base]),this._isInitialized=!0,this._platformSdk.Client.call(ha(this,_a).hasAppPermission(ma.VALUABLE_ACCESS),ha(this,ga).hasValueAccessCallback)}function Fa(t,e){if(\"error\"===t)return this._isPlayerAuthorized=!1,void this._rejectPromiseDecorator(_.AUTHORIZE_PLAYER,e);this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(_.AUTHORIZE_PLAYER)}function Ua(t){if(this._hasValuableAccessPermission=!!t,this._defaultStorageType=this._hasValuableAccessPermission?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE,this._hasValuableAccessPermission||this._hasValuableAccessPermissionShowed)this._resolvePromiseDecorator(_.INITIALIZE);else{var e=Object.values(ma).map((function(t){return'\"'.concat(t,'\"')})).join(\",\");this._platformSdk.UI.showPermissions(\"[\".concat(e,\"]\"))}}function Va(){this._hasValuableAccessPermissionShowed=!0,this._platformSdk.Client.call(ha(this,_a).hasAppPermission(ma.VALUABLE_ACCESS),ha(this,ga).hasValueAccessCallback)}function Wa(t){\"error\"===t?this._setRewardedState(a.FAILED):(this._setRewardedState(a.OPENED),this._platformSdk.UI.showLoadedAd())}function za(t){switch(t){case\"complete\":this._setRewardedState(a.REWARDED),this._setRewardedState(a.CLOSED);break;case\"skip\":this._setRewardedState(a.CLOSED);break;default:this._setRewardedState(a.FAILED)}}function Za(t){switch(t){case\"ready\":case\"ad_prepared\":break;case\"ad_shown\":this._setInterstitialState(i.OPENED),this._setInterstitialState(i.CLOSED);break;default:this._setInterstitialState(i.FAILED)}}function Ya(t,e){if(\"error\"!==t)switch(e){case\"ad_loaded\":this._platformSdk.invokeUIMethod(\"showBannerAds\",ha(this,va));break;case\"banner_shown\":case\"ad_shown\":this._setBannerState(s.SHOWN);break;case\"hidden_by_user\":this._setBannerState(s.HIDDEN)}else this._setBannerState(s.FAILED)}function Ja(t){t?this._setBannerState(s.HIDDEN):this._setBannerState(s.FAILED)}function Ka(t){t||this._setBannerState(s.FAILED)}function qa(t){\"error\"===t?this._setBannerState(s.FAILED):this.showBanner(this._platformBannerOptions)}function Xa(t){\"error\"===t?this._rejectPromiseDecorator(_.INVITE_FRIENDS):this._resolvePromiseDecorator(_.INVITE_FRIENDS)}function Qa(t,e){\"error\"===t?this._rejectPromiseDecorator(_.RATE,e):this._resolvePromiseDecorator(_.RATE)}function $a(t,e){\"error\"===t?this._rejectPromiseDecorator(_.JOIN_COMMUNITY,e):this._resolvePromiseDecorator(_.JOIN_COMMUNITY)}function ts(t,e){\"error\"===t?this._rejectPromiseDecorator(_.CREATE_POST,e):this._resolvePromiseDecorator(_.CREATE_POST)}function es(t,e){\"ok\"===t?this._resolvePromiseDecorator(_.ADBLOCK_DETECT,\"true\"===e):this._rejectPromiseDecorator(_.ADBLOCK_DETECT)}const rs=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&oa(t,e)}(l,e);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=aa(o);if(s){var r=aa(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===ea(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return ia(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return sa(ia(t=c.call.apply(c,[this].concat(r))),Ga),sa(ia(t),Ca),sa(ia(t),Na),sa(ia(t),ja),sa(ia(t),La),sa(ia(t),Ra),sa(ia(t),Ia),sa(ia(t),Da),sa(ia(t),ka),sa(ia(t),Ta),sa(ia(t),Oa),sa(ia(t),Aa),sa(ia(t),wa),sa(ia(t),Pa),sa(ia(t),Ea),sa(ia(t),ba),ca(ia(t),Sa,{get:xa,set:void 0}),ca(ia(t),ga,{get:Ba,set:void 0}),ca(ia(t),_a,{get:Ma,set:void 0}),la(ia(t),\"_hasValuableAccessPermission\",!1),la(ia(t),\"_hasValuableAccessPermissionShowed\",!1),la(ia(t),\"_platformBannerOptions\",{}),ca(ia(t),va,{writable:!0,value:null}),t}return r=l,(n=[{key:\"platformId\",get:function(){return t.OK}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isCreatePostSupported\",get:function(){return!0}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),xt(\"//api.ok.ru/js/fapi5.js\").then((function(){Ut(\"FAPI\").then((function(){t._platformSdk=window.FAPI,window.API_callback=function(e,r,n){return ha(t,Sa)[e](r,n)};var e=t._platformSdk.Util.getRequestParameters()||{};e.api_server&&e.apiconnection?t._platformSdk.init(e.api_server,e.apiconnection,(function(){var e,r=null===(e=t._platformSdk)||void 0===e?void 0:e.saved_state;t._isPlayerAuthorized=!r||r===ya,t._isPlayerAuthorized?t._platformSdk.Client.call(ha(t,_a).userProfile,ha(t,ga).userProfileCallback):(t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE))}),(function(){t._rejectPromiseDecorator(_.INITIALIZE)})):t._rejectPromiseDecorator(_.INITIALIZE,g.GAME_PARAMS_NOT_FOUND)}))}))),e.promise}},{key:\"authorizePlayer\",value:function(){if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(_.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(_.AUTHORIZE_PLAYER),this._platformSdk.UI.showLoginSuggestion(ya)),t.promise}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||na(aa(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL?this._hasValuableAccessPermission:na(aa(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;return e===u.PLATFORM_INTERNAL?this._hasValuableAccessPermission?new Promise((function(e,o){var i=Array.isArray(t)?t:[t],a={method:\"storage.get\",keys:i,scope:\"CUSTOM\"};n._platformSdk.Client.call(a,(function(n,a,s){if(a){var c=a.data||{};if(Array.isArray(t)){var u=[];return i.forEach((function(t){if(\"\"!==c[t]&&void 0!==c[t]){var e=c[t];if(r)try{e=JSON.parse(c[t])}catch(t){}u.push(e)}else u.push(null)})),void e(u)}if(\"\"===c[t]||void 0===c[t])return void e(null);var l=c[t];if(r)try{l=JSON.parse(c[t])}catch(t){}e(l)}else o(s)}))})):Promise.reject(g.STORAGE_NOT_AVAILABLE):na(aa(l.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;if(r===u.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(g.STORAGE_NOT_AVAILABLE);for(var o=Array.isArray(t)?t:[t],i=Array.isArray(t)?e:[e],a=[],s=function(){var t=o[c],e=i[c];\"string\"!=typeof e&&(e=JSON.stringify(e));var r={method:\"storage.set\",key:t,value:e},s=new Promise((function(t,e){n._platformSdk.Client.call(r,(function(r,n){n?t():e()}))}));a.push(s)},c=0;c<o.length;c++)s();return Promise.all(a)}return na(aa(l.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;if(e===u.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(g.STORAGE_NOT_AVAILABLE);for(var n=Array.isArray(t)?t:[t],o=[],i=function(){var t={method:\"storage.set\",key:n[a]},e=new Promise((function(e,n){r._platformSdk.Client.call(t,(function(t,r){r?e():n()}))}));o.push(e)},a=0;a<n.length;a++)i();return Promise.all(o)}return na(aa(l.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"showInterstitial\",value:function(){try{this._platformSdk.UI.showAd()}catch(t){this._setInterstitialState(i.FAILED)}}},{key:\"showRewarded\",value:function(){try{this._platformSdk.UI.loadAd()}catch(t){this._setRewardedState(a.FAILED)}}},{key:\"showBanner\",value:function(t){var e,r;r=t,function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(e=this,da(e,va,\"set\"),r),this._platformSdk.invokeUIMethod(\"requestBannerAds\")}},{key:\"hideBanner\",value:function(){this._platformSdk.invokeUIMethod(\"hideBannerAds\")}},{key:\"checkAdBlock\",value:function(){var t=this._getPromiseDecorator(_.ADBLOCK_DETECT);return t||(t=this._createPromiseDecorator(_.ADBLOCK_DETECT),this._platformSdk.invokeUIMethod(\"isAdBlockEnabled\")),t.promise}},{key:\"inviteFriends\",value:function(t){var e=(t||{}).text;if(!t||\"string\"!=typeof e)return Promise.reject();var r=this._getPromiseDecorator(_.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(_.INVITE_FRIENDS),e.length>120?this._rejectPromiseDecorator(_.INVITE_FRIENDS,g.INVITE_FRIENDS_MESSAGE_LENGTH_ERROR):this._platformSdk.UI.showInvite(e)),r.promise}},{key:\"rate\",value:function(){var t=this._getPromiseDecorator(_.RATE);return t||(t=this._createPromiseDecorator(_.RATE),this._platformSdk.UI.showRatingDialog()),t.promise}},{key:\"createPost\",value:function(t){if(!t||null==t||!t.media)return Promise.reject();var e,r=this._getPromiseDecorator(_.CREATE_POST);return r||(r=this._createPromiseDecorator(_.CREATE_POST),this._platformSdk.UI.postMediatopic(t,null!==(e=t.status)&&void 0!==e&&e)),r.promise}},{key:\"joinCommunity\",value:function(t){if(!t||null==t||!t.groupId)return Promise.reject();var e,r=this._getPromiseDecorator(_.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(_.JOIN_COMMUNITY),this._platformSdk.UI.joinGroup(t.groupId,null!==(e=t.enableMessages)&&void 0!==e&&e)),r.promise}}])&&ra(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function ns(t){return ns=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ns(t)}function os(){os=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(t,r,s)}),a}function f(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",h=\"suspendedYield\",d=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==ns(l)&&n.call(l,\"__await\")?e.resolve(l.__await).then((function(t){r(\"next\",t,a,s)}),(function(t){r(\"throw\",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r(\"throw\",t,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===d)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=d;var u=f(e,r,n);if(\"normal\"===u.type){if(o=n.done?y:h,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,\"throw\"===n&&e.iterator.return&&(r.method=\"return\",r.arg=t,T(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,e.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||\"\"===e){var r=e[a];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(ns(e)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===_||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,\"GeneratorFunction\")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},w(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type=\"throw\",s.arg=e,r.next=n,o&&(r.method=\"next\",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),m}},e}function is(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function as(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ss(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?as(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=us(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):as(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function cs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,us(n.key),n)}}function us(t){var e=function(t,e){if(\"object\"!=ns(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=ns(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==ns(e)?e:String(e)}function ls(){return ls=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hs(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ls.apply(this,arguments)}function fs(t,e){return fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fs(t,e)}function ps(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function hs(t){return hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hs(t)}function ds(t,e){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.add(t)}function ys(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}var ms=new WeakSet,vs=new WeakSet;function _s(){var t=this;return new Promise((function(e){t._platformSdk.userService.getUser().then((function(e){return e.isAuthorized?(t._isPlayerAuthorized=!0,t._playerId=e.id,t._playerName=e.name,t._playerPhotos=e.photos,t._playerExtra=e,t._defaultStorageType=u.PLATFORM_INTERNAL,ys(t,vs,gs).call(t,[])):(t._playerApplyGuestData(),Promise.resolve())})).catch((function(){t._playerApplyGuestData()})).finally((function(){e()}))}))}function gs(t){return Ss.apply(this,arguments)}function Ss(){var t;return t=os().mark((function t(e){var r,n=arguments;return os().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!(n.length>1&&void 0!==n[1])||n[1],this._platformStorageCachedData){t.next=5;break}return t.next=4,this.platformSdk.cloudSaveApi.getState();case 4:this._platformStorageCachedData=t.sent;case 5:return t.abrupt(\"return\",zt(e,this._platformStorageCachedData,r));case 6:case\"end\":return t.stop()}}),t,this)})),Ss=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){is(i,n,o,a,s,\"next\",t)}function s(t){is(i,n,o,a,s,\"throw\",t)}a(void 0)}))},Ss.apply(this,arguments)}const bs=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&fs(t,e)}(l,e);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hs(o);if(s){var r=hs(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===ns(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return ps(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ds(ps(t=c.call.apply(c,[this].concat(r))),vs),ds(ps(t),ms),t}return r=l,(n=[{key:\"platformId\",get:function(){return t.PLAYGAMA}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"platformLanguage\",get:function(){return this._platformSdk.platformService.getLanguage()||ls(hs(l.prototype),\"platformLanguage\",this)}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),xt(\"https://developer.playgama.com/sdk/v1.js\").then((function(){Ut(\"PLAYGAMA_SDK\").then((function(){t._platformSdk=window.PLAYGAMA_SDK,t._platformSdk.advService.subscribeToAdStateChanges((function(e,r){if(\"interstitial\"===e)switch(r){case\"open\":t._setInterstitialState(i.OPENED);break;case\"empty\":case\"error\":t._setInterstitialState(i.FAILED);break;case\"close\":t._setInterstitialState(i.CLOSED)}else if(\"rewarded\"===e)switch(r){case\"open\":t._setRewardedState(a.OPENED);break;case\"empty\":case\"error\":t._setRewardedState(a.FAILED);break;case\"rewarded\":t._setRewardedState(a.REWARDED);break;case\"close\":t._setRewardedState(a.CLOSED)}})),ys(t,ms,_s).call(t).then((function(){t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)}))}))}))),e.promise}},{key:\"sendMessage\",value:function(t){return t===h.GAME_READY?(this._platformSdk.gameService.gameReady(),Promise.resolve()):ls(hs(l.prototype),\"sendMessage\",this).call(this,t)}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||ls(hs(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:ls(hs(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?ys(this,vs,gs).call(this,t,r):Promise.reject():ls(hs(l.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;switch(r){case u.PLATFORM_INTERNAL:return this._isPlayerAuthorized?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?ss({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n.platformSdk.cloudSaveApi.setItems(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(t){o(t)}))})):Promise.reject();case u.LOCAL_STORAGE:var o={};if(Array.isArray(t))for(var i=0;i<t.length;i++)o[t[i]]=\"string\"!=typeof e[i]?JSON.stringify(e[i]):e[i];else o[t]=\"string\"!=typeof e?JSON.stringify(e):e;return this._platformSdk.storageApi.setItems(o),ls(hs(l.prototype),\"setDataToStorage\",this).call(this,t,e,r);default:return Promise.reject(g.STORAGE_NOT_SUPPORTED)}}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;switch(e){case u.PLATFORM_INTERNAL:return new Promise((function(e,n){var o=null!==r._platformStorageCachedData?ss({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];r.platformSdk.cloudSaveApi.setItems(o).then((function(){r._platformStorageCachedData=o,e()})).catch((function(t){n(t)}))}));case u.LOCAL_STORAGE:return this._platformSdk.storageApi.deleteItems(Array.isArray(t)?t:[t]),ls(hs(l.prototype),\"deleteDataFromStorage\",this).call(this,t,e);default:return Promise.reject(g.STORAGE_NOT_SUPPORTED)}}},{key:\"showInterstitial\",value:function(){this._platformSdk.advService.showInterstitial()}},{key:\"showRewarded\",value:function(){this._platformSdk.advService.showRewarded()}},{key:\"authorizePlayer\",value:function(t){var e=this,r=this._getPromiseDecorator(_.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(_.AUTHORIZE_PLAYER),this._isPlayerAuthorized?ys(this,ms,_s).call(this,t).then((function(){e._resolvePromiseDecorator(_.AUTHORIZE_PLAYER)})):this._platformSdk.userService.authorizeUser().then((function(){ys(e,ms,_s).call(e,t).then((function(){e._resolvePromiseDecorator(_.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(_.AUTHORIZE_PLAYER,t)}))),r.promise}},{key:\"paymentsPurchase\",value:function(t,e){var r=this,n=this._paymentsGetProductPlatformData(t);if(!n)return Promise.reject();e&&e.externalId&&(n.externalId=e.externalId),n.externalId||(n.externalId=this._paymentsGenerateTransactionId(t));var o=this._getPromiseDecorator(_.PURCHASE);return o||(o=this._createPromiseDecorator(_.PURCHASE),this._platformSdk.inGamePaymentsApi.purchase(n).then((function(e){if(\"PAID\"===e.status){var n=ss({id:t},e);r._paymentsPurchases.push(n),r._resolvePromiseDecorator(_.PURCHASE,n)}else r._rejectPromiseDecorator(_.PURCHASE,e.error)})).catch((function(t){r._rejectPromiseDecorator(_.PURCHASE,t)}))),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var e=t.map((function(t){return{id:t.id,price:\"\".concat(t.amount,\" Gam\"),priceCurrencyCode:\"Gam\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:t.amount}}));return Promise.resolve(e)}}])&&cs(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function Es(t){return Es=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Es(t)}function Ps(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ws(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Is(n.key),n)}}function As(){return As=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ks(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},As.apply(this,arguments)}function Os(t,e){return Os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Os(t,e)}function Ts(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function ks(t){return ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ks(t)}function Ds(t,e,r){return(e=Is(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Is(t){var e=function(t,e){if(\"object\"!=Es(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Es(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Es(e)?e:String(e)}function Rs(t,e,r){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.set(t,r)}function Ls(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Ns(t,e,\"set\"),r),r}function js(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ns(t,e,\"get\"))}function Ns(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var Cs=new WeakMap,Gs=new WeakMap;const Ms=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Os(t,e)}(l,e);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ks(o);if(s){var r=ks(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Es(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ts(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Rs(Ts(t=c.call.apply(c,[this].concat(r))),Cs,{writable:!0,value:void 0}),Rs(Ts(t),Gs,{writable:!0,value:void 0}),Ds(Ts(t),\"_defaultStorageType\",u.PLATFORM_INTERNAL),Ds(Ts(t),\"_isPlayerAuthorized\",!0),t}return r=l,n=[{key:\"platformId\",get:function(){return t.PLAYDECK}},{key:\"platformLanguage\",get:function(){return js(this,Cs)?js(this,Cs):As(ks(l.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),window.addEventListener(\"message\",(function e(r){var n=r.data;if(n&&n.playdeck){var o=n.playdeck;if(\"getUserProfile\"===o.method){var i=o.value;t._playerId=i.telegramId,t._playerPhotos=[i.avatar],t._playerName=i.username,Ls(t,Cs,i.locale),Ls(t,Gs,i.params),window.removeEventListener(\"message\",e),t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)}}})),Yt({playdeck:{method:\"getUserProfile\"}},\"*\")),e.promise}},{key:\"sendMessage\",value:function(t){switch(t){case h.GAME_OVER:return Yt({playdeck:{method:\"gameEnd\"}},\"*\"),Promise.resolve();case h.GAME_READY:return Yt({playdeck:{method:\"loading\",value:100}},\"*\"),Promise.resolve();default:return As(ks(l.prototype),\"sendMessage\",this).call(this,t)}}},{key:\"showInterstitial\",value:function(){var t=this;window.addEventListener(\"message\",(function e(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":t._setInterstitialState(i.OPENED);break;case\"rewardedAd\":case\"skipAd\":t._setInterstitialState(i.CLOSED),window.removeEventListener(\"message\",e);break;case\"errAd\":case\"notFoundAd\":t._setInterstitialState(i.FAILED),window.removeEventListener(\"message\",e)}})),Yt({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"showRewarded\",value:function(){var t=this;window.addEventListener(\"message\",(function e(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":t._setRewardedState(a.OPENED);break;case\"rewardedAd\":t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",e);break;case\"skipAd\":t._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",e);break;case\"errAd\":case\"notFoundAd\":t._setRewardedState(a.FAILED),window.removeEventListener(\"message\",e)}})),Yt({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||As(ks(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL||As(ks(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){return e===u.PLATFORM_INTERNAL?new Promise((function(e){var r={},n=Array.isArray(t)?t:[t];window.addEventListener(\"message\",(function o(i){var a=i.data;if(a&&a.playdeck&&\"getData\"===a.playdeck.method&&n.includes(a.playdeck.key)){var s=a.playdeck;if(\"getData\"===s.method&&(r[s.key]=s.value.data),Object.keys(r).length===n.length){window.removeEventListener(\"message\",o);var c=Array.isArray(t)?t.map((function(t){return r[t]})):r[t];e(c)}}})),n.forEach((function(t){return Yt({playdeck:{method:\"getData\",key:t}},\"*\")}))})):As(ks(l.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){return r===u.PLATFORM_INTERNAL?new Promise((function(r){var n=Array.isArray(t)?t:[t],o=(Array.isArray(e)?e:[e]).map((function(t){return\"string\"!=typeof t?JSON.stringify(t):t}));n.forEach((function(t,e){return Yt({playdeck:{method:\"setData\",key:t,value:o[e]}},\"*\")})),r()})):As(ks(l.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){return e===u.PLATFORM_INTERNAL?new Promise((function(e){(Array.isArray(t)?t:[t]).forEach((function(t){return Yt({playdeck:{method:\"setData\",key:t,value:\"\"}},\"*\")})),e()})):As(ks(l.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"share\",value:function(){var t=this,e=this._getPromiseDecorator(_.SHARE);return e||(e=this._createPromiseDecorator(_.SHARE),window.addEventListener(\"message\",(function e(r){var n=r.data,o=null==n?void 0:n.playdeck;o&&\"customShare\"===o.method&&(window.removeEventListener(\"message\",e),t._resolvePromiseDecorator(_.SHARE))})),Yt({playdeck:{method:\"customShare\",value:js(this,Gs)}},\"*\")),e.promise}},{key:\"paymentsPurchase\",value:function(t,e){var r=this,n=this._paymentsGetProductPlatformData(t);if(!n)return Promise.reject();e&&e.externalId&&(n.externalId=e.externalId),n.externalId||(n.externalId=this._paymentsGenerateTransactionId(t));var o=this._getPromiseDecorator(_.PURCHASE);return o||(o=this._createPromiseDecorator(_.PURCHASE),window.addEventListener(\"message\",(function t(e){var r=e.data,n=null==r?void 0:r.playdeck;n&&\"requestPayment\"===n.method&&(Yt({playdeck:{method:\"openTelegramLink\",value:n.value.url}},\"*\"),window.removeEventListener(\"message\",t))})),window.addEventListener(\"message\",(function e(n){var o=n.data,i=null==o?void 0:o.playdeck;if(i&&\"invoiceClosed\"===i.method)if(\"paid\"===i.value.status){window.removeEventListener(\"message\",e);var a=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ps(Object(r),!0).forEach((function(e){Ds(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ps(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({id:t},i.value);r._paymentsPurchases.push(a),r._resolvePromiseDecorator(_.PURCHASE,a)}else\"cancelled\"!==i.value.status&&\"failed\"!==i.value.status||(window.removeEventListener(\"message\",e),r._rejectPromiseDecorator(_.PURCHASE,i.value))})),Yt({playdeck:{method:\"requestPayment\",value:n}},\"*\")),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var e=t.map((function(t){return{id:t.id,price:\"\".concat(t.amount,\" Stars\"),priceCurrencyCode:\"Stars\",priceValue:t.amount}}));return Promise.resolve(e)}}],n&&ws(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function Bs(t){return Bs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Bs(t)}function xs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Zs(n.key),n)}}function Hs(){return Hs=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vs(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Hs.apply(this,arguments)}function Fs(t,e){return Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fs(t,e)}function Us(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Vs(t){return Vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vs(t)}function Ws(t,e,r){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.set(t,r)}function zs(t,e,r){return(e=Zs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zs(t){var e=function(t,e){if(\"object\"!=Bs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Bs(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Bs(e)?e:String(e)}function Ys(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Ks(t,e,\"set\"),r),r}function Js(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ks(t,e,\"get\"))}function Ks(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var qs=new WeakMap,Xs=new WeakMap,Qs=new WeakMap,$s=new WeakMap;const tc=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Fs(t,e)}(f,e);var r,n,o,s,c=(o=f,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vs(o);if(s){var r=Vs(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Bs(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Us(t)}(this,t)});function f(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,f);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return zs(Us(t=c.call.apply(c,[this].concat(r))),\"_defaultStorageType\",u.PLATFORM_INTERNAL),zs(Us(t),\"_isPlayerAuthorized\",!0),Ws(Us(t),qs,{writable:!0,value:void 0}),Ws(Us(t),Xs,{writable:!0,value:void 0}),Ws(Us(t),Qs,{writable:!0,value:{onStart:function(){return t._setRewardedState(a.OPENED)},onSkip:function(){return t._setRewardedState(a.CLOSED)},onReward:function(){return t._setRewardedState(a.REWARDED)},onError:function(){return t._setRewardedState(a.FAILED)}}}),Ws(Us(t),$s,{writable:!0,value:{onStart:function(){return t._setInterstitialState(i.OPENED)},onSkip:function(){return t._setInterstitialState(i.CLOSED)},onError:function(){return t._setInterstitialState(i.FAILED)}}}),t}return r=f,(n=[{key:\"platformId\",get:function(){return t.TELEGRAM}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.initDataUnsafe.user.language_code:Hs(Vs(f.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!!Js(this,Xs)}},{key:\"isRewardedSupported\",get:function(){return!!Js(this,Xs)}},{key:\"deviceType\",get:function(){switch(Js(this,qs)){case\"android\":case\"android_x\":case\"ios\":return l.MOBILE;case\"tdesktop\":case\"unigram\":case\"macos\":return l.DESKTOP;default:return Hs(Vs(f.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),xt(\"https://telegram.org/js/telegram-web-app.js\").then((function(){t._platformSdk=window.Telegram.WebApp;var e=t._platformSdk.initDataUnsafe.user;t._playerId=e.id,t._playerName=[e.first_name,e.last_name].filter(Boolean).join(\" \"),t._playerPhotos=[e.photo_url],Ys(t,qs,t._platformSdk.platform),t._isInitialized=!0,t._options&&t._options.adsgramBlockId?xt(\"https://sad.adsgram.ai/js/sad.min.js\").then((function(){Ys(t,Xs,window.Adsgram.init({blockId:t._options.adsgramBlockId}))})).finally((function(){t._resolvePromiseDecorator(_.INITIALIZE)})):t._resolvePromiseDecorator(_.INITIALIZE)}))),e.promise}},{key:\"sendMessage\",value:function(t){return t===h.GAME_READY?(this._platformSdk.ready(),Promise.resolve()):Hs(Vs(f.prototype),\"sendMessage\",this).call(this,t)}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||Hs(Vs(f.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL||Hs(Vs(f.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,o){Array.isArray(t)?n._platformSdk.CloudStorage.getItems(t,(function(n,i){if(n)o(n);else{var a=[];t.forEach((function(t){var e=i[t];if(r&&\"string\"==typeof e)try{e=JSON.parse(e)}catch(t){}a.push(e)})),e(a)}})):n._platformSdk.CloudStorage.getItem(t,(function(t,n){t&&o(t);var i=n;if(r&&\"string\"==typeof i)try{i=JSON.parse(i)}catch(t){}e(i)}))})):Hs(Vs(f.prototype),\"getDataFromStorage\",this).call(this,t,e)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r){var o=Array.isArray(t)?t:[t],i=(Array.isArray(e)?e:[e]).map((function(t){return\"string\"!=typeof t?JSON.stringify(t):t}));o.forEach((function(t,e){return n._platformSdk.CloudStorage.setItem(t,i[e])})),r()})):Hs(Vs(f.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e){(Array.isArray(t)?t:[t]).forEach((function(t){return r._platformSdk.CloudStorage.removeItem(t)})),e()})):Hs(Vs(f.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"showInterstitial\",value:function(){var t=this;Js(this,Xs)?(Js(this,Xs).addEventListener(\"onStart\",Js(this,$s).onStart),Js(this,Xs).addEventListener(\"onSkip\",Js(this,$s).onSkip),Js(this,Xs).addEventListener(\"onError\",Js(this,$s).onError),Js(this,Xs).addEventListener(\"onBannerNotFound\",Js(this,$s).onError),Js(this,Xs).show().finally((function(){Js(t,Xs).removeEventListener(\"onStart\",Js(t,$s).onStart),Js(t,Xs).removeEventListener(\"onSkip\",Js(t,$s).onSkip),Js(t,Xs).removeEventListener(\"onError\",Js(t,$s).onError),Js(t,Xs).removeEventListener(\"onBannerNotFound\",Js(t,$s).onError)}))):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var t=this;Js(this,Xs)?(Js(this,Xs).addEventListener(\"onStart\",Js(this,Qs).onStart),Js(this,Xs).addEventListener(\"onSkip\",Js(this,Qs).onSkip),Js(this,Xs).addEventListener(\"onReward\",Js(this,Qs).onReward),Js(this,Xs).addEventListener(\"onError\",Js(this,Qs).onError),Js(this,Xs).addEventListener(\"onBannerNotFound\",Js(this,Qs).onError),Js(this,Xs).show().finally((function(){Js(t,Xs).addEventListener(\"onStart\",Js(t,Qs).onStart),Js(t,Xs).addEventListener(\"onSkip\",Js(t,Qs).onSkip),Js(t,Xs).addEventListener(\"onReward\",Js(t,Qs).onReward),Js(t,Xs).addEventListener(\"onError\",Js(t,Qs).onError),Js(t,Xs).addEventListener(\"onBannerNotFound\",Js(t,Qs).onError)}))):this._setRewardedState(a.FAILED)}},{key:\"clipboardRead\",value:function(){var t=this,e=this._getPromiseDecorator(_.CLIPBOARD_READ);return e||(e=this._createPromiseDecorator(_.CLIPBOARD_READ),this._platformSdk.readTextFromClipboard((function(e){e?t._resolvePromiseDecorator(_.CLIPBOARD_READ,e):t._rejectPromiseDecorator(_.CLIPBOARD_READ)}))),e.promise}}])&&xs(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),f}(fo);var ec=[\"player\"];function rc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rc(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=ac(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function oc(t){return oc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},oc(t)}function ic(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,ac(n.key),n)}}function ac(t){var e=function(t,e){if(\"object\"!=oc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=oc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==oc(e)?e:String(e)}function sc(){return sc=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lc(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},sc.apply(this,arguments)}function cc(t,e){return cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cc(t,e)}function uc(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function lc(t){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lc(t)}function fc(t,e){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.add(t)}function pc(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}var hc=\"userData\",dc=\"6129580795478709\",yc=new WeakSet,mc=new WeakSet;function vc(){var t=this;return new Promise((function(e,r){t._platformStorageCachedData?e(t._platformStorageCachedData):t._platformSdk.api(\"user_data/retrieve\",\"POST\",{key:hc},(function(n){n.error&&\"Key not found\"!==n.error&&r(n);var o={};try{n.jsondata&&(o=JSON.parse(n.jsondata))}catch(t){}t._platformStorageCachedData=o,e(o)}))}))}function _c(t){if(\"ok\"===t.status){this._isPlayerAuthorized=!0,this._defaultStorageType=u.PLATFORM_INTERNAL;var e=t.authResponse.details,r=e.pid,n=e.locale,o=e.nickname,i=e.first_name,a=e.last_name,s=e.avatars;r&&(this._playerId=r),this._platformLanguage=n,this._playerName=[i,a].filter((function(t){return!!t})).join(\" \")||o,this._playerPhotos=[];var c=s.thumb_url,l=s.medium_url,f=s.large_url;c&&this._playerPhotos.push(c),l&&this._playerPhotos.push(l),f&&this._playerPhotos.push(f)}}const gc=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&cc(t,e)}(l,e);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lc(o);if(s){var r=lc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===oc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return uc(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return fc(uc(t=c.call.apply(c,[this].concat(r))),mc),fc(uc(t),yc),t}return r=l,(n=[{key:\"platformId\",get:function(){return t.Y8}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return y}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"isGetAchievementsListSupported\",get:function(){return!0}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r=this._getPromiseDecorator(_.INITIALIZE);return r||(r=this._createPromiseDecorator(_.INITIALIZE),null!==(e=this._options)&&void 0!==e&&e.gameId?xt(\"https://cdn.y8.com/api/sdk.js\").then((function(){Ut(\"ID\").then((function(){t._platformSdk=window.ID,t._platformSdk.Event.subscribe(\"id.init\",(function(){Ht({adSenseId:t._options.channelId?\"ca-pub-\".concat(dc):t._options.adsenseId,channelId:t._options.channelId,hostId:\"ca-host-pub-\".concat(dc)}).then((function(e){t._showAd=e})),t._platformSdk.getLoginStatus((function(e){pc(t,mc,_c).call(t,e),t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)}))})),t._platformSdk.init({appId:t._options.gameId})}))})):this._rejectPromiseDecorator(_.INITIALIZE,g.GAME_PARAMS_NOT_FOUND)),r.promise}},{key:\"authorizePlayer\",value:function(){var t=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(e,r){t._platformSdk.login((function(n){pc(t,mc,_c).call(t,n),\"ok\"===n.status?(t._platformStorageCachedData=null,e()):r()}))}))}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||sc(lc(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:sc(lc(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,o){pc(n,yc,vc).call(n).then((function(n){var o=(Array.isArray(t)?t:[t]).map((function(t){var e=n[t];return r||\"object\"!==oc(e)||null===e?null!=e?e:null:JSON.stringify(e)}));e(o)})).catch(o)})):sc(lc(l.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){pc(n,yc,vc).call(n).then((function(i){var a=nc({},i);if(Array.isArray(t))for(var s=0;s<t.length;s++)a[t[s]]=e[s];else a[t]=e;n._platformSdk.api(\"user_data/submit\",\"POST\",{key:hc,value:JSON.stringify(a)},(function(t){\"ok\"===t.status?(n._platformStorageCachedData=a,r()):o(t)}))})).catch(o)})):sc(lc(l.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,n){pc(r,yc,vc).call(r).then((function(o){var i=nc({},o);if(Array.isArray(t))for(var a=0;a<t.length;a++)delete i[t[a]];else delete i[t];r._platformSdk.api(\"user_data/submit\",\"POST\",{key:hc,value:JSON.stringify(i)},(function(t){\"ok\"===t.status?(r._platformStorageCachedData=i,e()):n(t)}))})).catch(n)})):sc(lc(l.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"showInterstitial\",value:function(){var t=this;this._showAd?this._showAd({type:\"start\",name:\"start-game\",beforeAd:function(){t._setInterstitialState(i.OPENED)},afterAd:function(){t.interstitialState!==i.FAILED&&t._setInterstitialState(i.CLOSED)},adBreakDone:function(e){\"viewed\"!==e.breakStatus&&t._setInterstitialState(i.FAILED)}}):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var t=this;this._showAd?this._showAd({type:\"reward\",name:\"rewarded Ad\",beforeAd:function(){t._setRewardedState(a.OPENED)},afterAd:function(){t.rewardedState!==a.FAILED&&t._setRewardedState(a.CLOSED)},beforeReward:function(t){t(0)},adDismissed:function(){t._setRewardedState(a.FAILED)},adViewed:function(){t._setRewardedState(a.REWARDED)},adBreakDone:function(e){\"frequencyCapped\"!==e.breakStatus&&\"other\"!==e.breakStatus||t._setRewardedState(a.FAILED)}}):this._setRewardedState(a.FAILED)}},{key:\"leaderboardsSetScore\",value:function(t,e){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(_.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(_.LEADERBOARDS_SET_SCORE);var o={table:t,points:e};this._platformSdk.GameAPI.Leaderboards.save(o,(function(t){var e=t.success,n=t.errormessage;e?r._resolvePromiseDecorator(_.LEADERBOARDS_SET_SCORE):r._rejectPromiseDecorator(_.LEADERBOARDS_SET_SCORE,n)}))}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();var r=this._getPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES);if(!r){r=this._createPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES);var n={table:t,mode:\"alltime\"};this._platformSdk.GameAPI.Leaderboards.listCustom(n,(function(t){var r=t.scores,n=t.success,o=t.errormessage;if(n){var i=r.map((function(t){return{id:t.playerid,name:t.playername,score:t.points,rank:t.rank,photo:null}}));e._resolvePromiseDecorator(_.LEADERBOARDS_GET_ENTRIES,i)}else e._rejectPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES,o)}))}return r.promise}},{key:\"unlockAchievement\",value:function(t){var e=this;return this._isPlayerAuthorized&&t.achievement&&t.achievementkey?new Promise((function(r){e._platformSdk.GameAPI.Achievements.save(t,(function(t){r(t)}))})):Promise.reject()}},{key:\"getAchievementsList\",value:function(t){var e=this;return new Promise((function(r,n){e._platformSdk.GameAPI.Achievements.listCustom(t,(function(t){t.success?r(t.achievements.map((function(t){var e=t.player;return nc(nc({},function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,ec)),{},{playerid:e.playerid,playername:e.playername,lastupdated:e.lastupdated,date:e.date,rdate:e.rdate})}))):n(new Error(t.errorcode))}))}))}},{key:\"showAchievementsNativePopup\",value:function(t){return this._platformSdk.GameAPI.Achievements.list(t),Promise.resolve()}}])&&ic(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function Sc(t){return Sc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Sc(t)}function bc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Ec(n.key),n)}}function Ec(t){var e=function(t,e){if(\"object\"!=Sc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Sc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Sc(e)?e:String(e)}function Pc(){return Pc=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ac(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Pc.apply(this,arguments)}function wc(t,e){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wc(t,e)}function Ac(t){return Ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ac(t)}const Oc=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&wc(t,e)}(l,e);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ac(o);if(s){var r=Ac(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Sc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l),c.apply(this,arguments)}return r=l,(n=[{key:\"platformId\",get:function(){return t.LAGGED}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return m}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),this._options&&this._options.devId&&this._options.publisherId?xt(\"https://lagged.com/api/rev-share/lagged.js\").then((function(){Ut(\"LaggedAPI\").then((function(){t._platformSdk=window.LaggedAPI,t._platformSdk.init(t._options.devId,t._options.publisherId),t._platformSdk.User.get((function(e){var r,n=null!==(r=null==e?void 0:e.user)&&void 0!==r?r:{},o=n.id,i=n.name,a=n.avatar;o>0&&(t._playerId=o,t._playerName=i,t._playerPhotos.push(a),t._isPlayerAuthorized=!0),t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)}))}))})):this._rejectPromiseDecorator(_.INITIALIZE,g.GAME_PARAMS_NOT_FOUND)),e.promise}},{key:\"isStorageSupported\",value:function(t){return t!==u.PLATFORM_INTERNAL&&Pc(Ac(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t!==u.PLATFORM_INTERNAL&&Pc(Ac(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"showInterstitial\",value:function(){var t=this;this._setInterstitialState(i.OPENED),this._platformSdk.APIAds.show((function(){t._setInterstitialState(i.CLOSED)}))}},{key:\"showRewarded\",value:function(){var t=this;this._setRewardedState(a.OPENED),this._platformSdk.GEvents.reward((function(e,r){e?r():t._setRewardedState(a.FAILED)}),(function(e){e?(t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)):t._setRewardedState(a.FAILED)}))}},{key:\"leaderboardsSetScore\",value:function(t,e){var r=this,n=this._getPromiseDecorator(_.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(_.LEADERBOARDS_SET_SCORE);var o={score:e,board:t};this._platformSdk.Scores.save(o,(function(t){t.success?r._resolvePromiseDecorator(_.LEADERBOARDS_SET_SCORE):r._rejectPromiseDecorator(_.LEADERBOARDS_SET_SCORE,t.errormsg)}))}return n.promise}},{key:\"unlockAchievement\",value:function(t){var e=this;return t.achievement?new Promise((function(r,n){e._platformSdk.Achievements.save(Array.isArray(t.achievement)?t.achievement:[t.achievement],(function(t){t.success?r(t):n(t.errormsg)}))})):Promise.reject()}}])&&bc(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function Tc(){Tc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(t,r,s)}),a}function f(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",h=\"suspendedYield\",d=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==Rc(l)&&n.call(l,\"__await\")?e.resolve(l.__await).then((function(t){r(\"next\",t,a,s)}),(function(t){r(\"throw\",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r(\"throw\",t,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===d)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=d;var u=f(e,r,n);if(\"normal\"===u.type){if(o=n.done?y:h,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,\"throw\"===n&&e.iterator.return&&(r.method=\"return\",r.arg=t,T(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,e.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||\"\"===e){var r=e[a];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Rc(e)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===_||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,\"GeneratorFunction\")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},w(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type=\"throw\",s.arg=e,r.next=n,o&&(r.method=\"next\",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),m}},e}function kc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Dc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ic(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dc(Object(r),!0).forEach((function(e){Hc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Rc(t){return Rc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Rc(t)}function Lc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Fc(n.key),n)}}function Nc(){return Nc=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mc(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Nc.apply(this,arguments)}function Cc(t,e){return Cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cc(t,e)}function Gc(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Mc(t){return Mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mc(t)}function Bc(t,e){xc(t,e),e.add(t)}function xc(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Hc(t,e,r){return(e=Fc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fc(t){var e=function(t,e){if(\"object\"!=Rc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Rc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Rc(e)?e:String(e)}function Uc(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Vc(t,e,\"set\"),r),r}function Vc(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}function Wc(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}var zc=new WeakMap,Zc=new WeakSet,Yc=new WeakSet,Jc=new WeakSet,Kc=new WeakSet;function qc(){var t=this;t._platformSdk.overlayViews.setCustomEventHandler((function(e){if(\"leaderboard\"===e)Uc(t,zc,!0);else if(\"close\"===e){if(function(t,e){return e.get?e.get.call(t):e.value}(r=t,Vc(r,zc,\"get\")))return void Uc(t,zc,!1);t._overlay&&(document.body.removeChild(document.getElementById(t._overlay.iframeElement.id)),t._overlay.dismissAsync(),t._overlay=null)}var r}))}function Xc(t){var e=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedInterstitialPromises[t])return this._preloadedInterstitialPromises[t];var r=null;return this._preloadedInterstitialPromises[t]=this._platformSdk.getInterstitialAdAsync(t).then((function(t){return r=t,t.loadAsync()})).then((function(){return r})).catch((function(){return e._preloadedInterstitialPromises[t]=null,Promise.reject()})),this._preloadedInterstitialPromises[t]}function Qc(t){var e=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedRewardedPromises[t])return this._preloadedRewardedPromises[t];var r=null;return this._preloadedRewardedPromises[t]=this._platformSdk.getRewardedVideoAsync(t).then((function(t){return r=t,t.loadAsync()})).then((function(){return r})).catch((function(){return e._preloadedRewardedPromises[t]=null,Promise.reject()})),this._preloadedRewardedPromises[t]}function $c(){return tu.apply(this,arguments)}function tu(){var t;return t=Tc().mark((function t(){return Tc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._platformSdk.player.isSubscribedBotAsync();case 3:if(!t.sent){t.next=6;break}return t.abrupt(\"return\",Promise.resolve());case 6:t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),\"INVALID_OPERATION\"!==(null===t.t0||void 0===t.t0?void 0:t.t0.code)){t.next=13;break}t.next=14;break;case 13:throw new Error(t.t0);case 14:return t.prev=15,t.next=18,this._platformSdk.player.canSubscribeBotAsync();case 18:if(!t.sent){t.next=21;break}return t.abrupt(\"return\",this._platformSdk.player.subscribeBotAsync());case 21:t.next=28;break;case 23:if(t.prev=23,t.t1=t.catch(15),\"INVALID_OPERATION\"!==(null===t.t1||void 0===t.t1?void 0:t.t1.code)){t.next=27;break}return t.abrupt(\"return\",Promise.resolve());case 27:throw new Error(t.t1);case 28:return t.abrupt(\"return\",Promise.resolve());case 29:case\"end\":return t.stop()}}),t,this,[[0,8],[15,23]])})),tu=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){kc(i,n,o,a,s,\"next\",t)}function s(t){kc(i,n,o,a,s,\"throw\",t)}a(void 0)}))},tu.apply(this,arguments)}const eu=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Cc(t,e)}(p,e);var r,n,o,c,f=(o=p,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mc(o);if(c){var r=Mc(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Rc(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Gc(t)}(this,t)});function p(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Bc(Gc(t=f.call.apply(f,[this].concat(i))),Kc),Bc(Gc(t),Jc),Bc(Gc(t),Yc),Bc(Gc(t),Zc),Hc(Gc(t),\"_contextId\",null),Hc(Gc(t),\"_supportedApis\",[]),Hc(Gc(t),\"_preloadedInterstitialPromises\",{}),Hc(Gc(t),\"_preloadedRewardedPromises\",{}),Hc(Gc(t),\"_defaultStorageType\",u.PLATFORM_INTERNAL),Hc(Gc(t),\"_isJoinCommunitySupported\",!1),n={writable:!0,value:!1},xc(e=Gc(t),r=zc),r.set(e,n),t}return r=p,n=[{key:\"platformId\",get:function(){return t.FACEBOOK}},{key:\"platformLanguage\",get:function(){return this._platformLanguage||Nc(Mc(p.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.getPlatform()){case\"IOS\":case\"ANDROID\":case\"MOBILE_WEB\":return l.MOBILE;case\"WEB\":return l.DESKTOP;default:return Nc(Mc(p.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return v}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedApis.includes(\"inviteAsync\")}},{key:\"isJoinCommunitySupported\",get:function(){return this._isJoinCommunitySupported}},{key:\"isShareSupported\",get:function(){return this._supportedApis.includes(\"shareAsync\")}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),xt(\"https://connect.facebook.net/en_US/fbinstant.8.0.js\").then((function(){return Ut(\"FBInstant\")})).then((function(){return t._platformSdk=window.FBInstant,t._platformSdk.initializeAsync()})).then((function(){return t._isPlayerAuthorized=!0,t._playerId=t._platformSdk.player.getID(),t._contextId=t._platformSdk.context.getID(),t._platformLanguage=t._platformSdk.getLocale(),\"string\"==typeof t._platformLanguage&&(t._platformLanguage=t._platformLanguage.substring(0,2).toLowerCase()),t._supportedApis=t._platformSdk.getSupportedAPIs(),Wc(t,Zc,qc).call(t),Promise.allSettled([t._platformSdk.community.canFollowOfficialPageAsync(),t._platformSdk.community.canJoinOfficialGroupAsync()]).then((function(e){var r,n,o=(n=2,function(t){if(Array.isArray(t))return t}(r=e)||function(t,e){var r=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(r,n)||function(t,e){if(t){if(\"string\"==typeof t)return Lc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lc(t,e):void 0}}(r,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=o[0],a=o[1],s=\"fulfilled\"===i.status&&i.value,c=\"fulfilled\"===a.status&&a.value;t._isJoinCommunitySupported=!0===s&&!0===c}))})).then((function(){t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)})).catch((function(e){return t._rejectPromiseDecorator(_.INITIALIZE,e)}))),e.promise}},{key:\"sendMessage\",value:function(t){var e=this;return t===h.GAME_READY?(this._platformSdk.setLoadingProgress(100),this._options.subscribeForNotificationsOnStart&&setTimeout((function(){return Wc(e,Kc,$c).call(e)}),0),new Promise((function(t){e._platformSdk.startGameAsync().then(t)}))):Nc(Mc(p.prototype),\"sendMessage\",this).call(this,t)}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL?this._supportedApis.includes(\"player.getDataAsync\"):Nc(Mc(p.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:Nc(Mc(p.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,o){var i=Array.isArray(t)?t:[t];n._platformSdk.player.getDataAsync(i).then((function(t){var n=i.map((function(e){var n=t[e];return r||\"object\"!==Rc(n)||null===n?null!=n?n:null:JSON.stringify(n)}));e(n)})).catch(o)})):Nc(Mc(p.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){var i={};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n._platformSdk.player.setDataAsync(i).then(r).catch(o)})):Nc(Mc(p.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,n){var o={};if(Array.isArray(t))for(var i=0;i<t.length;i++)o[t[i]]=null;else o[t]=null;r._platformSdk.player.setDataAsync(o).then(e).catch(n)})):Nc(Mc(p.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"showBanner\",value:function(t,e){var r=this;this._platformSdk.loadBannerAdAsync(e,t).then((function(){r._setBannerState(s.SHOWN)})).catch((function(){r._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var t=this;this._platformSdk.hideBannerAdAsync().then((function(){t._setBannerState(s.HIDDEN)})).catch((function(){t._setBannerState(s.FAILED)}))}},{key:\"preloadInterstitial\",value:function(t){Wc(this,Yc,Xc).call(this,t)}},{key:\"showInterstitial\",value:function(t){var e=this;Wc(this,Yc,Xc).call(this,t).then((function(t){return e._setInterstitialState(i.OPENED),t.showAsync()})).then((function(){e._setInterstitialState(i.CLOSED),Wc(e,Yc,Xc).call(e,t,!0)})).catch((function(){return e._advertisementShowErrorPopup(!1)}))}},{key:\"preloadRewarded\",value:function(t){Wc(this,Jc,Qc).call(this,t)}},{key:\"showRewarded\",value:function(t){var e=this;Wc(this,Jc,Qc).call(this,t).then((function(t){return e._setRewardedState(a.OPENED),t.showAsync()})).then((function(){e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED),Wc(e,Jc,Qc).call(e,t,!0)})).catch((function(){return e._advertisementShowErrorPopup(!0)}))}},{key:\"leaderboardsSetScore\",value:function(t,e){var r=this,n=this._getPromiseDecorator(_.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(_.LEADERBOARDS_SET_SCORE);var o=\"number\"==typeof e?e:parseInt(e,10);this._platformSdk.globalLeaderboards.setScoreAsync(t,o).then((function(){r._resolvePromiseDecorator(_.LEADERBOARDS_SET_SCORE)})).catch((function(t){r._rejectPromiseDecorator(_.LEADERBOARDS_SET_SCORE,t)}))}return n.promise}},{key:\"leaderboardsShowNativePopup\",value:function(t){var e=this,r=this._getPromiseDecorator(_.LEADERBOARDS_SHOW_NATIVE_POPUP);if(!r){r=this._createPromiseDecorator(_.LEADERBOARDS_SHOW_NATIVE_POPUP);var n=function(){var t=document.createElement(\"div\");t.style.position=\"fixed\",t.style.top=\"0\",t.style.left=\"0\",t.style.width=\"100vw\",t.style.height=\"100vh\",t.style.backgroundColor=\"rgba(0, 0, 0, 0.5)\",t.style.display=\"flex\",t.style.justifyContent=\"center\",t.style.alignItems=\"center\",t.style.zIndex=\"9999\",t.id=\"loading-overlay\";var e=document.createElement(\"div\");return e.style.fontSize=\"24px\",e.style.color=\"#fff\",e.innerText=\"Loading...\",t.appendChild(e),t}();document.body.appendChild(n),this._platformSdk.globalLeaderboards.getTopEntriesAsync(t,20).then((function(t){var r=t.map((function(t){return{score:t.getScore(),sessionID:t.getPlayer().getSessionID()}})),o=e._platformSdk.overlayViews.createOverlayViewWithXMLString('\\n    <View style=\"position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center\" onTapEvent=\"close\">\\n        <View style=\"position: relative; background-color: #2E3C75;color: #fff;padding: 20px;border-radius: 10px;box-shadow: 0 0 10px #2E3C75;font-size: 24px;text-align: center;min-width: 250px;max-width: 30%;max-height: 80%;overflow: auto;flex-direction: column;justify-content: center;align-items: center;\">\\n            <View style=\"display: flex; flex-direction: column; align-items: center; justify-content: center;\" onTapEvent=\"leaderboard\">\\n                <For source=\"{{players}}\" itemName=\"player\">\\n                    <View style=\"display: flex;align-items: center;justify-content: space-between;width: 100%;gap: 10px;\">\\n                      <Image src=\"{{FBInstant.players[{{player.sessionID}}].photo}}\" style=\"width: 50px; height: 50px; border-radius: 50%\" />\\n                      <Text content=\"{{FBInstant.players[{{player.sessionID}}].name}}\" style=\"flex: 1; text-align: start;\" />\\n                      <Text content=\"{{player.score}}\" />\\n                    </View>\\n                </For>\\n            </View>\\n        </View>\\n    </View>\\n',\"\",{players:r},(function(t){t.showAsync(),e._overlay=t,n.remove(),e._resolvePromiseDecorator(_.LEADERBOARDS_SHOW_NATIVE_POPUP)}),(function(t,r){n.remove(),e._rejectPromiseDecorator(_.LEADERBOARDS_SHOW_NATIVE_POPUP,r)})).iframeElement;o.style.zIndex=9999,o.style.position=\"absolute\",o.style.top=0,o.style.left=0,o.style.height=\"100vh\",o.style.width=\"100vw\",o.style.border=0,o.id=o.name,document.body.appendChild(o)})).catch((function(t){n.remove(),e._rejectPromiseDecorator(_.LEADERBOARDS_SHOW_NATIVE_POPUP,t)}))}return r.promise}},{key:\"paymentsPurchase\",value:function(t){var e=this,r=this._paymentsGetProductPlatformData(t);r||(r={id:t});var n=this._getPromiseDecorator(_.PURCHASE);return n||(n=this._createPromiseDecorator(_.PURCHASE),this._platformSdk.payments.purchaseAsync({productID:r.platformProductId}).then((function(r){var n=Ic({id:t},r);delete n.productID,e._paymentsPurchases.push(n),e._resolvePromiseDecorator(_.PURCHASE,n)})).catch((function(t){e._rejectPromiseDecorator(_.PURCHASE,t)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(t){var e=this,r=this._paymentsPurchases.findIndex((function(e){return e.id===t}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(_.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(_.CONSUME_PURCHASE),this._platformSdk.payments.consumePurchaseAsync(this._paymentsPurchases[r].purchaseToken).then((function(){e._paymentsPurchases.splice(r,1),e._resolvePromiseDecorator(_.CONSUME_PURCHASE,{id:t})})).catch((function(t){e._rejectPromiseDecorator(_.CONSUME_PURCHASE,t)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var t=this,e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var r=this._getPromiseDecorator(_.GET_CATALOG);return r||(r=this._createPromiseDecorator(_.GET_CATALOG),this._platformSdk.payments.getCatalogAsync().then((function(r){var n=e.map((function(t){var e=r.find((function(e){return e.productID===t.platformProductId}));return{id:t.id,title:e.title,description:e.description,imageURI:e.imageURI,price:e.price,priceCurrencyCode:e.priceCurrencyCode,priceValue:e.priceAmount}}));t._resolvePromiseDecorator(_.GET_CATALOG,n)})).catch((function(e){t._rejectPromiseDecorator(_.GET_CATALOG,e)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var t=this,e=this._getPromiseDecorator(_.GET_PURCHASES);return e||(e=this._createPromiseDecorator(_.GET_PURCHASES),this._platformSdk.payments.getPurchasesAsync().then((function(e){var r=t._paymentsGetProductsPlatformData();t._paymentsPurchases=e.map((function(t){var e=Ic({id:r.find((function(e){return e.id===t.productID})).id},t);return delete e.productID,e})),t._resolvePromiseDecorator(_.GET_PURCHASES,t._paymentsPurchases)})).catch((function(e){t._rejectPromiseDecorator(_.GET_PURCHASES,e)}))),e.promise}},{key:\"inviteFriends\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.image||!e.text)return Promise.reject();if(!Vt(e.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(_.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(_.INVITE_FRIENDS),this._platformSdk.inviteAsync(e).then((function(){t._resolvePromiseDecorator(_.INVITE_FRIENDS)})).catch((function(e){t._rejectPromiseDecorator(_.INVITE_FRIENDS,e)}))),r.promise}},{key:\"joinCommunity\",value:function(t){var e=this,r=this._getPromiseDecorator(_.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(_.JOIN_COMMUNITY),t&&!0===t.isPage?this._platformSdk.community.followOfficialPageAsync().then((function(t){return e._resolvePromiseDecorator(_.JOIN_COMMUNITY,t)})).catch((function(t){return e._rejectPromiseDecorator(_.JOIN_COMMUNITY,t)})):this._platformSdk.community.joinOfficialGroupAsync().then((function(t){return e._resolvePromiseDecorator(_.JOIN_COMMUNITY,t)})).catch((function(t){return e._rejectPromiseDecorator(_.JOIN_COMMUNITY,t)}))),r.promise}},{key:\"share\",value:function(t){var e=this;if(!t.image||!t.text)return Promise.reject();if(!Vt(t.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(_.SHARE);return r||(r=this._createPromiseDecorator(_.SHARE),this._platformSdk.shareAsync(Ic({intent:\"REQUEST\"},t)).then((function(){e._resolvePromiseDecorator(_.SHARE)})).catch((function(t){e._rejectPromiseDecorator(_.SHARE,t)}))),r.promise}}],n&&jc(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(fo);function ru(t){return ru=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},ru(t)}function nu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,ou(n.key),n)}}function ou(t){var e=function(t,e){if(\"object\"!=ru(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=ru(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==ru(e)?e:String(e)}var iu,au=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,r;return e=t,r=[{key:\"send\",value:function(t){Yt(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"*\")}},{key:\"addListener\",value:function(t){window.addEventListener(\"message\",t)}},{key:\"removeListener\",value:function(t){window.removeEventListener(\"message\",t)}},{key:\"generateMessageId\",value:function(){return\"\".concat(Date.now(),\"-\").concat(Math.random())}}],r&&nu(e.prototype,r),Object.defineProperty(e,\"prototype\",{writable:!1}),t}();function su(){su=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(t,r,s)}),a}function f(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",h=\"suspendedYield\",d=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==pu(l)&&n.call(l,\"__await\")?e.resolve(l.__await).then((function(t){r(\"next\",t,a,s)}),(function(t){r(\"throw\",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r(\"throw\",t,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===d)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=d;var u=f(e,r,n);if(\"normal\"===u.type){if(o=n.done?y:h,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,\"throw\"===n&&e.iterator.return&&(r.method=\"return\",r.arg=t,T(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,e.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||\"\"===e){var r=e[a];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(pu(e)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===_||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,\"GeneratorFunction\")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},w(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type=\"throw\",s.arg=e,r.next=n,o&&(r.method=\"next\",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),m}},e}function cu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uu(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function lu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lu(Object(r),!0).forEach((function(e){Su(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pu(t){return pu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},pu(t)}function hu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,bu(n.key),n)}}function du(t,e){return du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},du(t,e)}function yu(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function mu(t,e){gu(t,e),e.add(t)}function vu(){return vu=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_u(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},vu.apply(this,arguments)}function _u(t){return _u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_u(t)}function gu(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Su(t,e,r){return(e=bu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bu(t){var e=function(t,e){if(\"object\"!=pu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=pu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==pu(e)?e:String(e)}function Eu(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}function Pu(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}var wu=\"banner\",Au=\"bridge\",Ou={IS_STORAGE_AVAILABLE:\"is_storage_available\",IS_STORAGE_SUPPORTED:\"is_storage_supported\",GET_DATA_FROM_STORAGE:\"get_data_from_storage\",SET_DATA_TO_STORAGE:\"set_data_to_storage\",DELETE_DATA_FROM_STORAGE:\"delete_data_from_storage\",GET_SERVER_TIME:\"get_server_time\",CHECK_ADBLOCK:\"check_adblock\",CLIPBOARD_READ:\"clipboard_read\",LIVENESS_PING:\"ping\",UNLOCK_ACHIEVEMENT:\"unlock_achievement\",GET_ACHIEVEMENTS:\"get_achievements\",SHOW_ACHIEVEMENTS_NATIVE_POPUP:\"show_achievements_native_popup\",GET_PERFORMANCE_RESOURCES:\"get_performance_resources\",GET_LANGUAGE:\"get_language\",GET_PLAYER:\"get_player\"},Tu=\"isLocalStorageSupported\",ku=\"isPlatformInternalStorageSupported\",Du=\"isBannerSupported\",Iu=new WeakMap,Ru=new WeakSet,Lu=new WeakSet,ju=new WeakSet,Nu=new WeakSet,Cu=new WeakSet,Gu=new WeakSet,Mu=function(r){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&du(t,e)}(l,r);var n,o,i,a,c=(i=l,a=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_u(i);if(a){var r=_u(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===pu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return yu(t)}(this,t)});function l(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return mu(yu(t=c.call.apply(c,[this].concat(i))),Gu),mu(yu(t),Cu),mu(yu(t),Nu),mu(yu(t),ju),mu(yu(t),Lu),mu(yu(t),Ru),Su(yu(t),\"_supportedFeatures\",[]),Su(yu(t),\"_leaderboardsType\",null),e=yu(t),r=Iu,n={writable:!0,value:new au},gu(e,r),r.set(e,n),t}return n=l,(o=[{key:\"platformId\",get:function(){return t.QA_TOOL}},{key:\"platformLanguage\",get:function(){return Pu(this,ju,Hu).call(this,{type:e.PLATFORM,action:Ou.GET_LANGUAGE,options:{language:this._platformLanguage}}),this._platformLanguage}},{key:\"platformTld\",get:function(){return this._platformTld}},{key:\"deviceType\",get:function(){return this._deviceType}},{key:\"platformPayload\",get:function(){return this._platformPayload}},{key:\"isPlayerAuthorizationSupported\",get:function(){return this._supportedFeatures.includes(\"isPlayerAuthorizationSupported\")}},{key:\"isBannerSupported\",get:function(){return this._supportedFeatures.includes(Du)}},{key:\"isInterstitialSupported\",get:function(){return this._supportedFeatures.includes(\"isInterstitialSupported\")}},{key:\"isRewardedSupported\",get:function(){return this._supportedFeatures.includes(\"isRewardedSupported\")}},{key:\"isAchievementsSupported\",get:function(){return this._supportedFeatures.includes(\"isAchievementsSupported\")}},{key:\"isGetAchievementsListSupported\",get:function(){return this.isAchievementsSupported&&this._supportedFeatures.includes(\"isGetAchievementsListSupported\")}},{key:\"isAchievementsNativePopupSupported\",get:function(){return this.isAchievementsSupported&&this._supportedFeatures.includes(\"isAchievementsNativePopupSupported\")}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedFeatures.includes(\"isInviteFriendsSupported\")}},{key:\"isJoinCommunitySupported\",get:function(){return this._supportedFeatures.includes(\"isJoinCommunitySupported\")}},{key:\"isShareSupported\",get:function(){return this._supportedFeatures.includes(\"isShareSupported\")}},{key:\"isCreatePostSupported\",get:function(){return this._supportedFeatures.includes(\"isCreatePostSupported\")}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToHomeScreenSupported\")}},{key:\"isAddToFavoritesSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToFavoritesSupported\")}},{key:\"isRateSupported\",get:function(){return this._supportedFeatures.includes(\"isRateSupported\")}},{key:\"isPaymentsSupported\",get:function(){return this._supportedFeatures.includes(\"isPaymentsSupported\")}},{key:\"isRemoteConfigSupported\",get:function(){return this._supportedFeatures.includes(\"isRemoteConfigSupported\")}},{key:\"isClipboardSupported\",get:function(){return this._supportedFeatures.includes(\"isClipboardSupported\")}},{key:\"leaderboardsType\",get:function(){var t;return null!==(t=this._leaderboardsType)&&void 0!==t?t:d}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var r=this._getPromiseDecorator(_.INITIALIZE);return r||(r=this._createPromiseDecorator(_.INITIALIZE),Eu(this,Iu).addListener((function(r){var n=r.data;if(null!=n&&n.type&&(null==n?void 0:n.source)!==Au)if(n.type===e.PLATFORM){if(n.action===_.INITIALIZE&&Pu(t,Cu,Uu).call(t).then((function(){Pu(t,Ru,Bu).call(t,n)})),n.action===Ou.GET_PERFORMANCE_RESOURCES){var o,i=Eu(t,Iu).generateMessageId(),a=(null==n||null===(o=n.options)||void 0===o?void 0:o.resources)||[];Pu(t,Lu,xu).call(t,i,a)}}else n.type===e.ADVERTISEMENT&&Pu(t,Gu,Wu).call(t,n)})),Pu(this,ju,Hu).call(this,{type:e.PLATFORM,action:_.INITIALIZE})),r.promise}},{key:\"authorizePlayer\",value:function(t){var r=this;if(!this.isPlayerAuthorizationSupported)return Promise.reject();var n=this._getPromiseDecorator(_.AUTHORIZE_PLAYER);return n||(n=this._createPromiseDecorator(_.AUTHORIZE_PLAYER),Pu(this,Nu,Fu).call(this,e.PLAYER,_.AUTHORIZE_PLAYER,{options:t}).then((function(t){var e=t.auth;\"success\"===e.status?Pu(r,Cu,Uu).call(r).then((function(){r._resolvePromiseDecorator(_.AUTHORIZE_PLAYER)})):r._rejectPromiseDecorator(_.AUTHORIZE_PLAYER,e.error)}))),n.promise}},{key:\"sendMessage\",value:function(t){return[h.GAME_READY,h.IN_GAME_LOADING_STARTED,h.IN_GAME_LOADING_STOPPED,h.GAMEPLAY_STARTED,h.GAMEPLAY_STOPPED,h.PLAYER_GOT_ACHIEVEMENT,h.GAME_OVER].includes(t)?(Pu(this,ju,Hu).call(this,{type:e.PLATFORM,action:t}),Promise.resolve()):vu(_u(l.prototype),\"sendMessage\",this).call(this,t)}},{key:\"getServerTime\",value:function(){return Pu(this,Nu,Fu).call(this,e.PLATFORM,Ou.GET_SERVER_TIME,{options:{}},{timeout:5e3}).then((function(t){var e=t.time;if(!e)throw new Error(\"Invalid server time\");return e})).catch((function(){throw new Error(\"Server time request timeout\")}))}},{key:\"isStorageSupported\",value:function(t){return Pu(this,ju,Hu).call(this,{type:e.STORAGE,action:Ou.IS_STORAGE_SUPPORTED,options:{storageType:t}}),!(t!==u.PLATFORM_INTERNAL||!this._supportedFeatures.includes(ku))||!(t!==u.LOCAL_STORAGE||!this._supportedFeatures.includes(Tu))}},{key:\"isStorageAvailable\",value:function(t){return Pu(this,ju,Hu).call(this,{type:e.STORAGE,action:Ou.IS_STORAGE_AVAILABLE,options:{storageType:t}}),(t===u.PLATFORM_INTERNAL&&this._supportedFeatures.includes(ku)&&this._isPlayerAuthorized||!(t!==u.LOCAL_STORAGE||!this._supportedFeatures.includes(Tu)))&&vu(_u(l.prototype),\"isStorageAvailable\",this).call(this,u.LOCAL_STORAGE)}},{key:\"getDataFromStorage\",value:function(t,r,n){return this.isStorageSupported(r)?Pu(this,Nu,Fu).call(this,e.STORAGE,Ou.GET_DATA_FROM_STORAGE,{options:{key:t,storageType:r,tryParseJson:n}}).then((function(e){var r=e.storage;return zt(t,r,n)})):Promise.reject(g.STORAGE_NOT_SUPPORTED)}},{key:\"setDataToStorage\",value:function(t,r,n){return Pu(this,ju,Hu).call(this,{type:e.STORAGE,action:Ou.SET_DATA_TO_STORAGE,options:{key:t,value:r,storageType:n}}),this.isStorageSupported(n)?n===u.PLATFORM_INTERNAL||n===u.LOCAL_STORAGE?Promise.resolve():vu(_u(l.prototype),\"setDataToStorage\",this).call(this,t,r,n):Promise.reject(g.STORAGE_NOT_SUPPORTED)}},{key:\"deleteDataFromStorage\",value:function(t,r){return Pu(this,ju,Hu).call(this,{type:e.STORAGE,action:Ou.DELETE_DATA_FROM_STORAGE,options:{key:t,storageType:r}}),this.isStorageSupported(r)?r===u.PLATFORM_INTERNAL||r===u.LOCAL_STORAGE?Promise.resolve():vu(_u(l.prototype),\"deleteDataFromStorage\",this).call(this,t,r):Promise.reject(g.STORAGE_NOT_SUPPORTED)}},{key:\"showInterstitial\",value:function(t){this.isInterstitialSupported&&Pu(this,ju,Hu).call(this,{type:e.ADVERTISEMENT,action:\"interstitial\",options:{placement:t}})}},{key:\"showRewarded\",value:function(t){this.isRewardedSupported&&Pu(this,ju,Hu).call(this,{type:e.ADVERTISEMENT,action:\"reward\",options:{placement:t}})}},{key:\"showBanner\",value:function(t,r){this.isBannerSupported&&(this._setBannerState(s.SHOWN),Pu(this,ju,Hu).call(this,{type:e.ADVERTISEMENT,action:s.SHOWN,options:{type:wu,position:t,placement:r}}))}},{key:\"hideBanner\",value:function(){this.isBannerSupported&&(this._setBannerState(s.HIDDEN),Pu(this,ju,Hu).call(this,{type:e.ADVERTISEMENT,action:s.HIDDEN,options:{type:wu}}))}},{key:\"checkAdBlock\",value:function(){return Pu(this,ju,Hu).call(this,{type:Ou.CHECK_ADBLOCK,action:_.ADBLOCK_DETECT}),vu(_u(l.prototype),\"checkAdBlock\",this).call(this)}},{key:\"inviteFriends\",value:function(){if(!this.isInviteFriendsSupported)return Promise.reject();var t=this._getPromiseDecorator(_.INVITE_FRIENDS);return t||(t=this._createPromiseDecorator(_.INVITE_FRIENDS),this._resolvePromiseDecorator(_.INVITE_FRIENDS),Pu(this,ju,Hu).call(this,{type:e.SOCIAL,action:_.INVITE_FRIENDS})),t.promise}},{key:\"joinCommunity\",value:function(){if(!this.isJoinCommunitySupported)return Promise.reject();var t=this._getPromiseDecorator(_.JOIN_COMMUNITY);return t||(t=this._createPromiseDecorator(_.JOIN_COMMUNITY),this._resolvePromiseDecorator(_.JOIN_COMMUNITY),Pu(this,ju,Hu).call(this,{type:e.SOCIAL,action:_.JOIN_COMMUNITY})),t.promise}},{key:\"share\",value:function(){if(!this.isShareSupported)return Promise.reject();var t=this._getPromiseDecorator(_.SHARE);return t||(t=this._createPromiseDecorator(_.SHARE),this._resolvePromiseDecorator(_.SHARE),Pu(this,ju,Hu).call(this,{type:e.SOCIAL,action:_.SHARE})),t.promise}},{key:\"createPost\",value:function(){if(!this.isCreatePostSupported)return Promise.reject();var t=this._getPromiseDecorator(_.CREATE_POST);return t||(t=this._createPromiseDecorator(_.CREATE_POST),this._resolvePromiseDecorator(_.CREATE_POST),Pu(this,ju,Hu).call(this,{type:e.SOCIAL,action:_.CREATE_POST})),t.promise}},{key:\"addToHomeScreen\",value:function(){if(!this.isAddToHomeScreenSupported)return Promise.reject();var t=this._getPromiseDecorator(_.ADD_TO_HOME_SCREEN);return t||(t=this._createPromiseDecorator(_.ADD_TO_HOME_SCREEN),this._resolvePromiseDecorator(_.ADD_TO_HOME_SCREEN),Pu(this,ju,Hu).call(this,{type:e.SOCIAL,action:_.ADD_TO_HOME_SCREEN})),t.promise}},{key:\"addToFavorites\",value:function(){if(!this.isAddToFavoritesSupported)return Promise.reject();var t=this._getPromiseDecorator(_.ADD_TO_FAVORITES);return t||(t=this._createPromiseDecorator(_.ADD_TO_FAVORITES),this._resolvePromiseDecorator(_.ADD_TO_FAVORITES),Pu(this,ju,Hu).call(this,{type:e.SOCIAL,action:_.ADD_TO_FAVORITES})),t.promise}},{key:\"rate\",value:function(){if(!this.isRateSupported)return Promise.reject();var t=this._getPromiseDecorator(_.RATE);return t||(t=this._createPromiseDecorator(_.RATE),this._resolvePromiseDecorator(_.RATE),Pu(this,ju,Hu).call(this,{type:e.SOCIAL,action:_.RATE})),t.promise}},{key:\"paymentsPurchase\",value:function(t){var r=this;if(!this.isPaymentsSupported)return Promise.reject();var n=this._paymentsGetProductPlatformData(t);if(!n)return Promise.reject();var o=this._getPromiseDecorator(_.PURCHASE);return o||(o=this._createPromiseDecorator(_.PURCHASE),Pu(this,Nu,Fu).call(this,e.PAYMENTS,_.PURCHASE,{options:{product:n}}).then((function(e){var n=e.purchase;if(n&&\"object\"===pu(n))if(null!=n&&n.status){var o=fu({id:t},n.purchaseData);r._paymentsPurchases.push(o),r._resolvePromiseDecorator(_.PURCHASE,o)}else r._rejectPromiseDecorator(_.PURCHASE,(null==n?void 0:n.error)||new Error(\"Unknown purchase error\"));else r._rejectPromiseDecorator(_.PURCHASE,new Error(\"Invalid purchase\"))}))),o.promise}},{key:\"paymentsConsumePurchase\",value:function(t){var r=this;if(!this.isPaymentsSupported)return Promise.reject();var n=this._paymentsPurchases.findIndex((function(e){return e.id===t}));if(n<0)return Promise.reject();var o=this._getPromiseDecorator(_.CONSUME_PURCHASE);return o||(o=this._createPromiseDecorator(_.CONSUME_PURCHASE),Pu(this,Nu,Fu).call(this,e.PAYMENTS,_.CONSUME_PURCHASE,{options:{product:this._paymentsPurchases[n]}}).then((function(e){var o=e.purchase;if(o&&\"object\"===pu(o))if(null!=o&&o.status){var i=fu({id:t},o);r._paymentsPurchases.splice(n,1),r._resolvePromiseDecorator(_.CONSUME_PURCHASE,i)}else r._rejectPromiseDecorator(_.CONSUME_PURCHASE,(null==o?void 0:o.error)||new Error(\"Unknown consume purchase error\"));else r._rejectPromiseDecorator(_.CONSUME_PURCHASE,new Error(\"Invalid purchase\"))}))),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var t=this;if(!this.isPaymentsSupported)return Promise.reject();var r=this._getPromiseDecorator(_.GET_CATALOG);if(!r){r=this._createPromiseDecorator(_.GET_CATALOG);var n=this._paymentsGetProductsPlatformData();Pu(this,Nu,Fu).call(this,e.PAYMENTS,_.GET_CATALOG,{options:{products:n}}).then((function(){var e=n.map((function(t){return{id:t.id,price:\"\".concat(t.amount,\" Gam\"),priceCurrencyCode:\"Gam\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:t.amount}}));t._resolvePromiseDecorator(_.GET_CATALOG,e)}))}return r.promise}},{key:\"paymentsGetPurchases\",value:function(){var t=this;if(!this.isPaymentsSupported)return Promise.reject();var r=this._getPromiseDecorator(_.GET_PURCHASES);return r||(r=this._createPromiseDecorator(_.GET_PURCHASES),Pu(this,Nu,Fu).call(this,e.PAYMENTS,_.GET_PURCHASES,{options:{products:this._paymentsGetProductsPlatformData()}}).then((function(e){var r=e.purchases,n=t._paymentsGetProductsPlatformData();t._paymentsPurchases=r.map((function(t){return fu({id:n.find((function(e){return e.id===t.id})).id},t.purchaseData)})),t._resolvePromiseDecorator(_.GET_PURCHASES,t._paymentsPurchases)}))),r.promise}},{key:\"getRemoteConfig\",value:function(){var t=this;if(!this.isRemoteConfigSupported)return Promise.reject();var r=this._getPromiseDecorator(_.GET_REMOTE_CONFIG);return r||(r=this._createPromiseDecorator(_.GET_REMOTE_CONFIG),Pu(this,Nu,Fu).call(this,e.REMOTE_CONFIG,_.GET_REMOTE_CONFIG).then((function(e){var r=e.result;t._resolvePromiseDecorator(_.GET_REMOTE_CONFIG,r)}))),r.promise}},{key:\"clipboardWrite\",value:function(t){var r=this;if(!this.isClipboardSupported)return Promise.reject();var n=this._getPromiseDecorator(_.CLIPBOARD_WRITE);return n||(n=this._createPromiseDecorator(_.CLIPBOARD_WRITE),Pu(this,Nu,Fu).call(this,e.CLIPBOARD,_.CLIPBOARD_WRITE,{options:{text:t}}).then((function(){r._resolvePromiseDecorator(_.CLIPBOARD_WRITE,!0)}))),n.promise}},{key:\"clipboardRead\",value:function(){var t=this;if(!this.isClipboardSupported)return Promise.reject();var r=this._getPromiseDecorator(Ou.CLIPBOARD_READ);return r||(r=this._createPromiseDecorator(Ou.CLIPBOARD_READ),Pu(this,Nu,Fu).call(this,e.CLIPBOARD,Ou.CLIPBOARD_READ,{options:{}}).then((function(e){var r=e.text;t._resolvePromiseDecorator(Ou.CLIPBOARD_READ,r)}))),r.promise}},{key:\"leaderboardsSetScore\",value:function(t,r){if(this.leaderboardsType===d)return Promise.reject(new Error(\"Leaderboards are not available\"));var n=this._getPromiseDecorator(_.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(_.LEADERBOARDS_SET_SCORE);var o={id:t,score:r};Pu(this,ju,Hu).call(this,{type:e.LEADERBOARDS,action:_.LEADERBOARDS_SET_SCORE,options:o}),this._resolvePromiseDecorator(_.LEADERBOARDS_SET_SCORE)}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(t){var r=this;if(this.leaderboardsType!==y)return Promise.reject(new Error(\"Leaderboards are not available\"));var n=this._getPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES);return n||(n=this._createPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES),Pu(this,Nu,Fu).call(this,e.LEADERBOARDS,_.LEADERBOARDS_GET_ENTRIES,{options:{id:t}},{timeout:5e3}).then((function(t){var e=t.entries;r._resolvePromiseDecorator(_.LEADERBOARDS_GET_ENTRIES,e)})).catch((function(){r._rejectPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES)}))),n.promise}},{key:\"leaderboardsShowNativePopup\",value:function(t){return this.leaderboardsType!==v?Promise.reject(new Error(\"Leaderboards are not available\")):(Pu(this,ju,Hu).call(this,{type:e.LEADERBOARDS,action:_.LEADERBOARDS_SHOW_NATIVE_POPUP,options:{id:t}}),Promise.resolve(_.LEADERBOARDS_SHOW_NATIVE_POPUP))}},{key:\"unlockAchievement\",value:function(t){return this.isAchievementsSupported?Pu(this,Nu,Fu).call(this,e.ACHIEVEMENTS,Ou.UNLOCK_ACHIEVEMENT,{options:t}).then((function(t){return t.result})):Promise.reject()}},{key:\"getAchievementsList\",value:function(t){return this.isGetAchievementsListSupported?Pu(this,Nu,Fu).call(this,e.ACHIEVEMENTS,Ou.GET_ACHIEVEMENTS,{options:t}).then((function(t){return t.result})):Promise.reject()}},{key:\"showAchievementsNativePopup\",value:function(){return this.isAchievementsNativePopupSupported?(Pu(this,ju,Hu).call(this,{type:e.ACHIEVEMENTS,action:Ou.SHOW_ACHIEVEMENTS_NATIVE_POPUP}),Promise.resolve()):Promise.reject()}},{key:\"_paymentsGetProductsPlatformData\",value:function(){return this._options.payments?this._options.payments.map((function(t){return fu({id:t.id},t.playgama)})):[]}},{key:\"_paymentsGetProductPlatformData\",value:function(t){var e=this._options.payments;if(!e)return null;var r=e.find((function(e){return e.id===t}));return r?fu({id:r.id},r.playgama):null}}])&&hu(n.prototype,o),Object.defineProperty(n,\"prototype\",{writable:!1}),l}(fo);function Bu(t){var e,r,n,o;this._supportedFeatures=t.supportedFeatures||[],this._isBannerSupported=this._supportedFeatures.includes(Du);var i=t.config,a=void 0===i?{}:i;this._deviceType=null!==(e=a.deviceType)&&void 0!==e?e:vu(_u(iu.prototype),\"deviceType\",this),this._platformLanguage=a.platformLanguage?a.platformLanguage.toLowerCase():vu(_u(iu.prototype),\"platformLanguage\",this),this._platformTld=null!==(r=a.platformTld)&&void 0!==r?r:vu(_u(iu.prototype),\"platformTld\",this),this._platformPayload=null!==(n=a.platformPayload)&&void 0!==n?n:vu(_u(iu.prototype),\"platformPayload\",this),this._leaderboardsType=null!==(o=a.leaderboardsType)&&void 0!==o?o:d,this._paymentsPurchases=t.purchases||[],this._isInitialized=!0,this._resolvePromiseDecorator(_.INITIALIZE),Pu(this,ju,Hu).call(this,{type:\"liveness\",action:Ou.LIVENESS_PING,options:{version:\"1.27.1\"}})}function xu(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(r)?r:[],o=performance.getEntriesByType(\"resource\")||[],i=n.length>0?n:[\"name\",\"initiatorType\"],a=o.map((function(t){var e={};return i.forEach((function(r){r in t&&(e[r]=t[r])})),e}));return Pu(this,ju,Hu).call(this,{type:e.PLATFORM,action:Ou.GET_PERFORMANCE_RESOURCES,id:t,options:{resources:a}}),Promise.resolve(o)}function Hu(t){Eu(this,Iu).send(fu({source:Au},t))}function Fu(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Eu(this,Iu).generateMessageId(),a=fu({timeout:0},o);return new Promise((function(s,c){var u=function n(o){var a=o.data;(null==a?void 0:a.type)===t&&(null==a?void 0:a.action)===e&&(null==a?void 0:a.id)===i&&(null==a?void 0:a.source)!==Au&&(Eu(r,Iu).removeListener(n),s(a))};Eu(r,Iu).addListener(u),Pu(r,ju,Hu).call(r,fu({type:t,action:e,id:i,options:o},n)),a.timeout>0&&setTimeout((function(){c(new Error(\"Request timeout\")),Eu(r,Iu).removeListener(u)}),a.timeout)}))}function Uu(){return Vu.apply(this,arguments)}function Vu(){var t;return t=su().mark((function t(){var r=this;return su().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",Pu(this,Nu,Fu).call(this,e.PLAYER,Ou.GET_PLAYER).then((function(t){var e,n=t.player;null!=n&&n.isAuthorized?(r._playerId=n.userId,r._isPlayerAuthorized=n.isAuthorized,r._playerName=n.name,Array.isArray(n.photos)&&(r._playerPhotos=function(t){if(Array.isArray(t))return cu(t)}(e=n.photos)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(e)||function(t,e){if(t){if(\"string\"==typeof t)return cu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cu(t,e):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),r._playerExtra=n,r._defaultStorageType=u.PLATFORM_INTERNAL):r._playerApplyGuestData()})).catch((function(){r._playerApplyGuestData()})));case 1:case\"end\":return t.stop()}}),t,this)})),Vu=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){uu(i,n,o,a,s,\"next\",t)}function s(t){uu(i,n,o,a,s,\"throw\",t)}a(void 0)}))},Vu.apply(this,arguments)}function Wu(t){var e=t.action,r=t.payload;if(\"interstitial\"===e){if(!this.isInterstitialSupported)return;switch(r.status){case\"start\":this._setInterstitialState(i.LOADING);break;case\"open\":this._setInterstitialState(i.OPENED);break;case\"failed\":this._setInterstitialState(i.FAILED);break;case\"close\":this._setInterstitialState(i.CLOSED)}}else if(\"reward\"===e){if(!this.isRewardedSupported)return;switch(r.status){case\"start\":this._setRewardedState(a.LOADING);break;case\"open\":this._setRewardedState(a.OPENED);break;case\"rewarded\":this._setRewardedState(a.REWARDED);break;case\"close\":this._setRewardedState(a.CLOSED);break;case\"failed\":this._setRewardedState(a.FAILED)}}}iu=Mu;const zu=Mu;function Zu(t){return Zu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Zu(t)}function Yu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Ju(n.key),n)}}function Ju(t){var e=function(t,e){if(\"object\"!=Zu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Zu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Zu(e)?e:String(e)}function Ku(){return Ku=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xu(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ku.apply(this,arguments)}function qu(t,e){return qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qu(t,e)}function Xu(t){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xu(t)}const Qu=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&qu(t,e)}(u,e);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xu(o);if(s){var r=Xu(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Zu(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:\"platformId\",get:function(){return t.POKI}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),xt(\"https://game-cdn.poki.com/scripts/v2/poki-sdk.js\").then((function(){Ut(\"PokiSDK\",\"init\").then((function(){t._platformSdk=window.PokiSDK,t._platformSdk.init().then((function(){t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)}))}))}))),e.promise}},{key:\"sendMessage\",value:function(t){switch(t){case h.GAME_READY:return this._platformSdk.gameLoadingFinished(),Promise.resolve();case h.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case h.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();default:return Ku(Xu(u.prototype),\"sendMessage\",this).call(this,t)}}},{key:\"showInterstitial\",value:function(){var t=this,e=!1;this._platformSdk.commercialBreak((function(){e=!0,t._setInterstitialState(i.OPENED)})).then((function(){e?t._setInterstitialState(i.CLOSED):t._setInterstitialState(i.FAILED)})).catch((function(e){t._setInterstitialState(i.FAILED,e)}))}},{key:\"showRewarded\",value:function(){var t=this,e=!1;this._platformSdk.rewardedBreak((function(){e=!0,t._setRewardedState(a.OPENED)})).then((function(r){e?(r&&t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)):t._setRewardedState(a.FAILED)})).catch((function(e){t._setRewardedState(a.FAILED,e)}))}}])&&Yu(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(fo);function $u(t){return $u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},$u(t)}function tl(){tl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(t,r,s)}),a}function f(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",h=\"suspendedYield\",d=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==$u(l)&&n.call(l,\"__await\")?e.resolve(l.__await).then((function(t){r(\"next\",t,a,s)}),(function(t){r(\"throw\",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r(\"throw\",t,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===d)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=d;var u=f(e,r,n);if(\"normal\"===u.type){if(o=n.done?y:h,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,\"throw\"===n&&e.iterator.return&&(r.method=\"return\",r.arg=t,T(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,e.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||\"\"===e){var r=e[a];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError($u(e)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===_||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,\"GeneratorFunction\")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},w(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type=\"throw\",s.arg=e,r.next=n,o&&(r.method=\"next\",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),m}},e}function el(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function rl(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){el(i,n,o,a,s,\"next\",t)}function s(t){el(i,n,o,a,s,\"throw\",t)}a(void 0)}))}}function nl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ol(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nl(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=al(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function il(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,al(n.key),n)}}function al(t){var e=function(t,e){if(\"object\"!=$u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=$u(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==$u(e)?e:String(e)}function sl(){return sl=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ll(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},sl.apply(this,arguments)}function cl(t,e){return cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cl(t,e)}function ul(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function ll(t){return ll=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ll(t)}function fl(t,e){hl(t,e),e.add(t)}function pl(t,e,r){hl(t,e),e.set(t,r)}function hl(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function dl(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,vl(t,e,\"set\"),r),r}function yl(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function ml(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,vl(t,e,\"get\"))}function vl(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var _l=new WeakMap,gl=new WeakMap,Sl=new WeakSet,bl=new WeakSet,El=new WeakSet,Pl=new WeakSet;function wl(){var t=this;return ml(this,_l)?new Promise((function(e){ml(t,_l).requestOutOfPageAd(\"interstitial\").then((function(r){switch(r.state){case\"empty\":return void t._advertisementShowErrorPopup(!1).then((function(){return e()}));case\"ready\":t._setInterstitialState(i.OPENED),r.show()}r.addEventListener(\"ready\",(function(){t._setInterstitialState(i.OPENED),r.show()})),r.addEventListener(\"empty\",(function(){t._advertisementShowErrorPopup(!1).then((function(){return e()}))})),r.addEventListener(\"closed\",(function(){t._setInterstitialState(i.CLOSED),e()}))}))})):this._advertisementShowErrorPopup(!1)}function Al(){var t=this;return ml(this,_l)?new Promise((function(e){ml(t,_l).requestOutOfPageAd(\"rewarded\").then((function(r){switch(r.state){case\"empty\":return void t._advertisementShowErrorPopup(!0).then((function(){return e()}));case\"ready\":t._setRewardedState(a.OPENED),r.show()}r.addEventListener(\"ready\",(function(){t._setRewardedState(a.OPENED),r.show()})),r.addEventListener(\"rewarded\",(function(){t._setRewardedState(a.REWARDED)})),r.addEventListener(\"empty\",(function(){t._advertisementShowErrorPopup(!0).then((function(){return e()}))})),r.addEventListener(\"closed\",(function(){t._setRewardedState(a.CLOSED),e()}))}))})):this._advertisementShowErrorPopup(!0)}function Ol(t){t?(this._isPlayerAuthorized=!0,this._playerId=t.playerId,this._playerName=t.playerDisplayName,this._playerExtra=t,dl(this,gl,\"personal\"===t.userAccountType.toLowerCase())):this._playerApplyGuestData()}function Tl(t){return kl.apply(this,arguments)}function kl(){return kl=rl(tl().mark((function t(e){var r,n=arguments;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1],this._platformStorageCachedData){t.next=5;break}return t.next=4,this.platformSdk.cloudSave.getDataAsync({gameId:this._options.gameId});case 4:this._platformStorageCachedData=t.sent;case 5:return t.abrupt(\"return\",zt(e,this._platformStorageCachedData,r));case 6:case\"end\":return t.stop()}}),t,this)}))),kl.apply(this,arguments)}const Dl=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&cl(t,e)}(d,e);var r,n,o,c,l,f,p,h=(f=d,p=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ll(f);if(p){var r=ll(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===$u(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return ul(t)}(this,t)});function d(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,d);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return fl(ul(t=h.call.apply(h,[this].concat(r))),Pl),fl(ul(t),El),fl(ul(t),bl),fl(ul(t),Sl),pl(ul(t),_l,{writable:!0,value:null}),pl(ul(t),gl,{writable:!0,value:!1}),t}return r=d,n=[{key:\"platformId\",get:function(){return t.MSN}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return m}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return ml(this,gl)}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);if(!e){var r;e=this._createPromiseDecorator(_.INITIALIZE),xt(\"https://assets.msn.com/staticsb/statics/latest/msstart-games-sdk/msstart-v1.0.0-rc.21.min.js\").then((function(){return Ut(\"$msstart\")})).then((function(){t._platformSdk=window.$msstart,t._platformSdk.getSignedInUserAsync().then((function(e){yl(t,El,Ol).call(t,e)})).catch((function(){yl(t,El,Ol).call(t,null)})).finally((function(){t._defaultStorageType=t._isPlayerAuthorized?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE,t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)}))}));var n=null===(r=this._options)||void 0===r||null===(r=r.advertisement)||void 0===r?void 0:r.backfillId;n&&xt(\"https://playgama.com/ads/msn.v0.1.js\").then((function(){return Ut(\"pgAds\")})).then((function(){window.pgAds.init(n).then((function(){dl(t,_l,window.pgAds);var e=t._options.gameId;ml(t,_l).updateTargeting({gameId:e})}))}))}return e.promise}},{key:\"authorizePlayer\",value:function(){var t=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(e,r){t._platformSdk.signInAsync().then((function(r){yl(t,El,Ol).call(t,r),e()})).catch((function(e){yl(t,El,Ol).call(t,null),r(e)}))}))}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||sl(ll(d.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:sl(ll(d.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?yl(this,Pl,Tl).call(this,t,r):Promise.reject():sl(ll(d.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;return r===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?ol({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n.platformSdk.cloudSave.saveDataAsync({data:i,gameId:n._options.gameId}).then((function(){n._platformStorageCachedData=i,r()})).catch((function(t){o(t)}))})):Promise.reject():sl(ll(d.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?new Promise((function(e,n){var o={};if(Array.isArray(t))for(var i=0;i<t.length;i++)o[t[i]]=null,delete r._platformStorageCachedData[t[i]];else o[t]=null,delete r._platformStorageCachedData[t];r.platformSdk.cloudSave.saveDataAsync({data:o,gameId:r._options.gameId}).then((function(){e()})).catch((function(t){n(t)}))})):Promise.reject():sl(ll(d.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"share\",value:function(t){var e=this;return new Promise((function(r,n){e._platformSdk.shareAsync(t).then(r).catch(n)}))}},{key:\"leaderboardsSetScore\",value:function(t,e){var r=this;return new Promise((function(t,n){r._platformSdk.submitGameResultsAsync(e).then(t).catch(n)}))}},{key:\"showBanner\",value:function(t){var e,r=this;e=\"top\"===t?\"top:728x90\":\"bottom:320x50\",this._platformSdk.showDisplayAdsAsync([e]).then((function(){r._setBannerState(s.SHOWN)})).catch((function(){r._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var t=this;this._platformSdk.hideDisplayAdsAsync().then((function(){t._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var t=this;this._platformSdk.loadAdsAsync(!1).then((function(e){return t._platformSdk.showAdsAsync(e.instanceId)})).then((function(e){return t._setInterstitialState(i.OPENED),e.showAdsCompletedAsync})).then((function(){return t._setInterstitialState(i.CLOSED)})).catch((function(){return yl(t,Sl,wl).call(t)}))}},{key:\"showRewarded\",value:function(){var t=this;this._platformSdk.loadAdsAsync(!0).then((function(e){return t._platformSdk.showAdsAsync(e.instanceId)})).then((function(e){return t._setRewardedState(a.OPENED),e.showAdsCompletedAsync})).then((function(){t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)})).catch((function(){return yl(t,bl,Al).call(t)}))}},{key:\"paymentsPurchase\",value:(l=rl(tl().mark((function t(e){var r,n,o,i;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this._paymentsGetProductPlatformData(e)){t.next=3;break}return t.abrupt(\"return\",Promise.reject());case 3:if(n=this._getPromiseDecorator(_.PURCHASE)){t.next=23;break}if(n=this._createPromiseDecorator(_.PURCHASE),t.prev=6,this._isPlayerAuthorized){t.next=10;break}return t.next=10,this.authorizePlayer();case 10:return t.next=12,this._platformSdk.iap.purchaseAsync({productId:r.platformProductId});case 12:if(\"IAP_PURCHASE_FAILURE\"!==(o=t.sent).code){t.next=15;break}throw new Error(o.description);case 15:i=ol(ol({id:e},o.receipt),{},{receiptSignature:o.receiptSignature}),this._paymentsPurchases.push(i),this._resolvePromiseDecorator(_.PURCHASE,i),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(6),this._rejectPromiseDecorator(_.PURCHASE,t.t0);case 23:return t.abrupt(\"return\",n.promise);case 24:case\"end\":return t.stop()}}),t,this,[[6,20]])}))),function(t){return l.apply(this,arguments)})},{key:\"paymentsConsumePurchase\",value:(c=rl(tl().mark((function t(e){var r,n,o,i;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=this._paymentsPurchases.findIndex((function(t){return t.id===e})))<0)){t.next=3;break}return t.abrupt(\"return\",Promise.reject());case 3:if(n=this._getPromiseDecorator(_.CONSUME_PURCHASE)){t.next=24;break}if(n=this._createPromiseDecorator(_.CONSUME_PURCHASE),t.prev=6,this._isPlayerAuthorized){t.next=10;break}return t.next=10,this.authorizePlayer();case 10:return t.next=12,this._platformSdk.iap.consumeAsync({productId:this._paymentsPurchases[r].productId});case 12:if(\"IAP_CONSUME_FAILURE\"!==(o=t.sent).code){t.next=15;break}throw new Error(o.description);case 15:this._paymentsPurchases.splice(r,1),delete(i=ol(ol({id:e},o.consumptionReceipt),{},{consumptionSignature:o.consumptionSignature})).productId,this._resolvePromiseDecorator(_.CONSUME_PURCHASE,i),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(6),this._rejectPromiseDecorator(_.CONSUME_PURCHASE,t.t0);case 24:return t.abrupt(\"return\",n.promise);case 25:case\"end\":return t.stop()}}),t,this,[[6,21]])}))),function(t){return c.apply(this,arguments)})},{key:\"paymentsGetCatalog\",value:function(){var t=this,e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var r=this._getPromiseDecorator(_.GET_CATALOG);return r||(r=this._createPromiseDecorator(_.GET_CATALOG),this._platformSdk.iap.getAllAddOnsAsync({productId:this._options.gameId}).then((function(r){if(\"IAP_GET_ALL_ADD_ONS_FAILURE\"!==r.code){var n=e.map((function(t){var e=r.find((function(e){return e.productId===t.platformProductId}));return{id:t.id,title:e.title,description:e.description,publisherName:e.publisherName,inAppOfferToken:e.inAppOfferToken,isConsumable:e.isConsumable,price:\"\".concat(e.price.listPrice,\" \").concat(e.price.currencyCode,\" \"),priceCurrencyCode:e.price.currencyCode,priceValue:e.price.listPrice}}));t._resolvePromiseDecorator(_.GET_CATALOG,n)}else t._rejectPromiseDecorator(_.GET_CATALOG,r.description)})).catch((function(e){t._rejectPromiseDecorator(_.GET_CATALOG,e)}))),r.promise}},{key:\"paymentsGetPurchases\",value:(o=rl(tl().mark((function t(){var e,r,n;return tl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this._getPromiseDecorator(_.GET_PURCHASES)){t.next=20;break}if(e=this._createPromiseDecorator(_.GET_PURCHASES),t.prev=3,this._isPlayerAuthorized){t.next=7;break}return t.next=7,this.authorizePlayer();case 7:return t.next=9,this._platformSdk.iap.getAllPurchasesAsync({productId:this._options.gameId});case 9:if(\"IAP_GET_ALL_PURCHASES_FAILURE\"!==(r=t.sent).code){t.next=12;break}throw new Error(r.description);case 12:n=this._paymentsGetProductsPlatformData(),this._paymentsPurchases=r.receipts.map((function(t){return ol(ol({id:n.find((function(e){return e.platformProductId===t.productId})).id},t),{},{receiptSignature:r.receiptSignature})})),this._resolvePromiseDecorator(_.GET_PURCHASES,this._paymentsPurchases),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),this._rejectPromiseDecorator(_.GET_PURCHASES,t.t0);case 20:return t.abrupt(\"return\",e.promise);case 21:case\"end\":return t.stop()}}),t,this,[[3,17]])}))),function(){return o.apply(this,arguments)})}],n&&il(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),d}(fo);function Il(t){return Il=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Il(t)}function Rl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ll(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rl(Object(r),!0).forEach((function(e){xl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function jl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Hl(n.key),n)}}function Nl(){return Nl=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ml(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Nl.apply(this,arguments)}function Cl(t,e){return Cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cl(t,e)}function Gl(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Ml(t){return Ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ml(t)}function Bl(t,e){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.add(t)}function xl(t,e,r){return(e=Hl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hl(t){var e=function(t,e){if(\"object\"!=Il(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Il(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Il(e)?e:String(e)}function Fl(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Ul=new WeakSet,Vl=new WeakSet,Wl=new WeakSet,zl=new WeakSet,Zl=new WeakSet,Yl=new WeakSet,Jl=new WeakSet,Kl=new WeakSet,ql=new WeakSet,Xl=new WeakSet,Ql=new WeakSet,$l=new WeakSet,tf=new WeakSet;function ef(t,e){var r;r=JSON.stringify({action:t,data:e}),window.system&&window.system[Bt](r)}function rf(){if(window.system){var t=this;window.system.onmessage=function(e){try{var r=JSON.parse(e),n=r.action,o=r.data;n===_.INITIALIZE?Fl(t,Wl,nf).call(t,o):n===_.AUTHORIZE_PLAYER?Fl(t,zl,of).call(t,o):n===_.SET_INTERSTITIAL_STATE?Fl(t,Zl,af).call(t,o):n===_.SET_REWARDED_STATE?Fl(t,Yl,sf).call(t,o):n===_.GET_CATALOG?Fl(t,Jl,cf).call(t,o):n===_.PURCHASE?Fl(t,Kl,uf).call(t,o):n===_.CONSUME_PURCHASE?Fl(t,ql,lf).call(t,o):n===_.GET_PURCHASES?Fl(t,Xl,ff).call(t,o):n===_.GET_STORAGE_DATA?Fl(t,Ql,pf).call(t,o):n===_.SET_STORAGE_DATA?Fl(t,$l,hf).call(t,o):n===_.DELETE_STORAGE_DATA&&Fl(t,tf,df).call(t,o)}catch(t){console.error(\"Error parsing Huawei message:\",t)}}}}function nf(t){t.success?(this._isInitialized=!0,this._resolvePromiseDecorator(_.INITIALIZE,t)):this._rejectPromiseDecorator(_.INITIALIZE,new Error(t))}function of(t){if(!t.success)return this._playerApplyGuestData(),void this._rejectPromiseDecorator(_.AUTHORIZE_PLAYER,new Error(t));this._playerId=t.playerId,this._playerName=t.playerName,this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(_.AUTHORIZE_PLAYER)}function af(t){Object.values(i).includes(t.state)&&this._setInterstitialState(t.state,t.state===i.FAILED?new Error(t):void 0)}function sf(t){Object.values(a).includes(t.state)&&this._setRewardedState(t.state,t.state===a.FAILED?new Error(t):void 0)}function cf(t){if(t.success){var e=this._paymentsGetProductsPlatformData().map((function(e){var r=t.data.find((function(t){return t.productId===e.id}));return{id:e.id,title:r.productName,description:r.productDesc,price:r.price,priceCurrencyCode:r.currency,priceValue:1e-6*r.microsPrice,subSpecialPeriodCycles:r.subSpecialPeriodCycles,subProductLevel:r.subProductLevel,priceType:r.priceType}}));this._resolvePromiseDecorator(_.GET_CATALOG,e)}else this._rejectPromiseDecorator(_.GET_CATALOG,new Error(t))}function uf(t){if(t.success){var e=t.data,r=Ll({id:t.id},e);delete r.productId,this._paymentsPurchases.push(r),this._resolvePromiseDecorator(_.PURCHASE,r)}else this._rejectPromiseDecorator(_.PURCHASE,new Error(t))}function lf(t){if(t.success){var e=this._paymentsPurchases.findIndex((function(e){return e.purchaseToken===t.purchaseToken}));e>=0&&this._paymentsPurchases.splice(e,1),this._resolvePromiseDecorator(_.CONSUME_PURCHASE,t)}else this._rejectPromiseDecorator(_.CONSUME_PURCHASE,new Error(t))}function ff(t){if(t.success){var e=this._paymentsGetProductsPlatformData();this._paymentsPurchases=t.data.map((function(t){var r=JSON.parse(t),n=Ll({id:e.find((function(t){return t.id===r.productId})).id},r);return delete n.productId,n})),this._resolvePromiseDecorator(_.GET_PURCHASES,this._paymentsPurchases)}else this._rejectPromiseDecorator(_.GET_PURCHASES,new Error(t))}function pf(t){t.success?this._resolvePromiseDecorator(_.GET_STORAGE_DATA,t.data):this._rejectPromiseDecorator(_.GET_STORAGE_DATA,new Error(t))}function hf(t){t.success?this._resolvePromiseDecorator(_.SET_STORAGE_DATA,t.data):this._rejectPromiseDecorator(_.SET_STORAGE_DATA,new Error(t))}function df(t){t.success?this._resolvePromiseDecorator(_.DELETE_STORAGE_DATA,t.data):this._rejectPromiseDecorator(_.DELETE_STORAGE_DATA,new Error(t))}const yf=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Cl(t,e)}(s,e);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ml(o);if(i){var r=Ml(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Il(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Gl(t)}(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Bl(Gl(t=a.call.apply(a,[this].concat(r))),tf),Bl(Gl(t),$l),Bl(Gl(t),Ql),Bl(Gl(t),Xl),Bl(Gl(t),ql),Bl(Gl(t),Kl),Bl(Gl(t),Jl),Bl(Gl(t),Yl),Bl(Gl(t),Zl),Bl(Gl(t),zl),Bl(Gl(t),Wl),Bl(Gl(t),Vl),Bl(Gl(t),Ul),xl(Gl(t),\"_defaultStorageType\",u.PLATFORM_INTERNAL),t}return r=s,(n=[{key:\"platformId\",get:function(){return t.HUAWEI}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!0}},{key:\"initialize\",value:function(){if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(_.INITIALIZE);return t||(t=this._createPromiseDecorator(_.INITIALIZE),this._options&&this._options.appId?(this._appId=this._options.appId,Fl(this,Vl,rf).call(this),Fl(this,Ul,ef).call(this,_.INITIALIZE,this._appId)):this._rejectPromiseDecorator(_.INITIALIZE,g.GAME_PARAMS_NOT_FOUND)),t.promise}},{key:\"authorizePlayer\",value:function(){var t=this._getPromiseDecorator(_.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(_.AUTHORIZE_PLAYER),Fl(this,Ul,ef).call(this,_.AUTHORIZE_PLAYER)),t.promise}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||Nl(Ml(s.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL||Nl(Ml(s.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"setDataToStorage\",value:function(t,e,r){if(r!==u.PLATFORM_INTERNAL)return Nl(Ml(s.prototype),\"setDataToStorage\",this).call(this,t,e,r);var n=this._getPromiseDecorator(_.SET_STORAGE_DATA);return n||(n=this._createPromiseDecorator(_.SET_STORAGE_DATA),Fl(this,Ul,ef).call(this,_.SET_STORAGE_DATA,{key:t,value:e})),n.promise}},{key:\"getDataFromStorage\",value:function(t,e){if(e!==u.PLATFORM_INTERNAL)return Nl(Ml(s.prototype),\"getDataFromStorage\",this).call(this,t,e);var r=this._getPromiseDecorator(_.GET_STORAGE_DATA);return r||(r=this._createPromiseDecorator(_.GET_STORAGE_DATA),Fl(this,Ul,ef).call(this,_.GET_STORAGE_DATA,t)),r.promise}},{key:\"deleteDataFromStorage\",value:function(t,e){if(e!==u.PLATFORM_INTERNAL)return Nl(Ml(s.prototype),\"deleteDataFromStorage\",this).call(this,t,e);var r=this._getPromiseDecorator(_.DELETE_STORAGE_DATA);return r||(r=this._createPromiseDecorator(_.DELETE_STORAGE_DATA),Fl(this,Ul,ef).call(this,_.DELETE_STORAGE_DATA,t)),r.promise}},{key:\"showInterstitial\",value:function(t){Fl(this,Ul,ef).call(this,_.SHOW_INTERSTITIAL,t)}},{key:\"showRewarded\",value:function(t){Fl(this,Ul,ef).call(this,_.SHOW_REWARDED,t)}},{key:\"paymentsPurchase\",value:function(t){if(!this._paymentsGetProductPlatformData(t))return Promise.reject();var e=this._getPromiseDecorator(_.PURCHASE);return e||(e=this._createPromiseDecorator(_.PURCHASE),Fl(this,Ul,ef).call(this,_.PURCHASE,t)),e.promise}},{key:\"paymentsConsumePurchase\",value:function(t){var e=this._paymentsPurchases.findIndex((function(e){return e.id===t}));if(e<0)return Promise.reject();var r=this._getPromiseDecorator(_.CONSUME_PURCHASE);return r||(r=this._createPromiseDecorator(_.CONSUME_PURCHASE),Fl(this,Ul,ef).call(this,_.CONSUME_PURCHASE,this._paymentsPurchases[e].purchaseToken)),r.promise}},{key:\"paymentsGetCatalog\",value:function(){var t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var e=this._getPromiseDecorator(_.GET_CATALOG);return e||(e=this._createPromiseDecorator(_.GET_CATALOG),Fl(this,Ul,ef).call(this,_.GET_CATALOG,t.map((function(t){return t.id})))),e.promise}},{key:\"paymentsGetPurchases\",value:function(){var t=this._getPromiseDecorator(_.GET_PURCHASES);return t||(t=this._createPromiseDecorator(_.GET_PURCHASES),Fl(this,Ul,ef).call(this,_.GET_PURCHASES)),t.promise}}])&&jl(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(fo);function mf(t){return mf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},mf(t)}function vf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vf(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Pf(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function gf(){gf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(t,r,s)}),a}function f(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",h=\"suspendedYield\",d=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==mf(l)&&n.call(l,\"__await\")?e.resolve(l.__await).then((function(t){r(\"next\",t,a,s)}),(function(t){r(\"throw\",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r(\"throw\",t,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===d)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=d;var u=f(e,r,n);if(\"normal\"===u.type){if(o=n.done?y:h,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,\"throw\"===n&&e.iterator.return&&(r.method=\"return\",r.arg=t,T(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,e.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||\"\"===e){var r=e[a];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(mf(e)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===_||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,\"GeneratorFunction\")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},w(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type=\"throw\",s.arg=e,r.next=n,o&&(r.method=\"next\",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),m}},e}function Sf(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function bf(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Sf(i,n,o,a,s,\"next\",t)}function s(t){Sf(i,n,o,a,s,\"throw\",t)}a(void 0)}))}}function Ef(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Pf(n.key),n)}}function Pf(t){var e=function(t,e){if(\"object\"!=mf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=mf(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==mf(e)?e:String(e)}function wf(){return wf=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tf(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},wf.apply(this,arguments)}function Af(t,e){return Af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Af(t,e)}function Of(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Tf(t){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tf(t)}var kf=new WeakSet;function Df(){var t=this,e={loading:a.LOADING,opened:a.OPENED,closed:a.CLOSED,failed:a.FAILED,rewarded:a.REWARDED},r={loading:i.LOADING,opened:i.OPENED,closed:i.CLOSED,failed:i.FAILED},n={loading:s.LOADING,shown:s.SHOWN,hidden:s.HIDDEN,failed:s.FAILED};this._platformSdk.advertisement.on(\"REWARDED_STATE_CHANGED\",(function(r){var n=e[r];n&&(t._setRewardedState(n),n===a.REWARDED&&t._setRewardedState(a.CLOSED))})),this._platformSdk.advertisement.on(\"INTERSTITIAL_STATE_CHANGED\",(function(e){var n=r[e];n&&t._setInterstitialState(n)})),this._platformSdk.advertisement.on(\"BANNER_STATE_CHANGED\",(function(e){var r=n[e];r&&t._setBannerState(r)}))}const If=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Af(t,e)}(l,e);var r,n,o,i,a,s,c=(a=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tf(a);if(s){var r=Tf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===mf(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Of(t)}(this,t)});function l(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e=Of(t=c.call.apply(c,[this].concat(o))),r=kf),r.add(e),t}return r=l,n=[{key:\"platformId\",get:function(){return t.BITQUEST}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return y}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);if(!e){var r;switch(e=this._createPromiseDecorator(_.INITIALIZE),new URLSearchParams(window.location.search).get(\"target\")){case\"prod\":default:r=\"https://app.bitquest.games/bqsdk.min.js\";break;case\"stage\":r=\"https://app-stage.bitquest.games/bqsdk.min.js\";break;case\"bank\":r=\"https://app-global.memebeat.io/bqsdk.min.js\"}xt(r).then((function(){Ut(\"bq\").then((function(){t._platformSdk=window.bq,t._platformSdk.initialize().then((function(){t._platformSdk.platform.sendMessage(\"game_ready\");var e=t._platformSdk.player,r=e.id,n=void 0===r?null:r,o=e.name,i=void 0===o?\"\":o;t._playerId=n,t._playerName=i,t._isPlayerAuthorized=!0,t._defaultStorageType=u.PLATFORM_INTERNAL,t._playerExtra=e,function(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}(t,kf,Df).call(t),t.showPreRoll(),t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)})).catch((function(e){t._rejectPromiseDecorator(_.INITIALIZE,e)}))}))}))}return e.promise}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||wf(Tf(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL||wf(Tf(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;if(e===u.PLATFORM_INTERNAL){if(Array.isArray(t)){var o=t.map((function(t){return n._platformSdk.storage.get(t,\"platform_internal\").then((function(t){var e=t;if(r&&\"string\"==typeof t)try{e=JSON.parse(t)}catch(t){}return e}))}));return Promise.all(o)}return this._platformSdk.storage.get(t,\"platform_internal\").then((function(t){var e=t;if(r&&\"string\"==typeof t)try{e=JSON.parse(t)}catch(t){}return e}))}return wf(Tf(l.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:(i=bf(gf().mark((function t(e,r,n){return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==u.PLATFORM_INTERNAL){t.next=4;break}return t.next=3,this._platformSdk.storage.set(e,r,\"platform_internal\");case 3:return t.abrupt(\"return\");case 4:return t.next=6,wf(Tf(l.prototype),\"setDataToStorage\",this).call(this,e,r,n);case 6:case\"end\":return t.stop()}}),t,this)}))),function(t,e,r){return i.apply(this,arguments)})},{key:\"deleteDataFromStorage\",value:(o=bf(gf().mark((function t(e,r){var n;return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r!==u.PLATFORM_INTERNAL){t.next=13;break}if(!Array.isArray(e)){t.next=10;break}n=0;case 3:if(!(n<e.length)){t.next=9;break}return t.next=6,this._platformSdk.storage.delete(e[n],\"platform_internal\");case 6:n++,t.next=3;break;case 9:return t.abrupt(\"return\");case 10:return t.next=12,this._platformSdk.storage.delete(e,\"platform_internal\");case 12:return t.abrupt(\"return\");case 13:return t.next=15,wf(Tf(l.prototype),\"deleteDataFromStorage\",this).call(this,e,r);case 15:case\"end\":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:\"showRewarded\",value:function(){this._platformSdk.advertisement.showRewarded()}},{key:\"showInterstitial\",value:function(){this._platformSdk.advertisement.showInterstitial()}},{key:\"showPreRoll\",value:function(){this._platformSdk.advertisement.showPreRoll()}},{key:\"showBanner\",value:function(){this._platformSdk.advertisement.showBanner()}},{key:\"hideBanner\",value:function(){this._platformSdk.advertisement.hideBanner()}},{key:\"paymentsPurchase\",value:function(t){var e=this,r=this._getPromiseDecorator(_.PURCHASE);return r||(r=this._createPromiseDecorator(_.PURCHASE),this._platformSdk.payment.purchase(t).then((function(r){var n=_f({id:t},r.purchaseData);delete n.productID,e._paymentsPurchases.push(n),e._resolvePromiseDecorator(_.PURCHASE,n)})).catch((function(t){e._rejectPromiseDecorator(_.PURCHASE,t)}))),r.promise}},{key:\"paymentsGetCatalog\",value:function(){var t,e=this,r=this._paymentsGetProductsPlatformData();if(!r||!Array.isArray(r)||0===r.length)return Promise.reject(new Error(\"No platform products available\"));if(!this._isInitialized||null===(t=this._platformSdk)||void 0===t||!t.payment)return Promise.reject(new Error(\"SDK not initialized or payment not available\"));var n=this._getPromiseDecorator(_.GET_CATALOG);return n||(n=this._createPromiseDecorator(_.GET_CATALOG),this._platformSdk.payment.getCatalog().then((function(t){if(!Array.isArray(t))throw new Error(\"Catalog response is not an array\");var n=r.map((function(e){var r=t.find((function(t){return t.purchaseId===e.id}));return r?{id:e.id,name:r.name,description:r.description,price:r.priceValue,priceCurrencyCode:r.currencyCode,priceValue:r.price}:null})).filter(Boolean);e._resolvePromiseDecorator(_.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(_.GET_CATALOG,t)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(t){var e=this,r=this._paymentsPurchases.findIndex((function(e){return e.id===t}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(_.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(_.CONSUME_PURCHASE),this._platformSdk.payment.consumePurchase(t).then((function(){e._paymentsPurchases.splice(r,1),e._resolvePromiseDecorator(_.CONSUME_PURCHASE,{id:t})})).catch((function(t){e._rejectPromiseDecorator(_.CONSUME_PURCHASE,t)}))),n.promise}},{key:\"paymentsGetPurchases\",value:function(){var t=this,e=this._getPromiseDecorator(_.GET_PURCHASES);return e||(e=this._createPromiseDecorator(_.GET_PURCHASES),this._platformSdk.payment.getPurchases().then((function(e){var r=null==e?void 0:e.purchases,n=t._paymentsGetProductsPlatformData();t._paymentsPurchases=r.map((function(t){var e=n.find((function(e){return e.id===t.purchaseId}));if(!e)return null;var r=_f({id:e.id},t);return delete r.purchaseId,r})).filter(Boolean),t._resolvePromiseDecorator(_.GET_PURCHASES,t._paymentsPurchases)})).catch((function(e){t._rejectPromiseDecorator(_.GET_PURCHASES,e)}))),e.promise}},{key:\"leaderboardsSetScore\",value:function(t,e){var r=this,n=this._getPromiseDecorator(_.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(_.LEADERBOARDS_SET_SCORE);var o=\"number\"==typeof e?e:parseInt(e,10);this._platformSdk.leaderboard.setScore(t,o).then((function(){r._resolvePromiseDecorator(_.LEADERBOARDS_SET_SCORE)})).catch((function(t){r._rejectPromiseDecorator(_.LEADERBOARDS_SET_SCORE,t)}))}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(t){var e=this,r=this._getPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES);return r||(r=this._createPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES),this._platformSdk.leaderboard.getEntries(t).then((function(t){var r=Array.isArray(t)?t:t.entries||t.data||[];e._resolvePromiseDecorator(_.LEADERBOARDS_GET_ENTRIES,r)})).catch((function(t){e._rejectPromiseDecorator(_.LEADERBOARDS_GET_ENTRIES,t)}))),r.promise}},{key:\"getServerTime\",value:function(){var t=this;return new Promise((function(e){e(t._platformSdk.platform.getServerTime())}))}}],n&&Ef(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function Rf(t){return Rf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Rf(t)}function Lf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Mf(n.key),n)}}function jf(t,e){return jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jf(t,e)}function Nf(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cf(t)}function Gf(t,e){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.add(t)}function Mf(t){var e=function(t,e){if(\"object\"!=Rf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Rf(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Rf(e)?e:String(e)}function Bf(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}var xf=new WeakSet,Hf=new WeakSet,Ff=new WeakSet;function Uf(){var t=this;this._platformSdk.ads.on(\"rewarded:start\",(function(){t._setRewardedState(a.OPENED)})),this._platformSdk.ads.on(\"rewarded:close\",(function(e){e||t._setRewardedState(a.FAILED)})),this._platformSdk.ads.on(\"rewarded:reward\",(function(){t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)}))}function Vf(){var t=this;this._platformSdk.ads.on(\"fullscreen:start\",(function(){t._setInterstitialState(i.OPENED)})),this._platformSdk.ads.on(\"fullscreen:close\",(function(){t._setInterstitialState(i.CLOSED)}))}function Wf(){var t=this;this._platformSdk.ads.on(\"sticky:render\",(function(){t._setBannerState(s.SHOWN)})),this._platformSdk.ads.on(\"sticky:close\",(function(){t._setBannerState(s.HIDDEN)}))}const zf=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&jf(t,e)}(c,e);var r,n,o,i,s=(o=c,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cf(o);if(i){var r=Cf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Rf(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Nf(t)}(this,t)});function c(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,c);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Gf(Nf(t=s.call.apply(s,[this].concat(o))),Ff),Gf(Nf(t),Hf),Gf(Nf(t),xf),e=Nf(t),!0,(r=Mf(r=\"_isBannerSupported\"))in e?Object.defineProperty(e,r,{value:true,enumerable:!0,configurable:!0,writable:!0}):e[r]=true,t}return r=c,(n=[{key:\"platformId\",get:function(){return t.GAMEPUSH}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);if(!e)if(e=this._createPromiseDecorator(_.INITIALIZE),this._options&&this._options.projectId&&this._options.publicToken){var r=\"https://gamepush.com/sdk/game-score.js?projectId=\".concat(this._options.projectId,\"&publicToken=\").concat(this._options.publicToken);xt(r).then((function(){Ut(\"GamePush\").then((function(){var e;t._platformSdk=window.GamePush;var r=null===(e=t._platformSdk)||void 0===e?void 0:e.player;if(r){var n=r.id,o=void 0===n?null:n,i=r.name,a=void 0===i?\"\":i,s=r.avatar,c=void 0===s?\"\":s;t._isPlayerAuthorized=!0,t._playerId=o,t._playerName=a,c&&t._playerPhotos.push(c)}else t._playerApplyGuestData();t._isInitialized=!0,Bf(t,Hf,Vf).call(t),Bf(t,xf,Uf).call(t),Bf(t,Ff,Wf).call(t),t._resolvePromiseDecorator(_.INITIALIZE)}))}))}else this._rejectPromiseDecorator(_.INITIALIZE,g.GAME_PARAMS_NOT_FOUND);return e.promise}},{key:\"showInterstitial\",value:function(){this._platformSdk.ads.showFullscreen()}},{key:\"showRewarded\",value:function(){var t=this;this._platformSdk.ads.showRewardedVideo().catch((function(){t._setRewardedState(a.FAILED)}))}},{key:\"showBanner\",value:function(){this._platformSdk.ads.showSticky()}},{key:\"hideBanner\",value:function(){this._platformSdk.ads.closeSticky()}},{key:\"checkAdBlock\",value:function(){var t=this;return new Promise((function(e){t._platformSdk.ads.isAdblockEnabled().then((function(t){e(t)}))}))}}])&&Lf(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(fo);function Zf(t){return Zf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Zf(t)}function Yf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yf(Object(r),!0).forEach((function(e){$f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,tp(n.key),n)}}function qf(t,e){return qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qf(t,e)}function Xf(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qf(t)}function $f(t,e,r){return(e=tp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tp(t){var e=function(t,e){if(\"object\"!=Zf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Zf(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Zf(e)?e:String(e)}var ep=\"https://discord.com/api/v10\";const rp=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&qf(t,e)}(s,e);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qf(o);if(i){var r=Qf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Zf(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Xf(t)}(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return $f(Xf(t=a.call.apply(a,[this].concat(r))),\"_appId\",null),$f(Xf(t),\"_accessToken\",null),t}return r=s,(n=[{key:\"platformId\",get:function(){return t.DISCORD}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r=this._getPromiseDecorator(_.INITIALIZE);return r||(r=this._createPromiseDecorator(_.INITIALIZE),null!==(e=this._options)&&void 0!==e&&e.appId?(this._appId=this._options.appId,xt(\"/cdn/discord/discord-v2.0.0.min.js\").then((function(){Ut(\"discord\",\"DiscordSDK\").then((function(){return t._platformSdk=new window.discord.DiscordSDK(t._appId),t._platformSdk.ready()})).then((function(){t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)}))}))):this._rejectPromiseDecorator(_.INITIALIZE,g.DISCORD_GAME_PARAMS_NOT_FOUND)),r.promise}},{key:\"authorizePlayer\",value:function(t){var e=this,r=(null==t?void 0:t.scope)||[\"identify\"],n=this._getPromiseDecorator(_.AUTHORIZE_PLAYER);return n||(n=this._createPromiseDecorator(_.AUTHORIZE_PLAYER),this._platformSdk.commands.authorize({client_id:this._appId,response_type:\"code\",state:\"\",prompt:\"none\",scope:r}).then((function(t){var r=t.code;return fetch(\"\".concat(\"/api\",\"/discord/auth-token\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({code:r,appId:e._appId})})})).then((function(t){return t.json()})).then((function(t){return e._accessToken=t.accessToken,e._playerExtra={token:t.token,accessToken:e._accessToken,channelId:e._platformSdk.channelId},e._platformSdk.commands.authenticate({access_token:e._accessToken})})).then((function(t){if(null===t)throw e._playerApplyGuestData(),new Error(\"Authorization failed\");return fetch(\"\".concat(ep,\"/users/@me\"),{method:\"GET\",headers:{Authorization:\"Bearer \".concat(e._accessToken),\"Content-Type\":\"application/json\"}})})).then((function(t){return t.json()})).then((function(t){e._playerId=t.id,e._playerName=t.username,t.avatar&&e._playerPhotos.push(\"https://cdn.discordapp.com/avatars/\".concat(t.id,\"/\").concat(t.avatar,\".png\")),e._playerExtra=Jf(Jf({},e._playerExtra),t),e._isPlayerAuthorized=!0,e._resolvePromiseDecorator(_.AUTHORIZE_PLAYER)})).catch((function(t){e._playerApplyGuestData(),e._accessToken=null,e._rejectPromiseDecorator(_.AUTHORIZE_PLAYER,t)}))),n.promise}},{key:\"paymentsPurchase\",value:function(t){var e=this,r=this._paymentsGetProductPlatformData(t);if(!r)return Promise.reject();var n=this._getPromiseDecorator(_.PURCHASE);return n||(n=this._createPromiseDecorator(_.PURCHASE),this._platformSdk.commands.startPurchase({sku_id:r.platformProductId}).then((function(r){if(!r)throw new Error(\"Purchase failed\");var n=Jf({id:t},r);e._paymentsPurchases.push(n),e._resolvePromiseDecorator(_.PURCHASE,n)})).catch((function(t){e._rejectPromiseDecorator(_.PURCHASE,t)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(t){var e=this,r=this._paymentsPurchases.findIndex((function(e){return e.id===t}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(_.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(_.CONSUME_PURCHASE),fetch(\"\".concat(ep,\"/applications/\").concat(this._appId,\"/entitlements/\").concat(this._paymentsPurchases[r].purchaseToken,\"/consume\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(this._accessToken),\"Content-Type\":\"application/json\"},body:JSON.stringify({})}).then((function(){e._paymentsPurchases.splice(r,1),e._resolvePromiseDecorator(_.CONSUME_PURCHASE,{id:t})})).catch((function(t){e._rejectPromiseDecorator(_.CONSUME_PURCHASE,t)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var t=this,e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var r=this._getPromiseDecorator(_.GET_CATALOG);return r||(r=this._createPromiseDecorator(_.GET_CATALOG),this._platformSdk.commands.getSkus().then((function(r){var n=r.skus,o=e.map((function(t){var e,r,o=n.find((function(e){return e.id===t.platformProductId})),i=(r=window.discord.PriceUtils.formatPrice(o.price).replace(/[^\\d.,-]/g,\"\")).includes(\".\")&&r.includes(\",\")&&r.indexOf(\",\")<r.indexOf(\".\")?parseFloat(r.replace(/,/g,\"\")):r.includes(\".\")&&r.includes(\",\")&&r.indexOf(\",\")>r.indexOf(\".\")?parseFloat(r.replace(/\\./g,\"\").replace(\",\",\".\")):r.includes(\",\")&&-1!==r.lastIndexOf(\",\")&&r.lastIndexOf(\",\")===r.length-4?parseInt(r.replace(/,/,\"\"),10):r.includes(\",\")&&-1!==r.lastIndexOf(\",\")&&r.lastIndexOf(\",\")!==r.length-3?parseFloat(r.replace(\",\",\".\")):r.includes(\".\")&&-1!==r.lastIndexOf(\".\")&&r.lastIndexOf(\".\")===r.length-4?parseInt(r.replace(/\\./,\"\"),10):r.includes(\".\")?parseFloat(r):parseInt(r,10),a=null===(e=o.price)||void 0===e||null===(e=e.currency)||void 0===e?void 0:e.toUpperCase(),s=\"\".concat(i,\" \").concat(a);return{id:t.id,title:o.name,price:s,priceValue:i,priceCurrencyCode:a}}));t._resolvePromiseDecorator(_.GET_CATALOG,o)})).catch((function(e){t._rejectPromiseDecorator(_.GET_CATALOG,e)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var t=this,e=this._getPromiseDecorator(_.GET_PURCHASES);return e||(e=this._createPromiseDecorator(_.GET_PURCHASES),this._platformSdk.commands.getEntitlements().then((function(e){var r=t._paymentsGetProductsPlatformData();t._paymentsPurchases=e.entitlements.map((function(t){return Jf({id:r.find((function(e){return e.id===t.id})).id},t)})),t._resolvePromiseDecorator(_.GET_PURCHASES,t._paymentsPurchases)})).catch((function(e){t._rejectPromiseDecorator(_.GET_PURCHASES,e)}))),e.promise}},{key:\"inviteFriends\",value:function(){var t=this,e=this._getPromiseDecorator(_.INVITE_FRIENDS);return e||(e=this._createPromiseDecorator(_.INVITE_FRIENDS),this._platformSdk.commands.openInviteDialog().then((function(){t._resolvePromiseDecorator(_.INVITE_FRIENDS)})).catch((function(e){t._rejectPromiseDecorator(_.INVITE_FRIENDS,e)}))),e.promise}},{key:\"share\",value:function(t){var e=this;if(!t.mediaUrl)return Promise.reject();var r=this._getPromiseDecorator(_.SHARE);return r||(r=this._createPromiseDecorator(_.SHARE),this._platformSdk.commands.openShareMomentDialog({mediaUrl:t.mediaUrl}).then((function(){e._resolvePromiseDecorator(_.SHARE)})).catch((function(t){e._rejectPromiseDecorator(_.SHARE,t)}))),r.promise}}])&&Kf(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(fo);function np(t){return np=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},np(t)}function op(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ip(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?op(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=sp(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):op(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ap(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,sp(n.key),n)}}function sp(t){var e=function(t,e){if(\"object\"!=np(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=np(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==np(e)?e:String(e)}function cp(){return cp=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fp(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},cp.apply(this,arguments)}function up(t,e){return up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},up(t,e)}function lp(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fp(t)}function pp(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,hp(t,e,\"get\"))}function hp(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var dp=new WeakMap;const yp=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&up(t,e)}(l,e);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fp(o);if(s){var r=fp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===np(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return lp(t)}(this,t)});function l(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=lp(t=c.call.apply(c,[this].concat(i))),n={writable:!0,value:void 0},function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,r=dp),r.set(e,n),t}return r=l,(n=[{key:\"platformId\",get:function(){return t.YOUTUBE}},{key:\"platformLanguage\",get:function(){return pp(this,dp)?pp(this,dp):cp(fp(l.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return m}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),Ut(\"ytgame\").then((function(){t._platformSdk=window.ytgame,t._defaultStorageType=u.PLATFORM_INTERNAL;var e=t._platformSdk.system.getLanguage().then((function(e){var r,n,o;r=t,n=dp,o=e.length>2?e.slice(0,2):e,function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(r,hp(r,n,\"set\"),o)}));t._platformStorageCachedData={};var r=t._platformSdk.game.loadData().then((function(e){\"string\"==typeof e&&\"\"!==e&&(t._platformStorageCachedData=JSON.parse(e))}));t._platformSdk.system.onAudioEnabledChange((function(e){t._setAudioState(e)})),t._platformSdk.system.onPause((function(){t._setPauseState(!0)})),t._platformSdk.system.onResume((function(){t._setPauseState(!1)})),Promise.all([e,r]).finally((function(){t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE),t._platformSdk.game.firstFrameReady()}))}))),e.promise}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||cp(fp(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL||cp(fp(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,o){n._platformSdk.game.loadData().then((function(o){if(\"string\"==typeof o&&\"\"!==o&&(n._platformStorageCachedData=JSON.parse(o)),Array.isArray(t)){for(var i=[],a=0;a<t.length;a++){var s=void 0===n._platformStorageCachedData[t[a]]?null:n._platformStorageCachedData[t[a]];if(\"string\"==typeof s&&r)try{s=JSON.parse(s)}catch(t){}i.push(s)}e(i)}else{var c=void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t];if(\"string\"==typeof c&&r)try{c=JSON.parse(c)}catch(t){}e(c)}})).catch((function(){o()}))})):cp(fp(l.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?ip({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n._platformSdk.game.saveData(JSON.stringify(i)).then((function(){n._platformStorageCachedData=i,r()})).catch((function(t){o(t)}))})):cp(fp(l.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;return e===u.PLATFORM_INTERNAL?new Promise((function(e,n){var o=null!==r._platformStorageCachedData?ip({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];r._platformSdk.game.saveData(JSON.stringify(o)).then((function(){r._platformStorageCachedData=o,e()})).catch((function(t){n(t)}))})):cp(fp(l.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"sendMessage\",value:function(t){return t===h.GAME_READY?(this._platformSdk.game.gameReady(),Promise.resolve()):cp(fp(l.prototype),\"sendMessage\",this).call(this,t)}},{key:\"showInterstitial\",value:function(){var t=this;this._setInterstitialState(i.OPENED),this._platformSdk.ads.requestInterstitialAd().then((function(){t._setInterstitialState(i.CLOSED)})).catch((function(){t._setInterstitialState(i.FAILED)}))}},{key:\"showRewarded\",value:function(){var t=this;this._setRewardedState(a.OPENED),this._platformSdk.ads.requestInterstitialAd().then((function(){t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)})).catch((function(){t._setRewardedState(a.FAILED)}))}},{key:\"leaderboardsSetScore\",value:function(t,e,r){var n=this;if(!r)return Promise.reject();var o=this._getPromiseDecorator(_.LEADERBOARDS_SET_SCORE);if(!o){o=this._createPromiseDecorator(_.LEADERBOARDS_SET_SCORE);var i=\"string\"==typeof e?parseInt(e,10):e;this._platformSdk.engagement.sendScore({value:i}).then((function(){n._resolvePromiseDecorator(_.LEADERBOARDS_SET_SCORE)})).catch((function(t){n._rejectPromiseDecorator(_.LEADERBOARDS_SET_SCORE,t)}))}return o.promise}}])&&ap(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function mp(t){return mp=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},mp(t)}var vp=[\"gamer_id\",\"gamer_name\",\"gamer_avatar_url\"];function _p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,wp(n.key),n)}}function gp(t,e){return gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gp(t,e)}function Sp(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bp(t)}function Ep(t,e){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.add(t)}function Pp(t,e,r){return(e=wp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wp(t){var e=function(t,e){if(\"object\"!=mp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=mp(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==mp(e)?e:String(e)}function Ap(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Op=new WeakSet,Tp=new WeakSet;function kp(){var t=this,e=this;return this._preloadInterstitialPromise||(this._preloadInterstitialPromise=new Promise((function(r,n){var o;t._platformSdk.cacheAd((null===(o=window)||void 0===o?void 0:o.AdType.Interstitial)||\"Interstitial\",{onAdPrepared:r,onAdFailedToLoad:function(t){e._preloadInterstitialPromise=null,n(new Error(t))}})}))),this._preloadInterstitialPromise}function Dp(){var t=this,e=this;return this._preloadRewardedPromise||(this._preloadRewardedPromise=new Promise((function(r,n){var o;t._platformSdk.cacheAd((null===(o=window)||void 0===o?void 0:o.AdType.Rewarded)||\"Rewarded\",{onAdPrepared:r,onAdFailedToLoad:function(t){e._preloadRewardedPromise=null,n(new Error(t))}})}))),this._preloadRewardedPromise}const Ip=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&gp(t,e)}(l,e);var r,n,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bp(o);if(c){var r=bp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===mp(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Sp(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ep(Sp(t=u.call.apply(u,[this].concat(r))),Tp),Ep(Sp(t),Op),Pp(Sp(t),\"_preloadInterstitialPromise\",null),Pp(Sp(t),\"_preloadRewardedPromise\",null),Pp(Sp(t),\"_isBannerAvailable\",!1),t}return r=l,(n=[{key:\"platformId\",get:function(){return t.JIO_GAMES}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return m}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),window.onSdkReady=function(){if(t._platformSdk=window.JioGames,t._platformSdk.playerInfo){var e=t._platformSdk.playerInfo,r=e.gamer_id,n=e.gamer_name,o=e.gamer_avatar_url,i=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(e,vp);t.playerId=r||null,t.playerName=n||null,o&&t.playerPhotos.push(o),t.playerExtra=i,t._isPlayerAuthorized=!0}t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)},window.onBannerReady=function(){t._isBannerAvailable=!0},xt(\"https://jiogames.akamaized.net/gameSDK/jiogames/stable/v2.0/jiogames_sdk.js\",this._options.adTestMode?{\"data-jg-test-environment\":\"on\"}:{}).catch((function(e){t._rejectPromiseDecorator(_.INITIALIZE,JSON.stringify(e))}))),e.promise}},{key:\"preloadInterstitial\",value:function(){Ap(this,Op,kp).call(this)}},{key:\"showInterstitial\",value:function(){var t=this;Ap(this,Op,kp).call(this).then((function(){var e;t._platformSdk.showAd(null===(e=window.AdType)||void 0===e?void 0:e.Interstitial,{onAdClosed:function(){t._setInterstitialState(i.CLOSED)},onAdFailedToLoad:function(e){console.error(e),t._setInterstitialState(i.FAILED)}}),t._setInterstitialState(i.OPENED),t._preloadInterstitialPromise=null}))}},{key:\"preloadRewarded\",value:function(){Ap(this,Tp,Dp).call(this)}},{key:\"showRewarded\",value:function(){var t=this;Ap(this,Tp,Dp).call(this).then((function(){var e;t._platformSdk.showAd(null===(e=window.AdType)||void 0===e?void 0:e.Rewarded,{onAdClosed:function(e){e&&t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)},onAdFailedToLoad:function(e){console.error(e),t._setRewardedState(a.FAILED)}}),t._setRewardedState(a.OPENED),t._preloadRewardedPromise=null}))}},{key:\"showBanner\",value:function(t){var e,r=this;this._isBannerAvailable?null===(e=window.JGBanner)||void 0===e||e.loadBanner().then((function(){var e,n;r._setBannerState(s.SHOWN),null===(e=window.JGBanner)||void 0===e||e.showBanner(t||(null===(n=window.BannerPosition)||void 0===n?void 0:n.TOP))})).catch((function(t){console.error(t),r._setBannerState(s.FAILED)})):this._setBannerState(s.FAILED)}},{key:\"hideBanner\",value:function(){var t;null===(t=window.JGBanner)||void 0===t||t.hideBanner(),this._setBannerState(s.HIDDEN)}},{key:\"leaderboardsSetScore\",value:function(t,e,r){if(!r)return Promise.reject();var n=\"string\"==typeof e?parseInt(e,10):e;return this._platformSdk.postScore(n),Promise.resolve()}}])&&_p(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function Rp(t){return Rp=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Rp(t)}function Lp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lp(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Cp(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Np(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Cp(n.key),n)}}function Cp(t){var e=function(t,e){if(\"object\"!=Rp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Rp(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Rp(e)?e:String(e)}function Gp(){return Gp=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bp(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Gp.apply(this,arguments)}function Mp(t,e){return Mp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mp(t,e)}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bp(t)}const xp=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Mp(t,e)}(l,e);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bp(o);if(s){var r=Bp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Rp(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}(this,t)});function l(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l),c.apply(this,arguments)}return r=l,(n=[{key:\"platformId\",get:function(){return t.PORTAL}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"platformLanguage\",get:function(){return this._platformSdk.getLocale()||Gp(Bp(l.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(e=this._createPromiseDecorator(_.INITIALIZE),xt(\"https://storage.googleapis.com/social-networth/scripts/sdk.umd.js\").then((function(){Ut(\"PortalSDK\").then((function(){t._platformSdk=window.PortalSDK,t._platformSdk.initialize().then((function(){t._platformSdk.initializeOverlay(),t._defaultStorageType=u.PLATFORM_INTERNAL,t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)})).catch((function(e){t._rejectPromiseDecorator(_.INITIALIZE,e)}))}))}))),e.promise}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||Gp(Bp(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL||Gp(Bp(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){var n=this;if(e===u.PLATFORM_INTERNAL){if(Array.isArray(t)){var o=t.map((function(t){return Promise.resolve(n._platformSdk.getValue(t)).then((function(t){var e=t;if(r&&\"string\"==typeof t)try{e=JSON.parse(t)}catch(t){}return e}))}));return Promise.all(o)}return Promise.resolve(this._platformSdk.getValue(t)).then((function(t){var e=t;if(r&&\"string\"==typeof t)try{e=JSON.parse(t)}catch(t){}return e}))}return Gp(Bp(l.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:function(t,e,r){var n=this;if(r===u.PLATFORM_INTERNAL){if(Array.isArray(t)){var o=t.map((function(t,r){return Promise.resolve(n._platformSdk.setValue(t,e[r]))}));return Promise.all(o)}return Promise.resolve(this._platformSdk.setValue(t,e))}return Gp(Bp(l.prototype),\"setDataToStorage\",this).call(this,t,e,r)}},{key:\"deleteDataFromStorage\",value:function(t,e){var r=this;if(e===u.PLATFORM_INTERNAL){if(Array.isArray(t)){var n=t.map((function(t){return Promise.resolve(r._platformSdk.removeValue(t))}));return Promise.all(n)}return Promise.resolve(this._platformSdk.removeValue(t))}return Gp(Bp(l.prototype),\"deleteDataFromStorage\",this).call(this,t,e)}},{key:\"showInterstitial\",value:function(){var t=this;this._platformSdk.requestAd().then((function(){t._setInterstitialState(i.OPENED),t._setInterstitialState(i.CLOSED)})).catch((function(){t._setInterstitialState(i.FAILED)}))}},{key:\"showRewarded\",value:function(){var t=this;this._platformSdk.requestRewardAd().then((function(e){e?(t._setRewardedState(a.OPENED),t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)):t._setRewardedState(a.FAILED)})).catch((function(){t._setRewardedState(a.FAILED)}))}},{key:\"sendMessage\",value:function(t){return t===h.GAME_READY?(this._platformSdk.gameReady(),Promise.resolve()):Gp(Bp(l.prototype),\"sendMessage\",this).call(this,t)}},{key:\"paymentsPurchase\",value:function(t){var e=this,r=this._paymentsGetProductPlatformData(t),n=this._getPromiseDecorator(_.PURCHASE);if(!n){n=this._createPromiseDecorator(_.PURCHASE);var o=r.id;Promise.resolve(this._platformSdk.getShopItems()).then((function(t){var r=t.find((function(t){return t&&t.id===o}));if(!r)throw new Error(\"Shop item not found in catalog\");return e._platformSdk.openPurchaseConfirmModal(r)})).then((function(r){if(!r||\"success\"!==r.status)throw new Error(\"Purchase failed\");var n=jp({id:t},r);e._paymentsPurchases.push(n),e._resolvePromiseDecorator(_.PURCHASE,n)})).catch((function(t){e._rejectPromiseDecorator(_.PURCHASE,t)}))}return n.promise}},{key:\"paymentsGetCatalog\",value:function(){var t=this,e=this._paymentsGetProductsPlatformData();if(!e||!Array.isArray(e)||0===e.length)return Promise.reject(new Error(\"No platform products available\"));var r=this._getPromiseDecorator(_.GET_CATALOG);return r||(r=this._createPromiseDecorator(_.GET_CATALOG),Promise.resolve(this._platformSdk.getShopItems()).then((function(r){if(!Array.isArray(r))throw new Error(\"Catalog response is not an array\");var n=e.map((function(t){var e=t.id,n=r.find((function(t){return t&&t.id===e}));return n?{id:t.id,name:n.name,price:\"\".concat(n.price,\" Gems\"),priceCurrencyCode:\"Gems\",priceValue:n.price}:null})).filter(Boolean);t._resolvePromiseDecorator(_.GET_CATALOG,n)})).catch((function(e){t._rejectPromiseDecorator(_.GET_CATALOG,e)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var t=this,e=this._getPromiseDecorator(_.GET_PURCHASES);return e||(e=this._createPromiseDecorator(_.GET_PURCHASES),Promise.resolve(this._platformSdk.getPurchasedShopItems()).then((function(e){var r=t._paymentsGetProductsPlatformData();t._paymentsPurchases=e.map((function(t){var e=t.id,n=r.find((function(t){return t.id===e}));return n?jp({id:n.id},t):null})).filter(Boolean),t._resolvePromiseDecorator(_.GET_PURCHASES,t._paymentsPurchases)})).catch((function(e){t._rejectPromiseDecorator(_.GET_PURCHASES,e)}))),e.promise}}])&&Np(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function Hp(t){return Hp=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},Hp(t)}function Fp(){Fp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(t,r,s)}),a}function f(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}e.wrap=l;var p=\"suspendedStart\",h=\"suspendedYield\",d=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==Hp(l)&&n.call(l,\"__await\")?e.resolve(l.__await).then((function(t){r(\"next\",t,a,s)}),(function(t){r(\"throw\",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r(\"throw\",t,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function O(e,r,n){var o=p;return function(i,a){if(o===d)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=d;var u=f(e,r,n);if(\"normal\"===u.type){if(o=n.done?y:h,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,\"throw\"===n&&e.iterator.return&&(r.method=\"return\",r.arg=t,T(e,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,e.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||\"\"===e){var r=e[a];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Hp(e)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),e.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===_||\"GeneratorFunction\"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,\"GeneratorFunction\")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},w(A.prototype),u(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type=\"throw\",s.arg=e,r.next=n,o&&(r.method=\"next\",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),m}},e}function Up(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Vp(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Up(i,n,o,a,s,\"next\",t)}function s(t){Up(i,n,o,a,s,\"throw\",t)}a(void 0)}))}}function Wp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,zp(n.key),n)}}function zp(t){var e=function(t,e){if(\"object\"!=Hp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=Hp(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==Hp(e)?e:String(e)}function Zp(){return Zp=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kp(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Zp.apply(this,arguments)}function Yp(t,e){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yp(t,e)}function Jp(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kp(t)}function qp(t,e){!function(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,e),e.add(t)}function Xp(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Qp=new WeakSet,$p=new WeakSet,th=new WeakSet,eh=new WeakSet,rh=new WeakSet,nh=new WeakSet,oh=new WeakSet,ih=new WeakSet,ah=new WeakSet,sh=new WeakSet;function ch(t){Yt({type:t,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},\"*\")}function uh(t){this._isPlayerAuthorized=t.isPlayerAuthorized,this._isPlayerAuthorized&&(this._playerId=t.playerId,this._playerName=t.playerName,t.playerPhoto&&this._playerPhotos.push(t.playerPhoto)),this._isInitialized=!0,this._resolvePromiseDecorator(_.INITIALIZE)}function lh(t){var e,r;null!==(e=t.data)&&void 0!==e&&e.success?this._resolvePromiseDecorator(_.GET_STORAGE_DATA,null!==(r=t.data.data)&&void 0!==r?r:null):this._rejectPromiseDecorator(_.GET_STORAGE_DATA)}function fh(t){var e;null!==(e=t.data)&&void 0!==e&&e.success?this._resolvePromiseDecorator(_.SET_STORAGE_DATA):this._rejectPromiseDecorator(_.SET_STORAGE_DATA)}function ph(t){var e;null!==(e=t.data)&&void 0!==e&&e.success?this._resolvePromiseDecorator(_.DELETE_STORAGE_DATA):this._rejectPromiseDecorator(_.DELETE_STORAGE_DATA)}function hh(t){var e;null!==(e=t.data)&&void 0!==e&&e.success?this._resolvePromiseDecorator(_.PURCHASE,t.data):this._rejectPromiseDecorator(_.PURCHASE,t.data)}function dh(t){var e;null!==(e=t.data)&&void 0!==e&&e.success?this._resolvePromiseDecorator(_.GET_CATALOG,t.data):this._rejectPromiseDecorator(_.GET_CATALOG,t.data)}function yh(t){var e;null!==(e=t.data)&&void 0!==e&&e.success?this._resolvePromiseDecorator(_.GET_PURCHASES,t.data):this._rejectPromiseDecorator(_.GET_PURCHASES,t.data)}function mh(t){var e;null!==(e=t.data)&&void 0!==e&&e.success?this._resolvePromiseDecorator(_.CREATE_POST):this._rejectPromiseDecorator(_.CREATE_POST)}function vh(t){var e;null!==(e=t.data)&&void 0!==e&&e.success?this._resolvePromiseDecorator(_.JOIN_COMMUNITY):this._rejectPromiseDecorator(_.JOIN_COMMUNITY)}const _h=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Yp(t,e)}(l,e);var r,n,o,i,a,s,c=(a=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kp(a);if(s){var r=Kp(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===Hp(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return Jp(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return qp(Jp(t=c.call.apply(c,[this].concat(r))),sh),qp(Jp(t),ah),qp(Jp(t),ih),qp(Jp(t),oh),qp(Jp(t),nh),qp(Jp(t),rh),qp(Jp(t),eh),qp(Jp(t),th),qp(Jp(t),$p),qp(Jp(t),Qp),t}return r=l,n=[{key:\"platformId\",get:function(){return t.REDDIT}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isCreatePostSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(_.INITIALIZE);return e||(window.addEventListener(\"message\",(function(e){if(\"devvit-message\"===e.data.type){var r=e.data.data.message;r.type===_.INITIALIZE?Xp(t,$p,uh).call(t,r):r.type===_.GET_STORAGE_DATA?Xp(t,th,lh).call(t,r):r.type===_.SET_STORAGE_DATA?Xp(t,eh,fh).call(t,r):r.type===_.DELETE_STORAGE_DATA?Xp(t,rh,ph).call(t,r):r.type===_.GET_CATALOG?Xp(t,oh,dh).call(t,r):r.type===_.PURCHASE?Xp(t,nh,hh).call(t,r):r.type===_.GET_PURCHASES?Xp(t,ih,yh).call(t,r):r.type===_.CREATE_POST?Xp(t,ah,mh).call(t,r):r.type===_.JOIN_COMMUNITY&&Xp(t,sh,vh).call(t)}})),e=this._createPromiseDecorator(_.INITIALIZE),Xp(this,Qp,ch).call(this,_.INITIALIZE)),e.promise}},{key:\"isStorageSupported\",value:function(t){return t===u.PLATFORM_INTERNAL||Zp(Kp(l.prototype),\"isStorageSupported\",this).call(this,t)}},{key:\"isStorageAvailable\",value:function(t){return t===u.PLATFORM_INTERNAL||Zp(Kp(l.prototype),\"isStorageAvailable\",this).call(this,t)}},{key:\"getDataFromStorage\",value:function(t,e,r){if(e===u.PLATFORM_INTERNAL){var n=this._getPromiseDecorator(_.GET_STORAGE_DATA);return n||(n=this._createPromiseDecorator(_.GET_STORAGE_DATA),Xp(this,Qp,ch).call(this,_.GET_STORAGE_DATA,{key:t})),n.promise}return Zp(Kp(l.prototype),\"getDataFromStorage\",this).call(this,t,e,r)}},{key:\"setDataToStorage\",value:(i=Vp(Fp().mark((function t(e,r,n){var o;return Fp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==u.PLATFORM_INTERNAL){t.next=4;break}return(o=this._getPromiseDecorator(_.SET_STORAGE_DATA))||(o=this._createPromiseDecorator(_.SET_STORAGE_DATA),Xp(this,Qp,ch).call(this,_.SET_STORAGE_DATA,{key:e,value:r})),t.abrupt(\"return\",o.promise);case 4:return t.abrupt(\"return\",Zp(Kp(l.prototype),\"setDataToStorage\",this).call(this,e,r,n));case 5:case\"end\":return t.stop()}}),t,this)}))),function(t,e,r){return i.apply(this,arguments)})},{key:\"deleteDataFromStorage\",value:(o=Vp(Fp().mark((function t(e,r){var n;return Fp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r!==u.PLATFORM_INTERNAL){t.next=4;break}return(n=this._getPromiseDecorator(_.DELETE_STORAGE_DATA))||(n=this._createPromiseDecorator(_.DELETE_STORAGE_DATA),Xp(this,Qp,ch).call(this,_.DELETE_STORAGE_DATA,{key:e})),t.abrupt(\"return\",n.promise);case 4:return t.abrupt(\"return\",Zp(Kp(l.prototype),\"deleteDataFromStorage\",this).call(this,e,r));case 5:case\"end\":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:\"paymentsPurchase\",value:function(t){var e=this._getPromiseDecorator(_.PURCHASE);return e||(e=this._createPromiseDecorator(_.PURCHASE),Xp(this,Qp,ch).call(this,_.PURCHASE,{id:t})),e.promise}},{key:\"paymentsGetCatalog\",value:function(){if(!this._paymentsGetProductsPlatformData())return Promise.reject();var t=this._getPromiseDecorator(_.GET_CATALOG);return t||(t=this._createPromiseDecorator(_.GET_CATALOG),Xp(this,Qp,ch).call(this,_.GET_CATALOG)),t.promise}},{key:\"paymentsGetPurchases\",value:function(){var t=this._getPromiseDecorator(_.GET_PURCHASES);return t||(t=this._createPromiseDecorator(_.GET_PURCHASES),Xp(this,Qp,ch).call(this,_.GET_PURCHASES)),t.promise}},{key:\"createPost\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._getPromiseDecorator(_.CREATE_POST);return e||(e=this._createPromiseDecorator(_.CREATE_POST),Xp(this,Qp,ch).call(this,_.CREATE_POST,{options:t})),e.promise}},{key:\"joinCommunity\",value:function(){var t=this._getPromiseDecorator(_.JOIN_COMMUNITY);return t||(t=this._createPromiseDecorator(_.JOIN_COMMUNITY),Xp(this,Qp,ch).call(this,_.JOIN_COMMUNITY)),t.promise}}],n&&Wp(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function gh(t){return gh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},gh(t)}function Sh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,bh(n.key),n)}}function bh(t){var e=function(t,e){if(\"object\"!=gh(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=gh(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==gh(e)?e:String(e)}function Eh(){return Eh=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ah(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Eh.apply(this,arguments)}function Ph(t,e){return Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ph(t,e)}function wh(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ah(t)}function Oh(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Th(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,kh(t,e,\"get\"))}function kh(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var Dh=new WeakSet,Ih=new WeakMap;function Rh(t){var e=document.createElement(\"ins\");return e.style.display=\"block\",e.classList.add(\"adsbygoogle\"),e.setAttribute(\"data-ad-client\",this._options.adSenseId),e.setAttribute(\"data-ad-slot\",t),e.setAttribute(\"data-ad-format\",\"auto\"),e.setAttribute(\"data-container-id\",c),e.setAttribute(\"data-full-width-responsive\",\"true\"),this._options.testMode&&e.setAttribute(\"data-adtest\",\"on\"),e}const Lh=function(e){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Ph(t,e)}(l,e);var r,n,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ah(o);if(c){var r=Ah(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&(\"object\"===gh(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return wh(t)}(this,t)});function l(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Oh(e=wh(t=u.call.apply(u,[this].concat(o))),r=Dh),r.add(e),function(t,e,r){Oh(t,e),e.set(t,{writable:!0,value:function(){}})}(wh(t),Ih),t}return r=l,(n=[{key:\"platformId\",get:function(){return t.XIAOMI}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();try{window.funmax&&window.funmax.loadStart&&window.funmax.loadStart()}catch(t){console.error(t)}var e,r=this._getPromiseDecorator(_.INITIALIZE);return r||(r=this._createPromiseDecorator(_.INITIALIZE),null!==(e=this._options)&&void 0!==e&&e.adSenseId?Ht({adSenseId:this._options.adSenseId,testMode:!!this._options.testMode}).then((function(e){var r,n;n=e,function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(r=t,kh(r,Ih,\"set\"),n),t._isInitialized=!0,t._resolvePromiseDecorator(_.INITIALIZE)})).catch((function(e){t._rejectPromiseDecorator(_.INITIALIZE,e)})):this._rejectPromiseDecorator(_.INITIALIZE,g.GAME_PARAMS_NOT_FOUND)),r.promise}},{key:\"sendMessage\",value:function(t){return t===h.GAME_READY?new Promise((function(t){try{window.funmax&&window.funmax.loadReady&&window.funmax.loadReady()}catch(t){console.error(t)}t()})):Eh(Ah(l.prototype),\"sendMessage\",this).call(this,t)}},{key:\"showBanner\",value:function(t,e){if(!this._bannerContainer){this._bannerPlacement=e,this._bannerContainer=Ft(t);var r=function(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}(this,Dh,Rh).call(this,e);this._bannerContainer.appendChild(r),this._setBannerState(s.SHOWN)}}},{key:\"hideBanner\",value:function(){var t;null===(t=this._bannerContainer)||void 0===t||t.remove(),this._bannerContainer=null,this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(t){var e=this;Th(this,Ih)?Th(this,Ih).call(this,{type:\"start\",name:t,beforeAd:function(){e._setInterstitialState(i.OPENED)},afterAd:function(){e.interstitialState!==i.FAILED&&e._setInterstitialState(i.CLOSED)},adBreakDone:function(t){\"viewed\"!==t.breakStatus&&e._setInterstitialState(i.FAILED)}}):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(t){var e=this;Th(this,Ih)?Th(this,Ih).call(this,{type:\"reward\",name:t,beforeAd:function(){e._setRewardedState(a.OPENED)},afterAd:function(){e.rewardedState!==a.FAILED&&e._setRewardedState(a.CLOSED)},beforeReward:function(t){t(0)},adDismissed:function(){},adViewed:function(){e._setRewardedState(a.REWARDED)},adBreakDone:function(t){\"frequencyCapped\"!==t.breakStatus&&\"other\"!==t.breakStatus||e._setRewardedState(a.FAILED)}}):this._setRewardedState(a.FAILED)}}])&&Sh(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(fo);function jh(t){return jh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},jh(t)}function Nh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ch(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nh(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Mh(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,Mh(n.key),n)}}function Mh(t){var e=function(t,e){if(\"object\"!=jh(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,\"string\");if(\"object\"!=jh(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==jh(e)?e:String(e)}function Bh(t,e){Hh(t,e),e.add(t)}function xh(t,e,r){Hh(t,e),e.set(t,r)}function Hh(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Fh(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=r}}(t,Wh(t,e,\"set\"),r),r}function Uh(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Vh(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Wh(t,e,\"get\"))}function Wh(t,e,r){if(!e.has(t))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return e.get(t)}var zh=new WeakMap,Zh=new WeakMap,Yh=new WeakMap,Jh=new WeakMap,Kh=new WeakMap,qh=new WeakSet,Xh=new WeakSet,Qh=new WeakSet;function $h(e){var r,n=t.MOCK,o=new URL(window.location.href);if(e.forciblySetPlatformId)n=Uh(this,Xh,td).call(this,e.forciblySetPlatformId.toLowerCase());else{var i=[\"y\",\"a\",\"n\",\"d\",\"e\",\"x\",\".\",\"n\",\"e\",\"t\"].join(\"\");o.searchParams.has(\"platform_id\")?n=Uh(this,Xh,td).call(this,o.searchParams.get(\"platform_id\").toLowerCase()):o.hostname.includes(i)||o.hash.includes(\"yandex\")?n=t.YANDEX:o.hostname.includes(\"crazygames.\")||o.hostname.includes(\"1001juegos.com\")?n=t.CRAZY_GAMES:o.hostname.includes(\"gamedistribution.com\")?n=t.GAME_DISTRIBUTION:o.hostname.includes(\"lagged.\")?n=t.LAGGED:o.searchParams.has(\"api_id\")&&o.searchParams.has(\"viewer_id\")&&o.searchParams.has(\"auth_key\")||o.searchParams.has(\"vk_app_id\")?n=t.VK:o.searchParams.has(\"app_id\")&&o.searchParams.has(\"player_id\")&&o.searchParams.has(\"game_sid\")&&o.searchParams.has(\"auth_key\")?n=t.ABSOLUTE_GAMES:o.searchParams.has(\"playdeck\")?n=t.PLAYDECK:o.hash.includes(\"tgWebAppData\")?n=t.TELEGRAM:o.hostname.includes(\"y8\")?n=t.Y8:o.hostname.includes(\"fbsbx\")?n=t.FACEBOOK:o.hostname.includes(\"poki-gdn\")||o.hostname.includes(\"poki-user-content\")?n=t.POKI:o.hostname.includes(\"msn.\")||o.hostname.includes(\"msnfun.\")||o.hostname.includes(\"start.gg\")?n=t.MSN:o.hash.includes(\"customUrl_\")||document.referrer.includes(\"bitquest\")?n=t.BITQUEST:o.hostname.includes(\"eponesh.\")?n=t.GAMEPUSH:o.hostname.includes(\"discordsays.com\")?n=t.DISCORD:o.hostname.includes(\"usercontent.goog\")?n=t.YOUTUBE:o.hostname.includes(\"portalapp.\")?n=t.PORTAL:o.hostname.includes(\"devvit.\")&&(n=t.REDDIT)}var a=e;switch(null!==(r=a.platforms)&&void 0!==r&&r[n]&&(a=Zt(a,a.platforms[n])),delete a.platforms,n){case t.VK:Fh(this,Yh,new To(a));break;case t.YANDEX:Fh(this,Yh,new Ko(a));break;case t.CRAZY_GAMES:Fh(this,Yh,new Ri(a));break;case t.ABSOLUTE_GAMES:Fh(this,Yh,new Vi(a));break;case t.GAME_DISTRIBUTION:Fh(this,Yh,new ta(a));break;case t.OK:Fh(this,Yh,new rs(a));break;case t.PLAYGAMA:Fh(this,Yh,new bs(a));break;case t.PLAYDECK:Fh(this,Yh,new Ms(a));break;case t.TELEGRAM:Fh(this,Yh,new tc(a));break;case t.Y8:Fh(this,Yh,new gc(a));break;case t.LAGGED:Fh(this,Yh,new Oc(a));break;case t.FACEBOOK:Fh(this,Yh,new eu(a));break;case t.POKI:Fh(this,Yh,new Qu(a));break;case t.QA_TOOL:Fh(this,Yh,new zu(a));break;case t.MSN:Fh(this,Yh,new Dl(a));break;case t.HUAWEI:Fh(this,Yh,new yf(a));break;case t.BITQUEST:Fh(this,Yh,new If(a));break;case t.GAMEPUSH:Fh(this,Yh,new zf(a));break;case t.DISCORD:Fh(this,Yh,new rp(a));break;case t.YOUTUBE:Fh(this,Yh,new yp(a));break;case t.JIO_GAMES:Fh(this,Yh,new Ip(a));break;case t.PORTAL:Fh(this,Yh,new xp(a));break;case t.REDDIT:Fh(this,Yh,new _h(a));break;case t.XIAOMI:Fh(this,Yh,new Lh(a));break;default:Fh(this,Yh,new fo(a))}}function td(e){for(var r=Object.values(t),n=0;n<r.length;n++)if(e===r[n])return e;return t.MOCK}function ed(t){return Vh(this,zh)||console.error(g.SDK_NOT_INITIALIZED),Vh(this,Jh)[t]}const rd=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),Bh(this,Qh),Bh(this,Xh),Bh(this,qh),xh(this,zh,{writable:!0,value:!1}),xh(this,Zh,{writable:!0,value:null}),xh(this,Yh,{writable:!0,value:null}),xh(this,Jh,{writable:!0,value:{}}),xh(this,Kh,{writable:!0,value:\"javascript\"})}var c,p;return c=r,(p=[{key:\"version\",get:function(){return\"1.27.1\"}},{key:\"isInitialized\",get:function(){return Vh(this,zh)}},{key:\"options\",get:function(){return Vh(this,Yh).options}},{key:\"platform\",get:function(){return Uh(this,Qh,ed).call(this,e.PLATFORM)}},{key:\"player\",get:function(){return Uh(this,Qh,ed).call(this,e.PLAYER)}},{key:\"game\",get:function(){return Uh(this,Qh,ed).call(this,e.GAME)}},{key:\"storage\",get:function(){return Uh(this,Qh,ed).call(this,e.STORAGE)}},{key:\"advertisement\",get:function(){return Uh(this,Qh,ed).call(this,e.ADVERTISEMENT)}},{key:\"social\",get:function(){return Uh(this,Qh,ed).call(this,e.SOCIAL)}},{key:\"device\",get:function(){return Uh(this,Qh,ed).call(this,e.DEVICE)}},{key:\"leaderboard\",get:function(){return Uh(this,Qh,ed).call(this,e.LEADERBOARDS)}},{key:\"leaderboards\",get:function(){return Uh(this,Qh,ed).call(this,e.LEADERBOARDS)}},{key:\"payments\",get:function(){return Uh(this,Qh,ed).call(this,e.PAYMENTS)}},{key:\"achievements\",get:function(){return Uh(this,Qh,ed).call(this,e.ACHIEVEMENTS)}},{key:\"remoteConfig\",get:function(){return Uh(this,Qh,ed).call(this,e.REMOTE_CONFIG)}},{key:\"clipboard\",get:function(){return Uh(this,Qh,ed).call(this,e.CLIPBOARD)}},{key:\"analytics\",get:function(){return Uh(this,Qh,ed).call(this,e.ANALYTICS)}},{key:\"engine\",get:function(){return Vh(this,Kh)},set:function(t){Fh(this,Kh,t)}},{key:\"PLATFORM_ID\",get:function(){return t}},{key:\"PLATFORM_MESSAGE\",get:function(){return h}},{key:\"MODULE_NAME\",get:function(){return e}},{key:\"EVENT_NAME\",get:function(){return n}},{key:\"INTERSTITIAL_STATE\",get:function(){return i}},{key:\"REWARDED_STATE\",get:function(){return a}},{key:\"BANNER_STATE\",get:function(){return s}},{key:\"STORAGE_TYPE\",get:function(){return u}},{key:\"VISIBILITY_STATE\",get:function(){return o}},{key:\"DEVICE_TYPE\",get:function(){return l}},{key:\"DEVICE_ORIENTATION\",get:function(){return f}},{key:\"initialize\",value:function(t){var r=this;if(Vh(this,zh))return Promise.resolve();if(!Vh(this,Zh)){Fh(this,Zh,new I);var n,o=performance.now(),i=\"./playgama-bridge-config.json\";t&&t.configFilePath&&(i=t.configFilePath),fetch(i).then((function(t){return t.json()})).then((function(t){n=Ch({},t)})).catch((function(e){console.error(\"Config parsing error.\",e),n=Ch({},t)})).finally((function(){Uh(r,qh,$h).call(r,n),Vh(r,Yh).engine=r.engine,Vh(r,Jh)[e.PLATFORM]=new Tt(Vh(r,Yh)),Vh(r,Jh)[e.PLAYER]=new jt(Vh(r,Yh)),Vh(r,Jh)[e.GAME]=new re(Vh(r,Yh)),Vh(r,Jh)[e.STORAGE]=new ce(Vh(r,Yh)),Vh(r,Jh)[e.ADVERTISEMENT]=new gr(Vh(r,Yh)),Vh(r,Jh)[e.SOCIAL]=new Ar(Vh(r,Yh)),Vh(r,Jh)[e.DEVICE]=new rn(Vh(r,Yh)),Vh(r,Jh)[e.LEADERBOARDS]=new mn(Vh(r,Yh)),Vh(r,Jh)[e.PAYMENTS]=new En(Vh(r,Yh)),Vh(r,Jh)[e.REMOTE_CONFIG]=new kn(Vh(r,Yh)),Vh(r,Jh)[e.CLIPBOARD]=new Nn(Vh(r,Yh)),Vh(r,Jh)[e.ACHIEVEMENTS]=new Hn(Vh(r,Yh)),Vh(r,Jh)[e.ANALYTICS]=dt.initialize(Vh(r,Yh)),Vh(r,Yh).initialize().then((function(){var t,n;Fh(r,zh,!0),console.info(\"%c PlaygamaBridge v\".concat(r.version,\" initialized. \"),\"background: #01A5DA; color: white\");var i=((performance.now()-o)/1e3).toFixed(2);if(dt.send(\"\".concat(e.CORE,\"_initialization_completed\"),e.CORE,{time_s:i}),Vh(r,Zh)&&(Vh(r,Zh).resolve(),Fh(r,Zh,null)),null!==(t=Vh(r,Yh).options)&&void 0!==t&&null!==(t=t.advertisement)&&void 0!==t&&null!==(t=t.interstitial)&&void 0!==t&&t.preloadOnStart){var a=Vh(r,Yh).options.advertisement.interstitial.preloadOnStart;Vh(r,Jh)[e.ADVERTISEMENT].preloadInterstitial(a)}if(null!==(n=Vh(r,Yh).options)&&void 0!==n&&null!==(n=n.advertisement)&&void 0!==n&&null!==(n=n.rewarded)&&void 0!==n&&n.preloadOnStart){var s=Vh(r,Yh).options.advertisement.rewarded.preloadOnStart;Vh(r,Jh)[e.ADVERTISEMENT].preloadRewarded(s)}})).catch((function(t){var r=((performance.now()-o)/1e3).toFixed(2),n=(null==t?void 0:t.message)||String(t);dt.send(\"\".concat(e.CORE,\"_initialization_failed\"),e.CORE,{error:n,time_s:r}),console.error(\"PlaygamaBridge initialization failed:\",t)})).finally((function(){setTimeout((function(){return Vh(r,Jh)[e.GAME].setLoadingProgress(100,!0)}),700)}))}))}return Vh(this,Zh).promise}}])&&Gh(c.prototype,p),Object.defineProperty(c,\"prototype\",{writable:!1}),r}();window.bridge||window.playgamaBridge||(window.bridge=new rd,window.playgamaBridge=window.bridge)})()})();",
            "",
            "",
            "",
            "    initializeBridge()",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add Action Parameter.",
      "fullName": "Add Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, isNaN(+value) ? value : +value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Add Bool Action Parameter.",
      "fullName": "Add Bool Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddBoolActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "trueorfalse"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Initialized.",
      "fullName": "Is Initialized",
      "functionType": "Condition",
      "group": "Common",
      "name": "IsInitialized",
      "sentence": "Is Initialized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = window.bridge && window.bridge.isInitialized;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Id.",
      "fullName": "Platform Id",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Language.",
      "fullName": "Platform Language",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformLanguage",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.language;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Payload.",
      "fullName": "Platform Payload",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformPayload",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.payload;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Tld.",
      "fullName": "Platform Tld",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformTld",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.tld || '';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Is Audio Enabled.",
      "fullName": "Platform Is Audio Enabled",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformIsAudioEnabled",
      "sentence": "Platform Is Audio Enabled",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isAudioEnabled;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Is Paused.",
      "fullName": "Platform Is Paused",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformIsPaused",
      "sentence": "Platform Is Paused",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isPaused;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get All Games Supported.",
      "fullName": "Is Get All Games Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetAllGamesSupported",
      "sentence": "Is Get All Games Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetAllGamesSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get Game By Id Supported.",
      "fullName": "Is Get Game By Id Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetGameByIdSupported",
      "sentence": "Is Get Game By Id Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetGameByIdSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get All Games Completed.",
      "fullName": "On Get All Games Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetAllGamesCompleted",
      "sentence": "On Get All Games Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetAllGamesCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Game By Id Completed.",
      "fullName": "On Get Game By Id Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetGameByIdCompleted",
      "sentence": "On Get Game By Id Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetGameByIdCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get All Games.",
      "fullName": "Platform Get All Games",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetAllGames",
      "sentence": "Platform Get All Games",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getAllGames()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.allGames = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get Game By Id.",
      "fullName": "Platform Get Game By Id",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetGameById",
      "sentence": "Platform Get Game By Id",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getGameById(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.gameById = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Count.",
      "fullName": "Platform All Games Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Game Properties Count.",
      "fullName": "Platform All Game Properties Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length > 0 ",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0] || {}).length",
            "    : 0"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Name.",
      "fullName": "Platform All Games Property Name",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Value.",
      "fullName": "Platform All Games Property Value",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const gameIndex = eventsFunctionContext.getArgument(\"GameIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (gdjs._playgamaBridgeExtension.allGames.length > 0) {",
            "    const game = gdjs._playgamaBridgeExtension.allGames[gameIndex];",
            "",
            "    eventsFunctionContext.returnValue = isNaN(+property) ",
            "        ? game[property]",
            "        : game[Object.keys(game || {})[+property]]",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Game Index",
          "name": "GameIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform Game By Id Property Value.",
      "fullName": "Platform Game By Id Property Value",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformGameByIdPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (!gdjs._playgamaBridgeExtension.gameById) {",
            "    eventsFunctionContext.returnValue = '';",
            "    return;",
            "}",
            "",
            "if (typeof property === 'number') {",
            "    let properties = Object.keys(gdjs._playgamaBridgeExtension.gameById);",
            "    let propertyName = properties[property];",
            "    eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[propertyName];",
            "    return;",
            "}",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[property];"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform On Audio State Changed.",
      "fullName": "Platform On Audio State Changed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformOnAudioStateChanged",
      "sentence": "Platform On Audio State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform On Pause State Changed.",
      "fullName": "Platform On Pause State Changed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformOnPauseStateChanged",
      "sentence": "Platform On Pause State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Device Type.",
      "fullName": "Device Type",
      "functionType": "StringExpression",
      "group": "Device",
      "name": "DeviceType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.device.type;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Mobile.",
      "fullName": "Is Mobile",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsMobile",
      "sentence": "Is Mobile",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'mobile';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tablet.",
      "fullName": "Is Tablet",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTablet",
      "sentence": "Is Tablet",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tablet';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Desktop.",
      "fullName": "Is Desktop",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsDesktop",
      "sentence": "Is Desktop",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'desktop';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tv.",
      "fullName": "Is Tv",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTv",
      "sentence": "Is Tv",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tv';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Id.",
      "fullName": "Player Id",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Name.",
      "fullName": "Player Name",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Extra Properties Count.",
      "fullName": "Player Extra Properties Count",
      "functionType": "Expression",
      "group": "Player",
      "name": "PlayerExtraPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = Object.keys(bridge.player.extra).length",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Extra Property Name.",
      "fullName": "Player Extra Property Name",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerExtraPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "eventsFunctionContext.returnValue = Object.keys(bridge.player.extra)[propertyIndex]"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Player Extra Property Value.",
      "fullName": "Player Extra Property Value",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerExtraPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "eventsFunctionContext.returnValue = bridge.player.extra[property];"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Player Photos Count.",
      "fullName": "Player Photos Count",
      "functionType": "Expression",
      "group": "Player",
      "name": "PlayerPhotosCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.photos.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Photo # _PARAM1_.",
      "fullName": "Player Photo",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerPhoto",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\")",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos[index];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Visibility State.",
      "fullName": "Visibility State",
      "functionType": "StringExpression",
      "group": "Game",
      "name": "VisibilityState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.game.visibilityState;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Visibility State Changed.",
      "fullName": "On Visibility State Changed",
      "functionType": "Condition",
      "group": "Game",
      "name": "OnVisibilityStateChanged",
      "sentence": "On Visibility State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isVisibilityStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Default Storage Type.",
      "fullName": "Default Storage Type",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "DefaultStorageType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.storage.defaultType;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Storage Data.",
      "fullName": "Storage Data",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageData",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.storageData[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Storage Data As JSON.",
      "fullName": "Storage Data As JSON",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageDataAsJSON",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "let value = gdjs._playgamaBridgeExtension.storageData[key];",
            "",
            "if (typeof value !== 'string') {",
            "    value = JSON.stringify(value);",
            "}",
            "",
            "eventsFunctionContext.returnValue = value;"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Get Request.",
      "fullName": "Append Parameter to Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataGetRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Get Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataGetRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Set Request.",
      "fullName": "Append Parameter to Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataSetRequest",
      "sentence": "Append Parameter _PARAM1_ : _PARAM2_ to Storage Data Set Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "const value = eventsFunctionContext.getArgument(\"Value\")",
            "",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestKeys.push(key);",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestValues.push(value);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Delete Request.",
      "fullName": "Append Parameter to Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataDeleteRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Delete Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Last Action Completed Successfully.",
      "fullName": "Is Last Action Completed Successfully",
      "functionType": "Condition",
      "group": "Common",
      "name": "IsLastActionCompletedSuccessfully",
      "sentence": "Is Last Action Completed Successfully",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Get Request.",
      "fullName": "Send Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataGetRequest",
      "sentence": "Send Storage Data Get Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataGetRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.get(storageDataGetRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(data => {",
            "            for (let i = 0; i < data.length; i++) {",
            "                let key = storageDataGetRequestKeys[i];",
            "                let value = data[i];",
            "                storageData[key] = value;",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataGetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = true;",
            "            resolve()",
            "        });",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Set Request.",
      "fullName": "Send Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataSetRequest",
      "sentence": "Send Storage Data Set Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false",
            "",
            "const { storageData, storageDataSetRequestKeys, storageDataSetRequestValues } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.set(storageDataSetRequestKeys, storageDataSetRequestValues, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            for (let i = 0; i < storageDataSetRequestKeys.length; i++) {",
            "                let key = storageDataSetRequestKeys[i]",
            "                storageData[key] = storageDataSetRequestValues[i]",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestValues = []",
            "",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Delete Request.",
      "fullName": "Send Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataDeleteRequest",
      "sentence": "Send Storage Data Delete Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataDeleteRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.delete(storageDataDeleteRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            if (storageData) {",
            "                for (const key of storageDataDeleteRequestKeys) {",
            "                    delete storageData[key];",
            "                }",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys = [];",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Get Request Completed.",
      "fullName": "On Storage Data Get Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataGetRequestCompleted",
      "sentence": "On Storage Data Get Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Set Request Completed.",
      "fullName": "On Storage Data Set Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataSetRequestCompleted",
      "sentence": "On Storage Data Set Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Delete Request Completed.",
      "fullName": "On Storage Data Delete Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataDeleteRequestCompleted",
      "sentence": "On Storage Data Delete Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Storage Data.",
      "fullName": "Has Storage Data",
      "functionType": "Condition",
      "group": "Storage",
      "name": "HasStorageData",
      "sentence": "Has _PARAM1_ in Storage Data",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { storageData } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = storageData[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Supported.",
      "fullName": "Is Storage Supported",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageSupported",
      "sentence": "Is Storage Supported _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isSupported(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Available.",
      "fullName": "Is Storage Available",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageAvailable",
      "sentence": "Is Storage Available _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isAvailable(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Set Minimum Delay Between Interstitial.",
      "fullName": "Set Minimum Delay Between Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "SetMinimumDelayBetweenInterstitial",
      "sentence": "Set Minimum Delay Between Interstitial _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const seconds = eventsFunctionContext.getArgument(\"Seconds\");",
            "",
            "bridge.advertisement.setMinimumDelayBetweenInterstitial(seconds);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Seconds",
          "name": "Seconds",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Banner.",
      "fullName": "Show Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowBanner",
      "sentence": "Show Banner on _PARAM1_  with placement _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const position = eventsFunctionContext.getArgument(\"Position\");",
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showBanner(position, placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Position",
          "name": "Position",
          "supplementaryInformation": "[\"bottom\",\"top\"]",
          "type": "stringWithSelector"
        },
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Hide Banner.",
      "fullName": "Hide Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "HideBanner",
      "sentence": "Hide Banner",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "bridge.advertisement.hideBanner(gdjs._playgamaBridgeExtension.actionParametersContainer);",
            "",
            "gdjs._playgamaBridgeExtension.actionParametersContainer = {};"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Show Interstitial.",
      "fullName": "Show Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowInterstitial",
      "sentence": "Show Interstitial with placement _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showInterstitial(placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Rewarded.",
      "fullName": "Show Rewarded",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowRewarded",
      "sentence": "Show Rewarded with placement _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showRewarded(placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check AdBlock.",
      "fullName": "Check AdBlock",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "CheckAdBlock",
      "sentence": "Check AdBlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.advertisement.checkAdBlock()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.isAdBlockDetected = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Minimum Delay Between Interstitial.",
      "fullName": "Minimum Delay Between Interstitial",
      "functionType": "Expression",
      "group": "Advertisement",
      "name": "MinimumDelayBetweenInterstitial",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.advertisement.minimumDelayBetweenInterstitial;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Banner State.",
      "fullName": "Banner State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "BannerState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Interstitial State.",
      "fullName": "Interstitial State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "InterstitialState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rewarded State.",
      "fullName": "Rewarded State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "RewardedState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.rewardedState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rewarded Placement.",
      "fullName": "Rewarded Placement",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "RewardedPlacement",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.advertisement.rewardedPlacement;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Banner Supported.",
      "fullName": "Is Banner Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsBannerSupported",
      "sentence": "Is Banner Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isBannerSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Interstitial Supported.",
      "fullName": "Is Interstitial Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsInterstitialSupported",
      "sentence": "Is Interstitial Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isInterstitialSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Rewarded Supported.",
      "fullName": "Is Rewarded Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsRewardedSupported",
      "sentence": "Is Rewarded Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isRewardedSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner State Changed.",
      "fullName": "On Banner State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerStateChanged",
      "sentence": "On Banner State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isBannerStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Loading.",
      "fullName": "On Banner Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerLoading",
      "sentence": "On Banner Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Shown.",
      "fullName": "On Banner Shown",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerShown",
      "sentence": "On Banner Shown",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"shown\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Hidden.",
      "fullName": "On Banner Hidden",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerHidden",
      "sentence": "On Banner Hidden",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"hidden\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Failed.",
      "fullName": "On Banner Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerFailed",
      "sentence": "On Banner Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial State Changed.",
      "fullName": "On Interstitial State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialStateChanged",
      "sentence": "On Interstitial State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInterstitialStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Loading.",
      "fullName": "On Interstitial Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialLoading",
      "sentence": "On Interstitial Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Opened.",
      "fullName": "On Interstitial Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialOpened",
      "sentence": "On Interstitial Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Closed.",
      "fullName": "On Interstitial Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialClosed",
      "sentence": "On Interstitial Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Failed.",
      "fullName": "On Interstitial Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialFailed",
      "sentence": "On Interstitial Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded State Changed.",
      "fullName": "On Rewarded State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedStateChanged",
      "sentence": "On Rewarded State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRewardedStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Loading.",
      "fullName": "On Rewarded Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedLoading",
      "sentence": "On Rewarded Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Opened.",
      "fullName": "On Rewarded Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedOpened",
      "sentence": "On Rewarded Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Closed.",
      "fullName": "On Rewarded Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedClosed",
      "sentence": "On Rewarded Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Rewarded.",
      "fullName": "On Rewarded Rewarded",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedRewarded",
      "sentence": "On Rewarded Rewarded",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"rewarded\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Failed.",
      "fullName": "On Rewarded Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedFailed",
      "sentence": "On Rewarded Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Check AdBlock Completed.",
      "fullName": "On Check AdBlock Completed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnCheckAdBlockCompleted",
      "sentence": "On Check AdBlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Message.",
      "fullName": "Send Message",
      "functionType": "Action",
      "group": "Platform",
      "name": "SendMessage",
      "sentence": "Send Message _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const message = eventsFunctionContext.getArgument(\"Message\")",
            "",
            "bridge.platform.sendMessage(bridge.PLATFORM_MESSAGE[message])",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Message",
          "name": "Message",
          "supplementaryInformation": "[\"GAME_READY\",\"IN_GAME_LOADING_STARTED\",\"IN_GAME_LOADING_STOPPED\",\"GAMEPLAY_STARTED\",\"GAMEPLAY_STOPPED\",\"PLAYER_GOT_ACHIEVEMENT\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Get Server Time.",
      "fullName": "Get Server Time",
      "functionType": "Action",
      "group": "Platform",
      "name": "GetServerTime",
      "sentence": "Get Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getServerTime()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.serverTime = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Server Time.",
      "fullName": "Server Time",
      "functionType": "Expression",
      "group": "Platform",
      "name": "ServerTime",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Server Time Completed.",
      "fullName": "On Get Server Time Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetServerTimeCompleted",
      "sentence": "On Get Server Time Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetServerTimeCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Server Time.",
      "fullName": "Has Server Time",
      "functionType": "Condition",
      "group": "Platform",
      "name": "HasServerTime",
      "sentence": "Has Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime > 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Authorize Player.",
      "fullName": "Authorize Player",
      "functionType": "Action",
      "group": "Player",
      "name": "AuthorizePlayer",
      "sentence": "Authorize Player",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.player.authorize(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorization Supported.",
      "fullName": "Is Player Authorization Supported",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorizationSupported",
      "sentence": "Is Player Authorization Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorizationSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorized.",
      "fullName": "Is Player Authorized",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorized",
      "sentence": "Is Player Authorized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorized;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Authorize Player Completed.",
      "fullName": "On Authorize Player Completed",
      "functionType": "Condition",
      "group": "Player",
      "name": "OnAuthorizePlayerCompleted",
      "sentence": "On Authorize Player Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Name.",
      "fullName": "Does Player Have Name",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHaveName",
      "sentence": "Does Player Have Name",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name === 'string';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Photo.",
      "fullName": "Does Player Have Photo",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHavePhoto",
      "sentence": "Does Player Have Photo # _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\");",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos.length > index;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Share.",
      "fullName": "Share",
      "functionType": "Action",
      "group": "Social",
      "name": "Share",
      "sentence": "Share",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.share(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsShareCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Invite Friends.",
      "fullName": "Invite Friends",
      "functionType": "Action",
      "group": "Social",
      "name": "InviteFriends",
      "sentence": "Invite Friends",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.inviteFriends(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = true;",
            "            resolve();",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Join Community.",
      "fullName": "Join Community",
      "functionType": "Action",
      "group": "Social",
      "name": "JoinCommunity",
      "sentence": "Join Community",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.joinCommunity(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Create Post.",
      "fullName": "Create Post",
      "functionType": "Action",
      "group": "Social",
      "name": "CreatePost",
      "sentence": "Create Post",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.createPost(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Home Screen.",
      "fullName": "Add To Home Screen",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToHomeScreen",
      "sentence": "Add To Home Screen",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "   bridge.social.addToHomeScreen()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Favorites.",
      "fullName": "Add To Favorites",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToFavorites",
      "sentence": "Add To Favorites",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.addToFavorites()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rate.",
      "fullName": "Rate",
      "functionType": "Action",
      "group": "Social",
      "name": "Rate",
      "sentence": "Rate",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.rate()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsRateCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Share Supported.",
      "fullName": "Is Share Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsShareSupported",
      "sentence": "Is Share Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isShareSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Share Completed.",
      "fullName": "On Share Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnShareCompleted",
      "sentence": "On Share Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isShareCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Invite Friends Supported.",
      "fullName": "Is Invite Friends Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsInviteFriendsSupported",
      "sentence": "Is Invite Friends Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isInviteFriendsSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Invite Friends Completed.",
      "fullName": "On Invite Friends Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnInviteFriendsCompleted",
      "sentence": "On Invite Friends Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInviteFriendsCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Join Community Supported.",
      "fullName": "Is Join Community Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsJoinCommunitySupported",
      "sentence": "Is Join Community Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isJoinCommunitySupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Join Community Completed.",
      "fullName": "On Join Community Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnJoinCommunityCompleted",
      "sentence": "On Join Community Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isJoinCommunityCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Create Post Supported.",
      "fullName": "Is Create Post Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsCreatePostSupported",
      "sentence": "Is Create Post Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isCreatePostSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Create Post Completed.",
      "fullName": "On Create Post Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnCreatePostCompleted",
      "sentence": "On Create Post Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCreatePostCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Home Screen Supported.",
      "fullName": "Is Add To Home Screen Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToHomeScreenSupported",
      "sentence": "Is Add To Home Screen Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToHomeScreenSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Home Screen Completed.",
      "fullName": "On Add To Home Screen Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToHomeScreenCompleted",
      "sentence": "On Add To Home Screen Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Favorites Supported.",
      "fullName": "Is Add To Favorites Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToFavoritesSupported",
      "sentence": "Is Add To Favorites Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToFavoritesSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Favorites Completed.",
      "fullName": "On Add To Favorites Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToFavoritesCompleted",
      "sentence": "On Add To Favorites Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Rate Supported.",
      "fullName": "Is Rate Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsRateSupported",
      "sentence": "Is Rate Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isRateSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rate Completed.",
      "fullName": "On Rate Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnRateCompleted",
      "sentence": "On Rate Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRateCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is External Links Allowed.",
      "fullName": "Is External Links Allowed",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsExternalLinksAllowed",
      "sentence": "Is External Links Allowed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isExternalLinksAllowed;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Set Score.",
      "fullName": "Leaderboards Set Score",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsSetScore",
      "sentence": "Leaderboards Set Score - Id: _PARAM1_, Score: _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    const score = eventsFunctionContext.getArgument('Score');",
            "    bridge.leaderboards.setScore(id, score)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        },
        {
          "description": "Score",
          "name": "Score",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Get Entries.",
      "fullName": "Leaderboards Get Entries",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsGetEntries",
      "sentence": "Leaderboards Get Entries - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "gdjs._playgamaBridgeExtension.leaderboardEntries = [];",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    bridge.leaderboards.getEntries(id)",
            "        .then(entries => {",
            "            gdjs._playgamaBridgeExtension.leaderboardEntries = entries || [];",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Show Native Popup.",
      "fullName": "Leaderboards Show Native Popup",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsShowNativePopup",
      "sentence": "Leaderboards Show Native Popup - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    bridge.leaderboards.showNativePopup(id)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Type.",
      "fullName": "Leaderboards Type",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardsType",
      "sentence": "Is Leaderboard Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "supplementaryInformation": "[\"not_available\",\"in_game\",\"native\"]",
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Not Available.",
      "fullName": "The leaderboard is of type Not Available",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNotAvailable",
      "sentence": "The leaderboard is of type Not Available",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'not_available';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type In Game.",
      "fullName": "The leaderboard is of type In Game",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeInGame",
      "sentence": "The leaderboard is of type In Game",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'in_game';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Native.",
      "fullName": "The leaderboard is of type Native",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNative",
      "sentence": "The leaderboard is of type Native",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'native';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Native Popup.",
      "fullName": "The leaderboard is of type Native Popup",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNativePopup",
      "sentence": "The leaderboard is of type Native Popup",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'native_popup';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Set Score Completed.",
      "fullName": "On Leaderboards Set Score Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsSetScoreCompleted",
      "sentence": "On Leaderboards Set Score Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Get Entries Completed.",
      "fullName": "On Leaderboards Get Entries Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsGetEntriesCompleted",
      "sentence": "On Leaderboards Get Entries Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Show Native Popup Completed.",
      "fullName": "On Leaderboards Show Native Popup Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsShowNativePopupCompleted",
      "sentence": "On Leaderboards Show Native Popup Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsShowNativePopupCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entries Count.",
      "fullName": "Leaderboard Entries Count",
      "functionType": "Expression",
      "group": "Leaderboards",
      "name": "LeaderboardEntriesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.leaderboardEntries.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Id.",
      "fullName": "Leaderboard Entry Id",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['id'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Name.",
      "fullName": "Leaderboard Entry Name",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['name'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Photo.",
      "fullName": "Leaderboard Entry Photo",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryPhoto",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['photo'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Rank.",
      "fullName": "Leaderboard Entry Rank",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryRank",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['rank'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Score.",
      "fullName": "Leaderboard Entry Score",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryScore",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['score'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase.",
      "fullName": "Payments Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsPurchase",
      "sentence": "Payments Purchase - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument(\"Id\");",
            "    const options = gdjs._playgamaBridgeExtension.actionParametersContainer;",
            "    bridge.payments.purchase(id, options)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchase = { ",
            "                ...data, ",
            "                options: options || {}",
            "            };",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Get Purchases.",
      "fullName": "Payments Get Purchases",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetPurchases",
      "sentence": "Payments Get Purchases",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getPurchases()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchases = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Get Catalog.",
      "fullName": "Payments Get Catalog",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetCatalog",
      "sentence": "Payments Get Catalog",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getCatalog()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsCatalog = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Consume Purchase.",
      "fullName": "Payments Consume Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsConsumePurchase",
      "sentence": "Payments Consume Purchase - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument(\"Id\");",
            "    bridge.payments.consumePurchase(id)",
            "        .then((data) => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchase = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Payments Supported.",
      "fullName": "Is Payments Supported",
      "functionType": "Condition",
      "group": "Payments",
      "name": "IsPaymentsSupported",
      "sentence": "Is Payments Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.payments.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Purchase Completed.",
      "fullName": "On Payments Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsPurchaseCompleted",
      "sentence": "On Payments Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Purchases Completed.",
      "fullName": "On Payments Get Purchases Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetPurchasesCompleted",
      "sentence": "On Payments Get Purchases Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Catalog Completed.",
      "fullName": "On Payments Get Catalog Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetCatalogCompleted",
      "sentence": "On Payments Get Catalog Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Consume Purchase Completed.",
      "fullName": "On Payments Consume Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsConsumePurchaseCompleted",
      "sentence": "On Payments Consume Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Properties Count.",
      "fullName": "Payments Last Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase).length",
            "    : 0;",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Name.",
      "fullName": "Payments Last Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase)[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "const { paymentsPurchase } = gdjs._playgamaBridgeExtension;",
            "",
            "if (!paymentsPurchase) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "} else {",
            "    if (property.includes('.')) {",
            "        const parts = property.split('.');",
            "        let value = paymentsPurchase;",
            "        for (const part of parts) {",
            "            value = value?.[part];",
            "        }",
            "        eventsFunctionContext.returnValue = value ?? '';",
            "    } else {",
            "        const value = isNaN(+property)",
            "            ? paymentsPurchase[property]",
            "            : paymentsPurchase[Object.keys(paymentsPurchase)[property]];",
            "        eventsFunctionContext.returnValue = typeof value === 'object' && value !== null",
            "            ? JSON.stringify(value)",
            "            : (value ?? '');",
            "    }",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchases Count.",
      "fullName": "Payments Purchases Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Properties Count.",
      "fullName": "Payments Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Property Name.",
      "fullName": "Payments Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const purchaseIndex = eventsFunctionContext.getArgument(\"PurchaseIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsPurchases } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsPurchases.length > 0) {",
            "    const purchase = paymentsPurchases[purchaseIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? purchase[property]",
            "        : purchase[Object.keys(purchase)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Purchase Index",
          "name": "PurchaseIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Items Count.",
      "fullName": "Payments Catalog Items Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Properties Count.",
      "fullName": "Payments Catalog Item Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Name.",
      "fullName": "Payments Catalog Item Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Value.",
      "fullName": "Payments Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const productIndex = eventsFunctionContext.getArgument(\"ProductIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length > 0) {",
            "    const product = paymentsCatalog[productIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? product[property]",
            "        : product[Object.keys(product)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Product Index",
          "name": "ProductIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments First Catalog Item Property Value.",
      "fullName": "Payments First Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsFirstCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const filterProperty = eventsFunctionContext.getArgument(\"FilterProperty\");",
            "const filterPropertyValue = eventsFunctionContext.getArgument(\"FilterPropertyValue\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length <= 0) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "",
            "const product = paymentsCatalog.find(item => item[filterProperty] === filterPropertyValue);",
            "",
            "if (!product) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "    ",
            "eventsFunctionContext.returnValue = isNaN(+property)",
            "    ? product[property]",
            "    : product[Object.keys(product)[property]];",
            "",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Filter Property",
          "name": "FilterProperty",
          "type": "string"
        },
        {
          "description": "Filter Property Value",
          "name": "FilterPropertyValue",
          "type": "string"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Supported.",
      "fullName": "Is Achievements Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsSupported",
      "sentence": "Is Achievements Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Get List Supported.",
      "fullName": "Is Achievements Get List Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsGetListSupported",
      "sentence": "Is Achievements Get List Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isGetListSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Native Popup Supported.",
      "fullName": "Is Achievements Native Popup Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsNativePopupSupported",
      "sentence": "Is Achievements Native Popup Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isNativePopupSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Unlock Completed.",
      "fullName": "On Achievements Unlock Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsUnlockCompleted",
      "sentence": "On Achievements Unlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Get List Completed.",
      "fullName": "On Achievements Get List Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsGetListCompleted",
      "sentence": "On Achievements Get List Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Show Native Popup Completed.",
      "fullName": "On Achievements Show Native Popup Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsShowNativePopupCompleted",
      "sentence": "On Achievements Show Native Popup Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Count.",
      "fullName": "Achievements Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Properties Count.",
      "fullName": "Achievement Properties Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Name.",
      "fullName": "Achievement Property Name",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {})[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Value.",
      "fullName": "Achievement Property Value",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const achievementIndex = eventsFunctionContext.getArgument(\"AchievementIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { achievementsList } = gdjs._playgamaBridgeExtension;",
            "",
            "if (achievementsList.length > 0) {",
            "    const achievement = achievementsList[achievementIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? achievement[property]",
            "        : achievement[Object.keys(achievement)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Achievement Index",
          "name": "AchievementIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievements Unlock.",
      "fullName": "Achievements Unlock",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsUnlock",
      "sentence": "Achievements Unlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.unlock(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Get List.",
      "fullName": "Achievements Get List",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsGetList",
      "sentence": "Achievements Get List",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.getList(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.achievementsList = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Show Native Popup.",
      "fullName": "Achievements Show Native Popup",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsShowNativePopup",
      "sentence": "Achievements Show Native Popup",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.showNativePopup(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Remote Config Supported.",
      "fullName": "Is Remote Config Supported",
      "functionType": "Condition",
      "group": "Remote",
      "name": "IsRemoteConfigSupported",
      "sentence": "Is Remote Config Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.remoteConfig.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Remote Config Got Completed.",
      "fullName": "On Remote Config Got Completed",
      "functionType": "Condition",
      "group": "Remote",
      "name": "OnRemoteConfigGotCompleted",
      "sentence": "On Remote Config Got Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Remote Config Value.",
      "fullName": "Has Remote Config Value",
      "functionType": "Condition",
      "group": "Remote",
      "name": "HasRemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = remoteConfig[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Remote Config Value.",
      "fullName": "Remote Config Value",
      "functionType": "StringExpression",
      "group": "Remote",
      "name": "RemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "eventsFunctionContext.returnValue = remoteConfig[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Remote Config Get Request.",
      "fullName": "Send Remote Config Get Request",
      "functionType": "Action",
      "group": "Remote",
      "name": "SendRemoteConfigGetRequest",
      "sentence": "Send Remote Config Get Request",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    window.bridge.remoteConfig.get(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.remoteConfig = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Ad Block Detected.",
      "fullName": "Is Ad Block Detected",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsAdBlockDetected",
      "sentence": "Is Ad Block Detected",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAdBlockDetected;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [],
  "eventsBasedObjects": []
}