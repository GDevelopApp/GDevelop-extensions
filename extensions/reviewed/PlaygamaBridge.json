{
  "author": "Playgama",
  "category": "Ads",
  "extensionNamespace": "",
  "fullName": "Playgama Bridge",
  "gdevelopVersion": "",
  "helpPath": "/extensions/playgama-bridge/details",
  "iconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSIjOTc0N0ZGIi8+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",
  "name": "PlaygamaBridge",
  "previewIconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K",
  "shortDescription": "One SDK for cross-platform publishing HTML5 games.",
  "version": "1.26.0",
  "description": [
    "One SDK for cross-platform publishing HTML5 games. ",
    "Please refer to [Playgama documentation](https://wiki.playgama.com/playgama/sdk/engines/gdevelop) for detailed guidance."
  ],
  "origin": {
    "identifier": "PlaygamaBridge",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "playgama",
    "bridge",
    "html5",
    "sdk",
    "platform",
    "ads"
  ],
  "authorIds": [
    "pGl7czfmrbUqIa4ZZkTji4NL9zX2"
  ],
  "dependencies": [],
  "globalVariables": [],
  "sceneVariables": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onFirstSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "window.bridgeOptions = {",
            "    \"platforms\": {",
            "        \"game_distribution\": {",
            "            \"gameId\": \"\"",
            "        },",
            "        \"telegram\": {",
            "            \"adsgramBlockId\": \"\"",
            "        },",
            "        \"y8\": {",
            "            \"gameId\": \"\",",
            "            \"adsenseId\": \"\",",
            "            \"channelId\": \"\"",
            "        },",
            "        \"lagged\": {",
            "            \"devId\": \"\",",
            "            \"publisherId\": \"\"",
            "        },",
            "        \"huawei\": {",
            "            \"appId\": \"\"",
            "        },",
            "        \"msn\": {",
            "            \"gameId\": \"\"",
            "        },",
            "        \"discord\": {",
            "            \"appId\": \"\"",
            "        },",
            "        \"gamepush\": {",
            "            \"projectId\": \"\",",
            "            \"publicToken\": \"\"",
            "        },",
            "        \"crazy_games\": {",
            "            \"xsollaProjectId\": \"\",",
            "            \"isSandbox\": false,",
            "            \"useUserToken\": false",
            "        },",
            "        \"facebook\": {",
            "            \"subscribeForNotificationsOnStart\": true,",
            "            \"sendAnalyticsEvents\": false",
            "        },",
            "        \"yandex\": {",
            "            \"useSignedData\": false,",
            "            \"sendAnalyticsEvents\": false",
            "        },",
            "        \"youtube\": {",
            "            \"sendAnalyticsEvents\": false",
            "        }",
            "    },",
            "    \"advertisement\": {",
            "        \"interstitial\": {",
            "            \"preloadOnStart\": true",
            "        },",
            "        \"rewarded\": {",
            "            \"preloadOnStart\": true",
            "        },",
            "        \"useBuiltInErrorPopup\": true,",
            "        \"backfillId\": \"\"",
            "    },",
            "    \"payments\": [],",
            "    \"leaderboards\": [],",
            "    \"sendAnalyticsEvents\": true",
            "}",
            "",
            "gdjs._playgamaBridgeExtension = {",
            "    isLastActionCompletedSuccessfully: false,",
            "    actionParametersContainer: {},",
            "",
            "    // game",
            "    isVisibilityStateChanged: false,",
            "    prevVisibilityState: null,",
            "    visibilityStateStack: [],",
            "",
            "    // platform",
            "    serverTime: 0,",
            "    isGetServerTimeCompleted: false,",
            "    nextIsGetServerTimeCompleted: false,",
            "    allGames: [],",
            "    gameById: null,",
            "    isGetAllGamesCompleted: false,",
            "    nextIsGetAllGamesCompleted: false,",
            "    isGetGameByIdCompleted: false,",
            "    nextIsGetGameByIdCompleted: false,",
            "    isPlatformAudioStateChanged: false,",
            "    platformAudioStateStack: [],",
            "    platformAudioState: null,",
            "    platformPreviousAudioState: null,",
            "    isPlatformPauseStateChanged: false,",
            "    platformPauseStateStack: [],",
            "    platformPauseState: null,",
            "    platformPreviousPauseState: null,",
            "    ",
            "    // storage",
            "    storageData: {},",
            "    storageDataGetRequestKeys: [],",
            "    storageDataSetRequestKeys: [],",
            "    storageDataSetRequestValues: [],",
            "    storageDataDeleteRequestKeys: [],",
            "    isStorageDataGetRequestCompleted: false,",
            "    isStorageDataSetRequestCompleted: false,",
            "    isStorageDataDeleteRequestCompleted: false,",
            "    nextIsStorageDataGetRequestCompleted: false,",
            "    nextIsStorageDataSetRequestCompleted: false,",
            "    nextIsStorageDataDeleteRequestCompleted: false,",
            "",
            "    // advertisement",
            "    bannerState: null,",
            "    prevBannerState: null,",
            "    bannerStateStack: [],",
            "    interstitialState: null,",
            "    prevInterstitialState: null,",
            "    interstitialStateStack: [],",
            "    rewardedState: null,",
            "    prevRewardedState: null,",
            "    rewardedStateStack: [],",
            "    isAdBlockDetected: false,",
            "    isBannerStateChanged: false,",
            "    isInterstitialStateChanged: false,",
            "    isRewardedStateChanged: false,",
            "    isCheckAdBlockCompleted: false,",
            "    nextIsCheckAdBlockCompleted: false,",
            "",
            "    // player",
            "    isAuthorizePlayerCompleted: false,",
            "    nextIsAuthorizePlayerCompleted: false,",
            "",
            "    // social",
            "    isShareCompleted: false,",
            "    isInviteFriendsCompleted: false,",
            "    isJoinCommunityCompleted: false,",
            "    nextIsShareCompleted: false,",
            "    nextIsInviteFriendsCompleted: false,",
            "    nextIsJoinCommunityCompleted: false,",
            "    isCreatePostCompleted: false,",
            "    isAddToHomeScreenCompleted: false,",
            "    isAddToFavoritesCompleted: false,",
            "    isRateCompleted: false,",
            "    nextIsCreatePostCompleted: false,",
            "    nextIsAddToHomeScreenCompleted: false,",
            "    nextIsAddToFavoritesCompleted: false,",
            "    nextIsRateCompleted: false,",
            "",
            "    // leaderboards",
            "    isLeaderboardsSetScoreCompleted: false,",
            "    isLeaderboardsGetEntriesCompleted: false,",
            "    isLeaderboardsShowNativePopupCompleted: false,",
            "    nextIsLeaderboardsSetScoreCompleted: false,",
            "    nextIsLeaderboardsGetEntriesCompleted: false,",
            "    nextIsLeaderboardsShowNativePopupCompleted: false,",
            "    leaderboardEntries: [],",
            "    ",
            "    // payments",
            "    isPaymentsPurchaseCompleted: false,",
            "    isPaymentsGetPurchasesCompleted: false,",
            "    isPaymentsGetCatalogCompleted: false,",
            "    isPaymentsConsumePurchaseCompleted: false,",
            "    nextIsPaymentsPurchaseCompleted: false,",
            "    nextIsPaymentsGetPurchasesCompleted: false,",
            "    nextIsPaymentsGetCatalogCompleted: false,",
            "    nextIsPaymentsConsumePurchaseCompleted: false,",
            "    paymentsPurchase: null,",
            "    paymentsPurchases: [],",
            "    paymentsCatalog: [],",
            "",
            "    // achievements",
            "    isAchievementsUnlockCompleted: false,",
            "    isAchievementsGetListCompleted: false,",
            "    isAchievementsShowNativePopupCompleted: false,",
            "    nextIsAchievementsUnlockCompleted: false,",
            "    nextIsAchievementsGetListCompleted: false,",
            "    nextIsAchievementsShowNativePopupCompleted: false,",
            "    achievementsList: [],",
            "",
            "    // remote",
            "    remoteConfig: {},",
            "    isRemoteConfigGotCompleted: false,",
            "    nextIsRemoteConfigGotCompleted: false,",
            "}",
            "",
            "// utils",
            "gdjs._playgamaBridgeExtension.addActionParameter = function (path, value, sep = '.') {",
            "    const keys = path.replace(/\\[/g, sep).replace(/]/g, '').split(sep).map(item => isNaN(+item) ? item : +item);",
            "",
            "    let current = gdjs._playgamaBridgeExtension.actionParametersContainer;",
            "",
            "    for (let i = 0; i < keys.length; i++) {",
            "        const key = keys[i];",
            "        if (['__proto__', 'prototype', 'constructor'].includes(key)) {",
            "            break;",
            "        }",
            "",
            "        if (i < keys.length - 1) {",
            "            if ((Array.isArray(current[key]) && typeof keys[i + 1] !== 'number') || (!Array.isArray(current[key]) && typeof keys[i + 1] === 'number') || typeof current[key] !== 'object') {",
            "                break;",
            "            }",
            "            current = current[key];",
            "        } else if (Array.isArray(current[key]) && Array.isArray(value)) {",
            "            current[key] = [ ...current[key], ...value ];",
            "        } else if (",
            "            typeof value === 'object' && typeof current[key] === 'object' && !Array.isArray(current[key]) && !Array.isArray(value)) {",
            "            current[key] = { ...current[key], ...value };",
            "        } else {",
            "            current[key] = value;",
            "        }",
            "    }",
            "}",
            "",
            "function initializeBridge() {",
            "    bridge.engine = 'gdevelop'",
            "    bridge.initialize(bridgeOptions)",
            "        .then(() => {",
            "            bridge.advertisement.on('banner_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.bannerStateStack.push(state);",
            "            });",
            "",
            "            bridge.advertisement.on('interstitial_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.interstitialStateStack.push(state);",
            "",
            "            });",
            "",
            "            bridge.advertisement.on('rewarded_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.rewardedStateStack.push(state);",
            "            });",
            "",
            "            bridge.game.on('visibility_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.visibilityStateStack.push(state)",
            "            });",
            "",
            "            bridge.platform.on('audio_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.platformAudioStateStack.push(state)",
            "            });",
            "",
            "            bridge.platform.on('pause_state_changed', state => {",
            "                gdjs._playgamaBridgeExtension.platformPauseStateStack.push(state)",
            "            });",
            "",
            "            function updateState() {",
            "                // visibility",
            "                if (gdjs._playgamaBridgeExtension.visibilityStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.visibilityState = gdjs._playgamaBridgeExtension.visibilityStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isVisibilityStateChanged = gdjs._playgamaBridgeExtension.visibilityState !== gdjs._playgamaBridgeExtension.prevVisibilityState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isVisibilityStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.prevVisibilityState = gdjs._playgamaBridgeExtension.visibilityState;",
            "                }",
            "",
            "                // advertisement",
            "                if (gdjs._playgamaBridgeExtension.bannerStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.bannerState = gdjs._playgamaBridgeExtension.bannerStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isBannerStateChanged = gdjs._playgamaBridgeExtension.bannerState !== gdjs._playgamaBridgeExtension.prevBannerState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isBannerStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.prevBannerState = gdjs._playgamaBridgeExtension.bannerState;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.interstitialStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.interstitialState = gdjs._playgamaBridgeExtension.interstitialStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isInterstitialStateChanged = gdjs._playgamaBridgeExtension.interstitialState !== gdjs._playgamaBridgeExtension.prevInterstitialState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isInterstitialStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.prevInterstitialState = gdjs._playgamaBridgeExtension.interstitialState;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.rewardedStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.rewardedState = gdjs._playgamaBridgeExtension.rewardedStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isRewardedStateChanged = gdjs._playgamaBridgeExtension.rewardedState !== gdjs._playgamaBridgeExtension.prevRewardedState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isRewardedStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.prevRewardedState = gdjs._playgamaBridgeExtension.rewardedState;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted !== gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted = gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = false;",
            "                }",
            "",
            "                // platform",
            "                if (gdjs._playgamaBridgeExtension.platformAudioStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.platformAudioState = gdjs._playgamaBridgeExtension.platformAudioStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged = gdjs._playgamaBridgeExtension.platformAudioState !== gdjs._playgamaBridgeExtension.platformPreviousAudioState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.platformPreviousAudioState = gdjs._playgamaBridgeExtension.platformAudioState;",
            "                }",
            "",
            "",
            "                if (gdjs._playgamaBridgeExtension.platformPauseStateStack.length > 0) {",
            "                    gdjs._playgamaBridgeExtension.platformPauseState = gdjs._playgamaBridgeExtension.platformPauseStateStack.shift();",
            "                }",
            "",
            "                gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged = gdjs._playgamaBridgeExtension.platformPauseState !== gdjs._playgamaBridgeExtension.platformPreviousPauseState;",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged) {",
            "                    gdjs._playgamaBridgeExtension.platformPreviousPauseState = gdjs._playgamaBridgeExtension.platformPauseState;",
            "                }",
            "",
            "",
            "                if (gdjs._playgamaBridgeExtension.isGetServerTimeCompleted !== gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isGetServerTimeCompleted = gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isGetAllGamesCompleted !== gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isGetAllGamesCompleted = gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isGetGameByIdCompleted !== gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isGetGameByIdCompleted = gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = false;",
            "                }",
            "",
            "                // storage",
            "                if (gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = false;",
            "                }",
            "",
            "                // player",
            "                if (gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted !== gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted = gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = false;",
            "                }",
            "",
            "                // social",
            "                if (gdjs._playgamaBridgeExtension.isShareCompleted !== gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isShareCompleted = gdjs._playgamaBridgeExtension.nextIsShareCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsShareCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isInviteFriendsCompleted !== gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isInviteFriendsCompleted = gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isJoinCommunityCompleted !== gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isJoinCommunityCompleted = gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isCreatePostCompleted !== gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isCreatePostCompleted = gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted = gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted = gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isRateCompleted !== gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isRateCompleted = gdjs._playgamaBridgeExtension.nextIsRateCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsRateCompleted = false;",
            "                }",
            "",
            "                // leaderboards",
            "                if (gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isLeaderboardsShowNativePopupCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isLeaderboardsShowNativePopupCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsLeaderboardsShowNativePopupCompleted = false;",
            "                }",
            "",
            "                // payments",
            "                if (gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = false;",
            "                }",
            "",
            "                // achievements",
            "                if (gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = false;",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = false;",
            "                }",
            "",
            "                // remote configs",
            "                if (gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted !== gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                    gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted = gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted",
            "                }",
            "",
            "                if (gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                    gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = false;",
            "                }",
            "",
            "                requestAnimationFrame(updateState);",
            "            }",
            "",
            "            requestAnimationFrame(updateState);",
            "        });",
            "}",
            "",
            "const scriptElement = document.createElement('script')",
            "scriptElement.src = 'https://bridge.playgama.com/v1/stable/playgama-bridge.js'",
            "document.body.appendChild(scriptElement)",
            "scriptElement.onload = function() {",
            "    initializeBridge()",
            "}",
            "scriptElement.onerror = function() {",
            "    (()=>{var e={258:e=>{!function(t){e.exports=t;var r=\"listeners\",n={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var r=this;return n.originalListener=t,a(r,e).push(n),r;function n(){i.call(r,e,n),t.apply(this,arguments)}},off:i,emit:function(e,t){var r=this,n=a(r,e,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(e){e.call(r)}));else if(2===o)n.forEach((function(e){e.call(r,t)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(e){e.apply(r,i)}))}return!!n.length}};function o(e){for(var t in n)e[t]=n[t];return e}function i(e,t){var n,o=this;if(arguments.length){if(t){if(n=a(o,e,!0)){if(!(n=n.filter((function(e){return e!==t&&e.originalListener!==t}))).length)return i.call(o,e);o[r][e]=n}}else if((n=o[r])&&(delete n[e],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(e,t,n){if(!n||e[r]){var o=e[r]||(e[r]={});return o[t]||(o[t]=[])}}o(t.prototype),t.mixin=o}((function e(){if(!(this instanceof e))return new e}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{\"use strict\";var e={VK:\"vk\",OK:\"ok\",YANDEX:\"yandex\",CRAZY_GAMES:\"crazy_games\",ABSOLUTE_GAMES:\"absolute_games\",GAME_DISTRIBUTION:\"game_distribution\",PLAYGAMA:\"playgama\",PLAYDECK:\"playdeck\",TELEGRAM:\"telegram\",Y8:\"y8\",LAGGED:\"lagged\",FACEBOOK:\"facebook\",POKI:\"poki\",MOCK:\"mock\",QA_TOOL:\"qa_tool\",MSN:\"msn\",HUAWEI:\"huawei\",BITQUEST:\"bitquest\",GAMEPUSH:\"gamepush\",DISCORD:\"discord\",JIO_GAMES:\"jio_games\",YOUTUBE:\"youtube\",PORTAL:\"portal\",REDDIT:\"reddit\"},t={PLATFORM:\"platform\",PLAYER:\"player\",GAME:\"game\",STORAGE:\"storage\",ADVERTISEMENT:\"advertisement\",SOCIAL:\"social\",DEVICE:\"device\",LEADERBOARDS:\"leaderboards\",PAYMENTS:\"payments\",REMOTE_CONFIG:\"remote_config\",CLIPBOARD:\"clipboard\",ACHIEVEMENTS:\"achievements\"},n={INTERSTITIAL_STATE_CHANGED:\"interstitial_state_changed\",REWARDED_STATE_CHANGED:\"rewarded_state_changed\",BANNER_STATE_CHANGED:\"banner_state_changed\",VISIBILITY_STATE_CHANGED:\"visibility_state_changed\",AUDIO_STATE_CHANGED:\"audio_state_changed\",PAUSE_STATE_CHANGED:\"pause_state_changed\"},o={VISIBLE:\"visible\",HIDDEN:\"hidden\"},i={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\"},a={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\",REWARDED:\"rewarded\"},s={LOADING:\"loading\",SHOWN:\"shown\",HIDDEN:\"hidden\",FAILED:\"failed\"},c=\"banner-container\",u={LOCAL_STORAGE:\"local_storage\",PLATFORM_INTERNAL:\"platform_internal\"},l={DESKTOP:\"desktop\",MOBILE:\"mobile\",TABLET:\"tablet\",TV:\"tv\"},f={GAME_READY:\"game_ready\",IN_GAME_LOADING_STARTED:\"in_game_loading_started\",IN_GAME_LOADING_STOPPED:\"in_game_loading_stopped\",GAMEPLAY_STARTED:\"gameplay_started\",GAMEPLAY_STOPPED:\"gameplay_stopped\",PLAYER_GOT_ACHIEVEMENT:\"player_got_achievement\",GAME_OVER:\"game_over\"},p=\"not_available\",d=\"in_game\",h=\"native\",y={INITIALIZE:\"initialize\",AUTHORIZE_PLAYER:\"authorize_player\",SHARE:\"share\",INVITE_FRIENDS:\"invite_friends\",JOIN_COMMUNITY:\"join_community\",CREATE_POST:\"create_post\",ADD_TO_HOME_SCREEN:\"add_to_home_screen\",ADD_TO_FAVORITES:\"add_to_favorites\",RATE:\"rate\",LEADERBOARDS_SET_SCORE:\"leaderboards_set_score\",LEADERBOARDS_GET_ENTRIES:\"leaderboards_get_entries\",LEADERBOARDS_SHOW_NATIVE_POPUP:\"leaderboards_show_native_popup\",GET_PURCHASES:\"get_purchases\",GET_CATALOG:\"get_catalog\",PURCHASE:\"purchase\",CONSUME_PURCHASE:\"consume_purchase\",GET_REMOTE_CONFIG:\"get_remote_config\",GET_STORAGE_DATA:\"get_storage_data\",SET_STORAGE_DATA:\"set_storage_data\",DELETE_STORAGE_DATA:\"delete_storage_data\",CLIPBOARD_WRITE:\"clipboard_write\",ADBLOCK_DETECT:\"adblock_detect\",SET_INTERSTITIAL_STATE:\"set_interstitial_state\",SET_REWARDED_STATE:\"set_rewarded_state\",SHOW_INTERSTITIAL:\"show_interstitial\",SHOW_REWARDED:\"show_rewarded\"},m={message:\"Before using the SDK you must initialize it\"},v={message:\"Storage not supported\"},_={message:\"Storage not available\"},g={message:\"GameDistribution Game ID is undefined\"},S={message:\"Y8 Game params are not found\"},b={message:\"OK Game params are not found\"},E={message:\"Lagged Game params are not found\"},P={message:\"Huawei Game params are not found\"},w={message:\"GamePush Game params are not found\"},A={message:\"Message is too long\"},O={message:\"Discord Game params are not found\"};function k(e){return k=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},k(e)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function D(e){var t=function(e,t){if(\"object\"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=k(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==k(t)?t:String(t)}function I(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function R(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,j(e,t,\"set\"),r),r}function L(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,j(e,t,\"get\"))}function j(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var C=new WeakMap,N=new WeakMap,G=new WeakMap;const B=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),I(this,C,{writable:!0,value:void 0}),I(this,N,{writable:!0,value:void 0}),I(this,G,{writable:!0,value:void 0}),R(this,C,new Promise((function(e,r){R(t,N,e),R(t,G,r)})))}var t,r;return t=e,(r=[{key:\"promise\",get:function(){return L(this,C)}},{key:\"resolve\",value:function(e){L(this,N).call(this,e)}},{key:\"reject\",value:function(e){L(this,G).call(this,e)}}])&&T(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();var M=r(258),H=r.n(M);function F(e){return F=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},F(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function U(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function V(e){var t=function(e,t){if(\"object\"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=F(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==F(t)?t:String(t)}const W=U((function e(t){var r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,o=void 0,(n=V(n=\"_platformBridge\"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=t}));function z(e){return z=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},z(e)}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Y(n.key),n)}}function Y(e){var t=function(e,t){if(\"object\"!=z(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=z(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==z(t)?t:String(t)}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function K(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function X(e,t){Q(e,t),t.add(e)}function Q(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function $(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function ee(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var te=new WeakMap,re=new WeakSet,ne=new WeakSet,oe=new WeakSet,ie=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&J(e,t)}(s,e);var t,r,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(o);if(i){var r=q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===z(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return K(e)}(this,e)});function s(e){var t,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),X(K(t=a.call(this,e)),oe),X(K(t),ne),X(K(t),re),i={writable:!0,value:!1},Q(r=K(t),o=te),o.set(r,i),t._platformBridge.on(n.AUDIO_STATE_CHANGED,(function(e){return t.emit(n.AUDIO_STATE_CHANGED,e)})),t._platformBridge.on(n.PAUSE_STATE_CHANGED,(function(e){return t.emit(n.PAUSE_STATE_CHANGED,e)})),t}return t=s,(r=[{key:\"id\",get:function(){return this._platformBridge.platformId}},{key:\"sdk\",get:function(){return this._platformBridge.platformSdk}},{key:\"language\",get:function(){return this._platformBridge.platformLanguage}},{key:\"payload\",get:function(){return this._platformBridge.platformPayload}},{key:\"tld\",get:function(){return this._platformBridge.platformTld}},{key:\"isGetAllGamesSupported\",get:function(){return this._platformBridge.isPlatformGetAllGamesSupported}},{key:\"isGetGameByIdSupported\",get:function(){return this._platformBridge.isPlatformGetGameByIdSupported}},{key:\"isAudioEnabled\",get:function(){return this._platformBridge.isPlatformAudioEnabled}},{key:\"isPaused\",get:function(){return this._platformBridge.isPlatformPaused}},{key:\"sendMessage\",value:function(e){if(e===f.GAME_READY){if(function(e,t){return t.get?t.get.call(e):t.value}(this,ee(this,te,\"get\")))return Promise.reject();(function(e,t,r){(function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}})(e,ee(e,t,\"set\"),r)})(this,te,!0),$(this,re,ae).call(this);var t=document.getElementById(\"loading-overlay\");t&&t.remove()}return this._platformBridge.sendMessage(e)}},{key:\"getServerTime\",value:function(){return this._platformBridge.getServerTime()}},{key:\"getAllGames\",value:function(){return this._platformBridge.getAllGames()}},{key:\"getGameById\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getGameById(t)}return this._platformBridge.getGameById(e)}}])&&Z(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),s}(W);function ae(){var t,r=null===(t=this._platformBridge.options)||void 0===t?void 0:t.sendAnalyticsEvents,n=window.location.href;if(!(n.startsWith(\"file://\")||n.includes(\"localhost\")||n.includes(\"127.0.0.1\"))&&!1!==r){var o=\"https://playgama.com/api/v1/events\";\"discord\"===this._platformBridge.platformId&&(o=\"/playgama/api/v1/events\");var i=this._platformBridge.options,a=null;switch(this._platformBridge.platformId){case e.GAME_DISTRIBUTION:case e.Y8:a=i.gameId;break;case e.HUAWEI:a=i.appId;break;case e.MSN:a=i.gameId;break;case e.DISCORD:a=i.appId;break;case e.GAMEPUSH:a=i.projectId;break;default:a=null}a||(a=$(this,ne,se).call(this,window.location.href)),fetch(o,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({eventName:\"game_ready\",pageName:\"\".concat(this._platformBridge.platformId,\":\").concat(this._platformBridge.engine),userId:\"bridge:\".concat(\"1.26.0\"),clid:a})}).then((function(e){if(!e.ok)throw new Error(\"Network response was not ok: \".concat(e.status))})).catch((function(e){console.error(\"Error sending event:\",e)}))}}function se(t){try{var r=new URL(t).pathname.split(\"/\").filter(Boolean);switch(this._platformBridge.platformId){case e.YANDEX:var n=r.indexOf(\"app\"),o=-1!==n?r[n+1]:null;if(o)return\"Yandex \".concat(o);break;case e.LAGGED:var i=r.indexOf(\"g\"),a=-1!==i?r[i+1]:null;if(a)return $(this,oe,ce).call(this,a);break;case e.CRAZY_GAMES:var s=r.indexOf(\"game\"),c=-1!==s?r[s+1]:null;if(c)return $(this,oe,ce).call(this,c);break;case e.PLAYGAMA:var u=r.indexOf(\"game\"),l=-1!==u?r[u+1]:null;if(l)return $(this,oe,ce).call(this,l);var f=r[0];if(\"string\"==typeof f&&/^[a-z0-9]{10,}$/i.test(f))return\"Playgama \".concat(f)}}catch(e){return null}return null}function ce(e){return\"string\"!=typeof e||0===e.length?\"\":e.replace(/-/g,\" \").replace(/\\b\\w/g,(function(e){return e.toUpperCase()}))}H().mixin(ie.prototype);const ue=ie;function le(e){return le=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},le(e)}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,pe(n.key),n)}}function pe(e){var t=function(e,t){if(\"object\"!=le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=le(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==le(t)?t:String(t)}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}const ye=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&de(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=he(n);if(o){var r=he(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===le(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isAuthorizationSupported\",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:\"isAuthorized\",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:\"id\",get:function(){return this._platformBridge.playerId}},{key:\"name\",get:function(){return this._platformBridge.playerName}},{key:\"photos\",get:function(){return this._platformBridge.playerPhotos}},{key:\"extra\",get:function(){return this._platformBridge.playerExtra}},{key:\"authorize\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.authorize(t)}return this._platformBridge.authorizePlayer(e)}}])&&fe(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(W);function me(e){return me=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},me(e)}function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _e(e,t,r){var n;return n=function(e,t){if(\"object\"!=me(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=me(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(t),(t=\"symbol\"==me(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){var o=document.createElement(\"script\");o.src=e;for(var i=0;i<Object.keys(t).length;i++){var a=Object.keys(t)[i],s=t[a];o.setAttribute(a,s)}o.addEventListener(\"load\",r),o.addEventListener(\"error\",(function(){return n(new Error(\"Failed to load: \".concat(e)))})),document.head.appendChild(o)}))};function be(e){var t=document.createElement(\"div\");return t.id=c,t.style.position=\"absolute\",document.body.appendChild(t),\"top\"===e?(t.style.top=\"0px\",t.style.height=\"90px\",t.style.width=\"100%\"):(t.style.bottom=\"0px\",t.style.height=\"90px\",t.style.width=\"100%\"),t}var Ee=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length<=0?Promise.resolve():new Promise((function(e){var r=setInterval((function(){for(var n=window,o=0;o<t.length;o++){var i=n[t[o]];if(!i)return;n=i}e(),clearInterval(r)}),100)}))},Pe=function(e){return/^data:image\\/(png|jpeg|jpg|gif|bmp|webp|svg\\+xml);base64,[A-Za-z0-9+/]+={0,2}$/.test(e)},we=function(e,t){return void 0===e[t]?null:e[t]};function Ae(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)?e.reduce((function(e,n,o){if(e[o]=we(t,n),r)try{e[o]=JSON.parse(e[o])}catch(e){}return e}),new Array(e.length)):we(t,e)}function Oe(e,t){for(var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),n=Object.keys(t),o=0;o<n.length;o++){var i=n[o];i in e&&t[i]instanceof Object&&e[i]instanceof Object?r[i]=Oe(e[i],t[i]):r[i]=t[i]}return r}function ke(e){return ke=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ke(e)}function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,je(n.key),n)}}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}function Ie(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function Le(e,t,r){return(t=je(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e){var t=function(e,t){if(\"object\"!=ke(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ke(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ke(t)?t:String(t)}var Ce=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&De(e,t)}(s,e);var t,r,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Re(o);if(i){var r=Re(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ke(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ie(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),Le(Ie(t=a.call(this,e)),\"_currentLoadingProgress\",null),Le(Ie(t),\"_loadingProcessCompleted\",!1),t._platformBridge.on(n.VISIBILITY_STATE_CHANGED,(function(e){return t.emit(n.VISIBILITY_STATE_CHANGED,e)})),t._platformBridge.options.disableLoadingLogo||function(e){var t=document.createElement(\"style\");t.textContent=\"\\n        .fullscreen {\\n            background: #242424;\\n            width: 100vw;\\n            height: 100vh;\\n            position: absolute;\\n            top: 0px;\\n            left: 0px;\\n        }\\n\\n        #loading-overlay {\\n            font-size: 20px;\\n            z-index: 1;\\n            display: flex;\\n            flex-direction: column;\\n            justify-content: center;\\n            align-items: center;\\n        }\\n\\n        #logo {\\n            width: 10%;\\n            max-width: 300px;\\n            min-width: 120px;\\n            overflow: visible;\\n        }\\n\\n        .fill-rect {\\n            transform: translateY(100%);\\n            transition: transform 0.3s ease-out;\\n        }\\n\\n        #gradientMover {\\n            display: none;\\n        }\\n\\n        .gradient-mover {\\n            animation: moveGradient 0.4s linear;\\n        }\\n\\n        @keyframes moveGradient {\\n            0% { transform: translateX(0); }\\n            100% { transform: translateX(-250%); }\\n        }\\n\\n        .logo-fade-out {\\n            animation: logoFadeOut 1s linear;\\n        }\\n\\n        .logo-fade-out path {\\n            fill: white;\\n            stroke: white;\\n        }\\n\\n        @keyframes logoFadeOut {\\n            0% { opacity: 1; }\\n            50% { opacity: 0; }\\n            100% { opacity: 0; }\\n        }\\n    \",document.head.appendChild(t);var r=document.createElement(\"div\");r.id=\"loading-overlay\",r.className=\"fullscreen\",document.body.appendChild(r);var n=!1===e?{viewBox:\"0 0 633 819\",paths:[\"M632 1V632H1V1H632ZM350 125.586V507.414L380.586 538H546V451H478.599L478.308 451.278L454.598 474H443.406L450.944 452.328L451 452.169V187.459L457.369 182H546V95H380.586L350 125.586ZM283 125.586L252.414 95H87V182H175.631L182 187.459V445.54L175.631 451H87V538H252.414L283 507.414V125.586Z\",\"M633 687V660H548V687H560V791H548V819H633V792H601L592 801H587L590 792V752H627V725H590V687H633Z\",\"M533 718V675L518 660H450L435 675V802L450 819H518L533 804V734H482V761H503V788L499 792H476L467 801H462L465 792V691L469 687H499L503 691V718H533Z\",\"M402 660H310V687H322V792H310V819H402L417 804V675L402 660ZM387 788L383 792H363L354 801H349L352 792V687H383L387 691V788Z\",\"M295 687V660H239V687H251V792H239V819H295V792H283V687H295Z\",\"M215 791L200 760H209L224 745V675L209 660H121V687H132V792H121V819H162V760H166L193 819H227V791H215ZM194 729L190 733H173L164 742H159L162 733V687H190L194 691V729Z\",\"M106 724V675L91 660H0V687H12V792H0V819H91L106 804V749L89 744V728L106 724ZM73 788L69 792H53L44 801H39L42 792V752H73V788ZM73 725H53L44 734H39L42 725V687H69L73 691V725Z\"],fillColor:\"#aa76ff\",strokeColor:\"#aa76ff\",gradientStops:[{offset:\"0.235577\",color:\"#aa76ff\"},{offset:\"0.240685\",color:\"white\"},{offset:\"0.659749\",color:\"#aa76ff\"}]}:{viewBox:\"0 0 633 918\",paths:[\"M633 687V660H548V687H560V791H548V819H633V792H601L592 801H587L590 792V752H627V725H590V687H633Z\",\"M533 718V675L518 660H450L435 675V802L450 819H518L533 804V734H482V761H503V788L499 792H476L467 801H462L465 792V691L469 687H499L503 691V718H533Z\",\"M612 847H564V894H579V861H591V894H606V861H612C615 861 617 864 617 867V894H633V868C633 856 623 847 612 847Z\",\"M533 846C519 846 508 857 508 870C508 884 519 895 533 895C546 895 557 884 557 870C557 857 546 846 533 846ZM533 880C528 880 524 875 524 870C524 865 528 861 533 861C538 861 542 865 542 870C542 875 538 880 533 880Z\",\"M402 660H310V687H322V792H310V819H402L417 804V675L402 660ZM387 788L383 792H363L354 801H349L352 792V687H383L387 691V788Z\",\"M484 861H502V847H482C469 847 459 858 459 871C459 884 469 894 482 894H502V880H484C478 880 474 876 474 871C474 865 478 861 484 861Z\",\"M444 875C438 875 434 879 434 885C434 890 438 895 444 895C449 895 454 890 454 885C454 879 449 875 444 875Z\",\"M402 847C389 847 378 857 378 870C378 883 389 894 402 894H425V847H402ZM410 880H403C398 880 394 876 394 870C394 865 398 861 403 861H410V880Z\",\"M295 687V660H239V687H251V792H239V819H295V792H283V687H295Z\",\"M350 847H303V894H318V861H329V894H345V861H350C353 861 356 864 356 867V894H371V868C371 856 362 847 350 847Z\",\"M215 791L200 760H209L224 745V675L209 660H121V687H132V792H121V819H162V760H166L193 819H227V791H215ZM194 729L190 733H173L164 742H159L162 733V687H190L194 691V729Z\",\"M269 847C256 847 247 857 247 870C247 883 256 894 269 894H293V847H269ZM277 880H271C265 880 261 876 261 870C261 865 265 861 271 861H277V880Z\",\"M214 847C201 847 190 857 190 870C190 883 201 894 214 894H224V895C224 900 220 903 215 903H195V918H216C229 918 239 908 239 895V847H214ZM224 880H215C210 880 206 876 206 870C206 865 210 861 215 861H224V880Z\",\"M106 724V675L91 660H0V687H12V792H0V819H91L106 804V749L89 744V728L106 724ZM73 788L69 792H53L44 801H39L42 792V752H73V788ZM73 725H53L44 734H39L42 725V687H69L73 691V725Z\",\"M167 847V880H153V847H137V894H167V895C167 900 163 904 157 904H137V918H158C172 918 182 909 182 896V847H167Z\",\"M104 847C91 847 80 857 80 870C80 883 91 894 104 894H127V847H104ZM112 880H105C100 880 96 876 96 870C96 865 100 861 105 861H112V880Z\",\"M56 833V894H72V833H56Z\",\"M25 847H2V908H17V894H25C38 894 49 883 49 870C49 857 38 847 25 847ZM24 880H17V861H24C29 861 33 865 33 870C33 876 29 880 24 880Z\",\"M0 0V633H633V0H0ZM451 452L443 475H456L480 452H546V537H382L352 507V126L382 96H546V181H458L451 187V452ZM252 96L282 126V507L252 537H88V452H176L183 446V187L176 181H88V96H252Z\"],fillColor:\"#aa76ff\",strokeColor:\"#aa76ff\",gradientStops:[{offset:\"0.235577\",color:\"#aa76ff\"},{offset:\"0.240685\",color:\"white\"},{offset:\"0.659749\",color:\"#aa76ff\"}]};n.gradientWidthMultiplier=4;var o,i,a=(o=n.viewBox.split(/[ ,]+/),i=4,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(o,i)||function(e,t){if(e){if(\"string\"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(o,i)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),s=a[2],c=a[3],u=Number(s),l=Number(c),f=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");f.setAttribute(\"id\",\"logo\"),f.setAttribute(\"viewBox\",n.viewBox),f.setAttribute(\"fill\",\"none\"),f.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\");var p=document.createElementNS(f.namespaceURI,\"defs\"),d=document.createElementNS(f.namespaceURI,\"mask\");d.setAttribute(\"id\",\"logo-mask\");var h=document.createElementNS(f.namespaceURI,\"rect\");h.setAttribute(\"x\",\"0\"),h.setAttribute(\"y\",\"0\"),h.setAttribute(\"width\",\"100%\"),h.setAttribute(\"height\",\"100%\"),h.setAttribute(\"fill\",\"black\"),d.appendChild(h),n.paths.forEach((function(e){var t=document.createElementNS(f.namespaceURI,\"path\");t.setAttribute(\"d\",e),t.setAttribute(\"fill\",\"white\"),d.appendChild(t)})),p.appendChild(d);var y=document.createElementNS(f.namespaceURI,\"linearGradient\");y.setAttribute(\"id\",\"shineGradient\"),y.setAttribute(\"x1\",\"1233\"),y.setAttribute(\"y1\",\"0\"),y.setAttribute(\"x2\",\"1866\"),y.setAttribute(\"y2\",\"633\"),y.setAttribute(\"gradientUnits\",\"userSpaceOnUse\"),n.gradientStops.forEach((function(e){var t=e.offset,r=e.color,n=document.createElementNS(f.namespaceURI,\"stop\");n.setAttribute(\"offset\",t),n.setAttribute(\"stop-color\",r),y.appendChild(n)})),p.appendChild(y),f.appendChild(p);var m=document.createElementNS(f.namespaceURI,\"g\");m.setAttribute(\"mask\",\"url(#logo-mask)\");var v=document.createElementNS(f.namespaceURI,\"rect\");v.setAttribute(\"id\",\"gradientMover\"),v.setAttribute(\"x\",\"0\"),v.setAttribute(\"y\",\"0\"),v.setAttribute(\"width\",String(u*n.gradientWidthMultiplier)),v.setAttribute(\"height\",String(l)),v.setAttribute(\"fill\",\"url(#shineGradient)\"),v.style.transform=\"translateX(0)\",m.appendChild(v),f.appendChild(m);var _=document.createElementNS(f.namespaceURI,\"g\");_.setAttribute(\"mask\",\"url(#logo-mask)\");var g=document.createElementNS(f.namespaceURI,\"rect\");g.setAttribute(\"id\",\"fillRect\"),g.setAttribute(\"class\",\"fill-rect\"),g.setAttribute(\"x\",\"0\"),g.setAttribute(\"y\",\"0\"),g.setAttribute(\"width\",\"100%\"),g.setAttribute(\"height\",String(l)),g.setAttribute(\"fill\",n.fillColor),_.appendChild(g),f.appendChild(_),n.paths.forEach((function(e){var t=document.createElementNS(f.namespaceURI,\"path\");t.setAttribute(\"d\",e),t.setAttribute(\"stroke\",n.strokeColor),t.setAttribute(\"stroke-width\",\"3\"),f.appendChild(t)})),r.appendChild(f)}(t._platformBridge.options.showFullLoadingLogo),t}return t=s,r=[{key:\"visibilityState\",get:function(){return this._platformBridge.visibilityState}},{key:\"setLoadingProgress\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(this._loadingProcessCompleted||t&&null!==this._currentLoadingProgress)){var r=document.getElementById(\"fillRect\"),n=document.getElementById(\"gradientMover\"),o=document.getElementById(\"logo\"),i=document.getElementById(\"loading-overlay\");if(r&&n&&o&&i){this._currentLoadingProgress=e;var a=Math.max(0,Math.min(100,e)),s=100-a;r.style.transform=\"translateY(\".concat(s,\"%)\"),100===a?(this._loadingProcessCompleted=!0,setTimeout((function(){r.style.display=\"none\",n.style.display=\"block\",n.classList.add(\"gradient-mover\")}),400),setTimeout((function(){return o.classList.add(\"logo-fade-out\")}),900),setTimeout((function(){return i.remove()}),1400)):n.classList.remove(\"gradient-mover\")}}}}],r&&Te(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),s}(W);H().mixin(Ce.prototype);const Ne=Ce;function Ge(e){return Ge=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ge(e)}function Be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Me(n.key),n)}}function Me(e){var t=function(e,t){if(\"object\"!=Ge(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ge(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ge(t)?t:String(t)}function He(e,t){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},He(e,t)}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}const xe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&He(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fe(n);if(o){var r=Fe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Ge(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,r=[{key:\"defaultType\",get:function(){return this._platformBridge.defaultStorageType}},{key:\"isSupported\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageSupported(e)}},{key:\"isAvailable\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageAvailable(e)}},{key:\"get\",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){var n=t[this._platformBridge.platformId];if(n)return this.get(e,n,r)}var o=t;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?this._platformBridge.getDataFromStorage(e,o,r):Promise.reject()}},{key:\"set\",value:function(e,t,r){if(r){var n=r[this._platformBridge.platformId];if(n)return this.set(e,t,n)}var o=r;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?this._platformBridge.setDataToStorage(e,t,o):Promise.reject()}},{key:\"delete\",value:function(e,t){if(t){var r=t[this._platformBridge.platformId];if(r)return this.delete(e,r)}var n=t;return n||(n=this.defaultType),this._platformBridge.isStorageAvailable(n)?this._platformBridge.deleteDataFromStorage(e,n):Promise.reject()}}],r&&Be(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(W);function Ue(e){return Ue=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ue(e)}function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,We(n.key),n)}}function We(e){var t=function(e,t){if(\"object\"!=Ue(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ue(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ue(t)?t:String(t)}function ze(e,t){Ye(e,t),t.add(e)}function Ze(e,t,r){Ye(e,t),t.set(e,r)}function Ye(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Je(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Ke(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Xe(e,t,\"set\"),r),r}function qe(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Xe(e,t,\"get\"))}function Xe(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Qe=\"started\",$e=new WeakMap,et=new WeakMap,tt=new WeakMap,rt=new WeakMap,nt=new WeakSet,ot=new WeakSet,it=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),ze(this,ot),ze(this,nt),Ze(this,$e,{writable:!0,value:0}),Ze(this,et,{writable:!0,value:0}),Ze(this,tt,{writable:!0,value:\"created\"}),Ze(this,rt,{writable:!0,value:0}),Ke(this,$e,t)}var t,r;return t=e,(r=[{key:\"state\",get:function(){return qe(this,tt)}},{key:\"start\",value:function(){var e=this;qe(this,tt)!==Qe&&(Ke(this,et,qe(this,$e)),Je(this,nt,at).call(this,Qe),Ke(this,rt,setInterval((function(){Ke(e,et,qe(e,et)-1),e.emit(\"time_left_changed\",qe(e,et)),qe(e,et)<=0&&(Je(e,ot,st).call(e),Je(e,nt,at).call(e,\"completed\"))}),1e3)))}},{key:\"stop\",value:function(){Je(this,ot,st).call(this),qe(this,tt)===Qe&&Je(this,nt,at).call(this,\"stopped\")}}])&&Ve(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function at(e){Ke(this,tt,e),this.emit(\"state_changed\",qe(this,tt))}function st(){clearInterval(qe(this,rt)),Ke(this,et,0)}H().mixin(it.prototype);const ct=it;function ut(e){return ut=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ut(e)}function lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ft(n.key),n)}}function ft(e){var t=function(e,t){if(\"object\"!=ut(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ut(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ut(t)?t:String(t)}function pt(e,t){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pt(e,t)}function dt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ht(e){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ht(e)}function yt(e,t){vt(e,t),t.add(e)}function mt(e,t,r){vt(e,t),t.set(e,r)}function vt(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function _t(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,bt(e,t,\"set\"),r),r}function gt(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function St(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,bt(e,t,\"get\"))}function bt(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Et=new WeakMap,Pt=new WeakMap,wt=new WeakMap,At=new WeakMap,Ot=new WeakMap,kt=new WeakMap,Tt=new WeakSet,Dt=new WeakSet,It=new WeakSet,Rt=new WeakSet,Lt=new WeakSet,jt=new WeakSet,Ct=new WeakSet,Nt=new WeakSet,Gt=new WeakSet,Bt=new WeakSet,Mt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&pt(e,t)}(l,e);var t,r,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ht(o);if(c){var r=ht(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ut(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return dt(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),yt(dt(t=u.call(this,e)),Bt),yt(dt(t),Gt),yt(dt(t),Nt),yt(dt(t),Ct),yt(dt(t),jt),yt(dt(t),Lt),yt(dt(t),Rt),yt(dt(t),It),yt(dt(t),Dt),yt(dt(t),Tt),mt(dt(t),Et,{writable:!0,value:s.HIDDEN}),mt(dt(t),Pt,{writable:!0,value:i.CLOSED}),mt(dt(t),wt,{writable:!0,value:void 0}),mt(dt(t),At,{writable:!0,value:60}),mt(dt(t),Ot,{writable:!0,value:a.CLOSED}),mt(dt(t),kt,{writable:!0,value:null}),t._platformBridge.on(n.BANNER_STATE_CHANGED,(function(e){return gt(dt(t),Ct,zt).call(dt(t),e)})),t._platformBridge.on(n.INTERSTITIAL_STATE_CHANGED,(function(e){e===i.CLOSED&&gt(dt(t),Lt,Vt).call(dt(t)),gt(dt(t),Nt,Zt).call(dt(t),e)})),t._platformBridge.on(n.REWARDED_STATE_CHANGED,(function(e){return gt(dt(t),Gt,Yt).call(dt(t),e)})),gt(dt(t),It,xt).call(dt(t)),t}return t=l,r=[{key:\"isBannerSupported\",get:function(){var e;return!0!==(null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.banner)||void 0===e?void 0:e.disable)&&this._platformBridge.isBannerSupported}},{key:\"bannerState\",get:function(){return St(this,Et)}},{key:\"isInterstitialSupported\",get:function(){var e;return!0!==(null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.interstitial)||void 0===e?void 0:e.disable)&&this._platformBridge.isInterstitialSupported}},{key:\"interstitialState\",get:function(){return St(this,Pt)}},{key:\"isRewardedSupported\",get:function(){var e;return!0!==(null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.rewarded)||void 0===e?void 0:e.disable)&&this._platformBridge.isRewardedSupported}},{key:\"rewardedPlacement\",get:function(){return St(this,kt)}},{key:\"rewardedState\",get:function(){return St(this,Ot)}},{key:\"minimumDelayBetweenInterstitial\",get:function(){return St(this,At)}},{key:\"setMinimumDelayBetweenInterstitial\",value:function(e){if(null===gt(this,Dt,Ft).call(this,gt(this,Rt,Ut).call(this))){var t=gt(this,Dt,Ft).call(this,e);null!==t&&gt(this,Tt,Ht).call(this,t)}}},{key:\"showBanner\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"bottom\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.bannerState!==s.LOADING&&this.bannerState!==s.SHOWN)if(gt(this,Ct,zt).call(this,s.LOADING),this.isBannerSupported){var n,o=r;o||null!==(n=this._platformBridge.options)&&void 0!==n&&null!==(n=n.advertisement)&&void 0!==n&&null!==(n=n.banner)&&void 0!==n&&n.placementFallback&&(o=this._platformBridge.options.advertisement.banner.placementFallback);var i=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.banner)||void 0===e?void 0:e.placements,a=gt(this,Bt,Jt).call(this,o,i);this._platformBridge.showBanner(t,a)}else gt(this,Ct,zt).call(this,s.FAILED)}},{key:\"hideBanner\",value:function(){this.bannerState!==s.LOADING&&this.bannerState!==s.HIDDEN&&this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:\"preloadInterstitial\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.isInterstitialSupported){var r,n=t;n&&\"string\"==typeof n||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.interstitial)&&void 0!==r&&r.placementFallback&&(n=this._platformBridge.options.advertisement.interstitial.placementFallback);var o=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.interstitial)||void 0===e?void 0:e.placements,i=gt(this,Bt,Jt).call(this,n,o);this._platformBridge.preloadInterstitial(i)}}},{key:\"showInterstitial\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!gt(this,jt,Wt).call(this))if(gt(this,Nt,Zt).call(this,i.LOADING),this.isInterstitialSupported)if(this._platformBridge.isMinimumDelayBetweenInterstitialEnabled&&St(this,wt)&&St(this,wt).state===Qe)gt(this,Nt,Zt).call(this,i.FAILED);else{var r,n=t;n||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.interstitial)&&void 0!==r&&r.placementFallback&&(n=this._platformBridge.options.advertisement.interstitial.placementFallback);var o=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.interstitial)||void 0===e?void 0:e.placements,a=gt(this,Bt,Jt).call(this,n,o);this._platformBridge.showInterstitial(a)}else gt(this,Nt,Zt).call(this,i.FAILED)}},{key:\"preloadRewarded\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.isRewardedSupported){var r,n=t;n&&\"string\"==typeof n||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.rewarded)&&void 0!==r&&r.placementFallback&&(n=this._platformBridge.options.advertisement.rewarded.placementFallback);var o=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.rewarded)||void 0===e?void 0:e.placements,i=gt(this,Bt,Jt).call(this,n,o);this._platformBridge.preloadRewarded(i)}}},{key:\"showRewarded\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!gt(this,jt,Wt).call(this)){var r;_t(this,kt,t),St(this,kt)||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.rewarded)&&void 0!==r&&r.placementFallback&&_t(this,kt,this._platformBridge.options.advertisement.rewarded.placementFallback);var n=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.rewarded)||void 0===e?void 0:e.placements,o=gt(this,Bt,Jt).call(this,St(this,kt),n);gt(this,Gt,Yt).call(this,a.LOADING),this.isRewardedSupported?this._platformBridge.showRewarded(o):gt(this,Gt,Yt).call(this,a.FAILED)}}},{key:\"checkAdBlock\",value:function(){return this._platformBridge.checkAdBlock()}}],r&&lt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(W);function Ht(e){_t(this,At,e),St(this,wt)&&(St(this,wt).stop(),gt(this,Lt,Vt).call(this))}function Ft(e){if(\"number\"==typeof e)return e;if(\"string\"==typeof e){var t=parseInt(e,10);return Number.isNaN(t)?null:t}return null}function xt(){var e=gt(this,Rt,Ut).call(this);if(void 0!==e){var t=gt(this,Dt,Ft).call(this,e);null!==t&&gt(this,Tt,Ht).call(this,t)}}function Ut(){var e;return null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e?void 0:e.minimumDelayBetweenInterstitial}function Vt(){St(this,At)>0&&this._platformBridge.isMinimumDelayBetweenInterstitialEnabled&&(_t(this,wt,new ct(St(this,At))),St(this,wt).start())}function Wt(){var e=[i.LOADING,i.OPENED].includes(St(this,Pt)),t=[a.LOADING,a.OPENED,a.REWARDED].includes(St(this,Ot));return e||t}function zt(e){St(this,Et)!==e&&(_t(this,Et,e),this.emit(n.BANNER_STATE_CHANGED,St(this,Et)))}function Zt(e){St(this,Pt)!==e&&(_t(this,Pt,e),this.emit(n.INTERSTITIAL_STATE_CHANGED,St(this,Pt)))}function Yt(e){St(this,Ot)!==e&&(_t(this,Ot,e),this.emit(n.REWARDED_STATE_CHANGED,St(this,Ot)))}function Jt(e,t){if(!e)return e;if(!t)return e;var r=t.find((function(t){return t.id===e}));return r&&r[this._platformBridge.platformId]?r[this._platformBridge.platformId]:e}H().mixin(Mt.prototype);const Kt=Mt;function qt(e){return qt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},qt(e)}function Xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Qt(n.key),n)}}function Qt(e){var t=function(e,t){if(\"object\"!=qt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=qt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==qt(t)?t:String(t)}function $t(e,t){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$t(e,t)}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},er(e)}const tr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&$t(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=er(n);if(o){var r=er(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===qt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isInviteFriendsSupported\",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:\"isJoinCommunitySupported\",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:\"isShareSupported\",get:function(){return this._platformBridge.isShareSupported}},{key:\"isCreatePostSupported\",get:function(){return this._platformBridge.isCreatePostSupported}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:\"isAddToFavoritesSupported\",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:\"isRateSupported\",get:function(){return this._platformBridge.isRateSupported}},{key:\"isExternalLinksAllowed\",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:\"inviteFriends\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.inviteFriends(t)}return this._platformBridge.inviteFriends(e)}},{key:\"joinCommunity\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.joinCommunity(t)}return this._platformBridge.joinCommunity(e)}},{key:\"share\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.share(t)}return this._platformBridge.share(e)}},{key:\"createPost\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.createPost(t)}return this._platformBridge.createPost(e)}},{key:\"addToHomeScreen\",value:function(){return this._platformBridge.addToHomeScreen()}},{key:\"addToFavorites\",value:function(){return this._platformBridge.addToFavorites()}},{key:\"rate\",value:function(){return this._platformBridge.rate()}}])&&Xt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(W);function rr(e){return rr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},rr(e)}function nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,or(n.key),n)}}function or(e){var t=function(e,t){if(\"object\"!=rr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=rr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==rr(t)?t:String(t)}function ir(e,t){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ir(e,t)}function ar(e){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ar(e)}const sr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ir(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ar(n);if(o){var r=ar(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===rr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"type\",get:function(){return this._platformBridge.deviceType}}])&&nr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(W);function cr(e){return cr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},cr(e)}function ur(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,lr(n.key),n)}}function lr(e){var t=function(e,t){if(\"object\"!=cr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=cr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==cr(t)?t:String(t)}function fr(e,t){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fr(e,t)}function pr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function dr(e){return dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dr(e)}function hr(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function yr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var mr=new WeakSet,vr=new WeakSet;function _r(e){var t;if(!e)return e;var r=null===(t=this._platformBridge.options)||void 0===t?void 0:t.leaderboards;if(!r)return e;var n=r.find((function(t){return t.id===e}));return n&&n[this._platformBridge.platformId]?n[this._platformBridge.platformId]:e}function gr(e){var t,r=null===(t=this._platformBridge.options)||void 0===t?void 0:t.leaderboards;if(!r)return!1;var n=r.find((function(t){return t.id===e}));return!!n&&!0===n.isMain}const Sr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&fr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dr(n);if(o){var r=dr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===cr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return pr(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return hr(pr(e=i.call.apply(i,[this].concat(r))),vr),hr(pr(e),mr),e}return t=a,(r=[{key:\"type\",get:function(){return this._platformBridge.leaderboardsType}},{key:\"setScore\",value:function(e,t){var r=yr(this,mr,_r).call(this,e),n=yr(this,vr,gr).call(this,e);return this._platformBridge.leaderboardsSetScore(r,t,n)}},{key:\"getEntries\",value:function(e){var t=yr(this,mr,_r).call(this,e);return this._platformBridge.leaderboardsGetEntries(t)}},{key:\"showNativePopup\",value:function(e){var t=yr(this,mr,_r).call(this,e);return this._platformBridge.leaderboardsShowNativePopup(t)}}])&&ur(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(W);function br(e){return br=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},br(e)}function Er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Pr(n.key),n)}}function Pr(e){var t=function(e,t){if(\"object\"!=br(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=br(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==br(t)?t:String(t)}function wr(e,t){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wr(e,t)}function Ar(e){return Ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ar(e)}const Or=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&wr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ar(n);if(o){var r=Ar(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===br(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isPaymentsSupported}},{key:\"purchase\",value:function(e,t){return this._platformBridge.paymentsPurchase(e,t)}},{key:\"getPurchases\",value:function(){return this._platformBridge.paymentsGetPurchases()}},{key:\"getCatalog\",value:function(){return this._platformBridge.paymentsGetCatalog()}},{key:\"consumePurchase\",value:function(e){return this._platformBridge.paymentsConsumePurchase(e)}}])&&Er(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(W);function kr(e){return kr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},kr(e)}function Tr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Dr(n.key),n)}}function Dr(e){var t=function(e,t){if(\"object\"!=kr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=kr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==kr(t)?t:String(t)}function Ir(e,t){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ir(e,t)}function Rr(e){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rr(e)}const Lr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ir(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rr(n);if(o){var r=Rr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===kr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isRemoteConfigSupported}},{key:\"get\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.get(t)}return this._platformBridge.getRemoteConfig(e)}}])&&Tr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(W);function jr(e){return jr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},jr(e)}function Cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Nr(n.key),n)}}function Nr(e){var t=function(e,t){if(\"object\"!=jr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=jr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==jr(t)?t:String(t)}function Gr(e,t){return Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gr(e,t)}function Br(e){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Br(e)}const Mr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Gr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Br(n);if(o){var r=Br(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===jr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isClipboardSupported}},{key:\"read\",value:function(){return this._platformBridge.clipboardRead()}},{key:\"write\",value:function(e){return this._platformBridge.clipboardWrite(e)}}])&&Cr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(W);function Hr(e){return Hr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Hr(e)}function Fr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,xr(n.key),n)}}function xr(e){var t=function(e,t){if(\"object\"!=Hr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Hr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Hr(t)?t:String(t)}function Ur(e,t){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ur(e,t)}function Vr(e){return Vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vr(e)}const Wr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ur(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vr(n);if(o){var r=Vr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Hr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isAchievementsSupported}},{key:\"isGetListSupported\",get:function(){return this._platformBridge.isGetAchievementsListSupported}},{key:\"isNativePopupSupported\",get:function(){return this._platformBridge.isAchievementsNativePopupSupported}},{key:\"unlock\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.unlock(t)}return this._platformBridge.unlockAchievement(e)}},{key:\"getList\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getList(t)}return this._platformBridge.getAchievementsList(e)}},{key:\"showNativePopup\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.showNativePopup(t)}return this._platformBridge.showAchievementsNativePopup(e)}}])&&Fr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(W);function zr(e){return zr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},zr(e)}function Zr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Yr(n.key),n)}}function Yr(e){var t=function(e,t){if(\"object\"!=zr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=zr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==zr(t)?t:String(t)}function Jr(e,t,r){Kr(e,t),t.set(e,r)}function Kr(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function qr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Xr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,$r(e,t,\"get\"))}function Qr(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,$r(e,t,\"set\"),r),r}function $r(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var en=new WeakMap,tn=new WeakMap,rn=new WeakMap,nn=new WeakSet;function on(){var e=Object.values(Xr(this,en)).some((function(e){return!0===e}));Xr(this,tn)!==e&&(Qr(this,tn,e),Xr(this,rn).call(this,Xr(this,tn)))}const an=function(){function e(t,r){var n,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Kr(this,n=nn),n.add(this),Jr(this,en,{writable:!0,value:{}}),Jr(this,tn,{writable:!0,value:!1}),Jr(this,rn,{writable:!0,value:null}),Qr(this,rn,r),t.forEach((function(e){Xr(o,en)[e]=!1}))}var t,r;return t=e,(r=[{key:\"setState\",value:function(e,t){e in Xr(this,en)&&\"boolean\"==typeof t&&Xr(this,en)[e]!==t&&(Xr(this,en)[e]=t,qr(this,nn,on).call(this))}},{key:\"getState\",value:function(e){return e in Xr(this,en)&&Xr(this,en)[e]}},{key:\"getAggregatedState\",value:function(){return Xr(this,tn)}},{key:\"resetAll\",value:function(){var e=this;Object.keys(Xr(this,en)).forEach((function(t){Xr(e,en)[t]=!1})),qr(this,nn,on).call(this)}}])&&Zr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function sn(e){return sn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},sn(e)}function cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(r),!0).forEach((function(t){fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ln(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,pn(n.key),n)}}function fn(e,t,r){return(t=pn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pn(e){var t=function(e,t){if(\"object\"!=sn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=sn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==sn(t)?t:String(t)}function dn(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var hn=new WeakMap,yn=function(){function t(e){var r,i,a,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),fn(this,\"_isInitialized\",!1),fn(this,\"_platformSdk\",null),fn(this,\"_isPlayerAuthorized\",!1),fn(this,\"_playerId\",null),fn(this,\"_playerName\",null),fn(this,\"_playerPhotos\",[]),fn(this,\"_playerExtra\",{}),fn(this,\"_visibilityState\",null),fn(this,\"_localStorage\",null),fn(this,\"_defaultStorageType\",u.LOCAL_STORAGE),fn(this,\"_platformStorageCachedData\",null),fn(this,\"_isBannerSupported\",!1),fn(this,\"_paymentsPurchases\",[]),fn(this,\"_pauseStateAggregator\",null),fn(this,\"_audioStateAggregator\",null),a={writable:!0,value:{}},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(r=this,i=hn),i.set(r,a);try{this._localStorage=window.localStorage}catch(e){}this._visibilityState=document.visibilityState;var c=[\"interstitial\",\"rewarded\",\"visibility\",\"platform\"];this._pauseStateAggregator=new an(c,(function(e){return s.emit(n.PAUSE_STATE_CHANGED,e)})),this._audioStateAggregator=new an(c,(function(e){return s.emit(n.AUDIO_STATE_CHANGED,!e)})),document.addEventListener(\"visibilitychange\",(function(){s._setVisibilityState(document.visibilityState)})),window.addEventListener(\"blur\",(function(){s._setVisibilityState(o.HIDDEN)})),window.addEventListener(\"focus\",(function(){s._setVisibilityState(o.VISIBLE)})),e&&(this._options=un({},e))}var r,c;return r=t,(c=[{key:\"options\",get:function(){return this._options}},{key:\"platformId\",get:function(){return e.MOCK}},{key:\"platformSdk\",get:function(){return this._platformSdk}},{key:\"platformLanguage\",get:function(){var e=navigator.language;return\"string\"==typeof e?e.substring(0,2).toLowerCase():\"en\"}},{key:\"platformPayload\",get:function(){return new URL(window.location.href).searchParams.get(\"payload\")}},{key:\"platformTld\",get:function(){return null}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!1}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!1}},{key:\"isPlatformAudioEnabled\",get:function(){return!this._audioStateAggregator||!this._audioStateAggregator.getAggregatedState()}},{key:\"isPlatformPaused\",get:function(){return!!this._pauseStateAggregator&&this._pauseStateAggregator.getAggregatedState()}},{key:\"visibilityState\",get:function(){return this._visibilityState}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!1}},{key:\"isPlayerAuthorized\",get:function(){return this._isPlayerAuthorized}},{key:\"playerId\",get:function(){return this._playerId}},{key:\"playerName\",get:function(){return this._playerName}},{key:\"playerPhotos\",get:function(){return this._playerPhotos}},{key:\"playerExtra\",get:function(){return this._playerExtra}},{key:\"defaultStorageType\",get:function(){return this._defaultStorageType}},{key:\"isBannerSupported\",get:function(){return this._isBannerSupported}},{key:\"isInterstitialSupported\",get:function(){return!1}},{key:\"isMinimumDelayBetweenInterstitialEnabled\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!1}},{key:\"isInviteFriendsSupported\",get:function(){return!1}},{key:\"isJoinCommunitySupported\",get:function(){return!1}},{key:\"isShareSupported\",get:function(){return!1}},{key:\"isCreatePostSupported\",get:function(){return!1}},{key:\"isAddToHomeScreenSupported\",get:function(){return!1}},{key:\"isAddToFavoritesSupported\",get:function(){return!1}},{key:\"isRateSupported\",get:function(){return!1}},{key:\"isExternalLinksAllowed\",get:function(){return!0}},{key:\"deviceType\",get:function(){if(navigator&&navigator.userAgent){var e=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(e))return l.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(e))return l.TABLET}return l.DESKTOP}},{key:\"isPaymentsSupported\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return p}},{key:\"isRemoteConfigSupported\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!0}},{key:\"isAchievementsSupported\",get:function(){return!1}},{key:\"isGetAchievementsListSupported\",get:function(){return!1}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){return Promise.resolve()}},{key:\"sendMessage\",value:function(){return Promise.resolve()}},{key:\"getServerTime\",value:function(){return new Promise((function(e,t){fetch(\"https://playgama.com/api/v1/timestamp/now\").then((function(e){if(!e.ok)throw new Error(\"Network response was not ok\");return e.json()})).then((function(t){e(1e3*t.timestamp)})).catch((function(){t()}))}))}},{key:\"getAllGames\",value:function(){return Promise.reject()}},{key:\"getGameById\",value:function(){return Promise.reject()}},{key:\"authorizePlayer\",value:function(){return Promise.reject()}},{key:\"isStorageSupported\",value:function(e){switch(e){case u.LOCAL_STORAGE:return null!==this._localStorage;case u.PLATFORM_INTERNAL:default:return!1}}},{key:\"isStorageAvailable\",value:function(e){switch(e){case u.LOCAL_STORAGE:return null!==this._localStorage;case u.PLATFORM_INTERNAL:default:return!1}}},{key:\"getDataFromStorage\",value:function(e,t,r){if(t===u.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var n=[],o=0;o<e.length;o++)n.push(this._getDataFromLocalStorage(e[o],r));return Promise.resolve(n)}var i=this._getDataFromLocalStorage(e,r);return Promise.resolve(i)}return Promise.reject(v)}return Promise.reject(v)}},{key:\"setDataToStorage\",value:function(e,t,r){if(r===u.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this._setDataToLocalStorage(e[n],t[n]);return Promise.resolve()}return this._setDataToLocalStorage(e,t),Promise.resolve()}return Promise.reject(v)}return Promise.reject(v)}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t===u.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this._deleteDataFromLocalStorage(e[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(e),Promise.resolve()}return Promise.reject(v)}return Promise.reject(v)}},{key:\"showBanner\",value:function(){this._setBannerState(s.FAILED)}},{key:\"hideBanner\",value:function(){this._setBannerState(s.HIDDEN)}},{key:\"preloadInterstitial\",value:function(){}},{key:\"showInterstitial\",value:function(){this._setInterstitialState(i.FAILED)}},{key:\"preloadRewarded\",value:function(){}},{key:\"showRewarded\",value:function(){this._setRewardedState(a.FAILED)}},{key:\"checkAdBlock\",value:function(){var e=document.createElement(\"div\");e.className=\"textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox\",e.style.position=\"absolute\",e.style.left=\"-9999px\",e.style.width=\"1px\",e.style.height=\"1px\",document.body.appendChild(e);var t={method:\"HEAD\",mode:\"no-cors\"};return new Promise((function(r){fetch(\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",t).then((function(t){t.redirected?r(t.redirected):window.setTimeout((function(){var t,n=0===e.offsetHeight||\"none\"===(null===(t=window.getComputedStyle(e))||void 0===t?void 0:t.display);r(n),e.remove()}),100)})).catch((function(){r(!0)}))}))}},{key:\"inviteFriends\",value:function(){return Promise.reject()}},{key:\"joinCommunity\",value:function(){return Promise.reject()}},{key:\"share\",value:function(){return Promise.reject()}},{key:\"createPost\",value:function(){return Promise.reject()}},{key:\"addToHomeScreen\",value:function(){return Promise.reject()}},{key:\"addToFavorites\",value:function(){return Promise.reject()}},{key:\"rate\",value:function(){return Promise.reject()}},{key:\"leaderboardsSetScore\",value:function(){return Promise.reject()}},{key:\"leaderboardsGetEntries\",value:function(){return Promise.reject()}},{key:\"leaderboardsShowNativePopup\",value:function(){return Promise.reject()}},{key:\"paymentsPurchase\",value:function(e){if(this.isPaymentsSupported){var t={id:e};return this._paymentsPurchases.push(t),Promise.resolve(t)}return Promise.reject()}},{key:\"paymentsConsumePurchase\",value:function(e){if(this.isPaymentsSupported){var t=this._paymentsPurchases.findIndex((function(t){return t.id===e}));return t<0?Promise.reject():(this._paymentsPurchases.splice(t,1),Promise.resolve({id:e}))}return Promise.reject()}},{key:\"paymentsGetCatalog\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsGetProductsPlatformData()):Promise.reject()}},{key:\"paymentsGetPurchases\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsPurchases):Promise.reject()}},{key:\"getRemoteConfig\",value:function(){return Promise.reject()}},{key:\"clipboardRead\",value:function(){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.readText():Promise.reject()}},{key:\"clipboardWrite\",value:function(e){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.writeText(e):Promise.reject()}},{key:\"unlockAchievement\",value:function(){return Promise.reject()}},{key:\"getAchievementsList\",value:function(){return Promise.reject()}},{key:\"showAchievementsNativePopup\",value:function(){return Promise.reject()}},{key:\"_getDataFromLocalStorage\",value:function(e,t){var r=this._localStorage.getItem(e);if(t&&\"string\"==typeof r)try{r=JSON.parse(r)}catch(e){}return r}},{key:\"_setDataToLocalStorage\",value:function(e,t){this._localStorage.setItem(e,\"object\"===sn(t)?JSON.stringify(t):t)}},{key:\"_deleteDataFromLocalStorage\",value:function(e){this._localStorage.removeItem(e)}},{key:\"_setVisibilityState\",value:function(e){if(this._visibilityState!==e){this._visibilityState=e,this.emit(n.VISIBILITY_STATE_CHANGED,this._visibilityState);var t=e===o.HIDDEN;this._pauseStateAggregator&&this._pauseStateAggregator.setState(\"visibility\",t),this._audioStateAggregator&&this._audioStateAggregator.setState(\"visibility\",t)}}},{key:\"_setBannerState\",value:function(e){this.emit(n.BANNER_STATE_CHANGED,e)}},{key:\"_setInterstitialState\",value:function(e){this.emit(n.INTERSTITIAL_STATE_CHANGED,e);var t=e===i.OPENED;this._pauseStateAggregator&&this._pauseStateAggregator.setState(\"interstitial\",t),this._audioStateAggregator&&this._audioStateAggregator.setState(\"interstitial\",t)}},{key:\"_setRewardedState\",value:function(e){this.emit(n.REWARDED_STATE_CHANGED,e);var t=e===a.OPENED||e===a.REWARDED;this._pauseStateAggregator&&this._pauseStateAggregator.setState(\"rewarded\",t),this._audioStateAggregator&&this._audioStateAggregator.setState(\"rewarded\",t)}},{key:\"_setAudioState\",value:function(e){this._audioStateAggregator?this._audioStateAggregator.setState(\"platform\",!e):this.emit(n.AUDIO_STATE_CHANGED,e)}},{key:\"_setPauseState\",value:function(e){this._pauseStateAggregator?this._pauseStateAggregator.setState(\"platform\",e):this.emit(n.PAUSE_STATE_CHANGED,e)}},{key:\"_createPromiseDecorator\",value:function(e){var t=new B;return dn(this,hn)[e]=t,t}},{key:\"_getPromiseDecorator\",value:function(e){return dn(this,hn)[e]}},{key:\"_resolvePromiseDecorator\",value:function(e,t){dn(this,hn)[e]&&(dn(this,hn)[e].resolve(t),delete dn(this,hn)[e])}},{key:\"_rejectPromiseDecorator\",value:function(e,t){dn(this,hn)[e]&&(dn(this,hn)[e].reject(t),delete dn(this,hn)[e])}},{key:\"_paymentsGetProductsPlatformData\",value:function(){var e=this;return this._options.payments?this._options.payments.map((function(t){var r=un({},t[e.platformId]);return r.platformProductId=r.id,r.id=t.id,r})):[]}},{key:\"_paymentsGetProductPlatformData\",value:function(e){var t=this._options.payments;if(!t)return null;var r=t.find((function(t){return t.id===e}));if(!r)return null;var n=un({},r[this.platformId]);return n.platformProductId=n.id,n.id=r.id,n}},{key:\"_paymentsGenerateTransactionId\",value:function(e){return\"\".concat(e,\"_\").concat(Date.now(),\"_\").concat(Math.random().toString(36).substring(2,10))}},{key:\"_advertisementShowErrorPopup\",value:function(e){var t,r=this;return(null===(t=this._options)||void 0===t||null===(t=t.advertisement)||void 0===t?void 0:t.useBuiltInErrorPopup)?function(e){if(!document.getElementById(\"bridge-info-popup-styles\")){var t=document.createElement(\"style\");t.id=\"bridge-info-popup-styles\",t.textContent=\"\\n            #bridge-info-popup-overlay {\\n                position: fixed;\\n                top: 0;\\n                left: 0;\\n                width: 100vw;\\n                height: 100vh;\\n                background-color: rgba(0, 0, 0, 0.5);\\n                z-index: 9998;\\n                display: none;\\n            }\\n\\n            #bridge-info-popup {\\n                position: fixed;\\n                top: 50%;\\n                left: 50%;\\n                transform: translate(-50%, -50%);\\n                background-color: #2E3C75;\\n                color: #fff;\\n                padding: 20px;\\n                z-index: 9999;\\n                display: none;\\n                border-radius: 10px;\\n                box-shadow: 0 0 10px #2E3C75;\\n                font-size: 24px;\\n                font-family: 'Roboto', sans-serif;\\n                text-align: center;\\n                min-width: 250px;\\n                max-width: 30%;\\n                flex-direction: column;\\n                justify-content: center;\\n                align-items: center;\\n            }\\n\\n            #bridge-info-popup-button {\\n                margin-top: 24px;\\n                width: 150px;\\n                background-color: rgba(255, 255, 255, 0.2);\\n                color: #fff;\\n                border: none;\\n                font-size: 24px;\\n                padding: 20px;\\n                border-radius: 5px;\\n                cursor: pointer;\\n                font-family: 'Roboto', sans-serif;\\n                display: block;\\n            }\\n\\n            #bridge-info-popup-button:hover {\\n                background-color: rgba(255, 255, 255, 0.3);\\n            }\",document.head.appendChild(t)}var r=document.getElementById(\"bridge-info-popup-overlay\");r||((r=document.createElement(\"div\")).id=\"bridge-info-popup-overlay\",document.body.appendChild(r));var n=document.getElementById(\"bridge-info-popup\");n||((n=document.createElement(\"div\")).id=\"bridge-info-popup\"),n.innerText=\"Oops! It looks like you closed the ad too early, or it isn't available right now.\";var o=document.getElementById(\"bridge-info-popup-button\");return o||((o=document.createElement(\"button\")).id=\"bridge-info-popup-button\",o.innerText=\"OK\",n.appendChild(o)),document.body.appendChild(n),new Promise((function(e){o.onclick=function(){n.style.display=\"none\",r.style.display=\"none\",e()},r.style.display=\"block\",n.style.display=\"flex\"}))}().then((function(){e?r._setRewardedState(a.FAILED):r._setInterstitialState(i.FAILED)})):(e?this._setRewardedState(a.FAILED):this._setInterstitialState(i.FAILED),Promise.resolve())}},{key:\"_playerApplyGuestData\",value:function(){var e=function(){var e,t=\"bridge_player_guest_id\";try{e=localStorage.getItem(t)}catch(e){}if(!e){var r=Array.from({length:8},(function(){return\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".charAt(Math.floor(62*Math.random()))})).join(\"\"),n=Date.now().toString(36);e=\"\".concat(r).concat(n);try{localStorage.setItem(t,e)}catch(e){}}return{id:e,name:\"Guest \".concat(e)}}();this._playerId=e.id,this._playerName=e.name}}])&&ln(r.prototype,c),Object.defineProperty(r,\"prototype\",{writable:!1}),t}();H().mixin(yn.prototype);const mn=yn;function vn(e){return vn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},vn(e)}function _n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,wn(n.key),n)}}function gn(){return gn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=En(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},gn.apply(this,arguments)}function Sn(e,t){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sn(e,t)}function bn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function En(e){return En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},En(e)}function Pn(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function wn(e){var t=function(e,t){if(\"object\"!=vn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=vn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==vn(t)?t:String(t)}function An(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function On(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,kn(e,t,\"get\"))}function kn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Tn=new WeakMap,Dn=new WeakSet;function In(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"result\",i=this._getPromiseDecorator(e);return i||(i=this._createPromiseDecorator(e),this._platformSdk.send(t,n).then((function(t){t[o]?r._resolvePromiseDecorator(e):r._rejectPromiseDecorator(e)})).catch((function(t){r._rejectPromiseDecorator(e,t)}))),i.promise}const Rn=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Sn(e,t)}(p,t);var r,n,o,c,f=(o=p,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=En(o);if(c){var r=En(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===vn(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return bn(e)}(this,e)});function p(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Pn(t=bn(e=f.call.apply(f,[this].concat(o))),r=Dn),r.add(t),function(e,t,r){(t=wn(t))in e?Object.defineProperty(e,t,{value:true,enumerable:!0,configurable:!0,writable:!0}):e[t]=true}(bn(e),\"_isBannerSupported\"),function(e,t,r){Pn(e,t),t.set(e,{writable:!0,value:void 0})}(bn(e),Tn),e}return r=p,(n=[{key:\"platformId\",get:function(){return e.VK}},{key:\"platformLanguage\",get:function(){var e=new URL(window.location.href);if(e.searchParams.has(\"language\")){var t=e.searchParams.get(\"language\"),r=0;try{r=parseInt(t,10)}catch(e){r=0}switch(r){case 0:default:return\"ru\";case 1:return\"uk\";case 2:return\"be\";case 3:return\"en\"}}return gn(En(p.prototype),\"platformLanguage\",this)}},{key:\"platformPayload\",get:function(){var e=new URL(window.location.href);return e.searchParams.has(\"hash\")?e.searchParams.get(\"hash\"):gn(En(p.prototype),\"platformPayload\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(On(this,Tn)){case\"html5_ios\":case\"html5_android\":case\"html5_mobile\":return l.MOBILE;case\"web\":return l.DESKTOP;default:return gn(En(p.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPlayerAuthorized\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return\"html5_android\"===On(this,Tn)}},{key:\"isAddToFavoritesSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r,n,o=this._getPromiseDecorator(y.INITIALIZE);if(!o){o=this._createPromiseDecorator(y.INITIALIZE);var i=new URL(window.location.href);i.searchParams.has(\"platform\")&&(t=this,r=Tn,n=i.searchParams.get(\"platform\"),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t,kn(t,r,\"set\"),n)),Se(\"https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js\").then((function(){Ee(\"vkBridge\").then((function(){e._platformSdk=window.vkBridge,e._platformSdk.send(\"VKWebAppInit\").then((function(){e._platformSdk.send(\"VKWebAppGetUserInfo\").then((function(t){t&&(e._playerId=t.id,e._playerName=\"\".concat(t.first_name,\" \").concat(t.last_name),t.photo_100&&e._playerPhotos.push(t.photo_100),t.photo_200&&e._playerPhotos.push(t.photo_200),t.photo_max_orig&&e._playerPhotos.push(t.photo_max_orig))})).finally((function(){e._isInitialized=!0,e._defaultStorageType=u.PLATFORM_INTERNAL,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))}))}return o.promise}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||gn(En(p.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||gn(En(p.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,o){var i=Array.isArray(e)?e:[e];n._platformSdk.send(\"VKWebAppStorageGet\",{keys:i}).then((function(n){if(Array.isArray(e)){var o=[];return i.forEach((function(e){var t=n.keys.findIndex((function(t){return t.key===e}));if(t<0)o.push(null);else if(\"\"!==n.keys[t].value){var i=n.keys[t].value;if(r)try{i=JSON.parse(n.keys[t].value)}catch(e){}o.push(i)}else o.push(null)})),void t(o)}if(\"\"!==n.keys[0].value){var a=n.keys[0].value;if(r)try{a=JSON.parse(n.keys[0].value)}catch(e){}t(a)}else t(null)})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?o(e.error_data.error_reason):o()}))})):gn(En(p.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;if(r===u.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a={key:e[i],value:t[i]};\"string\"!=typeof t[i]&&(a.value=JSON.stringify(t[i])),o.push(this._platformSdk.send(\"VKWebAppStorageSet\",a))}return Promise.all(o)}var s={key:e,value:t};return\"string\"!=typeof t&&(s.value=JSON.stringify(t)),new Promise((function(e,t){n._platformSdk.send(\"VKWebAppStorageSet\",s).then((function(){e()})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?t(e.error_data.error_reason):t()}))}))}return gn(En(p.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t===u.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++)r.push(this.setDataToStorage(e[n],\"\",t));return Promise.all(r)}return this.setDataToStorage(e,\"\",t)}return gn(En(p.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e){var t=this;this._platformSdk.send(\"VKWebAppShowBannerAd\",{banner_location:e}).then((function(e){e.result?t._setBannerState(s.SHOWN):t._setBannerState(s.FAILED)})).catch((function(){t._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppHideBannerAd\").then((function(t){t.result&&e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"interstitial\"}).then((function(t){t.result&&e._setInterstitialState(i.OPENED)})).finally((function(){e._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"interstitial\"}).then((function(t){e._setInterstitialState(t.result?i.CLOSED:i.FAILED)})).catch((function(){e._setInterstitialState(i.FAILED)}))}))}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(t){t.result&&e._setRewardedState(a.OPENED)})).finally((function(){e._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(t){t.result?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)})).catch((function(){e._setRewardedState(a.FAILED)}))}))}},{key:\"inviteFriends\",value:function(){return An(this,Dn,In).call(this,y.INVITE_FRIENDS,\"VKWebAppShowInviteBox\",{},\"success\")}},{key:\"joinCommunity\",value:function(e){if(!e||!e.groupId)return Promise.reject();var t=e.groupId;return\"string\"==typeof t&&(t=parseInt(t,10),Number.isNaN(t))?Promise.reject():An(this,Dn,In).call(this,y.JOIN_COMMUNITY,\"VKWebAppJoinGroup\",{group_id:t}).then((function(){window.open(\"https://vk.com/public\".concat(t))}))}},{key:\"share\",value:function(e){var t={};return e&&e.link&&(t.link=e.link),An(this,Dn,In).call(this,y.SHARE,\"VKWebAppShare\",t,\"type\")}},{key:\"addToHomeScreen\",value:function(){return this.isAddToHomeScreenSupported?An(this,Dn,In).call(this,y.ADD_TO_HOME_SCREEN,\"VKWebAppAddToHomeScreen\"):Promise.reject()}},{key:\"addToFavorites\",value:function(){return An(this,Dn,In).call(this,y.ADD_TO_FAVORITES,\"VKWebAppAddToFavorites\")}},{key:\"clipboardWrite\",value:function(e){return An(this,Dn,In).call(this,y.CLIPBOARD_WRITE,\"VKWebAppCopyText\",{text:e})}}])&&_n(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(mn);function Ln(e){return Ln=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ln(e)}function jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Gn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Gn(n.key),n)}}function Gn(e){var t=function(e,t){if(\"object\"!=Ln(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ln(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ln(t)?t:String(t)}function Bn(){return Bn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Bn.apply(this,arguments)}function Mn(e,t){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mn(e,t)}function Hn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Fn(e){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fn(e)}function xn(e,t,r){Un(e,t),t.set(e,r)}function Un(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Vn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Wn(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Zn(e,t,\"set\"),r),r}function zn(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Zn(e,t,\"get\"))}function Zn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Yn=new WeakMap,Jn=new WeakMap,Kn=new WeakMap,qn=new WeakMap,Xn=new WeakSet;function Qn(){var e=this;return new Promise((function(t){var r=!1;e._options&&e._options.useSignedData&&(r=e._options.useSignedData),e._platformSdk.getPlayer({signed:r}).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized=t.isAuthorized(),e._defaultStorageType=e._isPlayerAuthorized?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE;var n=t.getName();\"\"!==n&&(e._playerName=n),e._playerPhotos=[];var o=t.getPhoto(\"small\"),i=t.getPhoto(\"medium\"),a=t.getPhoto(\"large\");return o&&e._playerPhotos.push(o),i&&e._playerPhotos.push(i),a&&e._playerPhotos.push(a),e._playerExtra={payingStatus:t.getPayingStatus()},r&&(e._playerExtra.signature=t.signature),Wn(e,Jn,t),t.getData()})).then((function(t){e._platformStorageCachedData=t})).finally((function(){t()}))}))}const $n=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Mn(e,t)}(h,t);var r,n,o,c,p=(o=h,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fn(o);if(c){var r=Fn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Ln(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Hn(e)}(this,e)});function h(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,h);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Un(t=Hn(e=p.call.apply(p,[this].concat(o))),r=Xn),r.add(t),xn(Hn(e),Yn,{writable:!0,value:!1}),xn(Hn(e),Jn,{writable:!0,value:null}),xn(Hn(e),Kn,{writable:!0,value:null}),xn(Hn(e),qn,{writable:!0,value:null}),e}return r=h,(n=[{key:\"platformId\",get:function(){return e.YANDEX}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():Bn(Fn(h.prototype),\"platformLanguage\",this)}},{key:\"platformTld\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():Bn(Fn(h.prototype),\"platformTld\",this)}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!0}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.deviceInfo.type){case l.DESKTOP:return l.DESKTOP;case l.MOBILE:return l.MOBILE;case l.TABLET:return l.TABLET;case l.TV:return l.TV;default:return Bn(Fn(h.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return zn(this,Yn)}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return d}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isRemoteConfigSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"/sdk.js\").then((function(){Ee(\"YaGames\",\"init\").then((function(){window.YaGames.init().then((function(t){var r;e._platformSdk=t,Wn(e,qn,Vn(e,Xn,Qn).call(e));var n=null===(r=e._platformSdk.features.PluginEngineDataReporterAPI)||void 0===r?void 0:r.report({engineName:\"\",engineVersion:\"\",pluginName:\"playgama-bridge\",pluginVersion:\"1.26.0\"}),o=e._platformSdk.shortcut.canShowPrompt().then((function(t){Wn(e,Yn,t.canShow)})),i=new Promise((function(e){setTimeout(e,1e3)})),a=Promise.race([o,i]),c=e._platformSdk.getPayments().then((function(t){Wn(e,Kn,t)}));e._isBannerSupported=!0;var u=e._platformSdk.adv.getBannerAdvStatus().then((function(t){t.stickyAdvIsShowing&&e._setBannerState(s.SHOWN)}));Promise.all([n,a,c,u]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case f.GAME_READY:var t;return null===(t=this._platformSdk.features.LoadingAPI)||void 0===t||t.ready(),Promise.resolve();case f.GAMEPLAY_STARTED:var r;return null===(r=this._platformSdk.features.GameplayAPI)||void 0===r||r.start(),Promise.resolve();case f.GAMEPLAY_STOPPED:var n;return null===(n=this._platformSdk.features.GameplayAPI)||void 0===n||n.stop(),Promise.resolve();default:return Bn(Fn(h.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(t){t(e._platformSdk.serverTime())}))}},{key:\"getAllGames\",value:function(){var e=this;return new Promise((function(t,r){e._platformSdk.features.GamesAPI.getAllGames().then((function(e){var r=e.games;t(r)})).catch(r)}))}},{key:\"getGameById\",value:function(e){var t=this;return null!=e&&e.gameId?new Promise((function(r,n){t._platformSdk.features.GamesAPI.getGameByID(null==e?void 0:e.gameId).then((function(e){var t=e.game,n=e.isAvailable;r(Cn(Cn({},t),{},{isAvailable:n}))})).catch(n)})):Promise.reject(new Error(\"Provide gameId\"))}},{key:\"authorizePlayer\",value:function(){var e=this,t=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._isPlayerAuthorized?(Wn(this,qn,Vn(this,Xn,Qn).call(this)),zn(this,qn).then((function(){e._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}))):this._platformSdk.auth.openAuthDialog().then((function(){Wn(e,qn,Vn(e,Xn,Qn).call(e)),zn(e,qn).then((function(){e._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,t)}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Bn(Fn(h.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:Bn(Fn(h.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?zn(this,qn).then((function(){return new Promise((function(t){if(Array.isArray(e)){for(var r=[],o=0;o<e.length;o++){var i=void 0===n._platformStorageCachedData[e[o]]?null:n._platformStorageCachedData[e[o]];r.push(i)}t(r)}else t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}))})):Promise.reject():Bn(Fn(h.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?zn(this,qn).then((function(){return new Promise((function(r,o){var i=null!==n._platformStorageCachedData?Cn({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;zn(n,Jn).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))}))})):Promise.reject():Bn(Fn(h.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?zn(this,qn).then((function(){return new Promise((function(t,n){var o=null!==r._platformStorageCachedData?Cn({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];zn(r,Jn).setData(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))}))})):Promise.reject():Bn(Fn(h.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(){var e=this;this._platformSdk.adv.showBannerAdv().then((function(t){t.stickyAdvIsShowing?e._setBannerState(s.SHOWN):e._setBannerState(s.FAILED)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.adv.hideBannerAdv().then((function(t){t.stickyAdvIsShowing||e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){e._setInterstitialState(i.OPENED)},onClose:function(t){t?e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)},onError:function(e){console.error(e)}}})}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){e._setRewardedState(a.OPENED)},onRewarded:function(){e._setRewardedState(a.REWARDED)},onClose:function(){e._setRewardedState(a.CLOSED)},onError:function(){e._setRewardedState(a.FAILED)}}})}},{key:\"checkAdBlock\",value:function(){return new Promise((function(e){e(!1)}))}},{key:\"addToHomeScreen\",value:function(){var e=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var t=this._getPromiseDecorator(y.ADD_TO_HOME_SCREEN);return t||(t=this._createPromiseDecorator(y.ADD_TO_HOME_SCREEN),this._platformSdk.shortcut.showPrompt().then((function(t){\"accepted\"!==t.outcome?e._rejectPromiseDecorator(y.ADD_TO_HOME_SCREEN):e._resolvePromiseDecorator(y.ADD_TO_HOME_SCREEN)})).catch((function(t){e._rejectPromiseDecorator(y.ADD_TO_HOME_SCREEN,t)}))),t.promise}},{key:\"rate\",value:function(){var e=this,t=this._getPromiseDecorator(y.RATE);return t||(t=this._createPromiseDecorator(y.RATE),this._platformSdk.feedback.canReview().then((function(t){t.value?e._platformSdk.feedback.requestReview().then((function(t){t.feedbackSent?e._resolvePromiseDecorator(y.RATE):e._rejectPromiseDecorator(y.RATE)})).catch((function(t){e._rejectPromiseDecorator(y.RATE,t)})):e._rejectPromiseDecorator(y.RATE,t.reason)})).catch((function(t){e._rejectPromiseDecorator(y.RATE,t)}))),t.promise}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);return n||(n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE),this._platformSdk.leaderboards.setScore(e,t).then((function(){r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)})).catch((function(e){r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e)}))),n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this,r=this._getPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);if(!r){r=this._createPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);var n={quantityTop:20};this._isPlayerAuthorized&&(n.includeUser=!0,n.quantityAround=3),this._platformSdk.leaderboards.getEntries(e,n).then((function(e){var r;r=e&&e.entries.length>0?e.entries.map((function(e){return{id:e.player.uniqueID,name:e.player.publicName,score:e.score,rank:e.rank,photo:e.player.getAvatarSrc(\"large\")}})):[],t._resolvePromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,r)})).catch((function(e){t._rejectPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,e)}))}return r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this;if(!zn(this,Kn))return Promise.reject();var r=this._paymentsGetProductPlatformData(e);r||(r={id:e});var n=this._getPromiseDecorator(y.PURCHASE);return n||(n=this._createPromiseDecorator(y.PURCHASE),zn(this,Kn).purchase(r).then((function(r){var n=Cn({id:e},r.purchaseData);delete n.productID,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this;if(!zn(this,Kn))return Promise.reject();var r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),zn(this,Kn).consumePurchase(this._paymentsPurchases[r].purchaseToken).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(y.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this;if(!zn(this,Kn))return Promise.reject();var t=this._paymentsGetProductsPlatformData(),r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),zn(this,Kn).getCatalog().then((function(r){var n=t.map((function(e){var t,n=r.find((function(t){return t.id===e.id}));return{id:e.id,title:n.title,description:n.description,imageURI:n.imageURI,price:n.price,priceCurrencyCode:n.priceCurrencyCode,priceValue:n.priceValue,priceCurrencyImage:null===(t=n.getPriceCurrencyImage)||void 0===t?void 0:t.call(n,\"medium\")}}));e._resolvePromiseDecorator(y.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this;if(!zn(this,Kn))return Promise.reject();var t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),zn(this,Kn).getPurchases().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){var t=Cn({id:r.find((function(t){return t.id===e.productID})).id},e.purchaseData);return delete t.productID,t})),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}},{key:\"getRemoteConfig\",value:function(e){var t=this;if(!this._platformSdk)return Promise.reject();var r=e;r||(r={}),r.clientFeatures||(r.clientFeatures=[]);var n=this._getPromiseDecorator(y.GET_REMOTE_CONFIG);return n||(n=this._createPromiseDecorator(y.GET_REMOTE_CONFIG),this._platformSdk.getFlags(r).then((function(e){t._resolvePromiseDecorator(y.GET_REMOTE_CONFIG,e)})).catch((function(e){t._rejectPromiseDecorator(y.GET_REMOTE_CONFIG,e)}))),n.promise}},{key:\"clipboardWrite\",value:function(e){var t=this,r=this._getPromiseDecorator(y.CLIPBOARD_WRITE);return r||(r=this._createPromiseDecorator(y.CLIPBOARD_WRITE),this._platformSdk.clipboard.writeText(e).then((function(){t._resolvePromiseDecorator(y.CLIPBOARD_WRITE,!0)})).catch((function(e){t._rejectPromiseDecorator(y.CLIPBOARD_WRITE,e)}))),r.promise}}])&&Nn(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),h}(mn);function eo(e){return eo=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},eo(e)}function to(){to=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var c=f(e[o],e,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==eo(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r(\"throw\",e,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var u=f(t,r,n);if(\"normal\"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(eo(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(D),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function ro(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function no(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ro(i,n,o,a,s,\"next\",e)}function s(e){ro(i,n,o,a,s,\"throw\",e)}a(void 0)}))}}function oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=so(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ao(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,so(n.key),n)}}function so(e){var t=function(e,t){if(\"object\"!=eo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=eo(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==eo(t)?t:String(t)}function co(){return co=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fo(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},co.apply(this,arguments)}function uo(e,t){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uo(e,t)}function lo(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fo(e)}function po(e,t){yo(e,t),t.add(e)}function ho(e,t,r){yo(e,t),t.set(e,r)}function yo(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function mo(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function vo(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,go(e,t,\"set\"),r),r}function _o(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,go(e,t,\"get\"))}function go(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var So=\"https://cdn.xsolla.net/payments-bucket-prod/embed/1.5.0/widget.min.js\",bo=\"https://store.xsolla.com/api/v2/project/\",Eo=new WeakMap,Po=new WeakMap,wo=new WeakMap,Ao=new WeakSet,Oo=new WeakSet,ko=new WeakSet,To=new WeakSet;function Do(){var e=this;return _o(this,Po)?new Promise((function(t,r){e._platformSdk.user.getUser().then((function(n){if(!n)return e._playerApplyGuestData(),void r();e._isPlayerAuthorized=!0,n.username&&(e._playerName=n.username),n.profilePictureUrl&&(e._playerPhotos=[n.profilePictureUrl]),e._playerExtra=n,e._options.useUserToken?e._platformSdk.user.getUserToken().then((function(t){e._playerExtra.jwt=t})).finally((function(){t()})):t()})).catch((function(t){e._playerApplyGuestData(),r(t)}))})):(this._playerApplyGuestData(),Promise.reject())}function Io(){return Ro.apply(this,arguments)}function Ro(){return(Ro=no(to().mark((function e(){return to().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.XPayStationWidget){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,Se(So);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Lo(){return jo.apply(this,arguments)}function jo(){return(jo=no(to().mark((function e(){var t;return to().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._platformSdk.user.getXsollaUserToken();case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}}),e,this)})))).apply(this,arguments)}function Co(e,t,r){return No.apply(this,arguments)}function No(){return(No=no(to().mark((function e(t,r,n){var o;return to().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(bo,\"/\").concat(t,\"/order/\").concat(r),{headers:{Authorization:\"Bearer \".concat(n)}});case 2:if((o=e.sent).ok){e.next=5;break}throw new Error(\"Xsolla order HTTP \".concat(o.status));case 5:return e.abrupt(\"return\",o.json());case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}const Go=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&uo(e,t)}(h,t);var r,n,o,p,d=(o=h,p=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fo(o);if(p){var r=fo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===eo(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return lo(e)}(this,e)});function h(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return po(lo(e=d.call.apply(d,[this].concat(r))),To),po(lo(e),ko),po(lo(e),Oo),po(lo(e),Ao),ho(lo(e),Eo,{writable:!0,value:!1}),ho(lo(e),Po,{writable:!0,value:!1}),ho(lo(e),wo,{writable:!0,value:{adStarted:function(){_o(lo(e),Eo)?e._setRewardedState(a.OPENED):e._setInterstitialState(i.OPENED)},adFinished:function(){_o(lo(e),Eo)?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setInterstitialState(i.CLOSED)},adError:function(){_o(lo(e),Eo)?e._setRewardedState(a.FAILED):e._setInterstitialState(i.FAILED)}}}),e}return r=h,(n=[{key:\"platformId\",get:function(){return e.CRAZY_GAMES}},{key:\"platformLanguage\",get:function(){return _o(this,Po)?this._platformSdk.user.systemInfo.countryCode.toLowerCase():co(fo(h.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return _o(this,Po)}},{key:\"isPaymentsSupported\",get:function(){return!0===_o(this,Po)}},{key:\"deviceType\",get:function(){if(_o(this,Po)){var e=this._platformSdk.user.systemInfo.device.type.toLowerCase();if([l.DESKTOP,l.MOBILE,l.TABLET].includes(e))return e}return co(fo(h.prototype),\"deviceType\",this)}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"https://sdk.crazygames.com/crazygames-sdk-v3.js\").then((function(){Ee(\"CrazyGames\",\"SDK\",\"init\").then((function(){e._platformSdk=window.CrazyGames.SDK,e._defaultStorageType=u.PLATFORM_INTERNAL,e._isBannerSupported=!0,e._platformSdk.init().then((function(){vo(e,Po,e._platformSdk.user.isUserAccountAvailable);var t=mo(e,Ao,Do).call(e);e.options.xsollaProjectId&&mo(e,Oo,Io).call(e),Promise.all([t]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;if(!_o(this,Po))return Promise.reject();if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._platformSdk.user.showAuthPrompt().then((function(){mo(e,Ao,Do).call(e).then((function(){e._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,t)}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case f.IN_GAME_LOADING_STARTED:return this._platformSdk.game.loadingStart(),Promise.resolve();case f.IN_GAME_LOADING_STOPPED:return this._platformSdk.game.loadingStop(),Promise.resolve();case f.GAMEPLAY_STARTED:return this._platformSdk.game.gameplayStart(),Promise.resolve();case f.GAMEPLAY_STOPPED:return this._platformSdk.game.gameplayStop(),Promise.resolve();case f.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.game.happytime(),Promise.resolve();default:return co(fo(h.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||co(fo(h.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||co(fo(h.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t){if(Array.isArray(e)){var o=[];return e.forEach((function(e){var t=n._platformSdk.data.getItem(e);if(r)try{t=JSON.parse(t)}catch(e){}o.push(t)})),void t(o)}var i=n._platformSdk.data.getItem(e);if(r)try{i=JSON.parse(i)}catch(e){}t(i)})):co(fo(h.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r){if(Array.isArray(e)){for(var o=0;o<e.length;o++){var i=t[o];\"string\"!=typeof t[o]&&(i=JSON.stringify(t[o])),n._platformSdk.data.setItem(e[o],i)}r()}else{var a=t;\"string\"!=typeof t&&(a=JSON.stringify(t)),n._platformSdk.data.setItem(e,a),r()}})):co(fo(h.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?Array.isArray(e)?(e.forEach((function(e){return r._platformSdk.data.removeItem(e)})),Promise.resolve()):(this._platformSdk.data.removeItem(e),Promise.resolve()):co(fo(h.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e){var t=this,r=document.getElementById(c);r||(r=be(e)),r.style.display=\"block\",this._platformSdk.banner.requestResponsiveBanner([c]).then((function(){t._setBannerState(s.SHOWN)})).catch((function(){t._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var e=document.getElementById(c);e&&(e.style.display=\"none\"),this._platformSdk.banner.clearAllBanners(),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){vo(this,Eo,!1),this._platformSdk.ad.requestAd(\"midgame\",_o(this,wo))}},{key:\"showRewarded\",value:function(){vo(this,Eo,!0),this._platformSdk.ad.requestAd(\"rewarded\",_o(this,wo))}},{key:\"checkAdBlock\",value:function(){var e=this;return new Promise((function(t){e._platformSdk.ad.hasAdblock().then((function(e){t(e)}))}))}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);r||(r={id:e});var n=r.platformProductId||r.id,o=this._getPromiseDecorator(y.PURCHASE);return o||(o=this._createPromiseDecorator(y.PURCHASE),mo(this,Oo,Io).call(this).then((function(){return mo(t,ko,Lo).call(t)})).then((function(e){var o=window.XPayStationWidget;if(!o)throw new Error(\"Xsolla Pay Station widget not loaded\");o.init({access_token:e,sandbox:t.options.isSandbox||!1,childWindow:{target:\"_blank\"},settings:{external_id:n}});var i=!1;o.on(o.eventTypes.STATUS,(function(o,a){try{var s=a&&a.paymentInfo||{};if(s.status&&/done|charged|success/i.test(String(s.status))){var c=s.order_id||s.invoice;if(!c)return;mo(t,To,Co).call(t,t.options.xsollaProjectId,c,e).then((function(e){t._platformSdk.analytics.trackOrder(\"xsolla\",e);var o=io({id:r.id,sku:n,orderId:c},e);t._paymentsPurchases.push(o),i||(i=!0,t._resolvePromiseDecorator(y.PURCHASE,o))})).catch((function(e){i||t._rejectPromiseDecorator(y.PURCHASE,e)}))}}catch(e){i||t._rejectPromiseDecorator(y.PURCHASE,e)}})),o.on(\"close\",(function(){i||t._rejectPromiseDecorator(y.PURCHASE,new Error(\"Purchase canceled/closed\"))})),o.open()})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject(new Error(\"No platform products available\"));var r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),mo(this,ko,Lo).call(this).then((function(t){return fetch(\"\".concat(bo,\"/\").concat(e.options.xsollaProjectId,\"/items?limit=50\"),{headers:{Authorization:\"Bearer \".concat(t)}})})).then((function(e){if(!e.ok)throw new Error(\"Xsolla catalog HTTP \".concat(e.status));return e.json()})).then((function(r){var n=new Map((r.items||[]).map((function(e){return[e.sku,e]}))),o=t.map((function(e){var t,r,o,i,a,s,c,u,l,f,p=e.platformProductId||e.id,d=n.get(p);return{id:e.id,name:null!==(t=null!==(r=null==d?void 0:d.name)&&void 0!==r?r:e.name)&&void 0!==t?t:e.id,description:null!==(o=null!==(i=null==d?void 0:d.description)&&void 0!==i?i:e.description)&&void 0!==o?o:\"\",price:null!==(a=null==d||null===(s=d.price)||void 0===s?void 0:s.amount)&&void 0!==a?a:null,priceCurrencyCode:null!==(c=null==d||null===(u=d.price)||void 0===u?void 0:u.currency)&&void 0!==c?c:null,priceValue:null!==(l=null==d||null===(f=d.price)||void 0===f?void 0:f.amount)&&void 0!==l?l:null}}));e._resolvePromiseDecorator(y.GET_CATALOG,o)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(t<0)return Promise.reject(new Error(\"No such purchase to consume\"));var r=this._getPromiseDecorator(y.CONSUME_PURCHASE);if(!r){r=this._createPromiseDecorator(y.CONSUME_PURCHASE);try{this._paymentsPurchases.splice(t,1),this._resolvePromiseDecorator(y.CONSUME_PURCHASE,{id:e})}catch(e){this._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}}return r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),mo(this,ko,Lo).call(this).then((function(t){return fetch(\"\".concat(bo,\"/\").concat(e.options.xsollaProjectId,\"/user/inventory/items\"),{headers:{Authorization:\"Bearer \".concat(t)}})})).then((function(e){if(!e.ok)throw new Error(\"Xsolla inventory HTTP \".concat(e.status));return e.json()})).then((function(t){var r=e._paymentsGetProductsPlatformData()||[];e._paymentsPurchases=(t.items||[]).map((function(e){var t=r.find((function(t){return t.id===e.sku}));return t?io({id:t.id},e):null})).filter(Boolean),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}}])&&ao(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),h}(mn);function Bo(e){return Bo=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Bo(e)}function Mo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=xo(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,xo(n.key),n)}}function xo(e){var t=function(e,t){if(\"object\"!=Bo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Bo(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Bo(t)?t:String(t)}function Uo(){return Uo=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zo(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Uo.apply(this,arguments)}function Vo(e,t){return Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vo(e,t)}function Wo(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zo(e)}var Zo=new WeakSet;function Yo(){var e=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized=\"false\"===this._platformSdk.options.guest,new Promise((function(t){e._platformSdk.getUsers([e._playerId],(function(r){if(r&&1===r.length){var n=r[0];e._playerName=n.full_name,\"\"!==n.avatar&&(e._playerPhotos=[n.avatar])}t()}))}))}const Jo=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Vo(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zo(o);if(s){var r=zo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Bo(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Wo(e)}(this,e)});function l(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t=Wo(e=c.call.apply(c,[this].concat(o))),r=Zo),r.add(t),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.ABSOLUTE_GAMES}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"https://unpkg.com/@agru/sdk/dist/umd/index.min.js\").then((function(){e._platformSdk=new window.AgRuSdk,e._platformSdk.on(window.AgRuSdkMethods.ShowCampaign,(function(t,r){\"rewarded\"===t.type?null===r?t.status?e._setRewardedState(a.OPENED):(t.reward&&e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED):null===r?t.status?e._setInterstitialState(i.OPENED):e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)}));var t=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}(e,Zo,Yo).call(e);Promise.all([t]).finally((function(){e._isInitialized=!0,e._defaultStorageType=e._isPlayerAuthorized?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE,e._resolvePromiseDecorator(y.INITIALIZE)}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._platformSdk.authorize((function(t,r){null===r?e._resolvePromiseDecorator(y.AUTHORIZE_PLAYER):e._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,r)}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Uo(zo(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:Uo(zo(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,r){if(n._platformStorageCachedData){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a=void 0===n._platformStorageCachedData[e[i]]?null:n._platformStorageCachedData[e[i]];o.push(a)}return void t(o)}t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}else n._isPlayerAuthorized?n._platformSdk.getSaveData((function(o,i){if(null===i){if(n._platformStorageCachedData=o||{},Array.isArray(e)){for(var a=[],s=0;s<e.length;s++){var c=void 0===n._platformStorageCachedData[e[s]]?null:n._platformStorageCachedData[e[s]];a.push(c)}return void t(a)}t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}else r(i)})):r()})):Uo(zo(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?Ho({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.setSaveData(i,(function(e,t){null===t&&(n._platformStorageCachedData=i,r()),o(t)}))}else o()})):Uo(zo(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?Ho({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r._platformSdk.setSaveData(o,(function(e,i){null===i&&(r._platformStorageCachedData=o,t()),n(i)}))}else n()})):Uo(zo(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){this._platformSdk.showCampaign(\"default\")}},{key:\"showRewarded\",value:function(){this._platformSdk.showCampaign(\"rewarded\")}}])&&Fo(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function Ko(e){return Ko=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ko(e)}function qo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Xo(n.key),n)}}function Xo(e){var t=function(e,t){if(\"object\"!=Ko(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ko(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ko(t)?t:String(t)}function Qo(e,t){return Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qo(e,t)}function $o(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ei(e)}function ti(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,ni(e,t,\"set\"),r),r}function ri(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ni(e,t,\"get\"))}function ni(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var oi=new WeakMap;const ii=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Qo(e,t)}(p,t);var r,n,o,l,f=(o=p,l=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ei(o);if(l){var r=ei(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Ko(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return $o(e)}(this,e)});function p(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=$o(e=f.call.apply(f,[this].concat(i))),n={writable:!0,value:!1},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,r=oi),r.set(t,n),e}return r=p,(n=[{key:\"platformId\",get:function(){return e.GAME_DISTRIBUTION}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isMinimumDelayBetweenInterstitialEnabled\",get:function(){return!1}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y.INITIALIZE);if(!e)if(e=this._createPromiseDecorator(y.INITIALIZE),this._options&&\"string\"==typeof this._options.gameId){var t=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(e){switch(e.name){case\"SDK_READY\":t._platformSdk=window.gdsdk,t._isInitialized=!0,t.showInterstitial(),t._resolvePromiseDecorator(y.INITIALIZE);break;case\"SDK_GAME_START\":ri(t,oi)?(t._setRewardedState(a.CLOSED),t._platformSdk.preloadAd(\"rewarded\")):t._setInterstitialState(i.CLOSED);break;case\"SDK_GAME_PAUSE\":ri(t,oi)?t._setRewardedState(a.OPENED):t._setInterstitialState(i.OPENED);break;case\"SDK_REWARDED_WATCH_COMPLETE\":t._setRewardedState(a.REWARDED)}}},this._defaultStorageType=u.LOCAL_STORAGE,this._isBannerSupported=!0,Se(\"https://html5.api.gamedistribution.com/main.min.js\")}else this._rejectPromiseDecorator(y.INITIALIZE,g);return e.promise}},{key:\"showBanner\",value:function(e){var t=this,r=document.getElementById(c);r||(r=be(e)),r.style.display=\"block\",this._platformSdk.showAd(\"display\",{containerId:c}).then((function(){t._setBannerState(s.SHOWN)})).catch((function(){t._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var e=document.getElementById(c);e&&(e.style.display=\"none\"),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){var e=this;ti(this,oi,!1),this._platformSdk?this._platformSdk.showAd().catch((function(){e._setInterstitialState(i.FAILED)})):this._setInterstitialState(i.FAILED)}},{key:\"preloadRewarded\",value:function(){this._platformSdk.preloadAd(\"rewarded\")}},{key:\"showRewarded\",value:function(){var e=this;ti(this,oi,!0),this._platformSdk?this._platformSdk.showAd(\"rewarded\").catch((function(){e._setRewardedState(a.FAILED)})):this._setRewardedState(a.FAILED)}}])&&qo(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(mn);function ai(e){return ai=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ai(e)}function si(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,mi(n.key),n)}}function ci(){return ci=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ci.apply(this,arguments)}function ui(e,t){return ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ui(e,t)}function li(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function fi(e){return fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fi(e)}function pi(e,t){hi(e,t),t.add(e)}function di(e,t,r){hi(e,t),t.set(e,r)}function hi(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function yi(e,t,r){return(t=mi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mi(e){var t=function(e,t){if(\"object\"!=ai(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ai(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ai(t)?t:String(t)}function vi(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function _i(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,gi(e,t,\"get\"))}function gi(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Si=\"AUTHORIZED\",bi={VALUABLE_ACCESS:\"VALUABLE_ACCESS\",PHOTO_CONTENT:\"PHOTO_CONTENT\"},Ei=new WeakMap,Pi=new WeakMap,wi=new WeakMap,Ai=new WeakMap,Oi=new WeakSet,ki=new WeakSet,Ti=new WeakSet,Di=new WeakSet,Ii=new WeakSet,Ri=new WeakSet,Li=new WeakSet,ji=new WeakSet,Ci=new WeakSet,Ni=new WeakSet,Gi=new WeakSet,Bi=new WeakSet,Mi=new WeakSet,Hi=new WeakSet,Fi=new WeakSet,xi=new WeakSet;function Ui(){return{userProfile:{fields:\"uid,name,pic50x50,pic128x128,pic_base\",method:\"users.getCurrentUser\"},hasAppPermission:function(e){return{method:\"users.hasAppPermission\",ext_perm:e}}}}function Vi(){var e=this;return{userProfileCallback:function(t,r,n){return vi(e,Oi,zi).call(e,t,r,n)},hasValueAccessCallback:function(t,r,n){return vi(e,Ti,Yi).call(e,r,n)}}}function Wi(){var e=this;return{showPermissions:function(){return vi(e,Di,Ji).call(e)},loadAd:function(t){return vi(e,Ii,Ki).call(e,t)},showLoadedAd:function(t,r){return vi(e,Ri,qi).call(e,r)},showAd:function(t,r){return vi(e,Li,Xi).call(e,r)},requestBannerAds:function(t,r){return vi(e,ji,Qi).call(e,t,r)},showBannerAds:function(t,r){return vi(e,Ni,ea).call(e,r)},hideBannerAds:function(t,r){return vi(e,Ci,$i).call(e,r)},setBannerFormat:function(t){return vi(e,Gi,ta).call(e,t)},showInvite:function(t){return vi(e,Bi,ra).call(e,t)},showRatingDialog:function(t,r){return vi(e,Mi,na).call(e,t,r)},joinGroup:function(t,r){return vi(e,Hi,oa).call(e,t,r)},showLoginSuggestion:function(t,r){return vi(e,ki,Zi).call(e,t,r)},postMediatopic:function(t,r){return vi(e,Fi,ia).call(e,t,r)},isAdBlockEnabled:function(t,r){return vi(e,xi,aa).call(e,t,r)}}}function zi(e,t){\"ok\"===e&&(this._playerId=t.uid,this._playerName=t.name,this._playerPhotos=[t.pic50x50,t.pic128x128,t.pic_base]),this._isInitialized=!0,this._platformSdk.Client.call(_i(this,Pi).hasAppPermission(bi.VALUABLE_ACCESS),_i(this,wi).hasValueAccessCallback)}function Zi(e,t){if(\"error\"===e)return this._isPlayerAuthorized=!1,void this._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,t);this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}function Yi(e){if(this._hasValuableAccessPermission=!!e,this._defaultStorageType=this._hasValuableAccessPermission?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE,this._hasValuableAccessPermission||this._hasValuableAccessPermissionShowed)this._resolvePromiseDecorator(y.INITIALIZE);else{var t=Object.values(bi).map((function(e){return'\"'.concat(e,'\"')})).join(\",\");this._platformSdk.UI.showPermissions(\"[\".concat(t,\"]\"))}}function Ji(){this._hasValuableAccessPermissionShowed=!0,this._platformSdk.Client.call(_i(this,Pi).hasAppPermission(bi.VALUABLE_ACCESS),_i(this,wi).hasValueAccessCallback)}function Ki(e){\"error\"===e?this._setRewardedState(a.FAILED):(this._setRewardedState(a.OPENED),this._platformSdk.UI.showLoadedAd())}function qi(e){switch(e){case\"complete\":this._setRewardedState(a.REWARDED),this._setRewardedState(a.CLOSED);break;case\"skip\":this._setRewardedState(a.CLOSED);break;default:this._setRewardedState(a.FAILED)}}function Xi(e){switch(e){case\"ready\":case\"ad_prepared\":break;case\"ad_shown\":this._setInterstitialState(i.OPENED),this._setInterstitialState(i.CLOSED);break;default:this._setInterstitialState(i.FAILED)}}function Qi(e,t){if(\"error\"!==e)switch(t){case\"ad_loaded\":this._platformSdk.invokeUIMethod(\"showBannerAds\",_i(this,Ei));break;case\"banner_shown\":case\"ad_shown\":this._setBannerState(s.SHOWN);break;case\"hidden_by_user\":this._setBannerState(s.HIDDEN)}else this._setBannerState(s.FAILED)}function $i(e){e?this._setBannerState(s.HIDDEN):this._setBannerState(s.FAILED)}function ea(e){e||this._setBannerState(s.FAILED)}function ta(e){\"error\"===e?this._setBannerState(s.FAILED):this.showBanner(this._platformBannerOptions)}function ra(e){\"error\"===e?this._rejectPromiseDecorator(y.INVITE_FRIENDS):this._resolvePromiseDecorator(y.INVITE_FRIENDS)}function na(e,t){\"error\"===e?this._rejectPromiseDecorator(y.RATE,t):this._resolvePromiseDecorator(y.RATE)}function oa(e,t){\"error\"===e?this._rejectPromiseDecorator(y.JOIN_COMMUNITY,t):this._resolvePromiseDecorator(y.JOIN_COMMUNITY)}function ia(e,t){\"error\"===e?this._rejectPromiseDecorator(y.CREATE_POST,t):this._resolvePromiseDecorator(y.CREATE_POST)}function aa(e,t){\"ok\"===e?this._resolvePromiseDecorator(y.ADBLOCK_DETECT,\"true\"===t):this._rejectPromiseDecorator(y.ADBLOCK_DETECT)}const sa=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ui(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fi(o);if(s){var r=fi(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ai(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return li(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pi(li(e=c.call.apply(c,[this].concat(r))),xi),pi(li(e),Fi),pi(li(e),Hi),pi(li(e),Mi),pi(li(e),Bi),pi(li(e),Gi),pi(li(e),Ni),pi(li(e),Ci),pi(li(e),ji),pi(li(e),Li),pi(li(e),Ri),pi(li(e),Ii),pi(li(e),Di),pi(li(e),Ti),pi(li(e),ki),pi(li(e),Oi),di(li(e),Ai,{get:Wi,set:void 0}),di(li(e),wi,{get:Vi,set:void 0}),di(li(e),Pi,{get:Ui,set:void 0}),yi(li(e),\"_hasValuableAccessPermission\",!1),yi(li(e),\"_hasValuableAccessPermissionShowed\",!1),yi(li(e),\"_platformBannerOptions\",{}),di(li(e),Ei,{writable:!0,value:null}),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.OK}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isCreatePostSupported\",get:function(){return!0}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"//api.ok.ru/js/fapi5.js\").then((function(){Ee(\"FAPI\").then((function(){e._platformSdk=window.FAPI,window.API_callback=function(t,r,n){return _i(e,Ai)[t](r,n)};var t=e._platformSdk.Util.getRequestParameters()||{};t.api_server&&t.apiconnection?e._platformSdk.init(t.api_server,t.apiconnection,(function(){var t,r=null===(t=e._platformSdk)||void 0===t?void 0:t.saved_state;e._isPlayerAuthorized=!r||r===Si,e._isPlayerAuthorized?e._platformSdk.Client.call(_i(e,Pi).userProfile,_i(e,wi).userProfileCallback):(e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE))}),(function(){e._rejectPromiseDecorator(y.INITIALIZE)})):e._rejectPromiseDecorator(y.INITIALIZE,b)}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._platformSdk.UI.showLoginSuggestion(Si)),e.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||ci(fi(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._hasValuableAccessPermission:ci(fi(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?this._hasValuableAccessPermission?new Promise((function(t,o){var i=Array.isArray(e)?e:[e],a={method:\"storage.get\",keys:i,scope:\"CUSTOM\"};n._platformSdk.Client.call(a,(function(n,a,s){if(a){var c=a.data||{};if(Array.isArray(e)){var u=[];return i.forEach((function(e){if(\"\"!==c[e]&&void 0!==c[e]){var t=c[e];if(r)try{t=JSON.parse(c[e])}catch(e){}u.push(t)}else u.push(null)})),void t(u)}if(\"\"===c[e]||void 0===c[e])return void t(null);var l=c[e];if(r)try{l=JSON.parse(c[e])}catch(e){}t(l)}else o(s)}))})):Promise.reject(_):ci(fi(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;if(r===u.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(_);for(var o=Array.isArray(e)?e:[e],i=Array.isArray(e)?t:[t],a=[],s=function(){var e=o[c],t=i[c];\"string\"!=typeof t&&(t=JSON.stringify(t));var r={method:\"storage.set\",key:e,value:t},s=new Promise((function(e,t){n._platformSdk.Client.call(r,(function(r,n){n?e():t()}))}));a.push(s)},c=0;c<o.length;c++)s();return Promise.all(a)}return ci(fi(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;if(t===u.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(_);for(var n=Array.isArray(e)?e:[e],o=[],i=function(){var e={method:\"storage.set\",key:n[a]},t=new Promise((function(t,n){r._platformSdk.Client.call(e,(function(e,r){r?t():n()}))}));o.push(t)},a=0;a<n.length;a++)i();return Promise.all(o)}return ci(fi(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){try{this._platformSdk.UI.showAd()}catch(e){this._setInterstitialState(i.FAILED)}}},{key:\"showRewarded\",value:function(){try{this._platformSdk.UI.loadAd()}catch(e){this._setRewardedState(a.FAILED)}}},{key:\"showBanner\",value:function(e){var t,r;r=e,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t=this,gi(t,Ei,\"set\"),r),this._platformSdk.invokeUIMethod(\"requestBannerAds\")}},{key:\"hideBanner\",value:function(){this._platformSdk.invokeUIMethod(\"hideBannerAds\")}},{key:\"checkAdBlock\",value:function(){var e=this._getPromiseDecorator(y.ADBLOCK_DETECT);return e||(e=this._createPromiseDecorator(y.ADBLOCK_DETECT),this._platformSdk.invokeUIMethod(\"isAdBlockEnabled\")),e.promise}},{key:\"inviteFriends\",value:function(e){var t=(e||{}).text;if(!e||\"string\"!=typeof t)return Promise.reject();var r=this._getPromiseDecorator(y.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(y.INVITE_FRIENDS),t.length>120?this._rejectPromiseDecorator(y.INVITE_FRIENDS,A):this._platformSdk.UI.showInvite(t)),r.promise}},{key:\"rate\",value:function(){var e=this._getPromiseDecorator(y.RATE);return e||(e=this._createPromiseDecorator(y.RATE),this._platformSdk.UI.showRatingDialog()),e.promise}},{key:\"createPost\",value:function(e){if(!e||null==e||!e.media)return Promise.reject();var t,r=this._getPromiseDecorator(y.CREATE_POST);return r||(r=this._createPromiseDecorator(y.CREATE_POST),this._platformSdk.UI.postMediatopic(e,null!==(t=e.status)&&void 0!==t&&t)),r.promise}},{key:\"joinCommunity\",value:function(e){if(!e||null==e||!e.groupId)return Promise.reject();var t,r=this._getPromiseDecorator(y.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(y.JOIN_COMMUNITY),this._platformSdk.UI.joinGroup(e.groupId,null!==(t=e.enableMessages)&&void 0!==t&&t)),r.promise}}])&&si(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function ca(e){return ca=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ca(e)}function ua(){ua=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var c=f(e[o],e,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==ca(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r(\"throw\",e,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var u=f(t,r,n);if(\"normal\"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ca(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(D),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function la(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=ha(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function da(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ha(n.key),n)}}function ha(e){var t=function(e,t){if(\"object\"!=ca(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ca(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ca(t)?t:String(t)}function ya(){return ya=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_a(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ya.apply(this,arguments)}function ma(e,t){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ma(e,t)}function va(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(e)}function ga(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Sa(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var ba=new WeakSet,Ea=new WeakSet;function Pa(){var e=this;return new Promise((function(t){e._platformSdk.userService.getUser().then((function(t){return t.isAuthorized?(e._isPlayerAuthorized=!0,e._playerId=t.id,e._playerName=t.name,e._playerPhotos=t.photos,e._playerExtra=t,e._defaultStorageType=u.PLATFORM_INTERNAL,Sa(e,Ea,wa).call(e,[])):(e._playerApplyGuestData(),Promise.resolve())})).catch((function(){e._playerApplyGuestData()})).finally((function(){t()}))}))}function wa(e){return Aa.apply(this,arguments)}function Aa(){var e;return e=ua().mark((function e(t){var r,n=arguments;return ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1],this._platformStorageCachedData){e.next=5;break}return e.next=4,this.platformSdk.cloudSaveApi.getState();case 4:this._platformStorageCachedData=e.sent;case 5:return e.abrupt(\"return\",Ae(t,this._platformStorageCachedData,r));case 6:case\"end\":return e.stop()}}),e,this)})),Aa=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){la(i,n,o,a,s,\"next\",e)}function s(e){la(i,n,o,a,s,\"throw\",e)}a(void 0)}))},Aa.apply(this,arguments)}const Oa=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ma(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_a(o);if(s){var r=_a(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ca(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return va(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ga(va(e=c.call.apply(c,[this].concat(r))),Ea),ga(va(e),ba),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.PLAYGAMA}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"platformLanguage\",get:function(){return this._platformSdk.platformService.getLanguage()||ya(_a(l.prototype),\"platformLanguage\",this)}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"https://developer.playgama.com/sdk/v1.js\").then((function(){Ee(\"PLAYGAMA_SDK\").then((function(){e._platformSdk=window.PLAYGAMA_SDK,e._platformSdk.advService.subscribeToAdStateChanges((function(t,r){if(\"interstitial\"===t)switch(r){case\"open\":e._setInterstitialState(i.OPENED);break;case\"empty\":case\"error\":e._setInterstitialState(i.FAILED);break;case\"close\":e._setInterstitialState(i.CLOSED)}else if(\"rewarded\"===t)switch(r){case\"open\":e._setRewardedState(a.OPENED);break;case\"empty\":case\"error\":e._setRewardedState(a.FAILED);break;case\"rewarded\":e._setRewardedState(a.REWARDED);break;case\"close\":e._setRewardedState(a.CLOSED)}})),Sa(e,ba,Pa).call(e).then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||ya(_a(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:ya(_a(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?Sa(this,Ea,wa).call(this,e,r):Promise.reject():ya(_a(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;switch(r){case u.PLATFORM_INTERNAL:return this._isPlayerAuthorized?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?pa({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n.platformSdk.cloudSaveApi.setItems(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))})):Promise.reject();case u.LOCAL_STORAGE:var o={};if(Array.isArray(e))for(var i=0;i<e.length;i++)o[e[i]]=\"string\"!=typeof t[i]?JSON.stringify(t[i]):t[i];else o[e]=\"string\"!=typeof t?JSON.stringify(t):t;return this._platformSdk.storageApi.setItems(o),ya(_a(l.prototype),\"setDataToStorage\",this).call(this,e,t,r);default:return Promise.reject(v)}}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;switch(t){case u.PLATFORM_INTERNAL:return new Promise((function(t,n){var o=null!==r._platformStorageCachedData?pa({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r.platformSdk.cloudSaveApi.setItems(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))}));case u.LOCAL_STORAGE:return this._platformSdk.storageApi.deleteItems(Array.isArray(e)?e:[e]),ya(_a(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t);default:return Promise.reject(v)}}},{key:\"showInterstitial\",value:function(){this._platformSdk.advService.showInterstitial()}},{key:\"showRewarded\",value:function(){this._platformSdk.advService.showRewarded()}},{key:\"authorizePlayer\",value:function(e){var t=this,r=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._isPlayerAuthorized?Sa(this,ba,Pa).call(this,e).then((function(){t._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)})):this._platformSdk.userService.authorizeUser().then((function(){Sa(t,ba,Pa).call(t,e).then((function(){t._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}))})).catch((function(e){t._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,e)}))),r.promise}},{key:\"paymentsPurchase\",value:function(e,t){var r=this,n=this._paymentsGetProductPlatformData(e);if(!n)return Promise.reject();t&&t.externalId&&(n.externalId=t.externalId),n.externalId||(n.externalId=this._paymentsGenerateTransactionId(e));var o=this._getPromiseDecorator(y.PURCHASE);return o||(o=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.inGamePaymentsApi.purchase(n).then((function(t){if(\"PAID\"===t.status){var n=pa({id:e},t);r._paymentsPurchases.push(n),r._resolvePromiseDecorator(y.PURCHASE,n)}else r._rejectPromiseDecorator(y.PURCHASE,t.error)})).catch((function(e){r._rejectPromiseDecorator(y.PURCHASE,e)}))),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=e.map((function(e){return{id:e.id,price:\"\".concat(e.amount,\" Gam\"),priceCurrencyCode:\"Gam\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:e.amount}}));return Promise.resolve(t)}}])&&da(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function ka(e){return ka=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ka(e)}function Ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Da(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Na(n.key),n)}}function Ia(){return Ia=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ja(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ia.apply(this,arguments)}function Ra(e,t){return Ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ra(e,t)}function La(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ja(e)}function Ca(e,t,r){return(t=Na(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Na(e){var t=function(e,t){if(\"object\"!=ka(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ka(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ka(t)?t:String(t)}function Ga(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function Ba(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Ha(e,t,\"set\"),r),r}function Ma(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ha(e,t,\"get\"))}function Ha(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Fa=new WeakMap,xa=new WeakMap;const Ua=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ra(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ja(o);if(s){var r=ja(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ka(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return La(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ga(La(e=c.call.apply(c,[this].concat(r))),Fa,{writable:!0,value:void 0}),Ga(La(e),xa,{writable:!0,value:void 0}),Ca(La(e),\"_defaultStorageType\",u.PLATFORM_INTERNAL),Ca(La(e),\"_isPlayerAuthorized\",!0),e}return r=l,n=[{key:\"platformId\",get:function(){return e.PLAYDECK}},{key:\"platformLanguage\",get:function(){return Ma(this,Fa)?Ma(this,Fa):Ia(ja(l.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),window.addEventListener(\"message\",(function t(r){var n=r.data;if(n&&n.playdeck){var o=n.playdeck;if(\"getUserProfile\"===o.method){var i=o.value;e._playerId=i.telegramId,e._playerPhotos=[i.avatar],e._playerName=i.username,Ba(e,Fa,i.locale),Ba(e,xa,i.params),window.removeEventListener(\"message\",t),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}}})),window.parent.postMessage({playdeck:{method:\"getUserProfile\"}},\"*\")),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case f.GAME_OVER:return window.parent.postMessage({playdeck:{method:\"gameEnd\"}},\"*\"),Promise.resolve();case f.GAME_READY:return window.parent.postMessage({playdeck:{method:\"loading\",value:100}},\"*\"),Promise.resolve();default:return Ia(ja(l.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"showInterstitial\",value:function(){var e=this;window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":e._setInterstitialState(i.OPENED);break;case\"rewardedAd\":case\"skipAd\":e._setInterstitialState(i.CLOSED),window.removeEventListener(\"message\",t);break;case\"errAd\":case\"notFoundAd\":e._setInterstitialState(i.FAILED),window.removeEventListener(\"message\",t)}})),window.parent.postMessage({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"showRewarded\",value:function(){var e=this;window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":e._setRewardedState(a.OPENED);break;case\"rewardedAd\":e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",t);break;case\"skipAd\":e._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",t);break;case\"errAd\":case\"notFoundAd\":e._setRewardedState(a.FAILED),window.removeEventListener(\"message\",t)}})),window.parent.postMessage({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Ia(ja(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||Ia(ja(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){return t===u.PLATFORM_INTERNAL?new Promise((function(t){var r={},n=Array.isArray(e)?e:[e];window.addEventListener(\"message\",(function o(i){var a=i.data;if(a&&a.playdeck&&\"getData\"===a.playdeck.method&&n.includes(a.playdeck.key)){var s=a.playdeck;if(\"getData\"===s.method&&(r[s.key]=s.value.data),Object.keys(r).length===n.length){window.removeEventListener(\"message\",o);var c=Array.isArray(e)?e.map((function(e){return r[e]})):r[e];t(c)}}})),n.forEach((function(e){return window.parent.postMessage({playdeck:{method:\"getData\",key:e}},\"*\")}))})):Ia(ja(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){return r===u.PLATFORM_INTERNAL?new Promise((function(r){var n=Array.isArray(e)?e:[e],o=(Array.isArray(t)?t:[t]).map((function(e){return\"string\"!=typeof e?JSON.stringify(e):e}));n.forEach((function(e,t){return window.parent.postMessage({playdeck:{method:\"setData\",key:e,value:o[t]}},\"*\")})),r()})):Ia(ja(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){return t===u.PLATFORM_INTERNAL?new Promise((function(t){(Array.isArray(e)?e:[e]).forEach((function(e){return window.parent.postMessage({playdeck:{method:\"setData\",key:e,value:\"\"}},\"*\")})),t()})):Ia(ja(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"share\",value:function(){var e=this,t=this._getPromiseDecorator(y.SHARE);return t||(t=this._createPromiseDecorator(y.SHARE),window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;o&&\"customShare\"===o.method&&(window.removeEventListener(\"message\",t),e._resolvePromiseDecorator(y.SHARE))})),window.parent.postMessage({playdeck:{method:\"customShare\",value:Ma(this,xa)}},\"*\")),t.promise}},{key:\"paymentsPurchase\",value:function(e,t){var r=this,n=this._paymentsGetProductPlatformData(e);if(!n)return Promise.reject();t&&t.externalId&&(n.externalId=t.externalId),n.externalId||(n.externalId=this._paymentsGenerateTransactionId(e));var o=this._getPromiseDecorator(y.PURCHASE);return o||(o=this._createPromiseDecorator(y.PURCHASE),window.addEventListener(\"message\",(function e(t){var r=t.data,n=null==r?void 0:r.playdeck;n&&\"requestPayment\"===n.method&&(window.parent.postMessage({playdeck:{method:\"openTelegramLink\",value:n.value.url}},\"*\"),window.removeEventListener(\"message\",e))})),window.addEventListener(\"message\",(function t(n){var o=n.data,i=null==o?void 0:o.playdeck;if(i&&\"invoiceClosed\"===i.method)if(\"paid\"===i.value.status){window.removeEventListener(\"message\",t);var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(r),!0).forEach((function(t){Ca(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:e},i.value);r._paymentsPurchases.push(a),r._resolvePromiseDecorator(y.PURCHASE,a)}else\"cancelled\"!==i.value.status&&\"failed\"!==i.value.status||(window.removeEventListener(\"message\",t),r._rejectPromiseDecorator(y.PURCHASE,i.value))})),window.parent.postMessage({playdeck:{method:\"requestPayment\",value:n}},\"*\")),o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=e.map((function(e){return{id:e.id,price:\"\".concat(e.amount,\" Stars\"),priceCurrencyCode:\"Stars\",priceValue:e.amount}}));return Promise.resolve(t)}}],n&&Da(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function Va(e){return Va=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Va(e)}function Wa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Xa(n.key),n)}}function za(){return za=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ja(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},za.apply(this,arguments)}function Za(e,t){return Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Za(e,t)}function Ya(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ja(e)}function Ka(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function qa(e,t,r){return(t=Xa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xa(e){var t=function(e,t){if(\"object\"!=Va(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Va(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Va(t)?t:String(t)}function Qa(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,es(e,t,\"set\"),r),r}function $a(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,es(e,t,\"get\"))}function es(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var ts=new WeakMap,rs=new WeakMap,ns=new WeakMap,os=new WeakMap;const is=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Za(e,t)}(p,t);var r,n,o,s,c=(o=p,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ja(o);if(s){var r=Ja(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Va(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ya(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return qa(Ya(e=c.call.apply(c,[this].concat(r))),\"_defaultStorageType\",u.PLATFORM_INTERNAL),qa(Ya(e),\"_isPlayerAuthorized\",!0),Ka(Ya(e),ts,{writable:!0,value:void 0}),Ka(Ya(e),rs,{writable:!0,value:void 0}),Ka(Ya(e),ns,{writable:!0,value:{onStart:function(){return e._setRewardedState(a.OPENED)},onSkip:function(){return e._setRewardedState(a.CLOSED)},onReward:function(){return e._setRewardedState(a.REWARDED)},onError:function(){return e._setRewardedState(a.FAILED)}}}),Ka(Ya(e),os,{writable:!0,value:{onStart:function(){return e._setInterstitialState(i.OPENED)},onSkip:function(){return e._setInterstitialState(i.CLOSED)},onError:function(){return e._setInterstitialState(i.FAILED)}}}),e}return r=p,(n=[{key:\"platformId\",get:function(){return e.TELEGRAM}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.initDataUnsafe.user.language_code:za(Ja(p.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!!$a(this,rs)}},{key:\"isRewardedSupported\",get:function(){return!!$a(this,rs)}},{key:\"deviceType\",get:function(){switch($a(this,ts)){case\"android\":case\"android_x\":case\"ios\":return l.MOBILE;case\"tdesktop\":case\"unigram\":case\"macos\":return l.DESKTOP;default:return za(Ja(p.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"https://telegram.org/js/telegram-web-app.js\").then((function(){e._platformSdk=window.Telegram.WebApp;var t=e._platformSdk.initDataUnsafe.user;e._playerId=t.id,e._playerName=[t.first_name,t.last_name].filter(Boolean).join(\" \"),e._playerPhotos=[t.photo_url],Qa(e,ts,e._platformSdk.platform),e._isInitialized=!0,e._options&&e._options.adsgramBlockId?Se(\"https://sad.adsgram.ai/js/sad.min.js\").then((function(){Qa(e,rs,window.Adsgram.init({blockId:e._options.adsgramBlockId}))})).finally((function(){e._resolvePromiseDecorator(y.INITIALIZE)})):e._resolvePromiseDecorator(y.INITIALIZE)}))),t.promise}},{key:\"sendMessage\",value:function(e){return e===f.GAME_READY?(this._platformSdk.ready(),Promise.resolve()):za(Ja(p.prototype),\"sendMessage\",this).call(this,e)}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||za(Ja(p.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||za(Ja(p.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,o){Array.isArray(e)?n._platformSdk.CloudStorage.getItems(e,(function(n,i){if(n)o(n);else{var a=[];e.forEach((function(e){var t=i[e];if(r&&\"string\"==typeof t)try{t=JSON.parse(t)}catch(e){}a.push(t)})),t(a)}})):n._platformSdk.CloudStorage.getItem(e,(function(e,n){e&&o(e);var i=n;if(r&&\"string\"==typeof i)try{i=JSON.parse(i)}catch(e){}t(i)}))})):za(Ja(p.prototype),\"getDataFromStorage\",this).call(this,e,t)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r){var o=Array.isArray(e)?e:[e],i=(Array.isArray(t)?t:[t]).map((function(e){return\"string\"!=typeof e?JSON.stringify(e):e}));o.forEach((function(e,t){return n._platformSdk.CloudStorage.setItem(e,i[t])})),r()})):za(Ja(p.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t){(Array.isArray(e)?e:[e]).forEach((function(e){return r._platformSdk.CloudStorage.removeItem(e)})),t()})):za(Ja(p.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){var e=this;$a(this,rs)?($a(this,rs).addEventListener(\"onStart\",$a(this,os).onStart),$a(this,rs).addEventListener(\"onSkip\",$a(this,os).onSkip),$a(this,rs).addEventListener(\"onError\",$a(this,os).onError),$a(this,rs).addEventListener(\"onBannerNotFound\",$a(this,os).onError),$a(this,rs).show().finally((function(){$a(e,rs).removeEventListener(\"onStart\",$a(e,os).onStart),$a(e,rs).removeEventListener(\"onSkip\",$a(e,os).onSkip),$a(e,rs).removeEventListener(\"onError\",$a(e,os).onError),$a(e,rs).removeEventListener(\"onBannerNotFound\",$a(e,os).onError)}))):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var e=this;$a(this,rs)?($a(this,rs).addEventListener(\"onStart\",$a(this,ns).onStart),$a(this,rs).addEventListener(\"onSkip\",$a(this,ns).onSkip),$a(this,rs).addEventListener(\"onReward\",$a(this,ns).onReward),$a(this,rs).addEventListener(\"onError\",$a(this,ns).onError),$a(this,rs).addEventListener(\"onBannerNotFound\",$a(this,ns).onError),$a(this,rs).show().finally((function(){$a(e,rs).addEventListener(\"onStart\",$a(e,ns).onStart),$a(e,rs).addEventListener(\"onSkip\",$a(e,ns).onSkip),$a(e,rs).addEventListener(\"onReward\",$a(e,ns).onReward),$a(e,rs).addEventListener(\"onError\",$a(e,ns).onError),$a(e,rs).addEventListener(\"onBannerNotFound\",$a(e,ns).onError)}))):this._setRewardedState(a.FAILED)}},{key:\"clipboardRead\",value:function(){var e=this,t=this._getPromiseDecorator(y.CLIPBOARD_READ);return t||(t=this._createPromiseDecorator(y.CLIPBOARD_READ),this._platformSdk.readTextFromClipboard((function(t){t?e._resolvePromiseDecorator(y.CLIPBOARD_READ,t):e._rejectPromiseDecorator(y.CLIPBOARD_READ)}))),t.promise}}])&&Wa(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(mn);var as=[\"player\"];function ss(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=fs(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ss(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function us(e){return us=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},us(e)}function ls(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,fs(n.key),n)}}function fs(e){var t=function(e,t){if(\"object\"!=us(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=us(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==us(t)?t:String(t)}function ps(){return ps=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ys(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ps.apply(this,arguments)}function ds(e,t){return ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ds(e,t)}function hs(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ys(e)}function ms(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function vs(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var _s=\"userData\",gs=\"6129580795478709\",Ss=new WeakSet,bs=new WeakSet;function Es(){var e=this;return new Promise((function(t,r){e._platformStorageCachedData?t(e._platformStorageCachedData):e._platformSdk.api(\"user_data/retrieve\",\"POST\",{key:_s},(function(n){n.error&&\"Key not found\"!==n.error&&r(n);var o={};try{n.jsondata&&(o=JSON.parse(n.jsondata))}catch(e){}e._platformStorageCachedData=o,t(o)}))}))}function Ps(e){if(\"ok\"===e.status){this._isPlayerAuthorized=!0,this._defaultStorageType=u.PLATFORM_INTERNAL;var t=e.authResponse.details,r=t.pid,n=t.locale,o=t.nickname,i=t.first_name,a=t.last_name,s=t.avatars;r&&(this._playerId=r),this._platformLanguage=n,this._playerName=[i,a].filter((function(e){return!!e})).join(\" \")||o,this._playerPhotos=[];var c=s.thumb_url,l=s.medium_url,f=s.large_url;c&&this._playerPhotos.push(c),l&&this._playerPhotos.push(l),f&&this._playerPhotos.push(f)}}const ws=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ds(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ys(o);if(s){var r=ys(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===us(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return hs(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ms(hs(e=c.call.apply(c,[this].concat(r))),bs),ms(hs(e),Ss),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.Y8}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return d}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"isGetAchievementsListSupported\",get:function(){return!0}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r=this._getPromiseDecorator(y.INITIALIZE);return r||(r=this._createPromiseDecorator(y.INITIALIZE),null!==(t=this._options)&&void 0!==t&&t.gameId?Se(\"https://cdn.y8.com/api/sdk.js\").then((function(){Ee(\"ID\").then((function(){e._platformSdk=window.ID,e._platformSdk.Event.subscribe(\"id.init\",(function(){var t,r,n,o,i,a;(t={hostId:\"ca-host-pub-\".concat(gs),adsenseId:e._options.channelId?\"ca-pub-\".concat(gs):e._options.adsenseId,channelId:e._options.channelId},r=t.hostId,n=t.adsenseId,o=t.channelId,i=t.adFrequencyHint,a=void 0===i?\"180s\":i,new Promise((function(e){var t=document.createElement(\"script\");t.setAttribute(\"data-ad-client\",n),o?t.setAttribute(\"data-ad-channel\",o):r&&t.setAttribute(\"data-ad-host\",r),t.setAttribute(\"data-ad-frequency-hint\",a),t.src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",t.addEventListener(\"load\",e),document.head.appendChild(t)}))).then((function(){e._showAd=function(e){window.adsbygoogle.push(e)},window.adsbygoogle.push({preloadAdBreaks:\"on\",sound:\"on\",onReady:function(){}})})),e._platformSdk.getLoginStatus((function(t){vs(e,bs,Ps).call(e,t),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))})),e._platformSdk.init({appId:e._options.gameId})}))})):this._rejectPromiseDecorator(y.INITIALIZE,S)),r.promise}},{key:\"authorizePlayer\",value:function(){var e=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(t,r){e._platformSdk.login((function(n){vs(e,bs,Ps).call(e,n),\"ok\"===n.status?(e._platformStorageCachedData=null,t()):r()}))}))}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||ps(ys(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:ps(ys(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,o){vs(n,Ss,Es).call(n).then((function(n){var o=(Array.isArray(e)?e:[e]).map((function(e){var t=n[e];return r||\"object\"!==us(t)||null===t?null!=t?t:null:JSON.stringify(t)}));t(o)})).catch(o)})):ps(ys(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){vs(n,Ss,Es).call(n).then((function(i){var a=cs({},i);if(Array.isArray(e))for(var s=0;s<e.length;s++)a[e[s]]=t[s];else a[e]=t;n._platformSdk.api(\"user_data/submit\",\"POST\",{key:_s,value:JSON.stringify(a)},(function(e){\"ok\"===e.status?(n._platformStorageCachedData=a,r()):o(e)}))})).catch(o)})):ps(ys(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,n){vs(r,Ss,Es).call(r).then((function(o){var i=cs({},o);if(Array.isArray(e))for(var a=0;a<e.length;a++)delete i[e[a]];else delete i[e];r._platformSdk.api(\"user_data/submit\",\"POST\",{key:_s,value:JSON.stringify(i)},(function(e){\"ok\"===e.status?(r._platformStorageCachedData=i,t()):n(e)}))})).catch(n)})):ps(ys(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){var e=this;this._showAd?this._showAd({type:\"start\",name:\"start-game\",beforeAd:function(){e._setInterstitialState(i.OPENED)},afterAd:function(){e.interstitialState!==i.FAILED&&e._setInterstitialState(i.CLOSED)},adBreakDone:function(t){\"viewed\"!==t.breakStatus&&e._setInterstitialState(i.FAILED)}}):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var e=this;this._showAd?this._showAd({type:\"reward\",name:\"rewarded Ad\",beforeAd:function(){e._setRewardedState(a.OPENED)},afterAd:function(){e.rewardedState!==a.FAILED&&e._setRewardedState(a.CLOSED)},beforeReward:function(e){e(0)},adDismissed:function(){e._setRewardedState(a.FAILED)},adViewed:function(){e._setRewardedState(a.REWARDED)},adBreakDone:function(t){\"frequencyCapped\"!==t.breakStatus&&\"other\"!==t.breakStatus||e._setRewardedState(a.FAILED)}}):this._setRewardedState(a.FAILED)}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var o={table:e,points:t};this._platformSdk.GameAPI.Leaderboards.save(o,(function(e){var t=e.success,n=e.errormessage;t?r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE):r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,n)}))}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();var r=this._getPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);if(!r){r=this._createPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);var n={table:e,mode:\"alltime\"};this._platformSdk.GameAPI.Leaderboards.listCustom(n,(function(e){var r=e.scores,n=e.success,o=e.errormessage;if(n){var i=r.map((function(e){return{id:e.playerid,name:e.playername,score:e.points,rank:e.rank,photo:null}}));t._resolvePromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,i)}else t._rejectPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,o)}))}return r.promise}},{key:\"unlockAchievement\",value:function(e){var t=this;return this._isPlayerAuthorized&&e.achievement&&e.achievementkey?new Promise((function(r){t._platformSdk.GameAPI.Achievements.save(e,(function(e){r(e)}))})):Promise.reject()}},{key:\"getAchievementsList\",value:function(e){var t=this;return new Promise((function(r,n){t._platformSdk.GameAPI.Achievements.listCustom(e,(function(e){e.success?r(e.achievements.map((function(e){var t=e.player;return cs(cs({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,as)),{},{playerid:t.playerid,playername:t.playername,lastupdated:t.lastupdated,date:t.date,rdate:t.rdate})}))):n(new Error(e.errorcode))}))}))}},{key:\"showAchievementsNativePopup\",value:function(e){return this._platformSdk.GameAPI.Achievements.list(e),Promise.resolve()}}])&&ls(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function As(e){return As=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},As(e)}function Os(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ks(n.key),n)}}function ks(e){var t=function(e,t){if(\"object\"!=As(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=As(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==As(t)?t:String(t)}function Ts(){return Ts=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Is(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ts.apply(this,arguments)}function Ds(e,t){return Ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ds(e,t)}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Is(e)}const Rs=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ds(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Is(o);if(s){var r=Is(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===As(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),c.apply(this,arguments)}return r=l,(n=[{key:\"platformId\",get:function(){return e.LAGGED}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return h}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),this._options&&this._options.devId&&this._options.publisherId?Se(\"https://lagged.com/api/rev-share/lagged.js\").then((function(){Ee(\"LaggedAPI\").then((function(){e._platformSdk=window.LaggedAPI,e._platformSdk.init(e._options.devId,e._options.publisherId),e._platformSdk.User.get((function(t){var r,n=null!==(r=null==t?void 0:t.user)&&void 0!==r?r:{},o=n.id,i=n.name,a=n.avatar;o>0&&(e._playerId=o,e._playerName=i,e._playerPhotos.push(a),e._isPlayerAuthorized=!0),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))})):this._rejectPromiseDecorator(y.INITIALIZE,E)),t.promise}},{key:\"isStorageSupported\",value:function(e){return e!==u.PLATFORM_INTERNAL&&Ts(Is(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e!==u.PLATFORM_INTERNAL&&Ts(Is(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"showInterstitial\",value:function(){var e=this;this._setInterstitialState(i.OPENED),this._platformSdk.APIAds.show((function(){e._setInterstitialState(i.CLOSED)}))}},{key:\"showRewarded\",value:function(){var e=this;this._setRewardedState(a.OPENED),this._platformSdk.GEvents.reward((function(t,r){t?r():e._setRewardedState(a.FAILED)}),(function(t){t?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)}))}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this,n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var o={score:t,board:e};this._platformSdk.Scores.save(o,(function(e){e.success?r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE):r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e.errormsg)}))}return n.promise}},{key:\"unlockAchievement\",value:function(e){var t=this;return e.achievement?new Promise((function(r,n){t._platformSdk.Achievements.save(Array.isArray(e.achievement)?e.achievement:[e.achievement],(function(e){e.success?r(e):n(e.errormsg)}))})):Promise.reject()}}])&&Os(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function Ls(){Ls=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var c=f(e[o],e,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==Gs(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r(\"throw\",e,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var u=f(t,r,n);if(\"normal\"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Gs(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(D),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function js(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach((function(t){zs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gs(e){return Gs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Gs(e)}function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ms(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Zs(n.key),n)}}function Hs(){return Hs=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Us(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hs.apply(this,arguments)}function Fs(e,t){return Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fs(e,t)}function xs(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Us(e)}function Vs(e,t){Ws(e,t),t.add(e)}function Ws(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function zs(e,t,r){return(t=Zs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zs(e){var t=function(e,t){if(\"object\"!=Gs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Gs(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Gs(t)?t:String(t)}function Ys(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Js(e,t,\"set\"),r),r}function Js(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}function Ks(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var qs=new WeakMap,Xs=new WeakSet,Qs=new WeakSet,$s=new WeakSet,ec=new WeakSet;function tc(){var e=this;e._platformSdk.overlayViews.setCustomEventHandler((function(t){if(\"leaderboard\"===t)Ys(e,qs,!0);else if(\"close\"===t){if(function(e,t){return t.get?t.get.call(e):t.value}(r=e,Js(r,qs,\"get\")))return void Ys(e,qs,!1);e._overlay&&(document.body.removeChild(document.getElementById(e._overlay.iframeElement.id)),e._overlay.dismissAsync(),e._overlay=null)}var r}))}function rc(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedInterstitialPromises[e])return this._preloadedInterstitialPromises[e];var r=null;return this._preloadedInterstitialPromises[e]=this._platformSdk.getInterstitialAdAsync(e).then((function(e){return r=e,e.loadAsync()})).then((function(){return r})).catch((function(){return t._preloadedInterstitialPromises[e]=null,Promise.reject()})),this._preloadedInterstitialPromises[e]}function nc(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedRewardedPromises[e])return this._preloadedRewardedPromises[e];var r=null;return this._preloadedRewardedPromises[e]=this._platformSdk.getRewardedVideoAsync(e).then((function(e){return r=e,e.loadAsync()})).then((function(){return r})).catch((function(){return t._preloadedRewardedPromises[e]=null,Promise.reject()})),this._preloadedRewardedPromises[e]}function oc(){return ic.apply(this,arguments)}function ic(){var e;return e=Ls().mark((function e(){return Ls().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._platformSdk.player.isSubscribedBotAsync();case 3:if(!e.sent){e.next=6;break}return e.abrupt(\"return\",Promise.resolve());case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),\"INVALID_OPERATION\"!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=13;break}e.next=14;break;case 13:throw new Error(e.t0);case 14:return e.prev=15,e.next=18,this._platformSdk.player.canSubscribeBotAsync();case 18:if(!e.sent){e.next=21;break}return e.abrupt(\"return\",this._platformSdk.player.subscribeBotAsync());case 21:e.next=28;break;case 23:if(e.prev=23,e.t1=e.catch(15),\"INVALID_OPERATION\"!==(null===e.t1||void 0===e.t1?void 0:e.t1.code)){e.next=27;break}return e.abrupt(\"return\",Promise.resolve());case 27:throw new Error(e.t1);case 28:return e.abrupt(\"return\",Promise.resolve());case 29:case\"end\":return e.stop()}}),e,this,[[0,8],[15,23]])})),ic=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){js(i,n,o,a,s,\"next\",e)}function s(e){js(i,n,o,a,s,\"throw\",e)}a(void 0)}))},ic.apply(this,arguments)}const ac=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Fs(e,t)}(d,t);var r,n,o,c,p=(o=d,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Us(o);if(c){var r=Us(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Gs(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return xs(e)}(this,e)});function d(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,d);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Vs(xs(e=p.call.apply(p,[this].concat(i))),ec),Vs(xs(e),$s),Vs(xs(e),Qs),Vs(xs(e),Xs),zs(xs(e),\"_contextId\",null),zs(xs(e),\"_supportedApis\",[]),zs(xs(e),\"_preloadedInterstitialPromises\",{}),zs(xs(e),\"_preloadedRewardedPromises\",{}),zs(xs(e),\"_defaultStorageType\",u.PLATFORM_INTERNAL),zs(xs(e),\"_isJoinCommunitySupported\",!1),n={writable:!0,value:!1},Ws(t=xs(e),r=qs),r.set(t,n),e}return r=d,n=[{key:\"platformId\",get:function(){return e.FACEBOOK}},{key:\"platformLanguage\",get:function(){return this._platformLanguage||Hs(Us(d.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.getPlatform()){case\"IOS\":case\"ANDROID\":case\"MOBILE_WEB\":return l.MOBILE;case\"WEB\":return l.DESKTOP;default:return Hs(Us(d.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return\"native_popup\"}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedApis.includes(\"inviteAsync\")}},{key:\"isJoinCommunitySupported\",get:function(){return this._isJoinCommunitySupported}},{key:\"isShareSupported\",get:function(){return this._supportedApis.includes(\"shareAsync\")}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"https://connect.facebook.net/en_US/fbinstant.8.0.js\").then((function(){return Ee(\"FBInstant\")})).then((function(){return e._platformSdk=window.FBInstant,e._platformSdk.initializeAsync()})).then((function(){return e._isPlayerAuthorized=!0,e._playerId=e._platformSdk.player.getID(),e._contextId=e._platformSdk.context.getID(),e._platformLanguage=e._platformSdk.getLocale(),\"string\"==typeof e._platformLanguage&&(e._platformLanguage=e._platformLanguage.substring(0,2).toLowerCase()),e._supportedApis=e._platformSdk.getSupportedAPIs(),Ks(e,Xs,tc).call(e),Promise.allSettled([e._platformSdk.community.canFollowOfficialPageAsync(),e._platformSdk.community.canJoinOfficialGroupAsync()]).then((function(t){var r,n,o=(n=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(r,n)||function(e,t){if(e){if(\"string\"==typeof e)return Bs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bs(e,t):void 0}}(r,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=o[0],a=o[1],s=\"fulfilled\"===i.status&&i.value,c=\"fulfilled\"===a.status&&a.value;e._isJoinCommunitySupported=!0===s&&!0===c}))})).then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)})).catch((function(t){return e._rejectPromiseDecorator(y.INITIALIZE,t)}))),t.promise}},{key:\"sendMessage\",value:function(e){var t=this;return e===f.GAME_READY?(this._platformSdk.setLoadingProgress(100),this._options.subscribeForNotificationsOnStart&&setTimeout((function(){return Ks(t,ec,oc).call(t)}),0),new Promise((function(e){t._platformSdk.startGameAsync().then(e)}))):Hs(Us(d.prototype),\"sendMessage\",this).call(this,e)}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL?this._supportedApis.includes(\"player.getDataAsync\"):Hs(Us(d.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:Hs(Us(d.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,o){var i=Array.isArray(e)?e:[e];n._platformSdk.player.getDataAsync(i).then((function(e){var n=i.map((function(t){var n=e[t];return r||\"object\"!==Gs(n)||null===n?null!=n?n:null:JSON.stringify(n)}));t(n)})).catch(o)})):Hs(Us(d.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){var i={};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.player.setDataAsync(i).then(r).catch(o)})):Hs(Us(d.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,n){var o={};if(Array.isArray(e))for(var i=0;i<e.length;i++)o[e[i]]=null;else o[e]=null;r._platformSdk.player.setDataAsync(o).then(t).catch(n)})):Hs(Us(d.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e,t){var r=this;this._platformSdk.loadBannerAdAsync(t,e).then((function(){r._setBannerState(s.SHOWN)})).catch((function(){r._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.hideBannerAdAsync().then((function(){e._setBannerState(s.HIDDEN)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"preloadInterstitial\",value:function(e){Ks(this,Qs,rc).call(this,e)}},{key:\"showInterstitial\",value:function(e){var t=this;Ks(this,Qs,rc).call(this,e).then((function(e){return t._setInterstitialState(i.OPENED),e.showAsync()})).then((function(){t._setInterstitialState(i.CLOSED)})).catch((function(){return t._advertisementShowErrorPopup(!1)})).finally((function(){Ks(t,Qs,rc).call(t,e,!0)}))}},{key:\"preloadRewarded\",value:function(e){Ks(this,$s,nc).call(this,e)}},{key:\"showRewarded\",value:function(e){var t=this;Ks(this,$s,nc).call(this,e).then((function(e){return t._setRewardedState(a.OPENED),e.showAsync()})).then((function(){t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)})).catch((function(){return t._advertisementShowErrorPopup(!0)})).finally((function(){Ks(t,$s,nc).call(t,e,!0)}))}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this,n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var o=\"number\"==typeof t?t:parseInt(t,10);this._platformSdk.globalLeaderboards.setScoreAsync(e,o).then((function(){r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)})).catch((function(e){r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e)}))}return n.promise}},{key:\"leaderboardsShowNativePopup\",value:function(e){var t=this,r=this._getPromiseDecorator(y.LEADERBOARDS_SHOW_NATIVE_POPUP);if(!r){r=this._createPromiseDecorator(y.LEADERBOARDS_SHOW_NATIVE_POPUP);var n=function(){var e=document.createElement(\"div\");e.style.position=\"fixed\",e.style.top=\"0\",e.style.left=\"0\",e.style.width=\"100vw\",e.style.height=\"100vh\",e.style.backgroundColor=\"rgba(0, 0, 0, 0.5)\",e.style.display=\"flex\",e.style.justifyContent=\"center\",e.style.alignItems=\"center\",e.style.zIndex=\"9999\",e.id=\"loading-overlay\";var t=document.createElement(\"div\");return t.style.fontSize=\"24px\",t.style.color=\"#fff\",t.innerText=\"Loading...\",e.appendChild(t),e}();document.body.appendChild(n),this._platformSdk.globalLeaderboards.getTopEntriesAsync(e,20).then((function(e){var r=e.map((function(e){return{score:e.getScore(),sessionID:e.getPlayer().getSessionID()}})),o=t._platformSdk.overlayViews.createOverlayViewWithXMLString('\\n    <View style=\"position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center\" onTapEvent=\"close\">\\n        <View style=\"position: relative; background-color: #2E3C75;color: #fff;padding: 20px;border-radius: 10px;box-shadow: 0 0 10px #2E3C75;font-size: 24px;text-align: center;min-width: 250px;max-width: 30%;max-height: 80%;overflow: auto;flex-direction: column;justify-content: center;align-items: center;\">\\n            <View style=\"display: flex; flex-direction: column; align-items: center; justify-content: center;\" onTapEvent=\"leaderboard\">\\n                <For source=\"{{players}}\" itemName=\"player\">\\n                    <View style=\"display: flex;align-items: center;justify-content: space-between;width: 100%;gap: 10px;\">\\n                      <Image src=\"{{FBInstant.players[{{player.sessionID}}].photo}}\" style=\"width: 50px; height: 50px; border-radius: 50%\" />\\n                      <Text content=\"{{FBInstant.players[{{player.sessionID}}].name}}\" style=\"flex: 1; text-align: start;\" />\\n                      <Text content=\"{{player.score}}\" />\\n                    </View>\\n                </For>\\n            </View>\\n        </View>\\n    </View>\\n',\"\",{players:r},(function(e){e.showAsync(),t._overlay=e,n.remove(),t._resolvePromiseDecorator(y.LEADERBOARDS_SHOW_NATIVE_POPUP)}),(function(e,r){n.remove(),t._rejectPromiseDecorator(y.LEADERBOARDS_SHOW_NATIVE_POPUP,r)})).iframeElement;o.style.zIndex=9999,o.style.position=\"absolute\",o.style.top=0,o.style.left=0,o.style.height=\"100vh\",o.style.width=\"100vw\",o.style.border=0,o.id=o.name,document.body.appendChild(o)})).catch((function(e){n.remove(),t._rejectPromiseDecorator(y.LEADERBOARDS_SHOW_NATIVE_POPUP,e)}))}return r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);r||(r={id:e});var n=this._getPromiseDecorator(y.PURCHASE);return n||(n=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.payments.purchaseAsync({productID:r.platformProductId}).then((function(r){var n=Ns({id:e},r);delete n.productID,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),this._platformSdk.payments.consumePurchaseAsync(this._paymentsPurchases[r].purchaseToken).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(y.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),this._platformSdk.payments.getCatalogAsync().then((function(r){var n=t.map((function(e){var t=r.find((function(t){return t.productID===e.platformProductId}));return{id:e.id,title:t.title,description:t.description,imageURI:t.imageURI,price:t.price,priceCurrencyCode:t.priceCurrencyCode,priceValue:t.priceAmount}}));e._resolvePromiseDecorator(y.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),this._platformSdk.payments.getPurchasesAsync().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){var t=Ns({id:r.find((function(t){return t.id===e.productID})).id},e);return delete t.productID,t})),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}},{key:\"inviteFriends\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.image||!t.text)return Promise.reject();if(!Pe(t.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(y.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(y.INVITE_FRIENDS),this._platformSdk.inviteAsync(t).then((function(){e._resolvePromiseDecorator(y.INVITE_FRIENDS)})).catch((function(t){e._rejectPromiseDecorator(y.INVITE_FRIENDS,t)}))),r.promise}},{key:\"joinCommunity\",value:function(e){var t=this,r=this._getPromiseDecorator(y.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(y.JOIN_COMMUNITY),e&&!0===e.isPage?this._platformSdk.community.followOfficialPageAsync().then((function(e){return t._resolvePromiseDecorator(y.JOIN_COMMUNITY,e)})).catch((function(e){return t._rejectPromiseDecorator(y.JOIN_COMMUNITY,e)})):this._platformSdk.community.joinOfficialGroupAsync().then((function(e){return t._resolvePromiseDecorator(y.JOIN_COMMUNITY,e)})).catch((function(e){return t._rejectPromiseDecorator(y.JOIN_COMMUNITY,e)}))),r.promise}},{key:\"share\",value:function(e){var t=this;if(!e.image||!e.text)return Promise.reject();if(!Pe(e.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(y.SHARE);return r||(r=this._createPromiseDecorator(y.SHARE),this._platformSdk.shareAsync(Ns({intent:\"REQUEST\"},e)).then((function(){t._resolvePromiseDecorator(y.SHARE)})).catch((function(e){t._rejectPromiseDecorator(y.SHARE,e)}))),r.promise}}],n&&Ms(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),d}(mn);function sc(e){return sc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},sc(e)}function cc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,uc(n.key),n)}}function uc(e){var t=function(e,t){if(\"object\"!=sc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=sc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==sc(t)?t:String(t)}var lc,fc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r;return t=e,r=[{key:\"send\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"*\";window.parent&&window.parent.postMessage(e,t)}},{key:\"addListener\",value:function(e){window.addEventListener(\"message\",e)}},{key:\"removeListener\",value:function(e){window.removeEventListener(\"message\",e)}},{key:\"generateMessageId\",value:function(){return\"\".concat(Date.now(),\"-\").concat(Math.random())}}],r&&cc(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(r),!0).forEach((function(t){Pc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hc(e){return hc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},hc(e)}function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,wc(n.key),n)}}function vc(e,t){return vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vc(e,t)}function _c(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function gc(e,t){Ec(e,t),t.add(e)}function Sc(){return Sc=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bc(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Sc.apply(this,arguments)}function bc(e){return bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bc(e)}function Ec(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Pc(e,t,r){return(t=wc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wc(e){var t=function(e,t){if(\"object\"!=hc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=hc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==hc(t)?t:String(t)}function Ac(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Oc(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var kc=\"banner\",Tc=\"get_data_from_storage\",Dc=\"get_server_time\",Ic=\"clipboard_read\",Rc=\"unlock_achievement\",Lc=\"get_achievements\",jc=\"get_performance_resources\",Cc=\"isLocalStorageSupported\",Nc=\"isPlatformInternalStorageSupported\",Gc=\"isBannerSupported\",Bc=new WeakMap,Mc=new WeakSet,Hc=new WeakSet,Fc=function(r){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&vc(e,t)}(m,r);var n,o,c,l,d=(c=m,l=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bc(c);if(l){var r=bc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===hc(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return _c(e)}(this,e)});function m(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,m);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return gc(_c(e=d.call.apply(d,[this].concat(i))),Hc),gc(_c(e),Mc),Pc(_c(e),\"_supportedFeatures\",[]),Pc(_c(e),\"_leaderboardsType\",null),t=_c(e),r=Bc,n={writable:!0,value:new fc},Ec(t,r),r.set(t,n),e}return n=m,(o=[{key:\"platformId\",get:function(){return e.QA_TOOL}},{key:\"platformLanguage\",get:function(){return Oc(this,Bc).send({type:t.PLATFORM,action:\"get_language\",options:{language:this._platformLanguage}}),this._platformLanguage}},{key:\"platformTld\",get:function(){return this._platformTld}},{key:\"deviceType\",get:function(){return this._deviceType}},{key:\"platformPayload\",get:function(){return this._platformPayload}},{key:\"isPlayerAuthorizationSupported\",get:function(){return this._supportedFeatures.includes(\"isPlayerAuthorizationSupported\")}},{key:\"isBannerSupported\",get:function(){return this._supportedFeatures.includes(Gc)}},{key:\"isInterstitialSupported\",get:function(){return this._supportedFeatures.includes(\"isInterstitialSupported\")}},{key:\"isRewardedSupported\",get:function(){return this._supportedFeatures.includes(\"isRewardedSupported\")}},{key:\"isAchievementsSupported\",get:function(){return this._supportedFeatures.includes(\"isAchievementsSupported\")}},{key:\"isGetAchievementsListSupported\",get:function(){return this.isAchievementsSupported&&this._supportedFeatures.includes(\"isGetAchievementsListSupported\")}},{key:\"isAchievementsNativePopupSupported\",get:function(){return this.isAchievementsSupported&&this._supportedFeatures.includes(\"isAchievementsNativePopupSupported\")}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedFeatures.includes(\"isInviteFriendsSupported\")}},{key:\"isJoinCommunitySupported\",get:function(){return this._supportedFeatures.includes(\"isJoinCommunitySupported\")}},{key:\"isShareSupported\",get:function(){return this._supportedFeatures.includes(\"isShareSupported\")}},{key:\"isCreatePostSupported\",get:function(){return this._supportedFeatures.includes(\"isCreatePostSupported\")}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToHomeScreenSupported\")}},{key:\"isAddToFavoritesSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToFavoritesSupported\")}},{key:\"isRateSupported\",get:function(){return this._supportedFeatures.includes(\"isRateSupported\")}},{key:\"isPaymentsSupported\",get:function(){return this._supportedFeatures.includes(\"isPaymentsSupported\")}},{key:\"isRemoteConfigSupported\",get:function(){return this._supportedFeatures.includes(\"isRemoteConfigSupported\")}},{key:\"isClipboardSupported\",get:function(){return this._supportedFeatures.includes(\"isClipboardSupported\")}},{key:\"leaderboardsType\",get:function(){var e;return null!==(e=this._leaderboardsType)&&void 0!==e?e:p}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var r=this._getPromiseDecorator(y.INITIALIZE);return r||(r=this._createPromiseDecorator(y.INITIALIZE),this._defaultStorageType=u.PLATFORM_INTERNAL,Oc(this,Bc).addListener((function(r){var n=r.data;if(null!=n&&n.type&&n.type===t.PLATFORM&&(n.action===y.INITIALIZE&&Ac(e,Mc,xc).call(e,n),n.action===jc)){var o,i=Oc(e,Bc).generateMessageId(),a=(null==n||null===(o=n.options)||void 0===o?void 0:o.resources)||[];Ac(e,Hc,Uc).call(e,i,a)}})),Oc(this,Bc).send({type:t.PLATFORM,action:y.INITIALIZE})),r.promise}},{key:\"authorizePlayer\",value:function(e){var r=this;if(!this.isPlayerAuthorizationSupported)return Promise.reject();var n=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);if(!n){n=this._createPromiseDecorator(y.AUTHORIZE_PLAYER);var o=Oc(this,Bc).generateMessageId();Oc(this,Bc).addListener((function e(n){var i,a=n.data;if((null==a?void 0:a.type)===t.PLAYER&&a.action===y.AUTHORIZE_PLAYER&&a.id===o){var s=a.player,c=a.auth;\"success\"===c.status?(r._playerId=s.userId,r._isPlayerAuthorized=s.isAuthorized,r._playerName=s.name,Array.isArray(s.photos)&&(r._playerPhotos=function(e){if(Array.isArray(e))return yc(e)}(i=s.photos)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(i)||function(e,t){if(e){if(\"string\"==typeof e)return yc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yc(e,t):void 0}}(i)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),r._playerExtra=s,r._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)):r._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,c.error),Oc(r,Bc).removeListener(e)}})),Oc(this,Bc).send({type:t.PLAYER,action:y.AUTHORIZE_PLAYER,id:o,options:e})}return n.promise}},{key:\"sendMessage\",value:function(e){return[f.GAME_READY,f.IN_GAME_LOADING_STARTED,f.IN_GAME_LOADING_STOPPED,f.GAMEPLAY_STARTED,f.GAMEPLAY_STOPPED,f.PLAYER_GOT_ACHIEVEMENT,f.GAME_OVER].includes(e)?(Oc(this,Bc).send({type:t.PLATFORM,action:e}),Promise.resolve()):Sc(bc(m.prototype),\"sendMessage\",this).call(this,e)}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(r,n){var o,i=Oc(e,Bc).generateMessageId(),a=function a(s){var c=s.data;if((null==c?void 0:c.type)===t.PLATFORM&&c.action===Dc&&c.id===i){if(!c.time)return void n(new Error(\"Invalid server time\"));clearTimeout(o),r(c.time),Oc(e,Bc).removeListener(a)}};Oc(e,Bc).addListener(a),Oc(e,Bc).send({type:t.PLATFORM,action:Dc,id:i}),o=setTimeout((function(){n(new Error(\"Server time request timeout\")),Oc(e,Bc).removeListener(a)}),5e3)}))}},{key:\"isStorageSupported\",value:function(e){return Oc(this,Bc).send({type:t.STORAGE,action:\"is_storage_supported\",options:{storageType:e}}),!(e!==u.PLATFORM_INTERNAL||!this._supportedFeatures.includes(Nc))||!(e!==u.LOCAL_STORAGE||!this._supportedFeatures.includes(Cc))}},{key:\"isStorageAvailable\",value:function(e){return Oc(this,Bc).send({type:t.STORAGE,action:\"is_storage_available\",options:{storageType:e}}),!(e!==u.PLATFORM_INTERNAL||!this._supportedFeatures.includes(Nc))||!(e!==u.LOCAL_STORAGE||!this._supportedFeatures.includes(Cc))}},{key:\"getDataFromStorage\",value:function(e,r,n){var o=this;if(!this.isStorageSupported(r))return Promise.reject(v);if(r===u.PLATFORM_INTERNAL||r===u.LOCAL_STORAGE){var i=Oc(this,Bc).generateMessageId();return new Promise((function(a){Oc(o,Bc).addListener((function r(n){var s=n.data;(null==s?void 0:s.type)===t.STORAGE&&s.action===Tc&&s.id===i&&(Array.isArray(e)?a(e.map((function(e){return s.storage[e]}))):a(s.storage[e]),Oc(o,Bc).removeListener(r))})),Oc(o,Bc).send({type:t.STORAGE,action:Tc,id:i,options:{key:e,storageType:r,tryParseJson:n}})}))}return Oc(this,Bc).send({type:t.STORAGE,action:Tc,options:{key:e,storageType:r,tryParseJson:n}}),Sc(bc(m.prototype),\"getDataFromStorage\",this).call(this,e,r,n)}},{key:\"setDataToStorage\",value:function(e,r,n){return Oc(this,Bc).send({type:t.STORAGE,action:\"set_data_to_storage\",options:{key:e,value:r,storageType:n}}),this.isStorageSupported(n)?n===u.PLATFORM_INTERNAL||n===u.LOCAL_STORAGE?Promise.resolve():Sc(bc(m.prototype),\"setDataToStorage\",this).call(this,e,r,n):Promise.reject(v)}},{key:\"deleteDataFromStorage\",value:function(e,r){return Oc(this,Bc).send({type:t.STORAGE,action:\"delete_data_from_storage\",options:{key:e,storageType:r}}),this.isStorageSupported(r)?r===u.PLATFORM_INTERNAL||r===u.LOCAL_STORAGE?Promise.resolve():Sc(bc(m.prototype),\"deleteDataFromStorage\",this).call(this,e,r):Promise.reject(v)}},{key:\"showInterstitial\",value:function(e){var r=this;this.isInterstitialSupported&&(Oc(this,Bc).addListener((function e(n){var o=n.data;if((null==o?void 0:o.type)===t.ADVERTISEMENT)switch(o.payload.status){case\"start\":r._setInterstitialState(i.LOADING);break;case\"open\":r._setInterstitialState(i.OPENED);break;case\"failed\":r._setInterstitialState(i.FAILED);break;case\"close\":r._setInterstitialState(i.CLOSED),Oc(r,Bc).removeListener(e)}})),Oc(this,Bc).send({type:t.ADVERTISEMENT,action:\"interstitial\",options:{placement:e}}))}},{key:\"showRewarded\",value:function(e){var r=this;this.isRewardedSupported&&(Oc(this,Bc).addListener((function e(n){var o=n.data;if((null==o?void 0:o.type)===t.ADVERTISEMENT)switch(o.payload.status){case\"start\":r._setRewardedState(a.LOADING);break;case\"open\":r._setRewardedState(a.OPENED);break;case\"failed\":r._setRewardedState(a.FAILED);break;case\"rewarded\":r._setRewardedState(a.REWARDED);break;case\"close\":r._setRewardedState(a.CLOSED),Oc(r,Bc).removeListener(e)}})),Oc(this,Bc).send({type:t.ADVERTISEMENT,action:\"reward\",options:{placement:e}}))}},{key:\"showBanner\",value:function(e,r){this.isBannerSupported&&(this._setBannerState(s.SHOWN),Oc(this,Bc).send({type:t.ADVERTISEMENT,action:s.SHOWN,options:{type:kc,position:e,placement:r}}))}},{key:\"hideBanner\",value:function(){this.isBannerSupported&&(this._setBannerState(s.HIDDEN),Oc(this,Bc).send({type:t.ADVERTISEMENT,action:s.HIDDEN,options:{type:kc}}))}},{key:\"checkAdBlock\",value:function(){return Oc(this,Bc).send({type:\"check_adblock\",action:y.ADBLOCK_DETECT}),Sc(bc(m.prototype),\"checkAdBlock\",this).call(this)}},{key:\"inviteFriends\",value:function(){if(!this.isInviteFriendsSupported)return Promise.reject();var e=this._getPromiseDecorator(y.INVITE_FRIENDS);return e||(e=this._createPromiseDecorator(y.INVITE_FRIENDS),this._resolvePromiseDecorator(y.INVITE_FRIENDS),Oc(this,Bc).send({type:t.SOCIAL,action:y.INVITE_FRIENDS})),e.promise}},{key:\"joinCommunity\",value:function(){if(!this.isJoinCommunitySupported)return Promise.reject();var e=this._getPromiseDecorator(y.JOIN_COMMUNITY);return e||(e=this._createPromiseDecorator(y.JOIN_COMMUNITY),this._resolvePromiseDecorator(y.JOIN_COMMUNITY),Oc(this,Bc).send({type:t.SOCIAL,action:y.JOIN_COMMUNITY})),e.promise}},{key:\"share\",value:function(){if(!this.isShareSupported)return Promise.reject();var e=this._getPromiseDecorator(y.SHARE);return e||(e=this._createPromiseDecorator(y.SHARE),this._resolvePromiseDecorator(y.SHARE),Oc(this,Bc).send({type:t.SOCIAL,action:y.SHARE})),e.promise}},{key:\"createPost\",value:function(){if(!this.isCreatePostSupported)return Promise.reject();var e=this._getPromiseDecorator(y.CREATE_POST);return e||(e=this._createPromiseDecorator(y.CREATE_POST),this._resolvePromiseDecorator(y.CREATE_POST),Oc(this,Bc).send({type:t.SOCIAL,action:y.CREATE_POST})),e.promise}},{key:\"addToHomeScreen\",value:function(){if(!this.isAddToHomeScreenSupported)return Promise.reject();var e=this._getPromiseDecorator(y.ADD_TO_HOME_SCREEN);return e||(e=this._createPromiseDecorator(y.ADD_TO_HOME_SCREEN),this._resolvePromiseDecorator(y.ADD_TO_HOME_SCREEN),Oc(this,Bc).send({type:t.SOCIAL,action:y.ADD_TO_HOME_SCREEN})),e.promise}},{key:\"addToFavorites\",value:function(){if(!this.isAddToFavoritesSupported)return Promise.reject();var e=this._getPromiseDecorator(y.ADD_TO_FAVORITES);return e||(e=this._createPromiseDecorator(y.ADD_TO_FAVORITES),this._resolvePromiseDecorator(y.ADD_TO_FAVORITES),Oc(this,Bc).send({type:t.SOCIAL,action:y.ADD_TO_FAVORITES})),e.promise}},{key:\"rate\",value:function(){if(!this.isRateSupported)return Promise.reject();var e=this._getPromiseDecorator(y.RATE);return e||(e=this._createPromiseDecorator(y.RATE),this._resolvePromiseDecorator(y.RATE),Oc(this,Bc).send({type:t.SOCIAL,action:y.RATE})),e.promise}},{key:\"paymentsPurchase\",value:function(e){var r=this;if(!this.isPaymentsSupported)return Promise.reject();var n=this._paymentsGetProductPlatformData(e);if(!n)return Promise.reject();var o=this._getPromiseDecorator(y.PURCHASE);if(!o){o=this._createPromiseDecorator(y.PURCHASE);var i=Oc(this,Bc).generateMessageId();Oc(this,Bc).addListener((function n(o){var a=o.data;if((null==a?void 0:a.type)===t.PAYMENTS&&a.action===y.PURCHASE&&a.id===i){var s;if(!a.purchase||\"object\"!==hc(a.purchase))return r._rejectPromiseDecorator(y.PURCHASE,new Error(\"Invalid purchase\")),void Oc(r,Bc).removeListener(n);if(null!==(s=a.purchase)&&void 0!==s&&s.status){var c=dc({id:e},a.purchase.purchaseData);r._paymentsPurchases.push(c),r._resolvePromiseDecorator(y.PURCHASE,c)}else{var u;r._rejectPromiseDecorator(y.PURCHASE,(null===(u=a.purchase)||void 0===u?void 0:u.error)||new Error(\"Unknown purchase error\"))}Oc(r,Bc).removeListener(n)}})),Oc(this,Bc).send({type:t.PAYMENTS,action:y.PURCHASE,id:i,options:{product:n}})}return o.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var r=this;if(!this.isPaymentsSupported)return Promise.reject();var n=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(n<0)return Promise.reject();var o=this._getPromiseDecorator(y.CONSUME_PURCHASE);if(!o){o=this._createPromiseDecorator(y.CONSUME_PURCHASE);var i=Oc(this,Bc).generateMessageId();Oc(this,Bc).addListener((function o(a){var s=a.data;if((null==s?void 0:s.type)===t.PAYMENTS&&s.action===y.CONSUME_PURCHASE&&s.id===i){var c;if(!s.purchase||\"object\"!==hc(s.purchase))return r._rejectPromiseDecorator(y.CONSUME_PURCHASE,new Error(\"Invalid purchase\")),void Oc(r,Bc).removeListener(o);if(null!==(c=s.purchase)&&void 0!==c&&c.status){var u=dc({id:e},s.purchase);r._paymentsPurchases.splice(n,1),r._resolvePromiseDecorator(y.CONSUME_PURCHASE,u)}else{var l;r._rejectPromiseDecorator(y.CONSUME_PURCHASE,(null===(l=s.purchase)||void 0===l?void 0:l.error)||new Error(\"Unknown consume purchase error\"))}Oc(r,Bc).removeListener(o)}})),Oc(this,Bc).send({type:t.PAYMENTS,action:y.CONSUME_PURCHASE,id:i,options:{product:this._paymentsPurchases[n]}})}return o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this;if(!this.isPaymentsSupported)return Promise.reject();var r=this._getPromiseDecorator(y.GET_CATALOG);if(!r){r=this._createPromiseDecorator(y.GET_CATALOG);var n=this._paymentsGetProductsPlatformData(),o=Oc(this,Bc).generateMessageId();Oc(this,Bc).addListener((function r(i){var a=i.data;if((null==a?void 0:a.type)===t.PAYMENTS&&a.action===y.GET_CATALOG&&a.id===o){var s=n.map((function(e){return{id:e.id,price:\"\".concat(e.amount,\" Gam\"),priceCurrencyCode:\"Gam\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:e.amount}}));Oc(e,Bc).removeListener(r),e._resolvePromiseDecorator(y.GET_CATALOG,s)}})),Oc(this,Bc).send({type:t.PAYMENTS,action:y.GET_CATALOG,id:o})}return r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this;if(!this.isPaymentsSupported)return Promise.reject();var r=this._getPromiseDecorator(y.GET_PURCHASES);if(!r){r=this._createPromiseDecorator(y.GET_PURCHASES);var n=Oc(this,Bc).generateMessageId();Oc(this,Bc).addListener((function r(o){var i=o.data;if((null==i?void 0:i.type)===t.PAYMENTS&&i.action===y.GET_PURCHASES&&i.id===n){var a=e._paymentsGetProductsPlatformData();e._paymentsPurchases=i.purchases.map((function(e){return dc({id:a.find((function(t){return t.id===e.id})).id},e.purchaseData)})),Oc(e,Bc).removeListener(r),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)}})),Oc(this,Bc).send({type:t.PAYMENTS,action:y.GET_PURCHASES,id:n})}return r.promise}},{key:\"getRemoteConfig\",value:function(){var e=this;if(!this.isRemoteConfigSupported)return Promise.reject();var r=this._getPromiseDecorator(y.GET_REMOTE_CONFIG);if(!r){r=this._createPromiseDecorator(y.GET_REMOTE_CONFIG);var n=Oc(this,Bc).generateMessageId();Oc(this,Bc).addListener((function r(o){var i=o.data;(null==i?void 0:i.type)===t.REMOTE_CONFIG&&i.action===y.GET_REMOTE_CONFIG&&i.id===n&&(e._resolvePromiseDecorator(y.GET_REMOTE_CONFIG,i.result),Oc(e,Bc).removeListener(r))})),Oc(this,Bc).send({type:t.REMOTE_CONFIG,action:y.GET_REMOTE_CONFIG,id:n})}return r.promise}},{key:\"clipboardWrite\",value:function(e){var r=this;if(!this.isClipboardSupported)return Promise.reject();var n=this._getPromiseDecorator(y.CLIPBOARD_WRITE);if(!n){n=this._createPromiseDecorator(y.CLIPBOARD_WRITE);var o=Oc(this,Bc).generateMessageId();Oc(this,Bc).addListener((function e(n){var i=n.data;(null==i?void 0:i.type)===t.CLIPBOARD&&i.action===y.CLIPBOARD_WRITE&&i.id===o&&(r._resolvePromiseDecorator(y.CLIPBOARD_WRITE,!0),Oc(r,Bc).removeListener(e))})),Oc(this,Bc).send({type:t.CLIPBOARD,action:y.CLIPBOARD_WRITE,id:o,options:{text:e}})}return n.promise}},{key:\"clipboardRead\",value:function(){var e=this;if(!this.isClipboardSupported)return Promise.reject();var r=this._getPromiseDecorator(Ic);if(!r){r=this._createPromiseDecorator(Ic);var n=Oc(this,Bc).generateMessageId();Oc(this,Bc).addListener((function r(o){var i=o.data;if((null==i?void 0:i.type)===t.CLIPBOARD&&i.action===Ic&&i.id===n){var a=i.text;e._resolvePromiseDecorator(Ic,a),Oc(e,Bc).removeListener(r)}})),Oc(this,Bc).send({type:t.CLIPBOARD,action:Ic,id:n,options:{}})}return r.promise}},{key:\"leaderboardsSetScore\",value:function(e,r){if(this.leaderboardsType===p)return Promise.reject(new Error(\"Leaderboards are not available\"));var n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var o={id:e,score:r};Oc(this,Bc).send({type:t.LEADERBOARDS,action:y.LEADERBOARDS_SET_SCORE,options:o}),this._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var r=this;if(this.leaderboardsType===p||this.leaderboardsType===h)return Promise.reject(new Error(\"Leaderboards are not available\"));var n=this._getPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);var o=Oc(this,Bc).generateMessageId();Oc(this,Bc).addListener((function e(n){var i=n.data;(null==i?void 0:i.type)===t.LEADERBOARDS&&i.action===y.LEADERBOARDS_GET_ENTRIES&&i.id===o?(r._resolvePromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,i.entries),Oc(r,Bc).removeListener(e)):r._rejectPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES)})),Oc(this,Bc).send({type:t.LEADERBOARDS,action:y.LEADERBOARDS_GET_ENTRIES,id:o,options:{id:e}})}return n.promise}},{key:\"unlockAchievement\",value:function(e){var r=this;return this.isAchievementsSupported?new Promise((function(n){var o=Oc(r,Bc).generateMessageId();Oc(r,Bc).addListener((function e(i){var a=i.data;(null==a?void 0:a.type)===t.ACHIEVEMENTS&&a.action===Rc&&a.id===o&&(n(a.result),Oc(r,Bc).removeListener(e))})),Oc(r,Bc).send({type:t.ACHIEVEMENTS,action:Rc,id:o,options:e})})):Promise.reject()}},{key:\"getAchievementsList\",value:function(e){var r=this;return this.isGetAchievementsListSupported?new Promise((function(n){var o=Oc(r,Bc).generateMessageId();Oc(r,Bc).addListener((function e(i){var a=i.data;(null==a?void 0:a.type)===t.ACHIEVEMENTS&&a.action===Lc&&a.id===o&&(n(a.result),Oc(r,Bc).removeListener(e))})),Oc(r,Bc).send({type:t.ACHIEVEMENTS,action:Lc,id:o,options:e})})):Promise.reject()}},{key:\"showAchievementsNativePopup\",value:function(){return this.isAchievementsNativePopupSupported?(Oc(this,Bc).send({type:t.ACHIEVEMENTS,action:\"show_achievements_native_popup\"}),Promise.resolve()):Promise.reject()}},{key:\"_paymentsGetProductsPlatformData\",value:function(){return this._options.payments?this._options.payments.map((function(e){return dc({id:e.id},e.playgama)})):[]}},{key:\"_paymentsGetProductPlatformData\",value:function(e){var t=this._options.payments;if(!t)return null;var r=t.find((function(t){return t.id===e}));return r?dc({id:r.id},r.playgama):null}}])&&mc(n.prototype,o),Object.defineProperty(n,\"prototype\",{writable:!1}),m}(mn);function xc(e){var t,r,n,o;this._supportedFeatures=e.supportedFeatures||[],this._isBannerSupported=this._supportedFeatures.includes(Gc);var i=e.config,a=void 0===i?{}:i;this._deviceType=null!==(t=a.deviceType)&&void 0!==t?t:Sc(bc(lc.prototype),\"deviceType\",this),this._platformLanguage=a.platformLanguage?a.platformLanguage.toLowerCase():Sc(bc(lc.prototype),\"platformLanguage\",this),this._platformTld=null!==(r=a.platformTld)&&void 0!==r?r:Sc(bc(lc.prototype),\"platformTld\",this),this._platformPayload=null!==(n=a.platformPayload)&&void 0!==n?n:Sc(bc(lc.prototype),\"platformPayload\",this),this._leaderboardsType=null!==(o=a.leaderboardsType)&&void 0!==o?o:p,this._paymentsPurchases=e.purchases||[],this._isInitialized=!0,this._resolvePromiseDecorator(y.INITIALIZE),Oc(this,Bc).send({type:\"liveness\",action:\"ping\",options:{version:\"1.26.0\"}})}function Uc(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(r)?r:[],o=performance.getEntriesByType(\"resource\")||[],i=n.length>0?n:[\"name\",\"initiatorType\"],a=o.map((function(e){var t={};return i.forEach((function(r){r in e&&(t[r]=e[r])})),t}));return Oc(this,Bc).send({type:t.PLATFORM,action:jc,id:e,options:{resources:a}}),Promise.resolve(o)}lc=Fc;const Vc=Fc;function Wc(e){return Wc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Wc(e)}function zc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Zc(n.key),n)}}function Zc(e){var t=function(e,t){if(\"object\"!=Wc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Wc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Wc(t)?t:String(t)}function Yc(){return Yc=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kc(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Yc.apply(this,arguments)}function Jc(e,t){return Jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jc(e,t)}function Kc(e){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kc(e)}const qc=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Jc(e,t)}(u,t);var r,n,o,s,c=(o=u,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kc(o);if(s){var r=Kc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Wc(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u),c.apply(this,arguments)}return r=u,(n=[{key:\"platformId\",get:function(){return e.POKI}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"https://game-cdn.poki.com/scripts/v2/poki-sdk.js\").then((function(){Ee(\"PokiSDK\",\"init\").then((function(){e._platformSdk=window.PokiSDK,e._platformSdk.init().then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case f.GAME_READY:return this._platformSdk.gameLoadingFinished(),Promise.resolve();case f.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case f.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();default:return Yc(Kc(u.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"showInterstitial\",value:function(){var e=this,t=!1;this._platformSdk.commercialBreak((function(){t=!0,e._setInterstitialState(i.OPENED)})).then((function(){t?e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)})).catch((function(t){e._setInterstitialState(i.FAILED,t)}))}},{key:\"showRewarded\",value:function(){var e=this,t=!1;this._platformSdk.rewardedBreak((function(){t=!0,e._setRewardedState(a.OPENED)})).then((function(r){t?(r&&e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)})).catch((function(t){e._setRewardedState(a.FAILED,t)}))}}])&&zc(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(mn);function Xc(e){return Xc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Xc(e)}function Qc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=tu(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,tu(n.key),n)}}function tu(e){var t=function(e,t){if(\"object\"!=Xc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Xc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Xc(t)?t:String(t)}function ru(e,t){return ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ru(e,t)}function nu(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ou(e)}function iu(e,t){su(e,t),t.add(e)}function au(e,t,r){su(e,t),t.set(e,r)}function su(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function cu(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,fu(e,t,\"set\"),r),r}function uu(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function lu(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,fu(e,t,\"get\"))}function fu(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var pu=new WeakMap,du=new WeakMap,hu=new WeakSet,yu=new WeakSet,mu=new WeakSet;function vu(){var e=this;return lu(this,pu)?new Promise((function(t){lu(e,pu).requestOutOfPageAd(\"interstitial\").then((function(r){switch(r.state){case\"empty\":return void e._advertisementShowErrorPopup(!1).then((function(){return t()}));case\"ready\":e._setInterstitialState(i.OPENED),r.show()}r.addEventListener(\"ready\",(function(){e._setInterstitialState(i.OPENED),r.show()})),r.addEventListener(\"empty\",(function(){e._advertisementShowErrorPopup(!1).then((function(){return t()}))})),r.addEventListener(\"closed\",(function(){e._setInterstitialState(i.CLOSED),t()}))}))})):this._advertisementShowErrorPopup(!1)}function _u(){var e=this;return lu(this,pu)?new Promise((function(t){lu(e,pu).requestOutOfPageAd(\"rewarded\").then((function(r){switch(r.state){case\"empty\":return void e._advertisementShowErrorPopup(!0).then((function(){return t()}));case\"ready\":e._setRewardedState(a.OPENED),r.show()}r.addEventListener(\"ready\",(function(){e._setRewardedState(a.OPENED),r.show()})),r.addEventListener(\"rewarded\",(function(){e._setRewardedState(a.REWARDED)})),r.addEventListener(\"empty\",(function(){e._advertisementShowErrorPopup(!0).then((function(){return t()}))})),r.addEventListener(\"closed\",(function(){e._setRewardedState(a.CLOSED),t()}))}))})):this._advertisementShowErrorPopup(!0)}function gu(e){e?(this._isPlayerAuthorized=!0,this._playerId=e.playerId,this._playerName=e.playerDisplayName,this._playerExtra=e,cu(this,du,\"personal\"===e.userAccountType.toLowerCase())):this._playerApplyGuestData()}const Su=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ru(e,t)}(l,t);var r,n,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ou(o);if(c){var r=ou(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Xc(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return nu(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return iu(nu(e=u.call.apply(u,[this].concat(r))),mu),iu(nu(e),yu),iu(nu(e),hu),au(nu(e),pu,{writable:!0,value:null}),au(nu(e),du,{writable:!0,value:!1}),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.MSN}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return h}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return lu(this,du)}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);if(!t){var r;t=this._createPromiseDecorator(y.INITIALIZE),Se(\"https://assets.msn.com/staticsb/statics/latest/msstart-games-sdk/msstart-v1.0.0-rc.20.min.js\").then((function(){return Ee(\"$msstart\")})).then((function(){e._platformSdk=window.$msstart,e._platformSdk.getSignedInUserAsync().then((function(t){uu(e,mu,gu).call(e,t)})).catch((function(){uu(e,mu,gu).call(e,null)})).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}));var n=null===(r=this._options)||void 0===r||null===(r=r.advertisement)||void 0===r?void 0:r.backfillId;n&&Se(\"https://playgama.com/ads/msn.v0.1.js\").then((function(){return Ee(\"pgAds\")})).then((function(){window.pgAds.init(n).then((function(){cu(e,pu,window.pgAds);var t=e._options.gameId;lu(e,pu).updateTargeting({gameId:t})}))}))}return t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(t,r){e._platformSdk.signInAsync().then((function(r){uu(e,mu,gu).call(e,r),t()})).catch((function(t){uu(e,mu,gu).call(e,null),r(t)}))}))}},{key:\"share\",value:function(e){var t=this;return new Promise((function(r,n){t._platformSdk.shareAsync(e).then(r).catch(n)}))}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;return new Promise((function(e,n){r._platformSdk.submitGameResultsAsync(t).then(e).catch(n)}))}},{key:\"showBanner\",value:function(e){var t,r=this;t=\"top\"===e?\"top:728x90\":\"bottom:320x50\",this._platformSdk.showDisplayAdsAsync([t]).then((function(){r._setBannerState(s.SHOWN)})).catch((function(){r._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.hideDisplayAdsAsync().then((function(){e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.loadAdsAsync(!1).then((function(t){return e._platformSdk.showAdsAsync(t.instanceId)})).then((function(t){return e._setInterstitialState(i.OPENED),t.showAdsCompletedAsync})).then((function(){return e._setInterstitialState(i.CLOSED)})).catch((function(){return uu(e,hu,vu).call(e)}))}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.loadAdsAsync(!0).then((function(t){return e._platformSdk.showAdsAsync(t.instanceId)})).then((function(t){return e._setRewardedState(a.OPENED),t.showAdsCompletedAsync})).then((function(){e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)})).catch((function(){return uu(e,yu,_u).call(e)}))}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();var n=this._getPromiseDecorator(y.PURCHASE);return n||(n=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.iap.purchaseAsync({productId:r.platformProductId}).then((function(r){if(\"IAP_PURCHASE_FAILURE\"!==r.code){var n=$c($c({id:e},r.receipt),{},{receiptSignature:r.receiptSignature});delete n.productId,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)}else t._rejectPromiseDecorator(y.PURCHASE,r.description)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),this._platformSdk.iap.consumeAsync({productId:this._paymentsPurchases[r].id}).then((function(n){if(\"IAP_CONSUME_FAILURE\"!==n.code){t._paymentsPurchases.splice(r,1);var o=$c($c({id:e},n.consumptionReceipt),{},{consumptionSignature:n.consumptionSignature});delete o.productId,t._resolvePromiseDecorator(y.CONSUME_PURCHASE,o)}else t._rejectPromiseDecorator(y.CONSUME_PURCHASE,n.description)})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),this._platformSdk.iap.getAllAddOnsAsync({productId:this._options.gameId}).then((function(r){if(\"IAP_GET_ALL_ADD_ONS_FAILURE\"!==r.code){var n=t.map((function(e){var t=r.find((function(t){return t.productId===e.platformProductId}));return{id:e.id,title:t.title,description:t.description,publisherName:t.publisherName,inAppOfferToken:t.inAppOfferToken,isConsumable:t.isConsumable,price:\"\".concat(t.price.listPrice,\" \").concat(t.price.currencyCode,\" \"),priceCurrencyCode:t.price.currencyCode,priceValue:t.price.listPrice}}));e._resolvePromiseDecorator(y.GET_CATALOG,n)}else e._rejectPromiseDecorator(y.GET_CATALOG,r.description)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),this._platformSdk.iap.getAllPurchasesAsync({productId:this._options.gameId}).then((function(t){if(\"IAP_GET_ALL_PURCHASES_FAILURE\"!==t.code){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.receipts.map((function(e){var n=$c($c({id:r.find((function(t){return t.id===e.productId})).id},e),{},{receiptSignature:t.receiptSignature});return delete n.productId,n})),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)}else e._rejectPromiseDecorator(y.GET_PURCHASES,t.description)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}}])&&eu(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function bu(e){return bu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},bu(e)}function Eu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eu(Object(r),!0).forEach((function(t){Iu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ru(n.key),n)}}function Au(){return Au=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tu(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Au.apply(this,arguments)}function Ou(e,t){return Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ou(e,t)}function ku(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Tu(e){return Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tu(e)}function Du(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Iu(e,t,r){return(t=Ru(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ru(e){var t=function(e,t){if(\"object\"!=bu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=bu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==bu(t)?t:String(t)}function Lu(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var ju=new WeakSet,Cu=new WeakSet,Nu=new WeakSet,Gu=new WeakSet,Bu=new WeakSet,Mu=new WeakSet,Hu=new WeakSet,Fu=new WeakSet,xu=new WeakSet,Uu=new WeakSet,Vu=new WeakSet,Wu=new WeakSet,zu=new WeakSet;function Zu(e,t){window.system&&window.system.postMessage(JSON.stringify({action:e,data:t}))}function Yu(){if(window.system){var e=this;window.system.onmessage=function(t){try{var r=JSON.parse(t),n=r.action,o=r.data;n===y.INITIALIZE?Lu(e,Nu,Ju).call(e,o):n===y.AUTHORIZE_PLAYER?Lu(e,Gu,Ku).call(e,o):n===y.SET_INTERSTITIAL_STATE?Lu(e,Bu,qu).call(e,o):n===y.SET_REWARDED_STATE?Lu(e,Mu,Xu).call(e,o):n===y.GET_CATALOG?Lu(e,Hu,Qu).call(e,o):n===y.PURCHASE?Lu(e,Fu,$u).call(e,o):n===y.CONSUME_PURCHASE?Lu(e,xu,el).call(e,o):n===y.GET_PURCHASES?Lu(e,Uu,tl).call(e,o):n===y.GET_STORAGE_DATA?Lu(e,Vu,rl).call(e,o):n===y.SET_STORAGE_DATA?Lu(e,Wu,nl).call(e,o):n===y.DELETE_STORAGE_DATA&&Lu(e,zu,ol).call(e,o)}catch(e){console.error(\"Error parsing Huawei message:\",e)}}}}function Ju(e){e.success?(this._isInitialized=!0,this._resolvePromiseDecorator(y.INITIALIZE,e)):this._rejectPromiseDecorator(y.INITIALIZE,new Error(e))}function Ku(e){if(!e.success)return this._playerApplyGuestData(),void this._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,new Error(e));this._playerId=e.playerId,this._playerName=e.playerName,this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}function qu(e){Object.values(i).includes(e.state)&&this._setInterstitialState(e.state,e.state===i.FAILED?new Error(e):void 0)}function Xu(e){Object.values(a).includes(e.state)&&this._setRewardedState(e.state,e.state===a.FAILED?new Error(e):void 0)}function Qu(e){if(e.success){var t=this._paymentsGetProductsPlatformData().map((function(t){var r=e.data.find((function(e){return e.productId===t.id}));return{id:t.id,title:r.productName,description:r.productDesc,price:r.price,priceCurrencyCode:r.currency,priceValue:1e-6*r.microsPrice,subSpecialPeriodCycles:r.subSpecialPeriodCycles,subProductLevel:r.subProductLevel,priceType:r.priceType}}));this._resolvePromiseDecorator(y.GET_CATALOG,t)}else this._rejectPromiseDecorator(y.GET_CATALOG,new Error(e))}function $u(e){if(e.success){var t=e.data,r=Pu({id:e.id},t);delete r.productId,this._paymentsPurchases.push(r),this._resolvePromiseDecorator(y.PURCHASE,r)}else this._rejectPromiseDecorator(y.PURCHASE,new Error(e))}function el(e){if(e.success){var t=this._paymentsPurchases.findIndex((function(t){return t.purchaseToken===e.purchaseToken}));t>=0&&this._paymentsPurchases.splice(t,1),this._resolvePromiseDecorator(y.CONSUME_PURCHASE,e)}else this._rejectPromiseDecorator(y.CONSUME_PURCHASE,new Error(e))}function tl(e){if(e.success){var t=this._paymentsGetProductsPlatformData();this._paymentsPurchases=e.data.map((function(e){var r=JSON.parse(e),n=Pu({id:t.find((function(e){return e.id===r.productId})).id},r);return delete n.productId,n})),this._resolvePromiseDecorator(y.GET_PURCHASES,this._paymentsPurchases)}else this._rejectPromiseDecorator(y.GET_PURCHASES,new Error(e))}function rl(e){e.success?this._resolvePromiseDecorator(y.GET_STORAGE_DATA,e.data):this._rejectPromiseDecorator(y.GET_STORAGE_DATA,new Error(e))}function nl(e){e.success?this._resolvePromiseDecorator(y.SET_STORAGE_DATA,e.data):this._rejectPromiseDecorator(y.SET_STORAGE_DATA,new Error(e))}function ol(e){e.success?this._resolvePromiseDecorator(y.DELETE_STORAGE_DATA,e.data):this._rejectPromiseDecorator(y.DELETE_STORAGE_DATA,new Error(e))}const il=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ou(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tu(o);if(i){var r=Tu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===bu(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ku(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Du(ku(e=a.call.apply(a,[this].concat(r))),zu),Du(ku(e),Wu),Du(ku(e),Vu),Du(ku(e),Uu),Du(ku(e),xu),Du(ku(e),Fu),Du(ku(e),Hu),Du(ku(e),Mu),Du(ku(e),Bu),Du(ku(e),Gu),Du(ku(e),Nu),Du(ku(e),Cu),Du(ku(e),ju),Iu(ku(e),\"_defaultStorageType\",u.PLATFORM_INTERNAL),e}return r=s,(n=[{key:\"platformId\",get:function(){return e.HUAWEI}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!0}},{key:\"initialize\",value:function(){if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y.INITIALIZE);return e||(e=this._createPromiseDecorator(y.INITIALIZE),this._options&&this._options.appId?(this._appId=this._options.appId,Lu(this,Cu,Yu).call(this),Lu(this,ju,Zu).call(this,y.INITIALIZE,this._appId)):this._rejectPromiseDecorator(y.INITIALIZE,P)),e.promise}},{key:\"authorizePlayer\",value:function(){var e=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),Lu(this,ju,Zu).call(this,y.AUTHORIZE_PLAYER)),e.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Au(Tu(s.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||Au(Tu(s.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"setDataToStorage\",value:function(e,t,r){if(r!==u.PLATFORM_INTERNAL)return Au(Tu(s.prototype),\"setDataToStorage\",this).call(this,e,t,r);var n=this._getPromiseDecorator(y.SET_STORAGE_DATA);return n||(n=this._createPromiseDecorator(y.SET_STORAGE_DATA),Lu(this,ju,Zu).call(this,y.SET_STORAGE_DATA,{key:e,value:t})),n.promise}},{key:\"getDataFromStorage\",value:function(e,t){if(t!==u.PLATFORM_INTERNAL)return Au(Tu(s.prototype),\"getDataFromStorage\",this).call(this,e,t);var r=this._getPromiseDecorator(y.GET_STORAGE_DATA);return r||(r=this._createPromiseDecorator(y.GET_STORAGE_DATA),Lu(this,ju,Zu).call(this,y.GET_STORAGE_DATA,e)),r.promise}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t!==u.PLATFORM_INTERNAL)return Au(Tu(s.prototype),\"deleteDataFromStorage\",this).call(this,e,t);var r=this._getPromiseDecorator(y.DELETE_STORAGE_DATA);return r||(r=this._createPromiseDecorator(y.DELETE_STORAGE_DATA),Lu(this,ju,Zu).call(this,y.DELETE_STORAGE_DATA,e)),r.promise}},{key:\"showInterstitial\",value:function(e){Lu(this,ju,Zu).call(this,y.SHOW_INTERSTITIAL,e)}},{key:\"showRewarded\",value:function(e){Lu(this,ju,Zu).call(this,y.SHOW_REWARDED,e)}},{key:\"paymentsPurchase\",value:function(e){if(!this._paymentsGetProductPlatformData(e))return Promise.reject();var t=this._getPromiseDecorator(y.PURCHASE);return t||(t=this._createPromiseDecorator(y.PURCHASE),Lu(this,ju,Zu).call(this,y.PURCHASE,e)),t.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(t<0)return Promise.reject();var r=this._getPromiseDecorator(y.CONSUME_PURCHASE);return r||(r=this._createPromiseDecorator(y.CONSUME_PURCHASE),Lu(this,ju,Zu).call(this,y.CONSUME_PURCHASE,this._paymentsPurchases[t].purchaseToken)),r.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=this._getPromiseDecorator(y.GET_CATALOG);return t||(t=this._createPromiseDecorator(y.GET_CATALOG),Lu(this,ju,Zu).call(this,y.GET_CATALOG,e.map((function(e){return e.id})))),t.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this._getPromiseDecorator(y.GET_PURCHASES);return e||(e=this._createPromiseDecorator(y.GET_PURCHASES),Lu(this,ju,Zu).call(this,y.GET_PURCHASES)),e.promise}}])&&wu(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(mn);function al(e){return al=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},al(e)}function sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=dl(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ul(){ul=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var c=f(e[o],e,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==al(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r(\"throw\",e,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var u=f(t,r,n);if(\"normal\"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(al(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(D),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function ll(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function fl(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ll(i,n,o,a,s,\"next\",e)}function s(e){ll(i,n,o,a,s,\"throw\",e)}a(void 0)}))}}function pl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,dl(n.key),n)}}function dl(e){var t=function(e,t){if(\"object\"!=al(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=al(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==al(t)?t:String(t)}function hl(){return hl=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vl(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hl.apply(this,arguments)}function yl(e,t){return yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yl(e,t)}function ml(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function vl(e){return vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vl(e)}var _l=new WeakSet;function gl(){var e=this,t={loading:a.LOADING,opened:a.OPENED,closed:a.CLOSED,failed:a.FAILED,rewarded:a.REWARDED},r={loading:i.LOADING,opened:i.OPENED,closed:i.CLOSED,failed:i.FAILED},n={loading:s.LOADING,shown:s.SHOWN,hidden:s.HIDDEN,failed:s.FAILED};this._platformSdk.advertisement.on(\"REWARDED_STATE_CHANGED\",(function(r){var n=t[r];n&&(e._setRewardedState(n),n===a.REWARDED&&e._setRewardedState(a.CLOSED))})),this._platformSdk.advertisement.on(\"INTERSTITIAL_STATE_CHANGED\",(function(t){var n=r[t];n&&e._setInterstitialState(n)})),this._platformSdk.advertisement.on(\"BANNER_STATE_CHANGED\",(function(t){var r=n[t];r&&e._setBannerState(r)}))}const Sl=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&yl(e,t)}(l,t);var r,n,o,i,a,s,c=(a=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vl(a);if(s){var r=vl(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===al(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ml(e)}(this,e)});function l(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t=ml(e=c.call.apply(c,[this].concat(o))),r=_l),r.add(t),e}return r=l,n=[{key:\"platformId\",get:function(){return e.BITQUEST}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return d}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);if(!t){var r;switch(t=this._createPromiseDecorator(y.INITIALIZE),new URLSearchParams(window.location.search).get(\"target\")){case\"prod\":default:r=\"https://app.bitquest.games/bqsdk.min.js\";break;case\"stage\":r=\"https://app-stage.bitquest.games/bqsdk.min.js\";break;case\"bank\":r=\"https://app-global.memebeat.io/bqsdk.min.js\"}Se(r).then((function(){Ee(\"bq\").then((function(){e._platformSdk=window.bq,e._platformSdk.initialize().then((function(){e._platformSdk.platform.sendMessage(\"game_ready\");var t=e._platformSdk.player,r=t.id,n=void 0===r?null:r,o=t.name,i=void 0===o?\"\":o;e._playerId=n,e._playerName=i,e._isPlayerAuthorized=!0,e._defaultStorageType=u.PLATFORM_INTERNAL,e._playerExtra=t,function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}(e,_l,gl).call(e),e.showPreRoll(),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)})).catch((function(t){e._rejectPromiseDecorator(y.INITIALIZE,t)}))}))}))}return t.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||hl(vl(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||hl(vl(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;if(t===u.PLATFORM_INTERNAL){if(Array.isArray(e)){var o=e.map((function(e){return n._platformSdk.storage.get(e,\"platform_internal\").then((function(e){var t=e;if(r&&\"string\"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}))}));return Promise.all(o)}return this._platformSdk.storage.get(e,\"platform_internal\").then((function(e){var t=e;if(r&&\"string\"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}))}return hl(vl(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:(i=fl(ul().mark((function e(t,r,n){return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==u.PLATFORM_INTERNAL){e.next=12;break}if(!Array.isArray(t)){e.next=9;break}if(Array.isArray(r)){e.next=4;break}throw new Error(\"Value must be an array if key is an array\");case 4:if(t.length===r.length){e.next=6;break}throw new Error(\"Key and value arrays must have the same length\");case 6:return e.next=8,this._platformSdk.storage.set(t,r,\"platform_internal\");case 8:case 11:return e.abrupt(\"return\");case 9:return e.next=11,this._platformSdk.storage.set(t,r,\"platform_internal\");case 12:return e.next=14,hl(vl(l.prototype),\"setDataToStorage\",this).call(this,t,r,n);case 14:case\"end\":return e.stop()}}),e,this)}))),function(e,t,r){return i.apply(this,arguments)})},{key:\"deleteDataFromStorage\",value:(o=fl(ul().mark((function e(t,r){var n;return ul().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==u.PLATFORM_INTERNAL){e.next=13;break}if(!Array.isArray(t)){e.next=10;break}n=0;case 3:if(!(n<t.length)){e.next=9;break}return e.next=6,this._platformSdk.storage.delete(t[n],\"platform_internal\");case 6:n++,e.next=3;break;case 9:return e.abrupt(\"return\");case 10:return e.next=12,this._platformSdk.storage.delete(t,\"platform_internal\");case 12:return e.abrupt(\"return\");case 13:return e.next=15,hl(vl(l.prototype),\"deleteDataFromStorage\",this).call(this,t,r);case 15:case\"end\":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:\"showRewarded\",value:function(){this._platformSdk.advertisement.showRewarded()}},{key:\"showInterstitial\",value:function(){this._platformSdk.advertisement.showInterstitial()}},{key:\"showPreRoll\",value:function(){this._platformSdk.advertisement.showPreRoll()}},{key:\"showBanner\",value:function(){this._platformSdk.advertisement.showBanner()}},{key:\"hideBanner\",value:function(){this._platformSdk.advertisement.hideBanner()}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._getPromiseDecorator(y.PURCHASE);return r||(r=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.payment.purchase(e).then((function(r){var n=cl({id:e},r.purchaseData);delete n.productID,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),r.promise}},{key:\"paymentsGetCatalog\",value:function(){var e,t=this,r=this._paymentsGetProductsPlatformData();if(!r||!Array.isArray(r)||0===r.length)return Promise.reject(new Error(\"No platform products available\"));if(!this._isInitialized||null===(e=this._platformSdk)||void 0===e||!e.payment)return Promise.reject(new Error(\"SDK not initialized or payment not available\"));var n=this._getPromiseDecorator(y.GET_CATALOG);return n||(n=this._createPromiseDecorator(y.GET_CATALOG),this._platformSdk.payment.getCatalog().then((function(e){if(!Array.isArray(e))throw new Error(\"Catalog response is not an array\");var n=r.map((function(t){var r=e.find((function(e){return e.purchaseId===t.id}));return r?{id:t.id,name:r.name,description:r.description,price:r.priceValue,priceCurrencyCode:r.currencyCode,priceValue:r.price}:null})).filter(Boolean);t._resolvePromiseDecorator(y.GET_CATALOG,n)})).catch((function(e){t._rejectPromiseDecorator(y.GET_CATALOG,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),this._platformSdk.payment.consumePurchase(e).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(y.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),this._platformSdk.payment.getPurchases().then((function(t){var r=null==t?void 0:t.purchases,n=e._paymentsGetProductsPlatformData();e._paymentsPurchases=r.map((function(e){var t=n.find((function(t){return t.id===e.purchaseId}));if(!t)return null;var r=cl({id:t.id},e);return delete r.purchaseId,r})).filter(Boolean),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this,n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var o=\"number\"==typeof t?t:parseInt(t,10);this._platformSdk.leaderboard.setScore(e,o).then((function(){r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)})).catch((function(e){r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e)}))}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this,r=this._getPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);return r||(r=this._createPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES),this._platformSdk.leaderboard.getEntries(e).then((function(e){var r=Array.isArray(e)?e:e.entries||e.data||[];t._resolvePromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,r)})).catch((function(e){t._rejectPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,e)}))),r.promise}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(t){t(e._platformSdk.platform.getServerTime())}))}}],n&&pl(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function bl(e){return bl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},bl(e)}function El(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,kl(n.key),n)}}function Pl(e,t){return Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pl(e,t)}function wl(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Al(e){return Al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Al(e)}function Ol(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function kl(e){var t=function(e,t){if(\"object\"!=bl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=bl(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==bl(t)?t:String(t)}function Tl(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Dl=new WeakSet,Il=new WeakSet,Rl=new WeakSet;function Ll(){var e=this;this._platformSdk.ads.on(\"rewarded:start\",(function(){e._setRewardedState(a.OPENED)})),this._platformSdk.ads.on(\"rewarded:close\",(function(t){t||e._setRewardedState(a.FAILED)})),this._platformSdk.ads.on(\"rewarded:reward\",(function(){e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)}))}function jl(){var e=this;this._platformSdk.ads.on(\"fullscreen:start\",(function(){e._setInterstitialState(i.OPENED)})),this._platformSdk.ads.on(\"fullscreen:close\",(function(){e._setInterstitialState(i.CLOSED)}))}function Cl(){var e=this;this._platformSdk.ads.on(\"sticky:render\",(function(){e._setBannerState(s.SHOWN)})),this._platformSdk.ads.on(\"sticky:close\",(function(){e._setBannerState(s.HIDDEN)}))}const Nl=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Pl(e,t)}(c,t);var r,n,o,i,s=(o=c,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Al(o);if(i){var r=Al(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===bl(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return wl(e)}(this,e)});function c(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,c);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Ol(wl(e=s.call.apply(s,[this].concat(o))),Rl),Ol(wl(e),Il),Ol(wl(e),Dl),t=wl(e),!0,(r=kl(r=\"_isBannerSupported\"))in t?Object.defineProperty(t,r,{value:true,enumerable:!0,configurable:!0,writable:!0}):t[r]=true,e}return r=c,(n=[{key:\"platformId\",get:function(){return e.GAMEPUSH}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);if(!t)if(t=this._createPromiseDecorator(y.INITIALIZE),this._options&&this._options.projectId&&this._options.publicToken){var r=\"https://gamepush.com/sdk/game-score.js?projectId=\".concat(this._options.projectId,\"&publicToken=\").concat(this._options.publicToken);Se(r).then((function(){Ee(\"GamePush\").then((function(){var t;e._platformSdk=window.GamePush;var r=null===(t=e._platformSdk)||void 0===t?void 0:t.player;if(r){var n=r.id,o=void 0===n?null:n,i=r.name,a=void 0===i?\"\":i,s=r.avatar,c=void 0===s?\"\":s;e._isPlayerAuthorized=!0,e._playerId=o,e._playerName=a,c&&e._playerPhotos.push(c)}else e._playerApplyGuestData();e._isInitialized=!0,Tl(e,Il,jl).call(e),Tl(e,Dl,Ll).call(e),Tl(e,Rl,Cl).call(e),e._resolvePromiseDecorator(y.INITIALIZE)}))}))}else this._rejectPromiseDecorator(y.INITIALIZE,w);return t.promise}},{key:\"showInterstitial\",value:function(){this._platformSdk.ads.showFullscreen()}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.ads.showRewardedVideo().catch((function(){e._setRewardedState(a.FAILED)}))}},{key:\"showBanner\",value:function(){this._platformSdk.ads.showSticky()}},{key:\"hideBanner\",value:function(){this._platformSdk.ads.closeSticky()}},{key:\"checkAdBlock\",value:function(){var e=this;return new Promise((function(t){e._platformSdk.ads.isAdblockEnabled().then((function(e){t(e)}))}))}}])&&El(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(mn);function Gl(e){return Gl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Gl(e)}function Bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ml(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(r),!0).forEach((function(t){Vl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Wl(n.key),n)}}function Fl(e,t){return Fl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fl(e,t)}function xl(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ul(e){return Ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ul(e)}function Vl(e,t,r){return(t=Wl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wl(e){var t=function(e,t){if(\"object\"!=Gl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Gl(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Gl(t)?t:String(t)}const zl=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Fl(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ul(o);if(i){var r=Ul(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Gl(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return xl(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Vl(xl(e=a.call.apply(a,[this].concat(r))),\"_appId\",null),Vl(xl(e),\"_accessToken\",null),e}return r=s,(n=[{key:\"platformId\",get:function(){return e.DISCORD}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r=this._getPromiseDecorator(y.INITIALIZE);return r||(r=this._createPromiseDecorator(y.INITIALIZE),null!==(t=this._options)&&void 0!==t&&t.appId?(this._appId=this._options.appId,Se(\"/cdn/discord/discord-v2.0.0.min.js\").then((function(){Ee(\"discord\",\"DiscordSDK\").then((function(){return e._platformSdk=new window.discord.DiscordSDK(e._appId),e._platformSdk.ready()})).then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))):this._rejectPromiseDecorator(y.INITIALIZE,O)),r.promise}},{key:\"authorizePlayer\",value:function(e){var t=this,r=(null==e?void 0:e.scope)||[\"identify\"],n=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return n||(n=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._platformSdk.commands.authorize({client_id:this._appId,response_type:\"code\",state:\"\",prompt:\"none\",scope:r}).then((function(e){var t=e.code;return fetch(\"\".concat(\"/api\",\"/token\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({code:t})})})).then((function(e){return e.json()})).then((function(e){return t._accessToken=e.access_token,t._playerExtra={token:e.token,accessToken:t._accessToken,channelId:t._platformSdk.channelId},t._platformSdk.commands.authenticate({access_token:t._accessToken})})).then((function(e){if(null===e)throw t._playerApplyGuestData(),new Error(\"Authorization failed\");return t._isPlayerAuthorized=!0,t._resolvePromiseDecorator(y.AUTHORIZE_PLAYER),fetch(\"/users/@me\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(t._accessToken),\"Content-Type\":\"application/json\"}})})).then((function(e){return e.json()})).then((function(e){t._playerId=e.id,t._playerName=e.username,e.avatar&&t._playerPhotos.push(\"https://cdn.discordapp.com/avatars/\".concat(e.id,\"/\").concat(e.avatar,\".png\")),t._playerExtra=Ml(Ml({},t._playerExtra),e)})).catch((function(e){t._playerApplyGuestData(),t._accessToken=null,t._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,e)}))),n.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();var n=this._getPromiseDecorator(y.PURCHASE);return n||(n=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.commands.startPurchase({sku_id:r.platformProductId}).then((function(r){if(!r)throw new Error(\"Purchase failed\");var n=Ml({id:e},r);t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),fetch(\"/applications/\".concat(this._appId,\"/entitlements/\").concat(this._paymentsPurchases[r].purchaseToken,\"/consume\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(this._accessToken),\"Content-Type\":\"application/json\"},body:JSON.stringify({})}).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(y.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),this._platformSdk.commands.getSkus().then((function(r){var n=r.skus,o=t.map((function(e){var t,r,o=n.find((function(t){return t.id===e.platformProductId})),i=(r=window.discord.PriceUtils.formatPrice(o.price).replace(/[^\\d.,-]/g,\"\")).includes(\".\")&&r.includes(\",\")&&r.indexOf(\",\")<r.indexOf(\".\")?parseFloat(r.replace(/,/g,\"\")):r.includes(\".\")&&r.includes(\",\")&&r.indexOf(\",\")>r.indexOf(\".\")?parseFloat(r.replace(/\\./g,\"\").replace(\",\",\".\")):r.includes(\",\")&&-1!==r.lastIndexOf(\",\")&&r.lastIndexOf(\",\")===r.length-4?parseInt(r.replace(/,/,\"\"),10):r.includes(\",\")&&-1!==r.lastIndexOf(\",\")&&r.lastIndexOf(\",\")!==r.length-3?parseFloat(r.replace(\",\",\".\")):r.includes(\".\")&&-1!==r.lastIndexOf(\".\")&&r.lastIndexOf(\".\")===r.length-4?parseInt(r.replace(/\\./,\"\"),10):r.includes(\".\")?parseFloat(r):parseInt(r,10),a=null===(t=o.price)||void 0===t||null===(t=t.currency)||void 0===t?void 0:t.toUpperCase(),s=\"\".concat(i,\" \").concat(a);return{id:e.id,title:o.name,price:s,priceValue:i,priceCurrencyCode:a}}));e._resolvePromiseDecorator(y.GET_CATALOG,o)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),this._platformSdk.commands.getEntitlements().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.entitlements.map((function(e){return Ml({id:r.find((function(t){return t.id===e.id})).id},e)})),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}},{key:\"inviteFriends\",value:function(){var e=this,t=this._getPromiseDecorator(y.INVITE_FRIENDS);return t||(t=this._createPromiseDecorator(y.INVITE_FRIENDS),this._platformSdk.commands.openInviteDialog().then((function(){e._resolvePromiseDecorator(y.INVITE_FRIENDS)})).catch((function(t){e._rejectPromiseDecorator(y.INVITE_FRIENDS,t)}))),t.promise}},{key:\"share\",value:function(e){var t=this;if(!e.mediaUrl)return Promise.reject();var r=this._getPromiseDecorator(y.SHARE);return r||(r=this._createPromiseDecorator(y.SHARE),this._platformSdk.commands.openShareMomentDialog({mediaUrl:e.mediaUrl}).then((function(){t._resolvePromiseDecorator(y.SHARE)})).catch((function(e){t._rejectPromiseDecorator(y.SHARE,e)}))),r.promise}}])&&Hl(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(mn);function Zl(e){return Zl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Zl(e)}function Yl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=ql(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ql(n.key),n)}}function ql(e){var t=function(e,t){if(\"object\"!=Zl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Zl(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Zl(t)?t:String(t)}function Xl(){return Xl=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ef(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Xl.apply(this,arguments)}function Ql(e,t){return Ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ql(e,t)}function $l(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ef(e)}function tf(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,rf(e,t,\"get\"))}function rf(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var nf=new WeakMap;const of=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ql(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ef(o);if(s){var r=ef(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Zl(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return $l(e)}(this,e)});function l(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=$l(e=c.call.apply(c,[this].concat(i))),n={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,r=nf),r.set(t,n),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.YOUTUBE}},{key:\"platformLanguage\",get:function(){return tf(this,nf)?tf(this,nf):Xl(ef(l.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return h}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"https://www.youtube.com/game_api/v1\").then((function(){Ee(\"ytgame\").then((function(){e._platformSdk=window.ytgame,e._defaultStorageType=u.PLATFORM_INTERNAL,e._audioStateAggregator.setState(\"platform\",!e._platformSdk.system.isAudioEnabled());var t=e._platformSdk.system.getLanguage().then((function(t){var r,n,o;r=e,n=nf,o=t.length>2?t.slice(0,2):t,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(r,rf(r,n,\"set\"),o)}));e._platformStorageCachedData={};var r=e._platformSdk.game.loadData().then((function(t){\"string\"==typeof t&&\"\"!==t&&(e._platformStorageCachedData=JSON.parse(t))}));e._platformSdk.system.onAudioEnabledChange((function(t){e._setAudioState(t)})),e._platformSdk.system.onPause((function(){e._setPauseState(!0)})),e._platformSdk.system.onResume((function(){e._setPauseState(!1)})),Promise.all([t,r]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE),e._platformSdk.game.firstFrameReady()}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Xl(ef(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||Xl(ef(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,o){n._platformSdk.game.loadData().then((function(o){if(\"string\"==typeof o&&\"\"!==o&&(n._platformStorageCachedData=JSON.parse(o)),Array.isArray(e)){for(var i=[],a=0;a<e.length;a++){var s=void 0===n._platformStorageCachedData[e[a]]?null:n._platformStorageCachedData[e[a]];if(\"string\"==typeof s&&r)try{s=JSON.parse(s)}catch(e){}i.push(s)}t(i)}else{var c=void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e];if(\"string\"==typeof c&&r)try{c=JSON.parse(c)}catch(e){}t(c)}})).catch((function(){o()}))})):Xl(ef(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?Jl({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.game.saveData(JSON.stringify(i)).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))})):Xl(ef(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,n){var o=null!==r._platformStorageCachedData?Jl({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r._platformSdk.game.saveData(JSON.stringify(o)).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))})):Xl(ef(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"sendMessage\",value:function(e){return e===f.GAME_READY?(this._platformSdk.game.gameReady(),Promise.resolve()):Xl(ef(l.prototype),\"sendMessage\",this).call(this,e)}},{key:\"showInterstitial\",value:function(){var e=this;this._setInterstitialState(i.OPENED),this._platformSdk.ads.requestInterstitialAd().then((function(){e._setInterstitialState(i.CLOSED)})).catch((function(){e._setInterstitialState(i.FAILED)}))}},{key:\"showRewarded\",value:function(){var e=this;this._setRewardedState(a.OPENED),this._platformSdk.ads.requestInterstitialAd().then((function(){e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)})).catch((function(){e._setRewardedState(a.FAILED)}))}},{key:\"leaderboardsSetScore\",value:function(e,t,r){var n=this;if(!r)return Promise.reject();var o=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!o){o=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var i=\"string\"==typeof t?parseInt(t,10):t;this._platformSdk.engagement.sendScore({value:i}).then((function(){n._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)})).catch((function(e){n._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e)}))}return o.promise}}])&&Kl(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function af(e){return af=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},af(e)}var sf=[\"gamer_id\",\"gamer_name\",\"gamer_avatar_url\"];function cf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,hf(n.key),n)}}function uf(e,t){return uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uf(e,t)}function lf(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ff(e)}function pf(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function df(e,t,r){return(t=hf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hf(e){var t=function(e,t){if(\"object\"!=af(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=af(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==af(t)?t:String(t)}function yf(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var mf=new WeakSet,vf=new WeakSet;function _f(){var e=this,t=this;return this._preloadInterstitialPromise||(this._preloadInterstitialPromise=new Promise((function(r,n){var o;e._platformSdk.cacheAd((null===(o=window)||void 0===o?void 0:o.AdType.Interstitial)||\"Interstitial\",{onAdPrepared:r,onAdFailedToLoad:function(e){t._preloadInterstitialPromise=null,n(new Error(e))}})}))),this._preloadInterstitialPromise}function gf(){var e=this,t=this;return this._preloadRewardedPromise||(this._preloadRewardedPromise=new Promise((function(r,n){var o;e._platformSdk.cacheAd((null===(o=window)||void 0===o?void 0:o.AdType.Rewarded)||\"Rewarded\",{onAdPrepared:r,onAdFailedToLoad:function(e){t._preloadRewardedPromise=null,n(new Error(e))}})}))),this._preloadRewardedPromise}const Sf=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&uf(e,t)}(l,t);var r,n,o,c,u=(o=l,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ff(o);if(c){var r=ff(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===af(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return lf(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pf(lf(e=u.call.apply(u,[this].concat(r))),vf),pf(lf(e),mf),df(lf(e),\"_preloadInterstitialPromise\",null),df(lf(e),\"_preloadRewardedPromise\",null),df(lf(e),\"_isBannerAvailable\",!1),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.JIO_GAMES}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return h}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),window.onSdkReady=function(){if(e._platformSdk=window.JioGames,e._platformSdk.playerInfo){var t=e._platformSdk.playerInfo,r=t.gamer_id,n=t.gamer_name,o=t.gamer_avatar_url,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,sf);e.playerId=r||null,e.playerName=n||null,o&&e.playerPhotos.push(o),e.playerExtra=i,e._isPlayerAuthorized=!0}e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)},window.onBannerReady=function(){e._isBannerAvailable=!0},Se(\"https://jiogames.akamaized.net/gameSDK/jiogames/stable/v2.0/jiogames_sdk.js\",this._options.adTestMode?{\"data-jg-test-environment\":\"on\"}:{}).catch((function(t){e._rejectPromiseDecorator(y.INITIALIZE,JSON.stringify(t))}))),t.promise}},{key:\"preloadInterstitial\",value:function(){yf(this,mf,_f).call(this)}},{key:\"showInterstitial\",value:function(){var e=this;yf(this,mf,_f).call(this).then((function(){var t;e._platformSdk.showAd(null===(t=window.AdType)||void 0===t?void 0:t.Interstitial,{onAdClosed:function(){e._setInterstitialState(i.CLOSED)},onAdFailedToLoad:function(t){console.error(t),e._setInterstitialState(i.FAILED)}}),e._setInterstitialState(i.OPENED),e._preloadInterstitialPromise=null}))}},{key:\"preloadRewarded\",value:function(){yf(this,vf,gf).call(this)}},{key:\"showRewarded\",value:function(){var e=this;yf(this,vf,gf).call(this).then((function(){var t;e._platformSdk.showAd(null===(t=window.AdType)||void 0===t?void 0:t.Rewarded,{onAdClosed:function(t){t&&e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)},onAdFailedToLoad:function(t){console.error(t),e._setRewardedState(a.FAILED)}}),e._setRewardedState(a.OPENED),e._preloadRewardedPromise=null}))}},{key:\"showBanner\",value:function(e){var t,r=this;this._isBannerAvailable?null===(t=window.JGBanner)||void 0===t||t.loadBanner().then((function(){var t,n;r._setBannerState(s.SHOWN),null===(t=window.JGBanner)||void 0===t||t.showBanner(e||(null===(n=window.BannerPosition)||void 0===n?void 0:n.TOP))})).catch((function(e){console.error(e),r._setBannerState(s.FAILED)})):this._setBannerState(s.FAILED)}},{key:\"hideBanner\",value:function(){var e;null===(e=window.JGBanner)||void 0===e||e.hideBanner(),this._setBannerState(s.HIDDEN)}},{key:\"leaderboardsSetScore\",value:function(e,t,r){if(!r)return Promise.reject();var n=\"string\"==typeof t?parseInt(t,10):t;return this._platformSdk.postScore(n),Promise.resolve()}}])&&cf(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function bf(e){return bf=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},bf(e)}function Ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ef(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Af(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ef(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Af(n.key),n)}}function Af(e){var t=function(e,t){if(\"object\"!=bf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=bf(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==bf(t)?t:String(t)}function Of(){return Of=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Of.apply(this,arguments)}function kf(e,t){return kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kf(e,t)}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tf(e)}const Df=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&kf(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tf(o);if(s){var r=Tf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===bf(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),c.apply(this,arguments)}return r=l,(n=[{key:\"platformId\",get:function(){return e.PORTAL}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"platformLanguage\",get:function(){return this._platformSdk.getLocale()||Of(Tf(l.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),Se(\"https://storage.googleapis.com/social-networth/scripts/sdk.umd.js\").then((function(){Ee(\"PortalSDK\").then((function(){e._platformSdk=window.PortalSDK,e._platformSdk.initialize().then((function(){e._platformSdk.initializeOverlay(),e._defaultStorageType=u.PLATFORM_INTERNAL,e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)})).catch((function(t){e._rejectPromiseDecorator(y.INITIALIZE,t)}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Of(Tf(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||Of(Tf(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;if(t===u.PLATFORM_INTERNAL){if(Array.isArray(e)){var o=e.map((function(e){return Promise.resolve(n._platformSdk.getValue(e)).then((function(e){var t=e;if(r&&\"string\"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}))}));return Promise.all(o)}return Promise.resolve(this._platformSdk.getValue(e)).then((function(e){var t=e;if(r&&\"string\"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}))}return Of(Tf(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;if(r===u.PLATFORM_INTERNAL){if(Array.isArray(e)){if(!Array.isArray(t))return Promise.reject(new Error(\"Value must be an array if key is an array\"));if(e.length!==t.length)return Promise.reject(new Error(\"Key and value arrays must have the same length\"));var o=e.map((function(e,r){return Promise.resolve(n._platformSdk.setValue(e,t[r]))}));return Promise.all(o)}return Promise.resolve(this._platformSdk.setValue(e,t))}return Of(Tf(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;if(t===u.PLATFORM_INTERNAL){if(Array.isArray(e)){var n=e.map((function(e){return Promise.resolve(r._platformSdk.removeValue(e))}));return Promise.all(n)}return Promise.resolve(this._platformSdk.removeValue(e))}return Of(Tf(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.requestAd().then((function(){e._setInterstitialState(i.OPENED),e._setInterstitialState(i.CLOSED)})).catch((function(){e._setInterstitialState(i.FAILED)}))}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.requestRewardAd().then((function(t){t?(e._setRewardedState(a.OPENED),e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)})).catch((function(){e._setRewardedState(a.FAILED)}))}},{key:\"sendMessage\",value:function(e){return e===f.GAME_READY?(this._platformSdk.gameReady(),Promise.resolve()):Of(Tf(l.prototype),\"sendMessage\",this).call(this,e)}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e),n=this._getPromiseDecorator(y.PURCHASE);if(!n){n=this._createPromiseDecorator(y.PURCHASE);var o=r.id;Promise.resolve(this._platformSdk.getShopItems()).then((function(e){var r=e.find((function(e){return e&&e.id===o}));if(!r)throw new Error(\"Shop item not found in catalog\");return t._platformSdk.openPurchaseConfirmModal(r)})).then((function(r){if(!r||\"success\"!==r.status)throw new Error(\"Purchase failed\");var n=Pf({id:e},r);t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))}return n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t||!Array.isArray(t)||0===t.length)return Promise.reject(new Error(\"No platform products available\"));var r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),Promise.resolve(this._platformSdk.getShopItems()).then((function(r){if(!Array.isArray(r))throw new Error(\"Catalog response is not an array\");var n=t.map((function(e){var t=e.id,n=r.find((function(e){return e&&e.id===t}));return n?{id:e.id,name:n.name,price:\"\".concat(n.price,\" Gems\"),priceCurrencyCode:\"Gems\",priceValue:n.price}:null})).filter(Boolean);e._resolvePromiseDecorator(y.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),Promise.resolve(this._platformSdk.getPurchasedShopItems()).then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){var t=e.id,n=r.find((function(e){return e.id===t}));return n?Pf({id:n.id},e):null})).filter(Boolean),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}}])&&wf(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function If(e){return If=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},If(e)}function Rf(){Rf=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",c=i.toStringTag||\"@@toStringTag\";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};u(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(R([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var c=f(e[o],e,i);if(\"throw\"!==c.type){var u=c.arg,l=u.value;return l&&\"object\"==If(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r(\"throw\",e,a,s)}))}s(c.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===m)continue;return c}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var u=f(t,r,n);if(\"normal\"===u.type){if(o=n.done?y:d,u.arg===m)continue;return{value:u.arg,done:n.done}}\"throw\"===u.type&&(o=y,n.method=\"throw\",n.arg=u.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(If(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=u(g,c,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),u(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),u(P,c,\"Generator\"),u(P,a,(function(){return this})),u(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(D),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;D(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function Lf(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function jf(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Lf(i,n,o,a,s,\"next\",e)}function s(e){Lf(i,n,o,a,s,\"throw\",e)}a(void 0)}))}}function Cf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Nf(n.key),n)}}function Nf(e){var t=function(e,t){if(\"object\"!=If(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=If(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==If(t)?t:String(t)}function Gf(){return Gf=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Gf.apply(this,arguments)}function Bf(e,t){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bf(e,t)}function Mf(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hf(e)}function Ff(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function xf(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Uf=new WeakSet,Vf=new WeakSet,Wf=new WeakSet,zf=new WeakSet,Zf=new WeakSet,Yf=new WeakSet,Jf=new WeakSet,Kf=new WeakSet,qf=new WeakSet,Xf=new WeakSet;function Qf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.parent.postMessage({type:e,data:t},\"*\")}function $f(e){this._isPlayerAuthorized=e.isPlayerAuthorized,this._isPlayerAuthorized&&(this._playerId=e.playerId,this._playerName=e.playerName,e.playerPhoto&&this._playerPhotos.push(e.playerPhoto)),this._isInitialized=!0,this._resolvePromiseDecorator(y.INITIALIZE)}function ep(e){var t,r;null!==(t=e.data)&&void 0!==t&&t.success?this._resolvePromiseDecorator(y.GET_STORAGE_DATA,null!==(r=e.data.data)&&void 0!==r?r:null):this._rejectPromiseDecorator(y.GET_STORAGE_DATA)}function tp(e){var t;null!==(t=e.data)&&void 0!==t&&t.success?this._resolvePromiseDecorator(y.SET_STORAGE_DATA):this._rejectPromiseDecorator(y.SET_STORAGE_DATA)}function rp(e){var t;null!==(t=e.data)&&void 0!==t&&t.success?this._resolvePromiseDecorator(y.DELETE_STORAGE_DATA):this._rejectPromiseDecorator(y.DELETE_STORAGE_DATA)}function np(e){var t;null!==(t=e.data)&&void 0!==t&&t.success?this._resolvePromiseDecorator(y.PURCHASE,e.data):this._rejectPromiseDecorator(y.PURCHASE,e.data)}function op(e){var t;null!==(t=e.data)&&void 0!==t&&t.success?this._resolvePromiseDecorator(y.GET_CATALOG,e.data):this._rejectPromiseDecorator(y.GET_CATALOG,e.data)}function ip(e){var t;null!==(t=e.data)&&void 0!==t&&t.success?this._resolvePromiseDecorator(y.GET_PURCHASES,e.data):this._rejectPromiseDecorator(y.GET_PURCHASES,e.data)}function ap(e){var t;null!==(t=e.data)&&void 0!==t&&t.success?this._resolvePromiseDecorator(y.CREATE_POST):this._rejectPromiseDecorator(y.CREATE_POST)}function sp(e){var t;null!==(t=e.data)&&void 0!==t&&t.success?this._resolvePromiseDecorator(y.JOIN_COMMUNITY):this._rejectPromiseDecorator(y.JOIN_COMMUNITY)}const cp=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Bf(e,t)}(l,t);var r,n,o,i,a,s,c=(a=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hf(a);if(s){var r=Hf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===If(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Mf(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ff(Mf(e=c.call.apply(c,[this].concat(r))),Xf),Ff(Mf(e),qf),Ff(Mf(e),Kf),Ff(Mf(e),Jf),Ff(Mf(e),Yf),Ff(Mf(e),Zf),Ff(Mf(e),zf),Ff(Mf(e),Wf),Ff(Mf(e),Vf),Ff(Mf(e),Uf),e}return r=l,n=[{key:\"platformId\",get:function(){return e.REDDIT}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isCreatePostSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(window.addEventListener(\"message\",(function(t){if(\"devvit-message\"===t.data.type){var r=t.data.data.message;r.type===y.INITIALIZE?xf(e,Vf,$f).call(e,r):r.type===y.GET_STORAGE_DATA?xf(e,Wf,ep).call(e,r):r.type===y.SET_STORAGE_DATA?xf(e,zf,tp).call(e,r):r.type===y.DELETE_STORAGE_DATA?xf(e,Zf,rp).call(e,r):r.type===y.GET_CATALOG?xf(e,Jf,op).call(e,r):r.type===y.PURCHASE?xf(e,Yf,np).call(e,r):r.type===y.GET_PURCHASES?xf(e,Kf,ip).call(e,r):r.type===y.CREATE_POST?xf(e,qf,ap).call(e,r):r.type===y.JOIN_COMMUNITY&&xf(e,Xf,sp).call(e)}})),t=this._createPromiseDecorator(y.INITIALIZE),xf(this,Uf,Qf).call(this,y.INITIALIZE)),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Gf(Hf(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||Gf(Hf(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){if(t===u.PLATFORM_INTERNAL){var n=this._getPromiseDecorator(y.GET_STORAGE_DATA);return n||(n=this._createPromiseDecorator(y.GET_STORAGE_DATA),xf(this,Uf,Qf).call(this,y.GET_STORAGE_DATA,{key:e})),n.promise}return Gf(Hf(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:(i=jf(Rf().mark((function e(t,r,n){var o;return Rf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==u.PLATFORM_INTERNAL){e.next=4;break}return(o=this._getPromiseDecorator(y.SET_STORAGE_DATA))||(o=this._createPromiseDecorator(y.SET_STORAGE_DATA),xf(this,Uf,Qf).call(this,y.SET_STORAGE_DATA,{key:t,value:r})),e.abrupt(\"return\",o.promise);case 4:return e.abrupt(\"return\",Gf(Hf(l.prototype),\"setDataToStorage\",this).call(this,t,r,n));case 5:case\"end\":return e.stop()}}),e,this)}))),function(e,t,r){return i.apply(this,arguments)})},{key:\"deleteDataFromStorage\",value:(o=jf(Rf().mark((function e(t,r){var n;return Rf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==u.PLATFORM_INTERNAL){e.next=4;break}return(n=this._getPromiseDecorator(y.DELETE_STORAGE_DATA))||(n=this._createPromiseDecorator(y.DELETE_STORAGE_DATA),xf(this,Uf,Qf).call(this,y.DELETE_STORAGE_DATA,{key:t})),e.abrupt(\"return\",n.promise);case 4:return e.abrupt(\"return\",Gf(Hf(l.prototype),\"deleteDataFromStorage\",this).call(this,t,r));case 5:case\"end\":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:\"paymentsPurchase\",value:function(e){var t=this._getPromiseDecorator(y.PURCHASE);return t||(t=this._createPromiseDecorator(y.PURCHASE),xf(this,Uf,Qf).call(this,y.PURCHASE,{id:e})),t.promise}},{key:\"paymentsGetCatalog\",value:function(){if(!this._paymentsGetProductsPlatformData())return Promise.reject();var e=this._getPromiseDecorator(y.GET_CATALOG);return e||(e=this._createPromiseDecorator(y.GET_CATALOG),xf(this,Uf,Qf).call(this,y.GET_CATALOG)),e.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this._getPromiseDecorator(y.GET_PURCHASES);return e||(e=this._createPromiseDecorator(y.GET_PURCHASES),xf(this,Uf,Qf).call(this,y.GET_PURCHASES)),e.promise}},{key:\"createPost\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._getPromiseDecorator(y.CREATE_POST);return t||(t=this._createPromiseDecorator(y.CREATE_POST),xf(this,Uf,Qf).call(this,y.CREATE_POST,{options:e})),t.promise}},{key:\"joinCommunity\",value:function(){var e=this._getPromiseDecorator(y.JOIN_COMMUNITY);return e||(e=this._createPromiseDecorator(y.JOIN_COMMUNITY),xf(this,Uf,Qf).call(this,y.JOIN_COMMUNITY)),e.promise}}],n&&Cf(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(mn);function up(e){return up=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},up(e)}function lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=dp(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,dp(n.key),n)}}function dp(e){var t=function(e,t){if(\"object\"!=up(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=up(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==up(t)?t:String(t)}function hp(e,t){mp(e,t),t.add(e)}function yp(e,t,r){mp(e,t),t.set(e,r)}function mp(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function vp(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Sp(e,t,\"set\"),r),r}function _p(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function gp(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Sp(e,t,\"get\"))}function Sp(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var bp=new WeakMap,Ep=new WeakMap,Pp=new WeakMap,wp=new WeakMap,Ap=new WeakMap,Op=new WeakSet,kp=new WeakSet,Tp=new WeakSet;function Dp(t){var r,n=e.MOCK,o=new URL(window.location.href);if(t.forciblySetPlatformId)n=_p(this,kp,Ip).call(this,t.forciblySetPlatformId.toLowerCase());else{var i=[\"y\",\"a\",\"n\",\"d\",\"e\",\"x\",\".\",\"n\",\"e\",\"t\"].join(\"\");o.searchParams.has(\"platform_id\")?n=_p(this,kp,Ip).call(this,o.searchParams.get(\"platform_id\").toLowerCase()):o.hostname.includes(i)||o.hash.includes(\"yandex\")?n=e.YANDEX:o.hostname.includes(\"crazygames.\")||o.hostname.includes(\"1001juegos.com\")?n=e.CRAZY_GAMES:o.hostname.includes(\"gamedistribution.com\")?n=e.GAME_DISTRIBUTION:o.hostname.includes(\"lagged.\")?n=e.LAGGED:o.searchParams.has(\"api_id\")&&o.searchParams.has(\"viewer_id\")&&o.searchParams.has(\"auth_key\")||o.searchParams.has(\"vk_app_id\")?n=e.VK:o.searchParams.has(\"app_id\")&&o.searchParams.has(\"player_id\")&&o.searchParams.has(\"game_sid\")&&o.searchParams.has(\"auth_key\")?n=e.ABSOLUTE_GAMES:o.searchParams.has(\"playdeck\")?n=e.PLAYDECK:o.hash.includes(\"tgWebAppData\")?n=e.TELEGRAM:o.hostname.includes(\"y8\")?n=e.Y8:o.hostname.includes(\"fbsbx\")?n=e.FACEBOOK:o.hostname.includes(\"poki-gdn\")||o.hostname.includes(\"poki-user-content\")?n=e.POKI:o.hostname.includes(\"msn.\")||o.hostname.includes(\"msnfun.\")||o.hostname.includes(\"start.gg\")?n=e.MSN:o.hash.includes(\"customUrl_\")||document.referrer.includes(\"bitquest\")?n=e.BITQUEST:o.hostname.includes(\"eponesh.\")?n=e.GAMEPUSH:o.hostname.includes(\"discordsays.com\")?n=e.DISCORD:o.hostname.includes(\"usercontent.goog\")?n=e.YOUTUBE:o.hostname.includes(\"portalapp.\")?n=e.PORTAL:o.hostname.includes(\"devvit.\")&&(n=e.REDDIT)}var a=t;switch(null!==(r=a.platforms)&&void 0!==r&&r[n]&&(a=Oe(a,a.platforms[n])),delete a.platforms,n){case e.VK:vp(this,Pp,new Rn(a));break;case e.YANDEX:vp(this,Pp,new $n(a));break;case e.CRAZY_GAMES:vp(this,Pp,new Go(a));break;case e.ABSOLUTE_GAMES:vp(this,Pp,new Jo(a));break;case e.GAME_DISTRIBUTION:vp(this,Pp,new ii(a));break;case e.OK:vp(this,Pp,new sa(a));break;case e.PLAYGAMA:vp(this,Pp,new Oa(a));break;case e.PLAYDECK:vp(this,Pp,new Ua(a));break;case e.TELEGRAM:vp(this,Pp,new is(a));break;case e.Y8:vp(this,Pp,new ws(a));break;case e.LAGGED:vp(this,Pp,new Rs(a));break;case e.FACEBOOK:vp(this,Pp,new ac(a));break;case e.POKI:vp(this,Pp,new qc(a));break;case e.QA_TOOL:vp(this,Pp,new Vc(a));break;case e.MSN:vp(this,Pp,new Su(a));break;case e.HUAWEI:vp(this,Pp,new il(a));break;case e.BITQUEST:vp(this,Pp,new Sl(a));break;case e.GAMEPUSH:vp(this,Pp,new Nl(a));break;case e.DISCORD:vp(this,Pp,new zl(a));break;case e.YOUTUBE:vp(this,Pp,new of(a));break;case e.JIO_GAMES:vp(this,Pp,new Sf(a));break;case e.PORTAL:vp(this,Pp,new Df(a));break;case e.REDDIT:vp(this,Pp,new cp(a));break;default:vp(this,Pp,new mn(a))}}function Ip(t){for(var r=Object.values(e),n=0;n<r.length;n++)if(t===r[n])return t;return e.MOCK}function Rp(e){return gp(this,bp)||console.error(m),gp(this,wp)[e]}const Lp=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),hp(this,Tp),hp(this,kp),hp(this,Op),yp(this,bp,{writable:!0,value:!1}),yp(this,Ep,{writable:!0,value:null}),yp(this,Pp,{writable:!0,value:null}),yp(this,wp,{writable:!0,value:{}}),yp(this,Ap,{writable:!0,value:\"javascript\"})}var c,p;return c=r,(p=[{key:\"version\",get:function(){return\"1.26.0\"}},{key:\"isInitialized\",get:function(){return gp(this,bp)}},{key:\"options\",get:function(){return gp(this,Pp).options}},{key:\"platform\",get:function(){return _p(this,Tp,Rp).call(this,t.PLATFORM)}},{key:\"player\",get:function(){return _p(this,Tp,Rp).call(this,t.PLAYER)}},{key:\"game\",get:function(){return _p(this,Tp,Rp).call(this,t.GAME)}},{key:\"storage\",get:function(){return _p(this,Tp,Rp).call(this,t.STORAGE)}},{key:\"advertisement\",get:function(){return _p(this,Tp,Rp).call(this,t.ADVERTISEMENT)}},{key:\"social\",get:function(){return _p(this,Tp,Rp).call(this,t.SOCIAL)}},{key:\"device\",get:function(){return _p(this,Tp,Rp).call(this,t.DEVICE)}},{key:\"leaderboard\",get:function(){return _p(this,Tp,Rp).call(this,t.LEADERBOARDS)}},{key:\"leaderboards\",get:function(){return _p(this,Tp,Rp).call(this,t.LEADERBOARDS)}},{key:\"payments\",get:function(){return _p(this,Tp,Rp).call(this,t.PAYMENTS)}},{key:\"achievements\",get:function(){return _p(this,Tp,Rp).call(this,t.ACHIEVEMENTS)}},{key:\"remoteConfig\",get:function(){return _p(this,Tp,Rp).call(this,t.REMOTE_CONFIG)}},{key:\"clipboard\",get:function(){return _p(this,Tp,Rp).call(this,t.CLIPBOARD)}},{key:\"engine\",get:function(){return gp(this,Ap)},set:function(e){vp(this,Ap,e)}},{key:\"PLATFORM_ID\",get:function(){return e}},{key:\"PLATFORM_MESSAGE\",get:function(){return f}},{key:\"MODULE_NAME\",get:function(){return t}},{key:\"EVENT_NAME\",get:function(){return n}},{key:\"INTERSTITIAL_STATE\",get:function(){return i}},{key:\"REWARDED_STATE\",get:function(){return a}},{key:\"BANNER_STATE\",get:function(){return s}},{key:\"STORAGE_TYPE\",get:function(){return u}},{key:\"VISIBILITY_STATE\",get:function(){return o}},{key:\"DEVICE_TYPE\",get:function(){return l}},{key:\"initialize\",value:function(e){var r=this;if(gp(this,bp))return Promise.resolve();if(!gp(this,Ep)){vp(this,Ep,new B);var n,o=\"./playgama-bridge-config.json\";e&&e.configFilePath&&(o=e.configFilePath),fetch(o).then((function(e){return e.json()})).then((function(e){n=fp({},e)})).catch((function(t){console.error(\"Config parsing error.\",t),n=fp({},e)})).finally((function(){_p(r,Op,Dp).call(r,n),gp(r,Pp).engine=r.engine,gp(r,wp)[t.PLATFORM]=new ue(gp(r,Pp)),gp(r,wp)[t.PLAYER]=new ye(gp(r,Pp)),gp(r,wp)[t.GAME]=new Ne(gp(r,Pp)),gp(r,wp)[t.STORAGE]=new xe(gp(r,Pp)),gp(r,wp)[t.ADVERTISEMENT]=new Kt(gp(r,Pp)),gp(r,wp)[t.SOCIAL]=new tr(gp(r,Pp)),gp(r,wp)[t.DEVICE]=new sr(gp(r,Pp)),gp(r,wp)[t.LEADERBOARDS]=new Sr(gp(r,Pp)),gp(r,wp)[t.PAYMENTS]=new Or(gp(r,Pp)),gp(r,wp)[t.REMOTE_CONFIG]=new Lr(gp(r,Pp)),gp(r,wp)[t.CLIPBOARD]=new Mr(gp(r,Pp)),gp(r,wp)[t.ACHIEVEMENTS]=new Wr(gp(r,Pp)),gp(r,Pp).initialize().then((function(){var e,n;if(vp(r,bp,!0),console.info(\"%c PlaygamaBridge v\".concat(r.version,\" initialized. \"),\"background: #01A5DA; color: white\"),gp(r,Ep)&&(gp(r,Ep).resolve(),vp(r,Ep,null)),null!==(e=gp(r,Pp).options)&&void 0!==e&&null!==(e=e.advertisement)&&void 0!==e&&null!==(e=e.interstitial)&&void 0!==e&&e.preloadOnStart){var o=gp(r,Pp).options.advertisement.interstitial.preloadOnStart;gp(r,wp)[t.ADVERTISEMENT].preloadInterstitial(o)}if(null!==(n=gp(r,Pp).options)&&void 0!==n&&null!==(n=n.advertisement)&&void 0!==n&&null!==(n=n.rewarded)&&void 0!==n&&n.preloadOnStart){var i=gp(r,Pp).options.advertisement.rewarded.preloadOnStart;gp(r,wp)[t.ADVERTISEMENT].preloadRewarded(i)}})).finally((function(){setTimeout((function(){return gp(r,wp)[t.GAME].setLoadingProgress(100,!0)}),700)}))}))}return gp(this,Ep).promise}}])&&pp(c.prototype,p),Object.defineProperty(c,\"prototype\",{writable:!1}),r}();window.bridge=new Lp,window.playgamaBridge=window.bridge})()})();",
            "",
            "    initializeBridge()",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add Action Parameter.",
      "fullName": "Add Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, isNaN(+value) ? value : +value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Add Bool Action Parameter.",
      "fullName": "Add Bool Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddBoolActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "trueorfalse"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Initialized.",
      "fullName": "Is Initialized",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsInitialized",
      "sentence": "Is Initialized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = window.bridge && window.bridge.isInitialized;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Id.",
      "fullName": "Platform Id",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Language.",
      "fullName": "Platform Language",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformLanguage",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.language;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Payload.",
      "fullName": "Platform Payload",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformPayload",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.payload;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Tld.",
      "fullName": "Platform Tld",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformTld",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.tld || '';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Is Audio Enabled.",
      "fullName": "Platform Is Audio Enabled",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformIsAudioEnabled",
      "sentence": "Platform Is Audio Enabled",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isAudioEnabled;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Is Paused.",
      "fullName": "Platform Is Paused",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformIsPaused",
      "sentence": "Platform Is Paused",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isPaused;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get All Games Supported.",
      "fullName": "Is Get All Games Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetAllGamesSupported",
      "sentence": "Is Get All Games Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetAllGamesSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get Game By Id Supported.",
      "fullName": "Is Get Game By Id Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetGameByIdSupported",
      "sentence": "Is Get Game By Id Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetGameByIdSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get All Games Completed.",
      "fullName": "On Get All Games Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetAllGamesCompleted",
      "sentence": "On Get All Games Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetAllGamesCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Game By Id Completed.",
      "fullName": "On Get Game By Id Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetGameByIdCompleted",
      "sentence": "On Get Game By Id Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetGameByIdCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get All Games.",
      "fullName": "Platform Get All Games",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetAllGames",
      "sentence": "Platform Get All Games",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getAllGames()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.allGames = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get Game By Id.",
      "fullName": "Platform Get Game By Id",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetGameById",
      "sentence": "Platform Get Game By Id",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getGameById(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.gameById = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Count.",
      "fullName": "Platform All Games Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Game Properties Count.",
      "fullName": "Platform All Game Properties Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length > 0 ",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0] || {}).length",
            "    : 0"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Name.",
      "fullName": "Platform All Games Property Name",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Value.",
      "fullName": "Platform All Games Property Value",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const gameIndex = eventsFunctionContext.getArgument(\"GameIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (gdjs._playgamaBridgeExtension.allGames.length > 0) {",
            "    const game = gdjs._playgamaBridgeExtension.allGames[gameIndex];",
            "",
            "    eventsFunctionContext.returnValue = isNaN(+property) ",
            "        ? game[property]",
            "        : game[Object.keys(game || {})[+property]]",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Game Index",
          "name": "GameIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform Game By Id Property Value.",
      "fullName": "Platform Game By Id Property Value",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformGameByIdPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (!gdjs._playgamaBridgeExtension.gameById) {",
            "    eventsFunctionContext.returnValue = '';",
            "    return;",
            "}",
            "",
            "if (typeof property === 'number') {",
            "    let properties = Object.keys(gdjs._playgamaBridgeExtension.gameById);",
            "    let propertyName = properties[property];",
            "    eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[propertyName];",
            "    return;",
            "}",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[property];"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform On Audio State Changed.",
      "fullName": "Platform On Audio State Changed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformOnAudioStateChanged",
      "sentence": "Platform On Audio State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform On Pause State Changed.",
      "fullName": "Platform On Pause State Changed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformOnPauseStateChanged",
      "sentence": "Platform On Pause State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Device Type.",
      "fullName": "Device Type",
      "functionType": "StringExpression",
      "group": "Device",
      "name": "DeviceType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.device.type;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Mobile.",
      "fullName": "Is Mobile",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsMobile",
      "sentence": "Is Mobile",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'mobile';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tablet.",
      "fullName": "Is Tablet",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTablet",
      "sentence": "Is Tablet",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tablet';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Desktop.",
      "fullName": "Is Desktop",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsDesktop",
      "sentence": "Is Desktop",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'desktop';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tv.",
      "fullName": "Is Tv",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTv",
      "sentence": "Is Tv",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tv';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Id.",
      "fullName": "Player Id",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Name.",
      "fullName": "Player Name",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Extra Properties Count.",
      "fullName": "Player Extra Properties Count",
      "functionType": "Expression",
      "group": "Player",
      "name": "PlayerExtraPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = Object.keys(bridge.player.extra).length",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Extra Property Name.",
      "fullName": "Player Extra Property Name",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerExtraPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "eventsFunctionContext.returnValue = Object.keys(bridge.player.extra)[propertyIndex]"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Player Extra Property Value.",
      "fullName": "Player Extra Property Value",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerExtraPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "eventsFunctionContext.returnValue = bridge.player.extra[property];"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Player Photos Count.",
      "fullName": "Player Photos Count",
      "functionType": "Expression",
      "group": "Player",
      "name": "PlayerPhotosCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.photos.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Photo # _PARAM1_.",
      "fullName": "Player Photo",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerPhoto",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\")",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos[index];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Visibility State.",
      "fullName": "Visibility State",
      "functionType": "StringExpression",
      "group": "Game",
      "name": "VisibilityState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.game.visibilityState;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Visibility State Changed.",
      "fullName": "On Visibility State Changed",
      "functionType": "Condition",
      "group": "Game",
      "name": "OnVisibilityStateChanged",
      "sentence": "On Visibility State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isVisibilityStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Default Storage Type.",
      "fullName": "Default Storage Type",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "DefaultStorageType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.storage.defaultType;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Storage Data.",
      "fullName": "Storage Data",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageData",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.storageData[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Storage Data As JSON.",
      "fullName": "Storage Data As JSON",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageDataAsJSON",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "let value = gdjs._playgamaBridgeExtension.storageData[key];",
            "",
            "if (typeof value !== 'string') {",
            "    value = JSON.stringify(value);",
            "}",
            "",
            "eventsFunctionContext.returnValue = value;"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Get Request.",
      "fullName": "Append Parameter to Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataGetRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Get Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataGetRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Set Request.",
      "fullName": "Append Parameter to Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataSetRequest",
      "sentence": "Append Parameter _PARAM1_ : _PARAM2_ to Storage Data Set Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "const value = eventsFunctionContext.getArgument(\"Value\")",
            "",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestKeys.push(key);",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestValues.push(value);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Delete Request.",
      "fullName": "Append Parameter to Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataDeleteRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Delete Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Last Action Completed Successfully.",
      "fullName": "Is Last Action Completed Successfully",
      "functionType": "Condition",
      "group": "Common",
      "name": "IsLastActionCompletedSuccessfully",
      "sentence": "Is Last Action Completed Successfully",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Get Request.",
      "fullName": "Send Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataGetRequest",
      "sentence": "Send Storage Data Get Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataGetRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.get(storageDataGetRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(data => {",
            "            for (let i = 0; i < data.length; i++) {",
            "                let key = storageDataGetRequestKeys[i];",
            "                let value = data[i];",
            "                storageData[key] = value;",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataGetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = true;",
            "            resolve()",
            "        });",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Set Request.",
      "fullName": "Send Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataSetRequest",
      "sentence": "Send Storage Data Set Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false",
            "",
            "const { storageData, storageDataSetRequestKeys, storageDataSetRequestValues } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.set(storageDataSetRequestKeys, storageDataSetRequestValues, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            for (let i = 0; i < storageDataSetRequestKeys.length; i++) {",
            "                let key = storageDataSetRequestKeys[i]",
            "                storageData[key] = storageDataSetRequestValues[i]",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestValues = []",
            "",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Delete Request.",
      "fullName": "Send Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataDeleteRequest",
      "sentence": "Send Storage Data Delete Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataDeleteRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.delete(storageDataDeleteRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            if (storageData) {",
            "                for (const key of storageDataDeleteRequestKeys) {",
            "                    delete storageData[key];",
            "                }",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys = [];",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Get Request Completed.",
      "fullName": "On Storage Data Get Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataGetRequestCompleted",
      "sentence": "On Storage Data Get Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Set Request Completed.",
      "fullName": "On Storage Data Set Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataSetRequestCompleted",
      "sentence": "On Storage Data Set Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Delete Request Completed.",
      "fullName": "On Storage Data Delete Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataDeleteRequestCompleted",
      "sentence": "On Storage Data Delete Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Storage Data.",
      "fullName": "Has Storage Data",
      "functionType": "Condition",
      "group": "Storage",
      "name": "HasStorageData",
      "sentence": "Has _PARAM1_ in Storage Data",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { storageData } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = storageData[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Supported.",
      "fullName": "Is Storage Supported",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageSupported",
      "sentence": "Is Storage Supported _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isSupported(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Available.",
      "fullName": "Is Storage Available",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageAvailable",
      "sentence": "Is Storage Available _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isAvailable(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Set Minimum Delay Between Interstitial.",
      "fullName": "Set Minimum Delay Between Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "SetMinimumDelayBetweenInterstitial",
      "sentence": "Set Minimum Delay Between Interstitial _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const seconds = eventsFunctionContext.getArgument(\"Seconds\");",
            "",
            "bridge.advertisement.setMinimumDelayBetweenInterstitial(seconds);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Seconds",
          "name": "Seconds",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Banner.",
      "fullName": "Show Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowBanner",
      "sentence": "Show Banner on _PARAM1_  with placement _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const position = eventsFunctionContext.getArgument(\"Position\");",
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showBanner(position, placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Position",
          "name": "Position",
          "supplementaryInformation": "[\"bottom\",\"top\"]",
          "type": "stringWithSelector"
        },
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Hide Banner.",
      "fullName": "Hide Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "HideBanner",
      "sentence": "Hide Banner",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "bridge.advertisement.hideBanner(gdjs._playgamaBridgeExtension.actionParametersContainer);",
            "",
            "gdjs._playgamaBridgeExtension.actionParametersContainer = {};"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Show Interstitial.",
      "fullName": "Show Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowInterstitial",
      "sentence": "Show Interstitial with placement _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showInterstitial(placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Rewarded.",
      "fullName": "Show Rewarded",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowRewarded",
      "sentence": "Show Rewarded with placement _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showRewarded(placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check AdBlock.",
      "fullName": "Check AdBlock",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "CheckAdBlock",
      "sentence": "Check AdBlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.advertisement.checkAdBlock()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.isAdBlockDetected = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Minimum Delay Between Interstitial.",
      "fullName": "Minimum Delay Between Interstitial",
      "functionType": "Expression",
      "group": "Advertisement",
      "name": "MinimumDelayBetweenInterstitial",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.advertisement.minimumDelayBetweenInterstitial;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Banner State.",
      "fullName": "Banner State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "BannerState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Interstitial State.",
      "fullName": "Interstitial State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "InterstitialState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rewarded State.",
      "fullName": "Rewarded State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "RewardedState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.rewardedState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rewarded Placement.",
      "fullName": "Rewarded Placement",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "RewardedPlacement",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.advertisement.rewardedPlacement;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Banner Supported.",
      "fullName": "Is Banner Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsBannerSupported",
      "sentence": "Is Banner Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isBannerSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Interstitial Supported.",
      "fullName": "Is Interstitial Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsInterstitialSupported",
      "sentence": "Is Interstitial Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isInterstitialSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Rewarded Supported.",
      "fullName": "Is Rewarded Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsRewardedSupported",
      "sentence": "Is Rewarded Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isRewardedSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner State Changed.",
      "fullName": "On Banner State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerStateChanged",
      "sentence": "On Banner State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isBannerStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Loading.",
      "fullName": "On Banner Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerLoading",
      "sentence": "On Banner Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Shown.",
      "fullName": "On Banner Shown",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerShown",
      "sentence": "On Banner Shown",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"shown\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Hidden.",
      "fullName": "On Banner Hidden",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerHidden",
      "sentence": "On Banner Hidden",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"hidden\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Failed.",
      "fullName": "On Banner Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerFailed",
      "sentence": "On Banner Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial State Changed.",
      "fullName": "On Interstitial State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialStateChanged",
      "sentence": "On Interstitial State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInterstitialStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Loading.",
      "fullName": "On Interstitial Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialLoading",
      "sentence": "On Interstitial Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Opened.",
      "fullName": "On Interstitial Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialOpened",
      "sentence": "On Interstitial Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Closed.",
      "fullName": "On Interstitial Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialClosed",
      "sentence": "On Interstitial Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Failed.",
      "fullName": "On Interstitial Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialFailed",
      "sentence": "On Interstitial Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded State Changed.",
      "fullName": "On Rewarded State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedStateChanged",
      "sentence": "On Rewarded State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRewardedStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Loading.",
      "fullName": "On Rewarded Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedLoading",
      "sentence": "On Rewarded Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Opened.",
      "fullName": "On Rewarded Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedOpened",
      "sentence": "On Rewarded Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Closed.",
      "fullName": "On Rewarded Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedClosed",
      "sentence": "On Rewarded Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Rewarded.",
      "fullName": "On Rewarded Rewarded",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedRewarded",
      "sentence": "On Rewarded Rewarded",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"rewarded\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Failed.",
      "fullName": "On Rewarded Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedFailed",
      "sentence": "On Rewarded Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Check AdBlock Completed.",
      "fullName": "On Check AdBlock Completed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnCheckAdBlockCompleted",
      "sentence": "On Check AdBlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Message.",
      "fullName": "Send Message",
      "functionType": "Action",
      "group": "Platform",
      "name": "SendMessage",
      "sentence": "Send Message _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const message = eventsFunctionContext.getArgument(\"Message\")",
            "",
            "bridge.platform.sendMessage(bridge.PLATFORM_MESSAGE[message])",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Message",
          "name": "Message",
          "supplementaryInformation": "[\"GAME_READY\",\"IN_GAME_LOADING_STARTED\",\"IN_GAME_LOADING_STOPPED\",\"GAMEPLAY_STARTED\",\"GAMEPLAY_STOPPED\",\"PLAYER_GOT_ACHIEVEMENT\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Get Server Time.",
      "fullName": "Get Server Time",
      "functionType": "Action",
      "group": "Platform",
      "name": "GetServerTime",
      "sentence": "Get Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getServerTime()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.serverTime = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Server Time.",
      "fullName": "Server Time",
      "functionType": "Expression",
      "group": "Platform",
      "name": "ServerTime",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Server Time Completed.",
      "fullName": "On Get Server Time Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetServerTimeCompleted",
      "sentence": "On Get Server Time Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetServerTimeCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Server Time.",
      "fullName": "Has Server Time",
      "functionType": "Condition",
      "group": "Platform",
      "name": "HasServerTime",
      "sentence": "Has Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime > 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Authorize Player.",
      "fullName": "Authorize Player",
      "functionType": "Action",
      "group": "Player",
      "name": "AuthorizePlayer",
      "sentence": "Authorize Player",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.player.authorize(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorization Supported.",
      "fullName": "Is Player Authorization Supported",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorizationSupported",
      "sentence": "Is Player Authorization Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorizationSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorized.",
      "fullName": "Is Player Authorized",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorized",
      "sentence": "Is Player Authorized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorized;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Authorize Player Completed.",
      "fullName": "On Authorize Player Completed",
      "functionType": "Condition",
      "group": "Player",
      "name": "OnAuthorizePlayerCompleted",
      "sentence": "On Authorize Player Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Name.",
      "fullName": "Does Player Have Name",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHaveName",
      "sentence": "Does Player Have Name",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name === 'string';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Photo.",
      "fullName": "Does Player Have Photo",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHavePhoto",
      "sentence": "Does Player Have Photo # _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\");",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos.length > index;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Share.",
      "fullName": "Share",
      "functionType": "Action",
      "group": "Social",
      "name": "Share",
      "sentence": "Share",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.share(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsShareCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Invite Friends.",
      "fullName": "Invite Friends",
      "functionType": "Action",
      "group": "Social",
      "name": "InviteFriends",
      "sentence": "Invite Friends",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.inviteFriends(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = true;",
            "            resolve();",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Join Community.",
      "fullName": "Join Community",
      "functionType": "Action",
      "group": "Social",
      "name": "JoinCommunity",
      "sentence": "Join Community",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.joinCommunity(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Create Post.",
      "fullName": "Create Post",
      "functionType": "Action",
      "group": "Social",
      "name": "CreatePost",
      "sentence": "Create Post",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.createPost(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Home Screen.",
      "fullName": "Add To Home Screen",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToHomeScreen",
      "sentence": "Add To Home Screen",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "   bridge.social.addToHomeScreen()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Favorites.",
      "fullName": "Add To Favorites",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToFavorites",
      "sentence": "Add To Favorites",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.addToFavorites()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rate.",
      "fullName": "Rate",
      "functionType": "Action",
      "group": "Social",
      "name": "Rate",
      "sentence": "Rate",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.rate()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsRateCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Share Supported.",
      "fullName": "Is Share Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsShareSupported",
      "sentence": "Is Share Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isShareSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Share Completed.",
      "fullName": "On Share Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnShareCompleted",
      "sentence": "On Share Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isShareCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Invite Friends Supported.",
      "fullName": "Is Invite Friends Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsInviteFriendsSupported",
      "sentence": "Is Invite Friends Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isInviteFriendsSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Invite Friends Completed.",
      "fullName": "On Invite Friends Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnInviteFriendsCompleted",
      "sentence": "On Invite Friends Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInviteFriendsCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Join Community Supported.",
      "fullName": "Is Join Community Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsJoinCommunitySupported",
      "sentence": "Is Join Community Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isJoinCommunitySupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Join Community Completed.",
      "fullName": "On Join Community Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnJoinCommunityCompleted",
      "sentence": "On Join Community Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isJoinCommunityCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Create Post Supported.",
      "fullName": "Is Create Post Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsCreatePostSupported",
      "sentence": "Is Create Post Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isCreatePostSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Create Post Completed.",
      "fullName": "On Create Post Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnCreatePostCompleted",
      "sentence": "On Create Post Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCreatePostCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Home Screen Supported.",
      "fullName": "Is Add To Home Screen Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToHomeScreenSupported",
      "sentence": "Is Add To Home Screen Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToHomeScreenSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Home Screen Completed.",
      "fullName": "On Add To Home Screen Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToHomeScreenCompleted",
      "sentence": "On Add To Home Screen Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Favorites Supported.",
      "fullName": "Is Add To Favorites Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToFavoritesSupported",
      "sentence": "Is Add To Favorites Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToFavoritesSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Favorites Completed.",
      "fullName": "On Add To Favorites Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToFavoritesCompleted",
      "sentence": "On Add To Favorites Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Rate Supported.",
      "fullName": "Is Rate Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsRateSupported",
      "sentence": "Is Rate Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isRateSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rate Completed.",
      "fullName": "On Rate Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnRateCompleted",
      "sentence": "On Rate Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRateCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is External Links Allowed.",
      "fullName": "Is External Links Allowed",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsExternalLinksAllowed",
      "sentence": "Is External Links Allowed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isExternalLinksAllowed;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Set Score.",
      "fullName": "Leaderboards Set Score",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsSetScore",
      "sentence": "Leaderboards Set Score - Id: _PARAM1_, Score: _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    const score = eventsFunctionContext.getArgument('Score');",
            "    bridge.leaderboards.setScore(id, score)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        },
        {
          "description": "Score",
          "name": "Score",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Get Entries.",
      "fullName": "Leaderboards Get Entries",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsGetEntries",
      "sentence": "Leaderboards Get Entries - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "gdjs._playgamaBridgeExtension.leaderboardEntries = [];",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    bridge.leaderboards.getEntries(id)",
            "        .then(entries => {",
            "            gdjs._playgamaBridgeExtension.leaderboardEntries = entries || [];",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Show Native Popup.",
      "fullName": "Leaderboards Show Native Popup",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsShowNativePopup",
      "sentence": "Leaderboards Show Native Popup - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    bridge.leaderboards.showNativePopup(id)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Type.",
      "fullName": "Leaderboards Type",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardsType",
      "sentence": "Is Leaderboard Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "supplementaryInformation": "[\"not_available\",\"in_game\",\"native\"]",
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Not Available.",
      "fullName": "The leaderboard is of type Not Available",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNotAvailable",
      "sentence": "The leaderboard is of type Not Available",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'not_available';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type In Game.",
      "fullName": "The leaderboard is of type In Game",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeInGame",
      "sentence": "The leaderboard is of type In Game",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'in_game';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Native.",
      "fullName": "The leaderboard is of type Native",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNative",
      "sentence": "The leaderboard is of type Native",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'native';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Native Popup.",
      "fullName": "The leaderboard is of type Native Popup",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNativePopup",
      "sentence": "The leaderboard is of type Native Popup",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'native_popup';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Set Score Completed.",
      "fullName": "On Leaderboards Set Score Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsSetScoreCompleted",
      "sentence": "On Leaderboards Set Score Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Get Entries Completed.",
      "fullName": "On Leaderboards Get Entries Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsGetEntriesCompleted",
      "sentence": "On Leaderboards Get Entries Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Show Native Popup Completed.",
      "fullName": "On Leaderboards Show Native Popup Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsShowNativePopupCompleted",
      "sentence": "On Leaderboards Show Native Popup Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsShowNativePopupCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entries Count.",
      "fullName": "Leaderboard Entries Count",
      "functionType": "Expression",
      "group": "Leaderboards",
      "name": "LeaderboardEntriesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.leaderboardEntries.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Id.",
      "fullName": "Leaderboard Entry Id",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['id'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Name.",
      "fullName": "Leaderboard Entry Name",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['name'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Photo.",
      "fullName": "Leaderboard Entry Photo",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryPhoto",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['photo'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Rank.",
      "fullName": "Leaderboard Entry Rank",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryRank",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['rank'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Score.",
      "fullName": "Leaderboard Entry Score",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryScore",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['score'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase.",
      "fullName": "Payments Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsPurchase",
      "sentence": "Payments Purchase - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument(\"Id\");",
            "    bridge.payments.purchase(id)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchase = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Get Purchases.",
      "fullName": "Payments Get Purchases",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetPurchases",
      "sentence": "Payments Get Purchases",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getPurchases()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchases = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Get Catalog.",
      "fullName": "Payments Get Catalog",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetCatalog",
      "sentence": "Payments Get Catalog",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getCatalog()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsCatalog = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Consume Purchase.",
      "fullName": "Payments Consume Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsConsumePurchase",
      "sentence": "Payments Consume Purchase - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument(\"Id\");",
            "    bridge.payments.consumePurchase(id)",
            "        .then((data) => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchase = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Payments Supported.",
      "fullName": "Is Payments Supported",
      "functionType": "Condition",
      "group": "Payments",
      "name": "IsPaymentsSupported",
      "sentence": "Is Payments Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.payments.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Purchase Completed.",
      "fullName": "On Payments Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsPurchaseCompleted",
      "sentence": "On Payments Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Purchases Completed.",
      "fullName": "On Payments Get Purchases Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetPurchasesCompleted",
      "sentence": "On Payments Get Purchases Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Catalog Completed.",
      "fullName": "On Payments Get Catalog Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetCatalogCompleted",
      "sentence": "On Payments Get Catalog Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Consume Purchase Completed.",
      "fullName": "On Payments Consume Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsConsumePurchaseCompleted",
      "sentence": "On Payments Consume Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Properties Count.",
      "fullName": "Payments Last Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase).length",
            "    : 0;",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Name.",
      "fullName": "Payments Last Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase)[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "const { paymentsPurchase } = gdjs._playgamaBridgeExtension;",
            "",
            "if (!paymentsPurchase) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "} else {",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? paymentsPurchase[property]",
            "        : paymentsPurchase[Object.keys(paymentsPurchase)[property]];",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchases Count.",
      "fullName": "Payments Purchases Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Properties Count.",
      "fullName": "Payments Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Property Name.",
      "fullName": "Payments Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const purchaseIndex = eventsFunctionContext.getArgument(\"PurchaseIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsPurchases } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsPurchases.length > 0) {",
            "    const purchase = paymentsPurchases[purchaseIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? purchase[property]",
            "        : purchase[Object.keys(purchase)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Purchase Index",
          "name": "PurchaseIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Items Count.",
      "fullName": "Payments Catalog Items Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Properties Count.",
      "fullName": "Payments Catalog Item Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Name.",
      "fullName": "Payments Catalog Item Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Value.",
      "fullName": "Payments Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const productIndex = eventsFunctionContext.getArgument(\"ProductIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length > 0) {",
            "    const product = paymentsCatalog[productIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? product[property]",
            "        : product[Object.keys(product)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Product Index",
          "name": "ProductIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments First Catalog Item Property Value.",
      "fullName": "Payments First Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsFirstCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const filterProperty = eventsFunctionContext.getArgument(\"FilterProperty\");",
            "const filterPropertyValue = eventsFunctionContext.getArgument(\"FilterPropertyValue\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length <= 0) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "",
            "const product = paymentsCatalog.find(item => item[filterProperty] === filterPropertyValue);",
            "",
            "if (!product) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "    ",
            "eventsFunctionContext.returnValue = isNaN(+property)",
            "    ? product[property]",
            "    : product[Object.keys(product)[property]];",
            "",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Filter Property",
          "name": "FilterProperty",
          "type": "string"
        },
        {
          "description": "Filter Property Value",
          "name": "FilterPropertyValue",
          "type": "string"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Supported.",
      "fullName": "Is Achievements Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsSupported",
      "sentence": "Is Achievements Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Get List Supported.",
      "fullName": "Is Achievements Get List Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsGetListSupported",
      "sentence": "Is Achievements Get List Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isGetListSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Native Popup Supported.",
      "fullName": "Is Achievements Native Popup Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsNativePopupSupported",
      "sentence": "Is Achievements Native Popup Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isNativePopupSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Unlock Completed.",
      "fullName": "On Achievements Unlock Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsUnlockCompleted",
      "sentence": "On Achievements Unlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Get List Completed.",
      "fullName": "On Achievements Get List Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsGetListCompleted",
      "sentence": "On Achievements Get List Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Show Native Popup Completed.",
      "fullName": "On Achievements Show Native Popup Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsShowNativePopupCompleted",
      "sentence": "On Achievements Show Native Popup Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Count.",
      "fullName": "Achievements Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Properties Count.",
      "fullName": "Achievement Properties Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Name.",
      "fullName": "Achievement Property Name",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {})[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Value.",
      "fullName": "Achievement Property Value",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const achievementIndex = eventsFunctionContext.getArgument(\"AchievementIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { achievementsList } = gdjs._playgamaBridgeExtension;",
            "",
            "if (achievementsList.length > 0) {",
            "    const achievement = achievementsList[achievementIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? achievement[property]",
            "        : achievement[Object.keys(achievement)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Achievement Index",
          "name": "AchievementIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievements Unlock.",
      "fullName": "Achievements Unlock",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsUnlock",
      "sentence": "Achievements Unlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.unlock(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Get List.",
      "fullName": "Achievements Get List",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsGetList",
      "sentence": "Achievements Get List",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.getList(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.achievementsList = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Show Native Popup.",
      "fullName": "Achievements Show Native Popup",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsShowNativePopup",
      "sentence": "Achievements Show Native Popup",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.showNativePopup(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Remote Config Supported.",
      "fullName": "Is Remote Config Supported",
      "functionType": "Condition",
      "group": "Remote",
      "name": "IsRemoteConfigSupported",
      "sentence": "Is Remote Config Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.remoteConfig.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Remote Config Got Completed.",
      "fullName": "On Remote Config Got Completed",
      "functionType": "Condition",
      "group": "Remote",
      "name": "OnRemoteConfigGotCompleted",
      "sentence": "On Remote Config Got Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Remote Config Value.",
      "fullName": "Has Remote Config Value",
      "functionType": "Condition",
      "group": "Remote",
      "name": "HasRemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = remoteConfig[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Remote Config Value.",
      "fullName": "Remote Config Value",
      "functionType": "StringExpression",
      "group": "Remote",
      "name": "RemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "eventsFunctionContext.returnValue = remoteConfig[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Remote Config Get Request.",
      "fullName": "Send Remote Config Get Request",
      "functionType": "Action",
      "group": "Remote",
      "name": "SendRemoteConfigGetRequest",
      "sentence": "Send Remote Config Get Request",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    window.bridge.remoteConfig.get(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.remoteConfig = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Ad Block Detected.",
      "fullName": "Is Ad Block Detected",
      "functionType": "Condition",
      "name": "IsAdBlockDetected",
      "sentence": "Is Ad Block Detected",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAdBlockDetected;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [],
  "eventsBasedObjects": []
}