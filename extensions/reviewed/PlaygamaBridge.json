{
  "author": "Playgama",
  "category": "Ads",
  "extensionNamespace": "",
  "fullName": "Playgama Bridge",
  "gdevelopVersion": "",
  "helpPath": "https://wiki.playgama.com/playgama/sdk/engines/gdevelop",
  "iconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSIjOTc0N0ZGIi8+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",
  "name": "PlaygamaBridge",
  "previewIconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K",
  "shortDescription": "One SDK for cross-platform publishing HTML5 games.",
  "version": "1.24.0",
  "description": [
    "One SDK for cross-platform publishing HTML5 games. ",
    "Please refer to [Playgama documentation](https://wiki.playgama.com/playgama/sdk/engines/gdevelop) for detailed guidance."
  ],
  "origin": {
    "identifier": "PlaygamaBridge",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "playgama",
    "bridge",
    "html5",
    "sdk",
    "platform",
    "ads"
  ],
  "authorIds": [
    "pGl7czfmrbUqIa4ZZkTji4NL9zX2"
  ],
  "dependencies": [],
  "globalVariables": [],
  "sceneVariables": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onFirstSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "window.bridgeOptions = {",
            "    \"platforms\": {",
            "        \"game_distribution\": {",
            "            \"gameId\": \"\"",
            "        },",
            "        \"telegram\": {",
            "            \"adsgramBlockId\": \"\"",
            "        },",
            "        \"y8\": {",
            "            \"gameId\": \"\",",
            "            \"adsenseId\": \"\",",
            "            \"channelId\": \"\"",
            "        },",
            "        \"lagged\": {",
            "            \"devId\": \"\",",
            "            \"publisherId\": \"\"",
            "        },",
            "        \"msn\": {",
            "            \"gameId\": \"\"",
            "        },",
            "        \"discord\" : {",
            "            \"appId\": \"\"",
            "        },",
            "        \"gamepush\": {",
            "            \"projectId\": \"\",",
            "            \"publicToken\": \"\"",
            "        }",
            "    },",
            "    \"advertisement\": {",
            "        \"interstitial\": {",
            "            \"preloadOnStart\": true",
            "        },",
            "        \"rewarded\": {",
            "            \"preloadOnStart\": true",
            "        },",
            "        \"useBuiltInErrorPopup\": true,",
            "        \"backfillId\": \"\"",
            "    },",
            "    \"payments\": [],",
            "    \"leaderboards\": []",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "(()=>{var e={258:e=>{!function(t){e.exports=t;var r=\"listeners\",n={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var r=this;return n.originalListener=t,a(r,e).push(n),r;function n(){i.call(r,e,n),t.apply(this,arguments)}},off:i,emit:function(e,t){var r=this,n=a(r,e,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(e){e.call(r)}));else if(2===o)n.forEach((function(e){e.call(r,t)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(e){e.apply(r,i)}))}return!!n.length}};function o(e){for(var t in n)e[t]=n[t];return e}function i(e,t){var n,o=this;if(arguments.length){if(t){if(n=a(o,e,!0)){if(!(n=n.filter((function(e){return e!==t&&e.originalListener!==t}))).length)return i.call(o,e);o[r][e]=n}}else if((n=o[r])&&(delete n[e],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(e,t,n){if(!n||e[r]){var o=e[r]||(e[r]={});return o[t]||(o[t]=[])}}o(t.prototype),t.mixin=o}((function e(){if(!(this instanceof e))return new e}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{\"use strict\";var e={VK:\"vk\",OK:\"ok\",YANDEX:\"yandex\",CRAZY_GAMES:\"crazy_games\",ABSOLUTE_GAMES:\"absolute_games\",GAME_DISTRIBUTION:\"game_distribution\",PLAYGAMA:\"playgama\",PLAYDECK:\"playdeck\",TELEGRAM:\"telegram\",Y8:\"y8\",LAGGED:\"lagged\",FACEBOOK:\"facebook\",POKI:\"poki\",MOCK:\"mock\",QA_TOOL:\"qa_tool\",MSN:\"msn\",BITQUEST:\"bitquest\",GAMEPUSH:\"gamepush\",DISCORD:\"discord\",YOUTUBE:\"youtube\"},t={PLATFORM:\"platform\",PLAYER:\"player\",GAME:\"game\",STORAGE:\"storage\",ADVERTISEMENT:\"advertisement\",SOCIAL:\"social\",DEVICE:\"device\",LEADERBOARDS:\"leaderboards\",PAYMENTS:\"payments\",REMOTE_CONFIG:\"remote_config\",CLIPBOARD:\"clipboard\",ACHIEVEMENTS:\"achievements\"},n={INTERSTITIAL_STATE_CHANGED:\"interstitial_state_changed\",REWARDED_STATE_CHANGED:\"rewarded_state_changed\",BANNER_STATE_CHANGED:\"banner_state_changed\",VISIBILITY_STATE_CHANGED:\"visibility_state_changed\",AUDIO_STATE_CHANGED:\"audio_state_changed\",PAUSE_STATE_CHANGED:\"pause_state_changed\"},o={VISIBLE:\"visible\",HIDDEN:\"hidden\"},i={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\"},a={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\",REWARDED:\"rewarded\"},s={LOADING:\"loading\",SHOWN:\"shown\",HIDDEN:\"hidden\",FAILED:\"failed\"},u=\"banner-container\",c={LOCAL_STORAGE:\"local_storage\",PLATFORM_INTERNAL:\"platform_internal\"},l={DESKTOP:\"desktop\",MOBILE:\"mobile\",TABLET:\"tablet\",TV:\"tv\"},f={GAME_READY:\"game_ready\",IN_GAME_LOADING_STARTED:\"in_game_loading_started\",IN_GAME_LOADING_STOPPED:\"in_game_loading_stopped\",GAMEPLAY_STARTED:\"gameplay_started\",GAMEPLAY_STOPPED:\"gameplay_stopped\",PLAYER_GOT_ACHIEVEMENT:\"player_got_achievement\",GAME_OVER:\"game_over\"},p=\"not_available\",d=\"in_game\",h=\"native\",y={INITIALIZE:\"initialize\",AUTHORIZE_PLAYER:\"authorize_player\",SHARE:\"share\",INVITE_FRIENDS:\"invite_friends\",JOIN_COMMUNITY:\"join_community\",CREATE_POST:\"create_post\",ADD_TO_HOME_SCREEN:\"add_to_home_screen\",ADD_TO_FAVORITES:\"add_to_favorites\",RATE:\"rate\",LEADERBOARDS_SET_SCORE:\"leaderboards_set_score\",LEADERBOARDS_GET_ENTRIES:\"leaderboards_get_entries\",GET_PURCHASES:\"get_purchases\",GET_CATALOG:\"get_catalog\",PURCHASE:\"purchase\",CONSUME_PURCHASE:\"consume_purchase\",GET_REMOTE_CONFIG:\"get_remote_config\",GET_STORAGE_DATA:\"get_storage_data\",SHOW_LEADERBOARD_NATIVE_POPUP:\"show_leaderboard_native_popup\",CLIPBOARD_WRITE:\"clipboard_write\",ADBLOCK_DETECT:\"adblock_detect\"},m={message:\"Before using the SDK you must initialize it\"},v={message:\"Storage not supported\"},_={message:\"Storage not available\"},g={message:\"GameDistribution Game ID is undefined\"},S={message:\"Y8 Game params are not found\"},b={message:\"OK Game params are not found\"},E={message:\"Lagged Game params are not found\"},P={message:\"GamePush Game params are not found\"},w={message:\"Message is too long\"},A={message:\"Discord Game params are not found\"};function O(e){return O=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},O(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function D(e){var t=function(e,t){if(\"object\"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=O(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==O(t)?t:String(t)}function I(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function R(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,L(e,t,\"set\"),r),r}function T(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,L(e,t,\"get\"))}function L(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var j=new WeakMap,N=new WeakMap,C=new WeakMap;const B=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),I(this,j,{writable:!0,value:void 0}),I(this,N,{writable:!0,value:void 0}),I(this,C,{writable:!0,value:void 0}),R(this,j,new Promise((function(e,r){R(t,N,e),R(t,C,r)})))}var t,r;return t=e,(r=[{key:\"promise\",get:function(){return T(this,j)}},{key:\"resolve\",value:function(e){T(this,N).call(this,e)}},{key:\"reject\",value:function(e){T(this,C).call(this,e)}}])&&k(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();var G=r(258),M=r.n(G);function F(e){return F=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},F(e)}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function U(e,t,r){return t&&H(e.prototype,t),r&&H(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function x(e){var t=function(e,t){if(\"object\"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=F(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==F(t)?t:String(t)}const z=U((function e(t){var r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,o=void 0,(n=x(n=\"_platformBridge\"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=t}));function V(e){return V=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},V(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Z(n.key),n)}}function Z(e){var t=function(e,t){if(\"object\"!=V(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=V(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==V(t)?t:String(t)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function K(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function q(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Q=new WeakMap,X=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Y(e,t)}(s,e);var t,r,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(o);if(i){var r=J(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===V(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return K(e)}(this,e)});function s(e){var t,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),r=K(t=a.call(this,e)),i={writable:!0,value:!1},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(r,o=Q),o.set(r,i),t._platformBridge.on(n.AUDIO_STATE_CHANGED,(function(e){return t.emit(n.AUDIO_STATE_CHANGED,e)})),t._platformBridge.on(n.PAUSE_STATE_CHANGED,(function(e){return t.emit(n.PAUSE_STATE_CHANGED,e)})),t}return t=s,(r=[{key:\"id\",get:function(){return this._platformBridge.platformId}},{key:\"sdk\",get:function(){return this._platformBridge.platformSdk}},{key:\"language\",get:function(){return this._platformBridge.platformLanguage}},{key:\"payload\",get:function(){return this._platformBridge.platformPayload}},{key:\"tld\",get:function(){return this._platformBridge.platformTld}},{key:\"isGetAllGamesSupported\",get:function(){return this._platformBridge.isPlatformGetAllGamesSupported}},{key:\"isGetGameByIdSupported\",get:function(){return this._platformBridge.isPlatformGetGameByIdSupported}},{key:\"isAudioEnabled\",get:function(){return this._platformBridge.isPlatformAudioEnabled}},{key:\"isPaused\",get:function(){return this._platformBridge.isPlatformPaused}},{key:\"sendMessage\",value:function(e){if(e===f.GAME_READY){if(function(e,t){return t.get?t.get.call(e):t.value}(this,q(this,Q,\"get\")))return Promise.reject();!function(e,t,r){(function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}})(e,q(e,t,\"set\"),r)}(this,Q,!0)}return this._platformBridge.sendMessage(e)}},{key:\"getServerTime\",value:function(){return this._platformBridge.getServerTime()}},{key:\"getAllGames\",value:function(){return this._platformBridge.getAllGames()}},{key:\"getGameById\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getGameById(t)}return this._platformBridge.getGameById(e)}}])&&W(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),s}(z);M().mixin(X.prototype);const $=X;function ee(e){return ee=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ee(e)}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,re(n.key),n)}}function re(e){var t=function(e,t){if(\"object\"!=ee(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ee(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ee(t)?t:String(t)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}const ie=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ne(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oe(n);if(o){var r=oe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ee(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isAuthorizationSupported\",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:\"isAuthorized\",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:\"id\",get:function(){return this._platformBridge.playerId}},{key:\"name\",get:function(){return this._platformBridge.playerName}},{key:\"photos\",get:function(){return this._platformBridge.playerPhotos}},{key:\"authorize\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.authorize(t)}return this._platformBridge.authorizePlayer(e)}}])&&te(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(z);function ae(e){return ae=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ae(e)}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e,t,r){var n;return n=function(e,t){if(\"object\"!=ae(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ae(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(t),(t=\"symbol\"==ae(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ce=function(e){return new Promise((function(t){var r=document.createElement(\"script\");r.src=e,r.addEventListener(\"load\",t),document.head.appendChild(r)}))};function le(e){var t=document.createElement(\"div\");return t.id=u,t.style.position=\"absolute\",document.body.appendChild(t),\"top\"===e?(t.style.top=\"0px\",t.style.height=\"90px\",t.style.width=\"100%\"):(t.style.bottom=\"0px\",t.style.height=\"90px\",t.style.width=\"100%\"),t}var fe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length<=0?Promise.resolve():new Promise((function(e){var r=setInterval((function(){for(var n=window,o=0;o<t.length;o++){var i=n[t[o]];if(!i)return;n=i}e(),clearInterval(r)}),100)}))},pe=function(e){return/^data:image\\/(png|jpeg|jpg|gif|bmp|webp|svg\\+xml);base64,[A-Za-z0-9+/]+={0,2}$/.test(e)},de=function(e,t){return void 0===e[t]?null:e[t]};function he(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)?e.reduce((function(e,n,o){if(e[o]=de(t,n),r)try{e[o]=JSON.parse(e[o])}catch(e){console.error(e)}return e}),new Array(e.length)):de(t,e)}function ye(e,t){for(var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),n=Object.keys(t),o=0;o<n.length;o++){var i=n[o];i in e&&t[i]instanceof Object&&e[i]instanceof Object?r[i]=ye(e[i],t[i]):r[i]=t[i]}return r}function me(e){return me=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},me(e)}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ee(n.key),n)}}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function ge(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}function be(e,t,r){return(t=Ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ee(e){var t=function(e,t){if(\"object\"!=me(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=me(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==me(t)?t:String(t)}var Pe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&_e(e,t)}(s,e);var t,r,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Se(o);if(i){var r=Se(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===me(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ge(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),be(ge(t=a.call(this,e)),\"_currentLoadingProgress\",null),be(ge(t),\"_loadingProcessCompleted\",!1),t._platformBridge.on(n.VISIBILITY_STATE_CHANGED,(function(e){return t.emit(n.VISIBILITY_STATE_CHANGED,e)})),t._platformBridge.options.disableLoadingLogo||function(){var e=document.createElement(\"style\");e.textContent=\"\\n        .fullscreen {\\n            background: #242424;\\n            width: 100vw;\\n            height: 100vh;\\n            position: absolute;\\n            top: 0px;\\n            left: 0px;\\n        }\\n\\n        #loading-overlay {\\n            font-size: 20px;\\n            z-index: 1;\\n            display: flex;\\n            flex-direction: column;\\n            justify-content: center;\\n            align-items: center;\\n        }\\n\\n        #logo {\\n            width: 10%;\\n            max-width: 300px;\\n            min-width: 120px;\\n            overflow: visible;\\n        }\\n\\n        .fill-rect {\\n            transform: translateY(100%);\\n            transition: transform 0.3s ease-out;\\n        }\\n\\n        #gradientMover {\\n            display: none;\\n        }\\n\\n        .gradient-mover {\\n            animation: moveGradient 0.4s linear;\\n        }\\n\\n        @keyframes moveGradient {\\n            0% { transform: translateX(0); }\\n            100% { transform: translateX(-250%); }\\n        }\\n\\n        .logo-fade-out {\\n            animation: logoFadeOut 1s linear;\\n        }\\n\\n        .logo-fade-out path {\\n            fill: white;\\n            stroke: white;\\n        }\\n\\n        @keyframes logoFadeOut {\\n            0% { opacity: 1; }\\n            50% { opacity: 0; }\\n            100% { opacity: 0; }\\n        }\\n    \",document.head.appendChild(e);var t=document.createElement(\"div\");t.id=\"loading-overlay\",t.className=\"fullscreen\",document.body.appendChild(t);var r=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");r.setAttribute(\"id\",\"logo\"),r.setAttribute(\"viewBox\",\"0 0 633 819\"),r.setAttribute(\"fill\",\"none\"),r.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\");var n=document.createElementNS(r.namespaceURI,\"defs\"),o=document.createElementNS(r.namespaceURI,\"mask\");o.setAttribute(\"id\",\"logo-mask\");var i=document.createElementNS(r.namespaceURI,\"rect\");i.setAttribute(\"x\",\"0\"),i.setAttribute(\"y\",\"0\"),i.setAttribute(\"width\",\"100%\"),i.setAttribute(\"height\",\"100%\"),i.setAttribute(\"fill\",\"black\"),o.appendChild(i);var a=[\"M632 1V632H1V1H632ZM350 125.586V507.414L380.586 538H546V451H478.599L478.308 451.278L454.598 474H443.406L450.944 452.328L451 452.169V187.459L457.369 182H546V95H380.586L350 125.586ZM283 125.586L252.414 95H87V182H175.631L182 187.459V445.54L175.631 451H87V538H252.414L283 507.414V125.586Z\",\"M633 687V660H548V687H560V791H548V819H633V792H601L592 801H587L590 792V752H627V725H590V687H633Z\",\"M533 718V675L518 660H450L435 675V802L450 819H518L533 804V734H482V761H503V788L499 792H476L467 801H462L465 792V691L469 687H499L503 691V718H533Z\",\"M402 660H310V687H322V792H310V819H402L417 804V675L402 660ZM387 788L383 792H363L354 801H349L352 792V687H383L387 691V788Z\",\"M295 687V660H239V687H251V792H239V819H295V792H283V687H295Z\",\"M215 791L200 760H209L224 745V675L209 660H121V687H132V792H121V819H162V760H166L193 819H227V791H215ZM194 729L190 733H173L164 742H159L162 733V687H190L194 691V729Z\",\"M106 724V675L91 660H0V687H12V792H0V819H91L106 804V749L89 744V728L106 724ZM73 788L69 792H53L44 801H39L42 792V752H73V788ZM73 725H53L44 734H39L42 725V687H69L73 691V725Z\"];a.forEach((function(e){var t=document.createElementNS(r.namespaceURI,\"path\");t.setAttribute(\"d\",e),t.setAttribute(\"fill\",\"white\"),o.appendChild(t)})),n.appendChild(o);var s=document.createElementNS(r.namespaceURI,\"linearGradient\");s.setAttribute(\"id\",\"shineGradient\"),s.setAttribute(\"x1\",\"1233\"),s.setAttribute(\"y1\",\"0\"),s.setAttribute(\"x2\",\"1866\"),s.setAttribute(\"y2\",\"633\"),s.setAttribute(\"gradientUnits\",\"userSpaceOnUse\"),[{offset:\"0.235577\",color:\"#aa76ff\"},{offset:\"0.240685\",color:\"white\"},{offset:\"0.659749\",color:\"#aa76ff\"}].forEach((function(e){var t=e.offset,n=e.color,o=document.createElementNS(r.namespaceURI,\"stop\");o.setAttribute(\"offset\",t),o.setAttribute(\"stop-color\",n),s.appendChild(o)})),n.appendChild(s),r.appendChild(n);var u=document.createElementNS(r.namespaceURI,\"g\");u.setAttribute(\"mask\",\"url(#logo-mask)\");var c=document.createElementNS(r.namespaceURI,\"rect\");c.setAttribute(\"id\",\"gradientMover\"),c.setAttribute(\"x\",\"0\"),c.setAttribute(\"y\",\"0\"),c.setAttribute(\"width\",\"2532\"),c.setAttribute(\"height\",\"819\"),c.setAttribute(\"fill\",\"url(#shineGradient)\"),c.style.transform=\"translateX(0)\",u.appendChild(c),r.appendChild(u);var l=document.createElementNS(r.namespaceURI,\"g\");l.setAttribute(\"mask\",\"url(#logo-mask)\");var f=document.createElementNS(r.namespaceURI,\"rect\");f.setAttribute(\"id\",\"fillRect\"),f.setAttribute(\"class\",\"fill-rect\"),f.setAttribute(\"x\",\"0\"),f.setAttribute(\"y\",\"0\"),f.setAttribute(\"width\",\"100%\"),f.setAttribute(\"height\",\"819\"),f.setAttribute(\"fill\",\"#aa76ff\"),l.appendChild(f),r.appendChild(l),a.forEach((function(e){var t=document.createElementNS(r.namespaceURI,\"path\");t.setAttribute(\"d\",e),t.setAttribute(\"stroke\",\"#aa76ff\"),t.setAttribute(\"stroke-width\",\"3\"),r.appendChild(t)})),t.appendChild(r)}(),t}return t=s,r=[{key:\"visibilityState\",get:function(){return this._platformBridge.visibilityState}},{key:\"setLoadingProgress\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(this._loadingProcessCompleted||t&&null!==this._currentLoadingProgress)){var r=document.getElementById(\"fillRect\"),n=document.getElementById(\"gradientMover\"),o=document.getElementById(\"logo\"),i=document.getElementById(\"loading-overlay\");if(r&&n&&o&&i){this._currentLoadingProgress=e;var a=Math.max(0,Math.min(100,e)),s=100-a;r.style.transform=\"translateY(\".concat(s,\"%)\"),100===a?(this._loadingProcessCompleted=!0,setTimeout((function(){r.style.display=\"none\",n.style.display=\"block\",n.classList.add(\"gradient-mover\")}),400),setTimeout((function(){return o.classList.add(\"logo-fade-out\")}),900),setTimeout((function(){return i.remove()}),1400)):n.classList.remove(\"gradient-mover\")}}}}],r&&ve(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),s}(z);M().mixin(Pe.prototype);const we=Pe;function Ae(e){return Ae=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ae(e)}function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ke(n.key),n)}}function ke(e){var t=function(e,t){if(\"object\"!=Ae(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ae(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ae(t)?t:String(t)}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}const Re=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&De(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ie(n);if(o){var r=Ie(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Ae(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,r=[{key:\"defaultType\",get:function(){return this._platformBridge.defaultStorageType}},{key:\"isSupported\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageSupported(e)}},{key:\"isAvailable\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageAvailable(e)}},{key:\"get\",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){var n=t[this._platformBridge.platformId];if(n)return this.get(e,n,r)}var o=t;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?this._platformBridge.getDataFromStorage(e,o,r):Promise.reject()}},{key:\"set\",value:function(e,t,r){if(r){var n=r[this._platformBridge.platformId];if(n)return this.set(e,t,n)}var o=r;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?this._platformBridge.setDataToStorage(e,t,o):Promise.reject()}},{key:\"delete\",value:function(e,t){if(t){var r=t[this._platformBridge.platformId];if(r)return this.delete(e,r)}var n=t;return n||(n=this.defaultType),this._platformBridge.isStorageAvailable(n)?this._platformBridge.deleteDataFromStorage(e,n):Promise.reject()}}],r&&Oe(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(z);function Te(e){return Te=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Te(e)}function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,je(n.key),n)}}function je(e){var t=function(e,t){if(\"object\"!=Te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Te(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Te(t)?t:String(t)}function Ne(e,t){Be(e,t),t.add(e)}function Ce(e,t,r){Be(e,t),t.set(e,r)}function Be(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Ge(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Me(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,He(e,t,\"set\"),r),r}function Fe(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,He(e,t,\"get\"))}function He(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Ue=\"started\",xe=new WeakMap,ze=new WeakMap,Ve=new WeakMap,We=new WeakMap,Ze=new WeakSet,Ye=new WeakSet,Ke=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),Ne(this,Ye),Ne(this,Ze),Ce(this,xe,{writable:!0,value:0}),Ce(this,ze,{writable:!0,value:0}),Ce(this,Ve,{writable:!0,value:\"created\"}),Ce(this,We,{writable:!0,value:0}),Me(this,xe,t)}var t,r;return t=e,(r=[{key:\"state\",get:function(){return Fe(this,Ve)}},{key:\"start\",value:function(){var e=this;Fe(this,Ve)!==Ue&&(Me(this,ze,Fe(this,xe)),Ge(this,Ze,Je).call(this,Ue),Me(this,We,setInterval((function(){Me(e,ze,Fe(e,ze)-1),e.emit(\"time_left_changed\",Fe(e,ze)),Fe(e,ze)<=0&&(Ge(e,Ye,qe).call(e),Ge(e,Ze,Je).call(e,\"completed\"))}),1e3)))}},{key:\"stop\",value:function(){Ge(this,Ye,qe).call(this),Fe(this,Ve)===Ue&&Ge(this,Ze,Je).call(this,\"stopped\")}}])&&Le(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function Je(e){Me(this,Ve,e),this.emit(\"state_changed\",Fe(this,Ve))}function qe(){clearInterval(Fe(this,We)),Me(this,ze,0)}M().mixin(Ke.prototype);const Qe=Ke;function Xe(e){return Xe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Xe(e)}function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,et(n.key),n)}}function et(e){var t=function(e,t){if(\"object\"!=Xe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Xe(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Xe(t)?t:String(t)}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}function rt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function nt(e){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nt(e)}function ot(e,t){at(e,t),t.add(e)}function it(e,t,r){at(e,t),t.set(e,r)}function at(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function st(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,lt(e,t,\"set\"),r),r}function ut(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function ct(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,lt(e,t,\"get\"))}function lt(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var ft=new WeakMap,pt=new WeakMap,dt=new WeakMap,ht=new WeakMap,yt=new WeakMap,mt=new WeakMap,vt=new WeakSet,_t=new WeakSet,gt=new WeakSet,St=new WeakSet,bt=new WeakSet,Et=new WeakSet,Pt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&tt(e,t)}(l,e);var t,r,o,u,c=(o=l,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nt(o);if(u){var r=nt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Xe(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return rt(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),ot(rt(t=c.call(this,e)),Et),ot(rt(t),bt),ot(rt(t),St),ot(rt(t),gt),ot(rt(t),_t),ot(rt(t),vt),it(rt(t),ft,{writable:!0,value:s.HIDDEN}),it(rt(t),pt,{writable:!0,value:i.CLOSED}),it(rt(t),dt,{writable:!0,value:void 0}),it(rt(t),ht,{writable:!0,value:60}),it(rt(t),yt,{writable:!0,value:a.CLOSED}),it(rt(t),mt,{writable:!0,value:null}),t._platformBridge.on(n.BANNER_STATE_CHANGED,(function(e){return ut(rt(t),gt,Ot).call(rt(t),e)})),t._platformBridge.on(n.INTERSTITIAL_STATE_CHANGED,(function(e){e===i.CLOSED&&ut(rt(t),vt,wt).call(rt(t)),ut(rt(t),St,kt).call(rt(t),e)})),t._platformBridge.on(n.REWARDED_STATE_CHANGED,(function(e){return ut(rt(t),bt,Dt).call(rt(t),e)})),t}return t=l,r=[{key:\"isBannerSupported\",get:function(){return this._platformBridge.isBannerSupported}},{key:\"bannerState\",get:function(){return ct(this,ft)}},{key:\"isInterstitialSupported\",get:function(){return this._platformBridge.isInterstitialSupported}},{key:\"interstitialState\",get:function(){return ct(this,pt)}},{key:\"isRewardedSupported\",get:function(){return this._platformBridge.isRewardedSupported}},{key:\"rewardedPlacement\",get:function(){return ct(this,mt)}},{key:\"rewardedState\",get:function(){return ct(this,yt)}},{key:\"minimumDelayBetweenInterstitial\",get:function(){return ct(this,ht)}},{key:\"setMinimumDelayBetweenInterstitial\",value:function(e){var t=Xe(e),r=ct(this,ht);switch(t){case\"number\":r=e;break;case\"string\":if(r=parseInt(e,10),Number.isNaN(r))return;break;default:return}st(this,ht,r),ct(this,dt)&&(ct(this,dt).stop(),ut(this,vt,wt).call(this))}},{key:\"showBanner\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"bottom\",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.bannerState!==s.LOADING&&this.bannerState!==s.SHOWN)if(ut(this,gt,Ot).call(this,s.LOADING),this.isBannerSupported){var n,o=r;o||null!==(n=this._platformBridge.options)&&void 0!==n&&null!==(n=n.advertisement)&&void 0!==n&&null!==(n=n.banner)&&void 0!==n&&n.placementFallback&&(o=this._platformBridge.options.advertisement.banner.placementFallback);var i=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.banner)||void 0===e?void 0:e.placements,a=ut(this,Et,It).call(this,o,i);this._platformBridge.showBanner(t,a)}else ut(this,gt,Ot).call(this,s.FAILED)}},{key:\"hideBanner\",value:function(){this.bannerState!==s.LOADING&&this.bannerState!==s.HIDDEN&&this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:\"preloadInterstitial\",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r&&\"string\"==typeof r||null!==(t=this._platformBridge.options)&&void 0!==t&&null!==(t=t.advertisement)&&void 0!==t&&null!==(t=t.interstitial)&&void 0!==t&&t.placementFallback&&(r=this._platformBridge.options.advertisement.interstitial.placementFallback);var n=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.interstitial)||void 0===e?void 0:e.placements,o=ut(this,Et,It).call(this,r,n);this._platformBridge.preloadInterstitial(o)}},{key:\"showInterstitial\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!ut(this,_t,At).call(this))if(ut(this,St,kt).call(this,i.LOADING),this._platformBridge.isMinimumDelayBetweenInterstitialEnabled&&ct(this,dt)&&ct(this,dt).state===Ue)ut(this,St,kt).call(this,i.FAILED);else{var r,n=t;n||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.interstitial)&&void 0!==r&&r.placementFallback&&(n=this._platformBridge.options.advertisement.interstitial.placementFallback);var o=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.interstitial)||void 0===e?void 0:e.placements,a=ut(this,Et,It).call(this,n,o);this._platformBridge.showInterstitial(a)}}},{key:\"preloadRewarded\",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r&&\"string\"==typeof r||null!==(t=this._platformBridge.options)&&void 0!==t&&null!==(t=t.advertisement)&&void 0!==t&&null!==(t=t.rewarded)&&void 0!==t&&t.placementFallback&&(r=this._platformBridge.options.advertisement.rewarded.placementFallback);var n=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.rewarded)||void 0===e?void 0:e.placements,o=ut(this,Et,It).call(this,r,n);this._platformBridge.preloadRewarded(o)}},{key:\"showRewarded\",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!ut(this,_t,At).call(this)){var r;st(this,mt,t),ct(this,mt)||null!==(r=this._platformBridge.options)&&void 0!==r&&null!==(r=r.advertisement)&&void 0!==r&&null!==(r=r.rewarded)&&void 0!==r&&r.placementFallback&&st(this,mt,this._platformBridge.options.advertisement.rewarded.placementFallback);var n=null===(e=this._platformBridge.options)||void 0===e||null===(e=e.advertisement)||void 0===e||null===(e=e.rewarded)||void 0===e?void 0:e.placements,o=ut(this,Et,It).call(this,ct(this,mt),n);ut(this,bt,Dt).call(this,a.LOADING),this._platformBridge.showRewarded(o)}}},{key:\"checkAdBlock\",value:function(){return this._platformBridge.checkAdBlock()}}],r&&$e(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(z);function wt(){ct(this,ht)>0&&this._platformBridge.isMinimumDelayBetweenInterstitialEnabled&&(st(this,dt,new Qe(ct(this,ht))),ct(this,dt).start())}function At(){var e=[i.LOADING,i.OPENED].includes(ct(this,pt)),t=[a.LOADING,a.OPENED,a.REWARDED].includes(ct(this,yt));return e||t}function Ot(e){ct(this,ft)!==e&&(st(this,ft,e),this.emit(n.BANNER_STATE_CHANGED,ct(this,ft)))}function kt(e){ct(this,pt)!==e&&(st(this,pt,e),this.emit(n.INTERSTITIAL_STATE_CHANGED,ct(this,pt)))}function Dt(e){ct(this,yt)!==e&&(st(this,yt,e),this.emit(n.REWARDED_STATE_CHANGED,ct(this,yt)))}function It(e,t){if(!e)return e;if(!t)return e;var r=t.find((function(t){return t.id===e}));return r&&r[this._platformBridge.platformId]?r[this._platformBridge.platformId]:e}M().mixin(Pt.prototype);const Rt=Pt;function Tt(e){return Tt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Tt(e)}function Lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,jt(n.key),n)}}function jt(e){var t=function(e,t){if(\"object\"!=Tt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Tt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Tt(t)?t:String(t)}function Nt(e,t){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nt(e,t)}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}const Bt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Nt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ct(n);if(o){var r=Ct(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Tt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isInviteFriendsSupported\",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:\"isJoinCommunitySupported\",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:\"isShareSupported\",get:function(){return this._platformBridge.isShareSupported}},{key:\"isCreatePostSupported\",get:function(){return this._platformBridge.isCreatePostSupported}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:\"isAddToFavoritesSupported\",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:\"isRateSupported\",get:function(){return this._platformBridge.isRateSupported}},{key:\"isExternalLinksAllowed\",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:\"inviteFriends\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.inviteFriends(t)}return this._platformBridge.inviteFriends(e)}},{key:\"joinCommunity\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.joinCommunity(t)}return this._platformBridge.joinCommunity(e)}},{key:\"share\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.share(t)}return this._platformBridge.share(e)}},{key:\"createPost\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.createPost(t)}return this._platformBridge.createPost(e)}},{key:\"addToHomeScreen\",value:function(){return this._platformBridge.addToHomeScreen()}},{key:\"addToFavorites\",value:function(){return this._platformBridge.addToFavorites()}},{key:\"rate\",value:function(){return this._platformBridge.rate()}}])&&Lt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(z);function Gt(e){return Gt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Gt(e)}function Mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ft(n.key),n)}}function Ft(e){var t=function(e,t){if(\"object\"!=Gt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Gt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Gt(t)?t:String(t)}function Ht(e,t){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ht(e,t)}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}const xt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ht(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ut(n);if(o){var r=Ut(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Gt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"type\",get:function(){return this._platformBridge.deviceType}}])&&Mt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(z);function zt(e){return zt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},zt(e)}function Vt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Wt(n.key),n)}}function Wt(e){var t=function(e,t){if(\"object\"!=zt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=zt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==zt(t)?t:String(t)}function Zt(e,t){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zt(e,t)}function Yt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Kt(e){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kt(e)}function Jt(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function qt(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Qt=new WeakSet,Xt=new WeakSet;function $t(e){var t;if(!e)return e;var r=null===(t=this._platformBridge.options)||void 0===t?void 0:t.leaderboards;if(!r)return e;var n=r.find((function(t){return t.id===e}));return n&&n[this._platformBridge.platformId]?n[this._platformBridge.platformId]:e}function er(e){var t,r=null===(t=this._platformBridge.options)||void 0===t?void 0:t.leaderboards;if(!r)return!1;var n=r.find((function(t){return t.id===e}));return!!n&&!0===n.isMain}const tr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Zt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kt(n);if(o){var r=Kt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===zt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Yt(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Jt(Yt(e=i.call.apply(i,[this].concat(r))),Xt),Jt(Yt(e),Qt),e}return t=a,(r=[{key:\"type\",get:function(){return this._platformBridge.leaderboardsType}},{key:\"setScore\",value:function(e,t){var r=qt(this,Qt,$t).call(this,e),n=qt(this,Xt,er).call(this,e);return this._platformBridge.leaderboardsSetScore(r,t,n)}},{key:\"getEntries\",value:function(e){var t=qt(this,Qt,$t).call(this,e);return this._platformBridge.leaderboardsGetEntries(t)}}])&&Vt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(z);function rr(e){return rr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},rr(e)}function nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,or(n.key),n)}}function or(e){var t=function(e,t){if(\"object\"!=rr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=rr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==rr(t)?t:String(t)}function ir(e,t){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ir(e,t)}function ar(e){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ar(e)}const sr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ir(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ar(n);if(o){var r=ar(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===rr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isPaymentsSupported}},{key:\"purchase\",value:function(e){return this._platformBridge.paymentsPurchase(e)}},{key:\"getPurchases\",value:function(){return this._platformBridge.paymentsGetPurchases()}},{key:\"getCatalog\",value:function(){return this._platformBridge.paymentsGetCatalog()}},{key:\"consumePurchase\",value:function(e){return this._platformBridge.paymentsConsumePurchase(e)}}])&&nr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(z);function ur(e){return ur=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ur(e)}function cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,lr(n.key),n)}}function lr(e){var t=function(e,t){if(\"object\"!=ur(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ur(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ur(t)?t:String(t)}function fr(e,t){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fr(e,t)}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}const dr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&fr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pr(n);if(o){var r=pr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ur(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isRemoteConfigSupported}},{key:\"get\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.get(t)}return this._platformBridge.getRemoteConfig(e)}}])&&cr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(z);function hr(e){return hr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},hr(e)}function yr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,mr(n.key),n)}}function mr(e){var t=function(e,t){if(\"object\"!=hr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=hr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==hr(t)?t:String(t)}function vr(e,t){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vr(e,t)}function _r(e){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_r(e)}const gr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&vr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_r(n);if(o){var r=_r(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===hr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isClipboardSupported}},{key:\"read\",value:function(){return this._platformBridge.clipboardRead()}},{key:\"write\",value:function(e){return this._platformBridge.clipboardWrite(e)}}])&&yr(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(z);function Sr(e){return Sr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Sr(e)}function br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Er(n.key),n)}}function Er(e){var t=function(e,t){if(\"object\"!=Sr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Sr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Sr(t)?t:String(t)}function Pr(e,t){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pr(e,t)}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}const Ar=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Pr(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wr(n);if(o){var r=wr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Sr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isAchievementsSupported}},{key:\"isGetListSupported\",get:function(){return this._platformBridge.isGetAchievementsListSupported}},{key:\"isNativePopupSupported\",get:function(){return this._platformBridge.isAchievementsNativePopupSupported}},{key:\"unlock\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.unlock(t)}return this._platformBridge.unlockAchievement(e)}},{key:\"getList\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getList(t)}return this._platformBridge.getAchievementsList(e)}},{key:\"showNativePopup\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.showNativePopup(t)}return this._platformBridge.showAchievementsNativePopup(e)}}])&&br(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(z);function Or(e){return Or=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Or(e)}function kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(r),!0).forEach((function(t){Rr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ir(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Tr(n.key),n)}}function Rr(e,t,r){return(t=Tr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tr(e){var t=function(e,t){if(\"object\"!=Or(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Or(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Or(t)?t:String(t)}function Lr(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var jr=new WeakMap,Nr=function(){function t(e){var r,n,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),Rr(this,\"_isInitialized\",!1),Rr(this,\"_platformSdk\",null),Rr(this,\"_isPlayerAuthorized\",!1),Rr(this,\"_playerId\",null),Rr(this,\"_playerName\",null),Rr(this,\"_playerPhotos\",[]),Rr(this,\"_visibilityState\",null),Rr(this,\"_localStorage\",null),Rr(this,\"_defaultStorageType\",c.LOCAL_STORAGE),Rr(this,\"_platformStorageCachedData\",null),Rr(this,\"_isBannerSupported\",!1),Rr(this,\"_paymentsPurchases\",[]),i={writable:!0,value:{}},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(r=this,n=jr),n.set(r,i);try{this._localStorage=window.localStorage}catch(e){}this._visibilityState=document.visibilityState,document.addEventListener(\"visibilitychange\",(function(){a._setVisibilityState(document.visibilityState)})),window.addEventListener(\"blur\",(function(){a._setVisibilityState(o.HIDDEN)})),window.addEventListener(\"focus\",(function(){a._setVisibilityState(o.VISIBLE)})),e&&(this._options=Dr({},e))}var r,u;return r=t,(u=[{key:\"options\",get:function(){return this._options}},{key:\"platformId\",get:function(){return e.MOCK}},{key:\"platformSdk\",get:function(){return this._platformSdk}},{key:\"platformLanguage\",get:function(){var e=navigator.language;return\"string\"==typeof e?e.substring(0,2).toLowerCase():\"en\"}},{key:\"platformPayload\",get:function(){return new URL(window.location.href).searchParams.get(\"payload\")}},{key:\"platformTld\",get:function(){return null}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!1}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!1}},{key:\"isPlatformAudioEnabled\",get:function(){return!0}},{key:\"isPlatformPaused\",get:function(){return!1}},{key:\"visibilityState\",get:function(){return this._visibilityState}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!1}},{key:\"isPlayerAuthorized\",get:function(){return this._isPlayerAuthorized}},{key:\"playerId\",get:function(){return this._playerId}},{key:\"playerName\",get:function(){return this._playerName}},{key:\"playerPhotos\",get:function(){return this._playerPhotos}},{key:\"defaultStorageType\",get:function(){return this._defaultStorageType}},{key:\"isBannerSupported\",get:function(){return this._isBannerSupported}},{key:\"isInterstitialSupported\",get:function(){return!1}},{key:\"isMinimumDelayBetweenInterstitialEnabled\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!1}},{key:\"isInviteFriendsSupported\",get:function(){return!1}},{key:\"isJoinCommunitySupported\",get:function(){return!1}},{key:\"isShareSupported\",get:function(){return!1}},{key:\"isCreatePostSupported\",get:function(){return!1}},{key:\"isAddToHomeScreenSupported\",get:function(){return!1}},{key:\"isAddToFavoritesSupported\",get:function(){return!1}},{key:\"isRateSupported\",get:function(){return!1}},{key:\"isExternalLinksAllowed\",get:function(){return!0}},{key:\"deviceType\",get:function(){if(navigator&&navigator.userAgent){var e=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(e))return l.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(e))return l.TABLET}return l.DESKTOP}},{key:\"isPaymentsSupported\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return p}},{key:\"isRemoteConfigSupported\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!0}},{key:\"isAchievementsSupported\",get:function(){return!1}},{key:\"isGetAchievementsListSupported\",get:function(){return!1}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){return Promise.resolve()}},{key:\"sendMessage\",value:function(){return Promise.resolve()}},{key:\"getServerTime\",value:function(){return new Promise((function(e,t){fetch(\"https://worldtimeapi.org/api/timezone/Etc/UTC\").then((function(e){if(!e.ok)throw new Error(\"Network response was not ok\");return e.json()})).then((function(t){e(1e3*t.unixtime)})).catch((function(){t()}))}))}},{key:\"getAllGames\",value:function(){return Promise.reject()}},{key:\"getGameById\",value:function(){return Promise.reject()}},{key:\"authorizePlayer\",value:function(){return Promise.reject()}},{key:\"isStorageSupported\",value:function(e){switch(e){case c.LOCAL_STORAGE:return null!==this._localStorage;case c.PLATFORM_INTERNAL:default:return!1}}},{key:\"isStorageAvailable\",value:function(e){switch(e){case c.LOCAL_STORAGE:return null!==this._localStorage;case c.PLATFORM_INTERNAL:default:return!1}}},{key:\"getDataFromStorage\",value:function(e,t,r){if(t===c.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var n=[],o=0;o<e.length;o++)n.push(this._getDataFromLocalStorage(e[o],r));return Promise.resolve(n)}var i=this._getDataFromLocalStorage(e,r);return Promise.resolve(i)}return Promise.reject(v)}return Promise.reject(v)}},{key:\"setDataToStorage\",value:function(e,t,r){if(r===c.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this._setDataToLocalStorage(e[n],t[n]);return Promise.resolve()}return this._setDataToLocalStorage(e,t),Promise.resolve()}return Promise.reject(v)}return Promise.reject(v)}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t===c.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this._deleteDataFromLocalStorage(e[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(e),Promise.resolve()}return Promise.reject(v)}return Promise.reject(v)}},{key:\"showBanner\",value:function(){this._setBannerState(s.FAILED)}},{key:\"hideBanner\",value:function(){this._setBannerState(s.HIDDEN)}},{key:\"preloadInterstitial\",value:function(){}},{key:\"showInterstitial\",value:function(){this._setInterstitialState(i.FAILED)}},{key:\"preloadRewarded\",value:function(){}},{key:\"showRewarded\",value:function(){this._setRewardedState(a.FAILED)}},{key:\"checkAdBlock\",value:function(){var e=document.createElement(\"div\");e.className=\"textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox\",e.style.position=\"absolute\",e.style.left=\"-9999px\",e.style.width=\"1px\",e.style.height=\"1px\",document.body.appendChild(e);var t={method:\"HEAD\",mode:\"no-cors\"};return new Promise((function(r){fetch(\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",t).then((function(t){t.redirected?r(t.redirected):window.setTimeout((function(){var t,n=0===e.offsetHeight||\"none\"===(null===(t=window.getComputedStyle(e))||void 0===t?void 0:t.display);r(n),e.remove()}),100)})).catch((function(){r(!0)}))}))}},{key:\"inviteFriends\",value:function(){return Promise.reject()}},{key:\"joinCommunity\",value:function(){return Promise.reject()}},{key:\"share\",value:function(){return Promise.reject()}},{key:\"createPost\",value:function(){return Promise.reject()}},{key:\"addToHomeScreen\",value:function(){return Promise.reject()}},{key:\"addToFavorites\",value:function(){return Promise.reject()}},{key:\"rate\",value:function(){return Promise.reject()}},{key:\"leaderboardsSetScore\",value:function(){return Promise.reject()}},{key:\"leaderboardsGetEntries\",value:function(){return Promise.reject()}},{key:\"paymentsPurchase\",value:function(e){if(this.isPaymentsSupported){var t={id:e};return this._paymentsPurchases.push(t),Promise.resolve(t)}return Promise.reject()}},{key:\"paymentsConsumePurchase\",value:function(e){if(this.isPaymentsSupported){var t=this._paymentsPurchases.findIndex((function(t){return t.id===e}));return t<0?Promise.reject():(this._paymentsPurchases.splice(t,1),Promise.resolve({id:e}))}return Promise.reject()}},{key:\"paymentsGetCatalog\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsGetProductsPlatformData()):Promise.reject()}},{key:\"paymentsGetPurchases\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsPurchases):Promise.reject()}},{key:\"getRemoteConfig\",value:function(){return Promise.reject()}},{key:\"clipboardRead\",value:function(){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.readText():Promise.reject()}},{key:\"clipboardWrite\",value:function(e){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.writeText(e):Promise.reject()}},{key:\"unlockAchievement\",value:function(){return Promise.reject()}},{key:\"getAchievementsList\",value:function(){return Promise.reject()}},{key:\"showAchievementsNativePopup\",value:function(){return Promise.reject()}},{key:\"_getDataFromLocalStorage\",value:function(e,t){var r=this._localStorage.getItem(e);if(t&&\"string\"==typeof r)try{r=JSON.parse(r)}catch(e){}return r}},{key:\"_setDataToLocalStorage\",value:function(e,t){this._localStorage.setItem(e,\"object\"===Or(t)?JSON.stringify(t):t)}},{key:\"_deleteDataFromLocalStorage\",value:function(e){this._localStorage.removeItem(e)}},{key:\"_setVisibilityState\",value:function(e){this._visibilityState!==e&&(this._visibilityState=e,this.emit(n.VISIBILITY_STATE_CHANGED,this._visibilityState))}},{key:\"_setBannerState\",value:function(e){this.emit(n.BANNER_STATE_CHANGED,e)}},{key:\"_setInterstitialState\",value:function(e){this.emit(n.INTERSTITIAL_STATE_CHANGED,e)}},{key:\"_setRewardedState\",value:function(e){this.emit(n.REWARDED_STATE_CHANGED,e)}},{key:\"_setAudioState\",value:function(e){this.emit(n.AUDIO_STATE_CHANGED,e)}},{key:\"_setPauseState\",value:function(e){this.emit(n.PAUSE_STATE_CHANGED,e)}},{key:\"_createPromiseDecorator\",value:function(e){var t=new B;return Lr(this,jr)[e]=t,t}},{key:\"_getPromiseDecorator\",value:function(e){return Lr(this,jr)[e]}},{key:\"_resolvePromiseDecorator\",value:function(e,t){Lr(this,jr)[e]&&(Lr(this,jr)[e].resolve(t),delete Lr(this,jr)[e])}},{key:\"_rejectPromiseDecorator\",value:function(e,t){Lr(this,jr)[e]&&(Lr(this,jr)[e].reject(t),delete Lr(this,jr)[e])}},{key:\"_paymentsGetProductsPlatformData\",value:function(){var e=this;return this._options.payments?this._options.payments.map((function(t){return Dr({id:t.id},t[e.platformId])})):[]}},{key:\"_paymentsGetProductPlatformData\",value:function(e){var t=this._options.payments;if(!t)return null;var r=t.find((function(t){return t.id===e}));return r?Dr({id:r.id},r[this.platformId]):null}},{key:\"_paymentsGenerateTransactionId\",value:function(e){return\"\".concat(e,\"_\").concat(Date.now(),\"_\").concat(Math.random().toString(36).substring(2,10))}},{key:\"_advertisementShowErrorPopup\",value:function(e){var t,r=this;return(null===(t=this._options)||void 0===t||null===(t=t.advertisement)||void 0===t?void 0:t.useBuiltInErrorPopup)?function(e){if(!document.getElementById(\"bridge-info-popup-styles\")){var t=document.createElement(\"style\");t.id=\"bridge-info-popup-styles\",t.textContent=\"\\n            #bridge-info-popup-overlay {\\n                position: fixed;\\n                top: 0;\\n                left: 0;\\n                width: 100vw;\\n                height: 100vh;\\n                background-color: rgba(0, 0, 0, 0.5);\\n                z-index: 9998;\\n                display: none;\\n            }\\n\\n            #bridge-info-popup {\\n                position: fixed;\\n                top: 50%;\\n                left: 50%;\\n                transform: translate(-50%, -50%);\\n                background-color: #2E3C75;\\n                color: #fff;\\n                padding: 20px;\\n                z-index: 9999;\\n                display: none;\\n                border-radius: 10px;\\n                box-shadow: 0 0 10px #2E3C75;\\n                font-size: 24px;\\n                font-family: 'Roboto', sans-serif;\\n                text-align: center;\\n                min-width: 250px;\\n                max-width: 30%;\\n                flex-direction: column;\\n                justify-content: center;\\n                align-items: center;\\n            }\\n\\n            #bridge-info-popup-button {\\n                margin-top: 24px;\\n                width: 150px;\\n                background-color: rgba(255, 255, 255, 0.2);\\n                color: #fff;\\n                border: none;\\n                font-size: 24px;\\n                padding: 20px;\\n                border-radius: 5px;\\n                cursor: pointer;\\n                font-family: 'Roboto', sans-serif;\\n                display: block;\\n            }\\n\\n            #bridge-info-popup-button:hover {\\n                background-color: rgba(255, 255, 255, 0.3);\\n            }\",document.head.appendChild(t)}var r=document.getElementById(\"bridge-info-popup-overlay\");r||((r=document.createElement(\"div\")).id=\"bridge-info-popup-overlay\",document.body.appendChild(r));var n=document.getElementById(\"bridge-info-popup\");n||((n=document.createElement(\"div\")).id=\"bridge-info-popup\"),n.innerText=\"Oops! It looks like you closed the ad too early, or it isn't available right now.\";var o=document.getElementById(\"bridge-info-popup-button\");return o||((o=document.createElement(\"button\")).id=\"bridge-info-popup-button\",o.innerText=\"OK\",n.appendChild(o)),document.body.appendChild(n),new Promise((function(e){o.onclick=function(){n.style.display=\"none\",r.style.display=\"none\",e()},r.style.display=\"block\",n.style.display=\"flex\"}))}().then((function(){e?r._setRewardedState(a.FAILED):r._setInterstitialState(i.FAILED)})):(e?this._setRewardedState(a.FAILED):this._setInterstitialState(i.FAILED),Promise.resolve())}}])&&Ir(r.prototype,u),Object.defineProperty(r,\"prototype\",{writable:!1}),t}();M().mixin(Nr.prototype);const Cr=Nr;function Br(e){return Br=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Br(e)}function Gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,zr(n.key),n)}}function Mr(){return Mr=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ur(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Mr.apply(this,arguments)}function Fr(e,t){return Fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fr(e,t)}function Hr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ur(e){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ur(e)}function xr(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function zr(e){var t=function(e,t){if(\"object\"!=Br(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Br(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Br(t)?t:String(t)}function Vr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Wr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Zr(e,t,\"get\"))}function Zr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Yr=new WeakMap,Kr=new WeakSet;function Jr(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"result\",i=this._getPromiseDecorator(e);return i||(i=this._createPromiseDecorator(e),this._platformSdk.send(t,n).then((function(t){t[o]?r._resolvePromiseDecorator(e):r._rejectPromiseDecorator(e)})).catch((function(t){r._rejectPromiseDecorator(e,t)}))),i.promise}const qr=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Fr(e,t)}(p,t);var r,n,o,u,f=(o=p,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ur(o);if(u){var r=Ur(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Br(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Hr(e)}(this,e)});function p(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return xr(t=Hr(e=f.call.apply(f,[this].concat(o))),r=Kr),r.add(t),function(e,t,r){(t=zr(t))in e?Object.defineProperty(e,t,{value:true,enumerable:!0,configurable:!0,writable:!0}):e[t]=true}(Hr(e),\"_isBannerSupported\"),function(e,t,r){xr(e,t),t.set(e,{writable:!0,value:void 0})}(Hr(e),Yr),e}return r=p,(n=[{key:\"platformId\",get:function(){return e.VK}},{key:\"platformLanguage\",get:function(){var e=new URL(window.location.href);if(e.searchParams.has(\"language\")){var t=e.searchParams.get(\"language\"),r=0;try{r=parseInt(t,10)}catch(e){r=0}switch(r){case 0:default:return\"ru\";case 1:return\"uk\";case 2:return\"be\";case 3:return\"en\"}}return Mr(Ur(p.prototype),\"platformLanguage\",this)}},{key:\"platformPayload\",get:function(){var e=new URL(window.location.href);return e.searchParams.has(\"hash\")?e.searchParams.get(\"hash\"):Mr(Ur(p.prototype),\"platformPayload\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(Wr(this,Yr)){case\"html5_ios\":case\"html5_android\":case\"html5_mobile\":return l.MOBILE;case\"web\":return l.DESKTOP;default:return Mr(Ur(p.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPlayerAuthorized\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return\"html5_android\"===Wr(this,Yr)}},{key:\"isAddToFavoritesSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r,n,o=this._getPromiseDecorator(y.INITIALIZE);if(!o){o=this._createPromiseDecorator(y.INITIALIZE);var i=new URL(window.location.href);i.searchParams.has(\"platform\")&&(t=this,r=Yr,n=i.searchParams.get(\"platform\"),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t,Zr(t,r,\"set\"),n)),ce(\"https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js\").then((function(){fe(\"vkBridge\").then((function(){e._platformSdk=window.vkBridge,e._platformSdk.send(\"VKWebAppInit\").then((function(){e._platformSdk.send(\"VKWebAppGetUserInfo\").then((function(t){t&&(e._playerId=t.id,e._playerName=\"\".concat(t.first_name,\" \").concat(t.last_name),t.photo_100&&e._playerPhotos.push(t.photo_100),t.photo_200&&e._playerPhotos.push(t.photo_200),t.photo_max_orig&&e._playerPhotos.push(t.photo_max_orig))})).finally((function(){e._isInitialized=!0,e._defaultStorageType=c.PLATFORM_INTERNAL,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))}))}return o.promise}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||Mr(Ur(p.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL||Mr(Ur(p.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,o){var i=Array.isArray(e)?e:[e];n._platformSdk.send(\"VKWebAppStorageGet\",{keys:i}).then((function(n){if(Array.isArray(e)){var o=[];return i.forEach((function(e){var t=n.keys.findIndex((function(t){return t.key===e}));if(t<0)o.push(null);else if(\"\"!==n.keys[t].value){var i=n.keys[t].value;if(r)try{i=JSON.parse(n.keys[t].value)}catch(e){}o.push(i)}else o.push(null)})),void t(o)}if(\"\"!==n.keys[0].value){var a=n.keys[0].value;if(r)try{a=JSON.parse(n.keys[0].value)}catch(e){}t(a)}else t(null)})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?o(e.error_data.error_reason):o()}))})):Mr(Ur(p.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;if(r===c.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a={key:e[i],value:t[i]};\"string\"!=typeof t[i]&&(a.value=JSON.stringify(t[i])),o.push(this._platformSdk.send(\"VKWebAppStorageSet\",a))}return Promise.all(o)}var s={key:e,value:t};return\"string\"!=typeof t&&(s.value=JSON.stringify(t)),new Promise((function(e,t){n._platformSdk.send(\"VKWebAppStorageSet\",s).then((function(){e()})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?t(e.error_data.error_reason):t()}))}))}return Mr(Ur(p.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t===c.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++)r.push(this.setDataToStorage(e[n],\"\",t));return Promise.all(r)}return this.setDataToStorage(e,\"\",t)}return Mr(Ur(p.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e){var t=this;this._platformSdk.send(\"VKWebAppShowBannerAd\",{banner_location:e}).then((function(e){e.result?t._setBannerState(s.SHOWN):t._setBannerState(s.FAILED)})).catch((function(){t._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppHideBannerAd\").then((function(t){t.result&&e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"interstitial\"}).then((function(t){t.result&&e._setInterstitialState(i.OPENED)})).finally((function(){e._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"interstitial\"}).then((function(t){e._setInterstitialState(t.result?i.CLOSED:i.FAILED)})).catch((function(){e._setInterstitialState(i.FAILED)}))}))}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(t){t.result&&e._setRewardedState(a.OPENED)})).finally((function(){e._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(t){t.result?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)})).catch((function(){e._setRewardedState(a.FAILED)}))}))}},{key:\"inviteFriends\",value:function(){return Vr(this,Kr,Jr).call(this,y.INVITE_FRIENDS,\"VKWebAppShowInviteBox\",{},\"success\")}},{key:\"joinCommunity\",value:function(e){if(!e||!e.groupId)return Promise.reject();var t=e.groupId;return\"string\"==typeof t&&(t=parseInt(t,10),Number.isNaN(t))?Promise.reject():Vr(this,Kr,Jr).call(this,y.JOIN_COMMUNITY,\"VKWebAppJoinGroup\",{group_id:t}).then((function(){window.open(\"https://vk.com/public\".concat(t))}))}},{key:\"share\",value:function(e){var t={};return e&&e.link&&(t.link=e.link),Vr(this,Kr,Jr).call(this,y.SHARE,\"VKWebAppShare\",t,\"type\")}},{key:\"addToHomeScreen\",value:function(){return this.isAddToHomeScreenSupported?Vr(this,Kr,Jr).call(this,y.ADD_TO_HOME_SCREEN,\"VKWebAppAddToHomeScreen\"):Promise.reject()}},{key:\"addToFavorites\",value:function(){return Vr(this,Kr,Jr).call(this,y.ADD_TO_FAVORITES,\"VKWebAppAddToFavorites\")}},{key:\"clipboardWrite\",value:function(e){return Vr(this,Kr,Jr).call(this,y.CLIPBOARD_WRITE,\"VKWebAppCopyText\",{text:e})}}])&&Gr(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(Cr);function Qr(e){return Qr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Qr(e)}function Xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=tn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function en(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,tn(n.key),n)}}function tn(e){var t=function(e,t){if(\"object\"!=Qr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Qr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Qr(t)?t:String(t)}function rn(){return rn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=an(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},rn.apply(this,arguments)}function nn(e,t){return nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nn(e,t)}function on(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function an(e){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},an(e)}function sn(e,t,r){un(e,t),t.set(e,r)}function un(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function cn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function ln(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,pn(e,t,\"set\"),r),r}function fn(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,pn(e,t,\"get\"))}function pn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var dn=new WeakMap,hn=new WeakMap,yn=new WeakMap,mn=new WeakMap,vn=new WeakSet;function _n(e){var t=this;return new Promise((function(r){var n={scopes:!1};e&&\"boolean\"==typeof e.scopes&&(n.scopes=e.scopes),t._platformSdk.getPlayer(n).then((function(e){t._playerId=e.getUniqueID(),t._isPlayerAuthorized=e.isAuthorized(),t._defaultStorageType=t._isPlayerAuthorized?c.PLATFORM_INTERNAL:c.LOCAL_STORAGE;var r=e.getName();\"\"!==r&&(t._playerName=r),t._playerPhotos=[];var n=e.getPhoto(\"small\"),o=e.getPhoto(\"medium\"),i=e.getPhoto(\"large\");return n&&t._playerPhotos.push(n),o&&t._playerPhotos.push(o),i&&t._playerPhotos.push(i),ln(t,hn,e),e.getData()})).then((function(e){t._platformStorageCachedData=e})).finally((function(){r()}))}))}const gn=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&nn(e,t)}(h,t);var r,n,o,u,p=(o=h,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=an(o);if(u){var r=an(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Qr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return on(e)}(this,e)});function h(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,h);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return un(t=on(e=p.call.apply(p,[this].concat(o))),r=vn),r.add(t),sn(on(e),dn,{writable:!0,value:!1}),sn(on(e),hn,{writable:!0,value:null}),sn(on(e),yn,{writable:!0,value:null}),sn(on(e),mn,{writable:!0,value:null}),e}return r=h,(n=[{key:\"platformId\",get:function(){return e.YANDEX}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():rn(an(h.prototype),\"platformLanguage\",this)}},{key:\"platformTld\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():rn(an(h.prototype),\"platformTld\",this)}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!0}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.deviceInfo.type){case l.DESKTOP:return l.DESKTOP;case l.MOBILE:return l.MOBILE;case l.TABLET:return l.TABLET;case l.TV:return l.TV;default:return rn(an(h.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return fn(this,dn)}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return d}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isRemoteConfigSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"/sdk.js\").then((function(){fe(\"YaGames\",\"init\").then((function(){window.YaGames.init().then((function(t){var r;e._platformSdk=t,ln(e,mn,cn(e,vn,_n).call(e));var n=null===(r=e._platformSdk.features.PluginEngineDataReporterAPI)||void 0===r?void 0:r.report({engineName:\"\",engineVersion:\"\",pluginName:\"playgama-bridge\",pluginVersion:\"1.24.0\"}),o=e._platformSdk.shortcut.canShowPrompt().then((function(t){ln(e,dn,t.canShow)})),i=new Promise((function(e){setTimeout(e,1e3)})),a=Promise.race([o,i]),u=e._platformSdk.getPayments().then((function(t){ln(e,yn,t)}));e._isBannerSupported=!0;var c=e._platformSdk.adv.getBannerAdvStatus().then((function(t){t.stickyAdvIsShowing&&e._setBannerState(s.SHOWN)}));Promise.all([n,a,u,c]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case f.GAME_READY:var t;return null===(t=this._platformSdk.features.LoadingAPI)||void 0===t||t.ready(),Promise.resolve();case f.GAMEPLAY_STARTED:var r;return null===(r=this._platformSdk.features.GameplayAPI)||void 0===r||r.start(),Promise.resolve();case f.GAMEPLAY_STOPPED:var n;return null===(n=this._platformSdk.features.GameplayAPI)||void 0===n||n.stop(),Promise.resolve();default:return rn(an(h.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(t){t(e._platformSdk.serverTime())}))}},{key:\"getAllGames\",value:function(){var e=this;return new Promise((function(t,r){e._platformSdk.features.GamesAPI.getAllGames().then((function(e){var r=e.games;t(r)})).catch(r)}))}},{key:\"getGameById\",value:function(e){var t=this;return null!=e&&e.gameId?new Promise((function(r,n){t._platformSdk.features.GamesAPI.getGameByID(null==e?void 0:e.gameId).then((function(e){var t=e.game,n=e.isAvailable;r($r($r({},t),{},{isAvailable:n}))})).catch(n)})):Promise.reject(new Error(\"Provide gameId\"))}},{key:\"authorizePlayer\",value:function(e){var t=this,r=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._isPlayerAuthorized?(ln(this,mn,cn(this,vn,_n).call(this,e)),fn(this,mn).then((function(){t._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}))):this._platformSdk.auth.openAuthDialog().then((function(){ln(t,mn,cn(t,vn,_n).call(t,e)),fn(t,mn).then((function(){t._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}))})).catch((function(e){t._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,e)}))),r.promise}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||rn(an(h.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL?this._isPlayerAuthorized:rn(an(h.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===c.PLATFORM_INTERNAL?this._isPlayerAuthorized?fn(this,mn).then((function(){return new Promise((function(t){if(Array.isArray(e)){for(var r=[],o=0;o<e.length;o++){var i=void 0===n._platformStorageCachedData[e[o]]?null:n._platformStorageCachedData[e[o]];r.push(i)}t(r)}else t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}))})):Promise.reject():rn(an(h.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===c.PLATFORM_INTERNAL?this._isPlayerAuthorized?fn(this,mn).then((function(){return new Promise((function(r,o){var i=null!==n._platformStorageCachedData?$r({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;fn(n,hn).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))}))})):Promise.reject():rn(an(h.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===c.PLATFORM_INTERNAL?this._isPlayerAuthorized?fn(this,mn).then((function(){return new Promise((function(t,n){var o=null!==r._platformStorageCachedData?$r({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];fn(r,hn).setData(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))}))})):Promise.reject():rn(an(h.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(){var e=this;this._platformSdk.adv.showBannerAdv().then((function(t){t.stickyAdvIsShowing?e._setBannerState(s.SHOWN):e._setBannerState(s.FAILED)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.adv.hideBannerAdv().then((function(t){t.stickyAdvIsShowing||e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){e._setInterstitialState(i.OPENED)},onClose:function(t){t?e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)},onError:function(e){console.error(e)}}})}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){e._setRewardedState(a.OPENED)},onRewarded:function(){e._setRewardedState(a.REWARDED)},onClose:function(){e._setRewardedState(a.CLOSED)},onError:function(){e._setRewardedState(a.FAILED)}}})}},{key:\"checkAdBlock\",value:function(){return new Promise((function(e){e(!1)}))}},{key:\"addToHomeScreen\",value:function(){var e=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var t=this._getPromiseDecorator(y.ADD_TO_HOME_SCREEN);return t||(t=this._createPromiseDecorator(y.ADD_TO_HOME_SCREEN),this._platformSdk.shortcut.showPrompt().then((function(t){\"accepted\"!==t.outcome?e._rejectPromiseDecorator(y.ADD_TO_HOME_SCREEN):e._resolvePromiseDecorator(y.ADD_TO_HOME_SCREEN)})).catch((function(t){e._rejectPromiseDecorator(y.ADD_TO_HOME_SCREEN,t)}))),t.promise}},{key:\"rate\",value:function(){var e=this,t=this._getPromiseDecorator(y.RATE);return t||(t=this._createPromiseDecorator(y.RATE),this._platformSdk.feedback.canReview().then((function(t){t.value?e._platformSdk.feedback.requestReview().then((function(t){t.feedbackSent?e._resolvePromiseDecorator(y.RATE):e._rejectPromiseDecorator(y.RATE)})).catch((function(t){e._rejectPromiseDecorator(y.RATE,t)})):e._rejectPromiseDecorator(y.RATE,t.reason)})).catch((function(t){e._rejectPromiseDecorator(y.RATE,t)}))),t.promise}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);return n||(n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE),this._platformSdk.leaderboards.setScore(e,t).then((function(){r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)})).catch((function(e){r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e)}))),n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this,r=this._getPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);if(!r){r=this._createPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);var n={quantityTop:20};this._isPlayerAuthorized&&(n.includeUser=!0,n.quantityAround=3),this._platformSdk.leaderboards.getEntries(e,n).then((function(e){var r;r=e&&e.entries.length>0?e.entries.map((function(e){return{id:e.player.uniqueID,name:e.player.publicName,score:e.score,rank:e.rank,photo:e.player.getAvatarSrc(\"large\")}})):[],t._resolvePromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,r)})).catch((function(e){t._rejectPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,e)}))}return r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this;if(!fn(this,yn))return Promise.reject();var r=this._paymentsGetProductPlatformData(e);r||(r={id:e});var n=this._getPromiseDecorator(y.PURCHASE);return n||(n=this._createPromiseDecorator(y.PURCHASE),fn(this,yn).purchase(r).then((function(r){var n=$r({id:e},r.purchaseData);delete n.productID,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this;if(!fn(this,yn))return Promise.reject();var r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),fn(this,yn).consumePurchase(this._paymentsPurchases[r].purchaseToken).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(y.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this;if(!fn(this,yn))return Promise.reject();var t=this._paymentsGetProductsPlatformData(),r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),fn(this,yn).getCatalog().then((function(r){var n=t.map((function(e){var t,n=r.find((function(t){return t.id===e.id}));return{id:e.id,title:n.title,description:n.description,imageURI:n.imageURI,price:n.price,priceCurrencyCode:n.priceCurrencyCode,priceValue:n.priceValue,priceCurrencyImage:null===(t=n.getPriceCurrencyImage)||void 0===t?void 0:t.call(n,\"medium\")}}));e._resolvePromiseDecorator(y.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this;if(!fn(this,yn))return Promise.reject();var t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),fn(this,yn).getPurchases().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){var t=$r({id:r.find((function(t){return t.id===e.productID})).id},e.purchaseData);return delete t.productID,t})),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}},{key:\"getRemoteConfig\",value:function(e){var t=this;if(!this._platformSdk)return Promise.reject();var r=e;r||(r={}),r.clientFeatures||(r.clientFeatures=[]);var n=this._getPromiseDecorator(y.GET_REMOTE_CONFIG);return n||(n=this._createPromiseDecorator(y.GET_REMOTE_CONFIG),this._platformSdk.getFlags(r).then((function(e){t._resolvePromiseDecorator(y.GET_REMOTE_CONFIG,e)})).catch((function(e){t._rejectPromiseDecorator(y.GET_REMOTE_CONFIG,e)}))),n.promise}},{key:\"clipboardWrite\",value:function(e){var t=this,r=this._getPromiseDecorator(y.CLIPBOARD_WRITE);return r||(r=this._createPromiseDecorator(y.CLIPBOARD_WRITE),this._platformSdk.clipboard.writeText(e).then((function(){t._resolvePromiseDecorator(y.CLIPBOARD_WRITE,!0)})).catch((function(e){t._rejectPromiseDecorator(y.CLIPBOARD_WRITE,e)}))),r.promise}}])&&en(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),h}(Cr);function Sn(e){return Sn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Sn(e)}function bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,En(n.key),n)}}function En(e){var t=function(e,t){if(\"object\"!=Sn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Sn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Sn(t)?t:String(t)}function Pn(){return Pn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=On(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Pn.apply(this,arguments)}function wn(e,t){return wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wn(e,t)}function An(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function On(e){return On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},On(e)}function kn(e,t,r){Dn(e,t),t.set(e,r)}function Dn(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function In(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Rn(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Ln(e,t,\"set\"),r),r}function Tn(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ln(e,t,\"get\"))}function Ln(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var jn=new WeakMap,Nn=new WeakMap,Cn=new WeakMap,Bn=new WeakSet;function Gn(){var e=this;return Tn(this,Nn)?new Promise((function(t,r){e._platformSdk.user.getUser().then((function(n){n?(e._isPlayerAuthorized=!0,n.username&&(e._playerName=n.username),n.profilePictureUrl&&(e._playerPhotos=[n.profilePictureUrl]),t()):r()})).catch((function(e){r(e)}))})):Promise.reject()}const Mn=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&wn(e,t)}(h,t);var r,n,o,p,d=(o=h,p=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=On(o);if(p){var r=On(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Sn(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return An(e)}(this,e)});function h(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,h);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return Dn(t=An(e=d.call.apply(d,[this].concat(o))),r=Bn),r.add(t),kn(An(e),jn,{writable:!0,value:!1}),kn(An(e),Nn,{writable:!0,value:!1}),kn(An(e),Cn,{writable:!0,value:{adStarted:function(){Tn(An(e),jn)?e._setRewardedState(a.OPENED):e._setInterstitialState(i.OPENED)},adFinished:function(){Tn(An(e),jn)?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setInterstitialState(i.CLOSED)},adError:function(){Tn(An(e),jn)?e._setRewardedState(a.FAILED):e._setInterstitialState(i.FAILED)}}}),e}return r=h,(n=[{key:\"platformId\",get:function(){return e.CRAZY_GAMES}},{key:\"platformLanguage\",get:function(){return Tn(this,Nn)?this._platformSdk.user.systemInfo.countryCode.toLowerCase():Pn(On(h.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return Tn(this,Nn)}},{key:\"deviceType\",get:function(){if(Tn(this,Nn)){var e=this._platformSdk.user.systemInfo.device.type.toLowerCase();if([l.DESKTOP,l.MOBILE,l.TABLET].includes(e))return e}return Pn(On(h.prototype),\"deviceType\",this)}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"https://sdk.crazygames.com/crazygames-sdk-v3.js\").then((function(){fe(\"CrazyGames\",\"SDK\",\"init\").then((function(){e._platformSdk=window.CrazyGames.SDK,e._defaultStorageType=c.PLATFORM_INTERNAL,e._isBannerSupported=!0,e._platformSdk.init().then((function(){Rn(e,Nn,e._platformSdk.user.isUserAccountAvailable);var t=In(e,Bn,Gn).call(e);Promise.all([t]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;if(!Tn(this,Nn))return Promise.reject();if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._platformSdk.user.showAuthPrompt().then((function(){In(e,Bn,Gn).call(e).then((function(){e._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,t)}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case f.IN_GAME_LOADING_STARTED:return this._platformSdk.game.loadingStart(),Promise.resolve();case f.IN_GAME_LOADING_STOPPED:return this._platformSdk.game.loadingStop(),Promise.resolve();case f.GAMEPLAY_STARTED:return this._platformSdk.game.gameplayStart(),Promise.resolve();case f.GAMEPLAY_STOPPED:return this._platformSdk.game.gameplayStop(),Promise.resolve();case f.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.game.happytime(),Promise.resolve();default:return Pn(On(h.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||Pn(On(h.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL||Pn(On(h.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t){if(Array.isArray(e)){var o=[];return e.forEach((function(e){var t=n._platformSdk.data.getItem(e);if(r)try{t=JSON.parse(t)}catch(e){}o.push(t)})),void t(o)}var i=n._platformSdk.data.getItem(e);if(r)try{i=JSON.parse(i)}catch(e){}t(i)})):Pn(On(h.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===c.PLATFORM_INTERNAL?new Promise((function(r){if(Array.isArray(e)){for(var o=0;o<e.length;o++){var i=t[o];\"string\"!=typeof t[o]&&(i=JSON.stringify(t[o])),n._platformSdk.data.setItem(e[o],i)}r()}else{var a=t;\"string\"!=typeof t&&(a=JSON.stringify(t)),n._platformSdk.data.setItem(e,a),r()}})):Pn(On(h.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===c.PLATFORM_INTERNAL?Array.isArray(e)?(e.forEach((function(e){return r._platformSdk.data.removeItem(e)})),Promise.resolve()):(this._platformSdk.data.removeItem(e),Promise.resolve()):Pn(On(h.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e){var t=this,r=document.getElementById(u);r||(r=le(e)),r.style.display=\"block\",this._platformSdk.banner.requestResponsiveBanner([u]).then((function(){t._setBannerState(s.SHOWN)})).catch((function(){t._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var e=document.getElementById(u);e&&(e.style.display=\"none\"),this._platformSdk.banner.clearAllBanners(),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){Rn(this,jn,!1),this._platformSdk.ad.requestAd(\"midgame\",Tn(this,Cn))}},{key:\"showRewarded\",value:function(){Rn(this,jn,!0),this._platformSdk.ad.requestAd(\"rewarded\",Tn(this,Cn))}},{key:\"checkAdBlock\",value:function(){var e=this;return new Promise((function(t){e._platformSdk.ad.hasAdblock().then((function(e){t(e)}))}))}}])&&bn(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),h}(Cr);function Fn(e){return Fn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Fn(e)}function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=zn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,zn(n.key),n)}}function zn(e){var t=function(e,t){if(\"object\"!=Fn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Fn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Fn(t)?t:String(t)}function Vn(){return Vn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Vn.apply(this,arguments)}function Wn(e,t){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wn(e,t)}function Zn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Yn(e){return Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yn(e)}var Kn=new WeakSet;function Jn(){var e=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized=\"false\"===this._platformSdk.options.guest,new Promise((function(t){e._platformSdk.getUsers([e._playerId],(function(r){if(r&&1===r.length){var n=r[0];e._playerName=n.full_name,\"\"!==n.avatar&&(e._playerPhotos=[n.avatar])}t()}))}))}const qn=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Wn(e,t)}(l,t);var r,n,o,s,u=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yn(o);if(s){var r=Yn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Fn(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Zn(e)}(this,e)});function l(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t=Zn(e=u.call.apply(u,[this].concat(o))),r=Kn),r.add(t),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.ABSOLUTE_GAMES}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"https://unpkg.com/@agru/sdk/dist/umd/index.min.js\").then((function(){e._platformSdk=new window.AgRuSdk,e._platformSdk.on(window.AgRuSdkMethods.ShowCampaign,(function(t,r){\"rewarded\"===t.type?null===r?t.status?e._setRewardedState(a.OPENED):(t.reward&&e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED):null===r?t.status?e._setInterstitialState(i.OPENED):e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)}));var t=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}(e,Kn,Jn).call(e);Promise.all([t]).finally((function(){e._isInitialized=!0,e._defaultStorageType=e._isPlayerAuthorized?c.PLATFORM_INTERNAL:c.LOCAL_STORAGE,e._resolvePromiseDecorator(y.INITIALIZE)}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._platformSdk.authorize((function(t,r){null===r?e._resolvePromiseDecorator(y.AUTHORIZE_PLAYER):e._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,r)}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||Vn(Yn(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL?this._isPlayerAuthorized:Vn(Yn(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,r){if(n._platformStorageCachedData){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a=void 0===n._platformStorageCachedData[e[i]]?null:n._platformStorageCachedData[e[i]];o.push(a)}return void t(o)}t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}else n._isPlayerAuthorized?n._platformSdk.getSaveData((function(o,i){if(null===i){if(n._platformStorageCachedData=o||{},Array.isArray(e)){for(var a=[],s=0;s<e.length;s++){var u=void 0===n._platformStorageCachedData[e[s]]?null:n._platformStorageCachedData[e[s]];a.push(u)}return void t(a)}t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}else r(i)})):r()})):Vn(Yn(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===c.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?Un({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.setSaveData(i,(function(e,t){null===t&&(n._platformStorageCachedData=i,r()),o(t)}))}else o()})):Vn(Yn(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?Un({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r._platformSdk.setSaveData(o,(function(e,i){null===i&&(r._platformStorageCachedData=o,t()),n(i)}))}else n()})):Vn(Yn(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){this._platformSdk.showCampaign(\"default\")}},{key:\"showRewarded\",value:function(){this._platformSdk.showCampaign(\"rewarded\")}}])&&xn(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Cr);function Qn(e){return Qn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Qn(e)}function Xn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,$n(n.key),n)}}function $n(e){var t=function(e,t){if(\"object\"!=Qn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Qn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Qn(t)?t:String(t)}function eo(e,t){return eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eo(e,t)}function to(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ro(e){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ro(e)}function no(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,io(e,t,\"set\"),r),r}function oo(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,io(e,t,\"get\"))}function io(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var ao=new WeakMap;const so=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&eo(e,t)}(p,t);var r,n,o,l,f=(o=p,l=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ro(o);if(l){var r=ro(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Qn(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return to(e)}(this,e)});function p(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=to(e=f.call.apply(f,[this].concat(i))),n={writable:!0,value:!1},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,r=ao),r.set(t,n),e}return r=p,(n=[{key:\"platformId\",get:function(){return e.GAME_DISTRIBUTION}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isMinimumDelayBetweenInterstitialEnabled\",get:function(){return!1}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y.INITIALIZE);if(!e)if(e=this._createPromiseDecorator(y.INITIALIZE),this._options&&\"string\"==typeof this._options.gameId){var t=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(e){switch(e.name){case\"SDK_READY\":t._platformSdk=window.gdsdk,t._isInitialized=!0,t.showInterstitial(),t._resolvePromiseDecorator(y.INITIALIZE);break;case\"SDK_GAME_START\":oo(t,ao)?(t._setRewardedState(a.CLOSED),t._platformSdk.preloadAd(\"rewarded\")):t._setInterstitialState(i.CLOSED);break;case\"SDK_GAME_PAUSE\":oo(t,ao)?t._setRewardedState(a.OPENED):t._setInterstitialState(i.OPENED);break;case\"SDK_REWARDED_WATCH_COMPLETE\":t._setRewardedState(a.REWARDED)}}},this._defaultStorageType=c.LOCAL_STORAGE,this._isBannerSupported=!0,ce(\"https://html5.api.gamedistribution.com/main.min.js\")}else this._rejectPromiseDecorator(y.INITIALIZE,g);return e.promise}},{key:\"showBanner\",value:function(e){var t=this,r=document.getElementById(u);r||(r=le(e)),r.style.display=\"block\",this._platformSdk.showAd(\"display\",{containerId:u}).then((function(){t._setBannerState(s.SHOWN)})).catch((function(){t._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var e=document.getElementById(u);e&&(e.style.display=\"none\"),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){var e=this;no(this,ao,!1),this._platformSdk?this._platformSdk.showAd().catch((function(){e._setInterstitialState(i.FAILED)})):this._setInterstitialState(i.FAILED)}},{key:\"preloadRewarded\",value:function(){this._platformSdk.preloadAd(\"rewarded\")}},{key:\"showRewarded\",value:function(){var e=this;no(this,ao,!0),this._platformSdk?this._platformSdk.showAd(\"rewarded\").catch((function(){e._setRewardedState(a.FAILED)})):this._setRewardedState(a.FAILED)}}])&&Xn(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(Cr);function uo(e){return uo=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},uo(e)}function co(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,go(n.key),n)}}function lo(){return lo=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ho(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},lo.apply(this,arguments)}function fo(e,t){return fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fo(e,t)}function po(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ho(e){return ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ho(e)}function yo(e,t){vo(e,t),t.add(e)}function mo(e,t,r){vo(e,t),t.set(e,r)}function vo(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function _o(e,t,r){return(t=go(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function go(e){var t=function(e,t){if(\"object\"!=uo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=uo(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==uo(t)?t:String(t)}function So(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function bo(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Eo(e,t,\"get\"))}function Eo(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Po=\"AUTHORIZED\",wo={VALUABLE_ACCESS:\"VALUABLE_ACCESS\",PHOTO_CONTENT:\"PHOTO_CONTENT\"},Ao=new WeakMap,Oo=new WeakMap,ko=new WeakMap,Do=new WeakMap,Io=new WeakSet,Ro=new WeakSet,To=new WeakSet,Lo=new WeakSet,jo=new WeakSet,No=new WeakSet,Co=new WeakSet,Bo=new WeakSet,Go=new WeakSet,Mo=new WeakSet,Fo=new WeakSet,Ho=new WeakSet,Uo=new WeakSet,xo=new WeakSet,zo=new WeakSet,Vo=new WeakSet;function Wo(){return{userProfile:{fields:\"uid,name,pic50x50,pic128x128,pic_base\",method:\"users.getCurrentUser\"},hasAppPermission:function(e){return{method:\"users.hasAppPermission\",ext_perm:e}}}}function Zo(){var e=this;return{userProfileCallback:function(t,r,n){return So(e,Io,Ko).call(e,t,r,n)},hasValueAccessCallback:function(t,r,n){return So(e,To,qo).call(e,r,n)}}}function Yo(){var e=this;return{showPermissions:function(){return So(e,Lo,Qo).call(e)},loadAd:function(t){return So(e,jo,Xo).call(e,t)},showLoadedAd:function(t,r){return So(e,No,$o).call(e,r)},showAd:function(t,r){return So(e,Co,ei).call(e,r)},requestBannerAds:function(t,r){return So(e,Bo,ti).call(e,t,r)},showBannerAds:function(t,r){return So(e,Mo,ni).call(e,r)},hideBannerAds:function(t,r){return So(e,Go,ri).call(e,r)},setBannerFormat:function(t){return So(e,Fo,oi).call(e,t)},showInvite:function(t){return So(e,Ho,ii).call(e,t)},showRatingDialog:function(t,r){return So(e,Uo,ai).call(e,t,r)},joinGroup:function(t,r){return So(e,xo,si).call(e,t,r)},showLoginSuggestion:function(t,r){return So(e,Ro,Jo).call(e,t,r)},postMediatopic:function(t,r){return So(e,zo,ui).call(e,t,r)},isAdBlockEnabled:function(t,r){return So(e,Vo,ci).call(e,t,r)}}}function Ko(e,t){\"ok\"===e&&(this._playerId=t.uid,this._playerName=t.name,this._playerPhotos=[t.pic50x50,t.pic128x128,t.pic_base]),this._isInitialized=!0,this._platformSdk.Client.call(bo(this,Oo).hasAppPermission(wo.VALUABLE_ACCESS),bo(this,ko).hasValueAccessCallback)}function Jo(e,t){if(\"error\"===e)return this._isPlayerAuthorized=!1,void this._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,t);this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}function qo(e){if(this._hasValuableAccessPermission=!!e,this._defaultStorageType=this._hasValuableAccessPermission?c.PLATFORM_INTERNAL:c.LOCAL_STORAGE,this._hasValuableAccessPermission||this._hasValuableAccessPermissionShowed)this._resolvePromiseDecorator(y.INITIALIZE);else{var t=Object.values(wo).map((function(e){return'\"'.concat(e,'\"')})).join(\",\");this._platformSdk.UI.showPermissions(\"[\".concat(t,\"]\"))}}function Qo(){this._hasValuableAccessPermissionShowed=!0,this._platformSdk.Client.call(bo(this,Oo).hasAppPermission(wo.VALUABLE_ACCESS),bo(this,ko).hasValueAccessCallback)}function Xo(e){\"error\"===e?this._setRewardedState(a.FAILED):(this._setRewardedState(a.OPENED),this._platformSdk.UI.showLoadedAd())}function $o(e){switch(e){case\"complete\":this._setRewardedState(a.REWARDED),this._setRewardedState(a.CLOSED);break;case\"skip\":this._setRewardedState(a.CLOSED);break;default:this._setRewardedState(a.FAILED)}}function ei(e){switch(e){case\"ready\":case\"ad_prepared\":break;case\"ad_shown\":this._setInterstitialState(i.OPENED),this._setInterstitialState(i.CLOSED);break;default:this._setInterstitialState(i.FAILED)}}function ti(e,t){if(\"error\"!==e)switch(t){case\"ad_loaded\":this._platformSdk.invokeUIMethod(\"showBannerAds\",bo(this,Ao));break;case\"banner_shown\":case\"ad_shown\":this._setBannerState(s.SHOWN);break;case\"hidden_by_user\":this._setBannerState(s.HIDDEN)}else this._setBannerState(s.FAILED)}function ri(e){e?this._setBannerState(s.HIDDEN):this._setBannerState(s.FAILED)}function ni(e){e||this._setBannerState(s.FAILED)}function oi(e){\"error\"===e?this._setBannerState(s.FAILED):this.showBanner(this._platformBannerOptions)}function ii(e){\"error\"===e?this._rejectPromiseDecorator(y.INVITE_FRIENDS):this._resolvePromiseDecorator(y.INVITE_FRIENDS)}function ai(e,t){\"error\"===e?this._rejectPromiseDecorator(y.RATE,t):this._resolvePromiseDecorator(y.RATE)}function si(e,t){\"error\"===e?this._rejectPromiseDecorator(y.JOIN_COMMUNITY,t):this._resolvePromiseDecorator(y.JOIN_COMMUNITY)}function ui(e,t){\"error\"===e?this._rejectPromiseDecorator(y.CREATE_POST,t):this._resolvePromiseDecorator(y.CREATE_POST)}function ci(e,t){\"ok\"===e?this._resolvePromiseDecorator(y.ADBLOCK_DETECT,\"true\"===t):this._rejectPromiseDecorator(y.ADBLOCK_DETECT)}const li=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&fo(e,t)}(l,t);var r,n,o,s,u=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ho(o);if(s){var r=ho(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===uo(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return po(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return yo(po(e=u.call.apply(u,[this].concat(r))),Vo),yo(po(e),zo),yo(po(e),xo),yo(po(e),Uo),yo(po(e),Ho),yo(po(e),Fo),yo(po(e),Mo),yo(po(e),Go),yo(po(e),Bo),yo(po(e),Co),yo(po(e),No),yo(po(e),jo),yo(po(e),Lo),yo(po(e),To),yo(po(e),Ro),yo(po(e),Io),mo(po(e),Do,{get:Yo,set:void 0}),mo(po(e),ko,{get:Zo,set:void 0}),mo(po(e),Oo,{get:Wo,set:void 0}),_o(po(e),\"_hasValuableAccessPermission\",!1),_o(po(e),\"_hasValuableAccessPermissionShowed\",!1),_o(po(e),\"_platformBannerOptions\",{}),mo(po(e),Ao,{writable:!0,value:null}),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.OK}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isCreatePostSupported\",get:function(){return!0}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"//api.ok.ru/js/fapi5.js\").then((function(){fe(\"FAPI\").then((function(){e._platformSdk=window.FAPI,window.API_callback=function(t,r,n){return bo(e,Do)[t](r,n)};var t=e._platformSdk.Util.getRequestParameters()||{};t.api_server&&t.apiconnection?e._platformSdk.init(t.api_server,t.apiconnection,(function(){var t,r=null===(t=e._platformSdk)||void 0===t?void 0:t.saved_state;e._isPlayerAuthorized=!r||r===Po,e._isPlayerAuthorized?e._platformSdk.Client.call(bo(e,Oo).userProfile,bo(e,ko).userProfileCallback):(e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE))}),(function(){e._rejectPromiseDecorator(y.INITIALIZE)})):e._rejectPromiseDecorator(y.INITIALIZE,b)}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._platformSdk.UI.showLoginSuggestion(Po)),e.promise}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||lo(ho(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL?this._hasValuableAccessPermission:lo(ho(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===c.PLATFORM_INTERNAL?this._hasValuableAccessPermission?new Promise((function(t,o){var i=Array.isArray(e)?e:[e],a={method:\"storage.get\",keys:i,scope:\"CUSTOM\"};n._platformSdk.Client.call(a,(function(n,a,s){if(a){var u=a.data||{};if(Array.isArray(e)){var c=[];return i.forEach((function(e){if(\"\"!==u[e]&&void 0!==u[e]){var t=u[e];if(r)try{t=JSON.parse(u[e])}catch(e){}c.push(t)}else c.push(null)})),void t(c)}if(\"\"===u[e]||void 0===u[e])return void t(null);var l=u[e];if(r)try{l=JSON.parse(u[e])}catch(e){}t(l)}else o(s)}))})):Promise.reject(_):lo(ho(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;if(r===c.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(_);for(var o=Array.isArray(e)?e:[e],i=Array.isArray(e)?t:[t],a=[],s=function(){var e=o[u],t=i[u];\"string\"!=typeof t&&(t=JSON.stringify(t));var r={method:\"storage.set\",key:e,value:t},s=new Promise((function(e,t){n._platformSdk.Client.call(r,(function(r,n){n?e():t()}))}));a.push(s)},u=0;u<o.length;u++)s();return Promise.all(a)}return lo(ho(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;if(t===c.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(_);for(var n=Array.isArray(e)?e:[e],o=[],i=function(){var e={method:\"storage.set\",key:n[a]},t=new Promise((function(t,n){r._platformSdk.Client.call(e,(function(e,r){r?t():n()}))}));o.push(t)},a=0;a<n.length;a++)i();return Promise.all(o)}return lo(ho(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){try{this._platformSdk.UI.showAd()}catch(e){this._setInterstitialState(i.FAILED)}}},{key:\"showRewarded\",value:function(){try{this._platformSdk.UI.loadAd()}catch(e){this._setRewardedState(a.FAILED)}}},{key:\"showBanner\",value:function(e){var t,r;r=e,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t=this,Eo(t,Ao,\"set\"),r),this._platformSdk.invokeUIMethod(\"requestBannerAds\")}},{key:\"hideBanner\",value:function(){this._platformSdk.invokeUIMethod(\"hideBannerAds\")}},{key:\"checkAdBlock\",value:function(){var e=this._getPromiseDecorator(y.ADBLOCK_DETECT);return e||(e=this._createPromiseDecorator(y.ADBLOCK_DETECT),this._platformSdk.invokeUIMethod(\"isAdBlockEnabled\")),e.promise}},{key:\"inviteFriends\",value:function(e){var t=(e||{}).text;if(!e||\"string\"!=typeof t)return Promise.reject();var r=this._getPromiseDecorator(y.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(y.INVITE_FRIENDS),t.length>120?this._rejectPromiseDecorator(y.INVITE_FRIENDS,w):this._platformSdk.UI.showInvite(t)),r.promise}},{key:\"rate\",value:function(){var e=this._getPromiseDecorator(y.RATE);return e||(e=this._createPromiseDecorator(y.RATE),this._platformSdk.UI.showRatingDialog()),e.promise}},{key:\"createPost\",value:function(e){if(!e||null==e||!e.media)return Promise.reject();var t,r=this._getPromiseDecorator(y.CREATE_POST);return r||(r=this._createPromiseDecorator(y.CREATE_POST),this._platformSdk.UI.postMediatopic(e,null!==(t=e.status)&&void 0!==t&&t)),r.promise}},{key:\"joinCommunity\",value:function(e){if(!e||null==e||!e.groupId)return Promise.reject();var t,r=this._getPromiseDecorator(y.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(y.JOIN_COMMUNITY),this._platformSdk.UI.joinGroup(e.groupId,null!==(t=e.enableMessages)&&void 0!==t&&t)),r.promise}}])&&co(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Cr);function fi(e){return fi=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},fi(e)}function pi(){pi=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},\"\")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new R(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};c(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(T([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==fi(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r(\"throw\",e,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var c=f(t,r,n);if(\"normal\"===c.type){if(o=n.done?y:d,c.arg===m)continue;return{value:c.arg,done:n.done}}\"throw\"===c.type&&(o=y,n.method=\"throw\",n.arg=c.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(D,this),this.reset(!0)}function T(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(fi(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=c(g,u,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,u,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),c(P,u,\"Generator\"),c(P,a,(function(){return this})),c(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=n.call(a,\"catchLoc\"),c=n.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;I(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function di(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=vi(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,vi(n.key),n)}}function vi(e){var t=function(e,t){if(\"object\"!=fi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=fi(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==fi(t)?t:String(t)}function _i(){return _i=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},_i.apply(this,arguments)}function gi(e,t){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gi(e,t)}function Si(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function bi(e){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bi(e)}function Ei(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Pi(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var wi=new WeakSet,Ai=new WeakSet;function Oi(){var e=this;return new Promise((function(t){e._platformSdk.userService.getUser().then((function(t){return e._playerId=t.id,e._isPlayerAuthorized=t.isAuthorized,e._playerName=t.name,e._playerPhotos=t.photos,e._defaultStorageType=e._isPlayerAuthorized?c.PLATFORM_INTERNAL:c.LOCAL_STORAGE,e._isPlayerAuthorized?Pi(e,Ai,ki).call(e,[]):Promise.resolve()})).finally((function(){t()}))}))}function ki(e){return Di.apply(this,arguments)}function Di(){var e;return e=pi().mark((function e(t){var r,n=arguments;return pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1],this._platformStorageCachedData){e.next=5;break}return e.next=4,this.platformSdk.cloudSaveApi.getState();case 4:this._platformStorageCachedData=e.sent;case 5:return e.abrupt(\"return\",he(t,this._platformStorageCachedData,r));case 6:case\"end\":return e.stop()}}),e,this)})),Di=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){di(i,n,o,a,s,\"next\",e)}function s(e){di(i,n,o,a,s,\"throw\",e)}a(void 0)}))},Di.apply(this,arguments)}const Ii=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&gi(e,t)}(l,t);var r,n,o,s,u=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bi(o);if(s){var r=bi(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===fi(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Si(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ei(Si(e=u.call.apply(u,[this].concat(r))),Ai),Ei(Si(e),wi),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.PLAYGAMA}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"platformLanguage\",get:function(){return this._platformSdk.platformService.getLanguage()}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"https://developer.playgama.com/sdk/v1.js\").then((function(){fe(\"PLAYGAMA_SDK\").then((function(){e._platformSdk=window.PLAYGAMA_SDK,Pi(e,wi,Oi).call(e).then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||_i(bi(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL?this._isPlayerAuthorized:_i(bi(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){return t===c.PLATFORM_INTERNAL?this._isPlayerAuthorized?Pi(this,Ai,ki).call(this,e,r):Promise.reject():_i(bi(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;switch(r){case c.PLATFORM_INTERNAL:return this._isPlayerAuthorized?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?yi({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n.platformSdk.cloudSaveApi.setItems(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))})):Promise.reject();case c.LOCAL_STORAGE:var o={};if(Array.isArray(e))for(var i=0;i<e.length;i++)o[e[i]]=\"string\"!=typeof t[i]?JSON.stringify(t[i]):t[i];else o[e]=\"string\"!=typeof t?JSON.stringify(t):t;return this._platformSdk.storageApi.setItems(o),_i(bi(l.prototype),\"setDataToStorage\",this).call(this,e,t,r);default:return Promise.reject(v)}}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;switch(t){case c.PLATFORM_INTERNAL:return new Promise((function(t,n){var o=null!==r._platformStorageCachedData?yi({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r.platformSdk.cloudSaveApi.setItems(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))}));case c.LOCAL_STORAGE:return this._platformSdk.storageApi.deleteItems(Array.isArray(e)?e:[e]),_i(bi(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t);default:return Promise.reject(v)}}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.advService.showInterstitial({onOpen:function(){e._setInterstitialState(i.OPENED)},onEmpty:function(){e._setInterstitialState(i.FAILED)},onClose:function(){e._setInterstitialState(i.CLOSED)},onError:function(){e._setInterstitialState(i.FAILED)}})}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.advService.showRewarded({onOpen:function(){e._setRewardedState(a.OPENED)},onRewarded:function(){e._setRewardedState(a.REWARDED)},onEmpty:function(){e._setRewardedState(a.FAILED)},onClose:function(){e._setRewardedState(a.CLOSED)},onError:function(){e._setRewardedState(a.FAILED)}})}},{key:\"authorizePlayer\",value:function(e){var t=this,r=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._isPlayerAuthorized?Pi(this,wi,Oi).call(this,e).then((function(){t._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)})):this._platformSdk.userService.authorizeUser().then((function(){Pi(t,wi,Oi).call(t,e).then((function(){t._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}))})).catch((function(e){t._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,e)}))),r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();r.externalId||(r.externalId=this._paymentsGenerateTransactionId(e));var n=this._getPromiseDecorator(y.PURCHASE);return n||(n=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.inGamePaymentsApi.purchase(r).then((function(r){if(\"PAID\"===r.status){var n=yi({id:e},r);t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)}else t._rejectPromiseDecorator(y.PURCHASE,r.error)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=e.map((function(e){return{id:e.id,price:\"\".concat(e.amount,\" Gam\"),priceCurrencyCode:\"Gam\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:e.amount}}));return Promise.resolve(t)}}])&&mi(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Cr);function Ri(e){return Ri=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ri(e)}function Ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Li(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Mi(n.key),n)}}function ji(){return ji=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ji.apply(this,arguments)}function Ni(e,t){return Ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ni(e,t)}function Ci(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Bi(e){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bi(e)}function Gi(e,t,r){return(t=Mi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mi(e){var t=function(e,t){if(\"object\"!=Ri(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ri(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ri(t)?t:String(t)}function Fi(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function Hi(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,xi(e,t,\"set\"),r),r}function Ui(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,xi(e,t,\"get\"))}function xi(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var zi=new WeakMap,Vi=new WeakMap;const Wi=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ni(e,t)}(l,t);var r,n,o,s,u=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bi(o);if(s){var r=Bi(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Ri(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ci(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Fi(Ci(e=u.call.apply(u,[this].concat(r))),zi,{writable:!0,value:void 0}),Fi(Ci(e),Vi,{writable:!0,value:void 0}),Gi(Ci(e),\"_defaultStorageType\",c.PLATFORM_INTERNAL),Gi(Ci(e),\"_isPlayerAuthorized\",!0),e}return r=l,n=[{key:\"platformId\",get:function(){return e.PLAYDECK}},{key:\"platformLanguage\",get:function(){return Ui(this,zi)?Ui(this,zi):ji(Bi(l.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),window.addEventListener(\"message\",(function t(r){var n=r.data;if(n&&n.playdeck){var o=n.playdeck;if(\"getUserProfile\"===o.method){var i=o.value;e._playerId=i.telegramId,e._playerPhotos=[i.avatar],e._playerName=i.username,Hi(e,zi,i.locale),Hi(e,Vi,i.params),window.removeEventListener(\"message\",t),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}}})),window.parent.postMessage({playdeck:{method:\"getUserProfile\"}},\"*\")),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case f.GAME_OVER:return window.parent.postMessage({playdeck:{method:\"gameEnd\"}},\"*\"),Promise.resolve();case f.GAME_READY:return window.parent.postMessage({playdeck:{method:\"loading\",value:100}},\"*\"),Promise.resolve();default:return ji(Bi(l.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"showInterstitial\",value:function(){var e=this;window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":e._setInterstitialState(i.OPENED);break;case\"rewardedAd\":case\"skipAd\":e._setInterstitialState(i.CLOSED),window.removeEventListener(\"message\",t);break;case\"errAd\":case\"notFoundAd\":e._setInterstitialState(i.FAILED),window.removeEventListener(\"message\",t)}})),window.parent.postMessage({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"showRewarded\",value:function(){var e=this;window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":e._setRewardedState(a.OPENED);break;case\"rewardedAd\":e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",t);break;case\"skipAd\":e._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",t);break;case\"errAd\":case\"notFoundAd\":e._setRewardedState(a.FAILED),window.removeEventListener(\"message\",t)}})),window.parent.postMessage({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||ji(Bi(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL||ji(Bi(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){return t===c.PLATFORM_INTERNAL?new Promise((function(t){var r={},n=Array.isArray(e)?e:[e];window.addEventListener(\"message\",(function o(i){var a=i.data;if(a&&a.playdeck&&\"getData\"===a.playdeck.method&&n.includes(a.playdeck.key)){var s=a.playdeck;if(\"getData\"===s.method&&(r[s.key]=s.value.data),Object.keys(r).length===n.length){window.removeEventListener(\"message\",o);var u=Array.isArray(e)?e.map((function(e){return r[e]})):r[e];t(u)}}})),n.forEach((function(e){return window.parent.postMessage({playdeck:{method:\"getData\",key:e}},\"*\")}))})):ji(Bi(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){return r===c.PLATFORM_INTERNAL?new Promise((function(r){var n=Array.isArray(e)?e:[e],o=(Array.isArray(t)?t:[t]).map((function(e){return\"string\"!=typeof e?JSON.stringify(e):e}));n.forEach((function(e,t){return window.parent.postMessage({playdeck:{method:\"setData\",key:e,value:o[t]}},\"*\")})),r()})):ji(Bi(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){return t===c.PLATFORM_INTERNAL?new Promise((function(t){(Array.isArray(e)?e:[e]).forEach((function(e){return window.parent.postMessage({playdeck:{method:\"setData\",key:e,value:\"\"}},\"*\")})),t()})):ji(Bi(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"share\",value:function(){var e=this,t=this._getPromiseDecorator(y.SHARE);return t||(t=this._createPromiseDecorator(y.SHARE),window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;o&&\"customShare\"===o.method&&(window.removeEventListener(\"message\",t),e._resolvePromiseDecorator(y.SHARE))})),window.parent.postMessage({playdeck:{method:\"customShare\",value:Ui(this,Vi)}},\"*\")),t.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();r.externalId||(r.externalId=this._paymentsGenerateTransactionId(e));var n=this._getPromiseDecorator(y.PURCHASE);return n||(n=this._createPromiseDecorator(y.PURCHASE),window.addEventListener(\"message\",(function e(t){var r=t.data,n=null==r?void 0:r.playdeck;n&&\"requestPayment\"===n.method&&(window.parent.postMessage({playdeck:{method:\"openTelegramLink\",value:n.value.url}},\"*\"),window.removeEventListener(\"message\",e))})),window.addEventListener(\"message\",(function r(n){var o=n.data,i=null==o?void 0:o.playdeck;if(i&&\"invoiceClosed\"===i.method)if(\"paid\"===i.value.status){window.removeEventListener(\"message\",r);var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(r),!0).forEach((function(t){Gi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:e},i.value);t._paymentsPurchases.push(a),t._resolvePromiseDecorator(y.PURCHASE,a)}else\"cancelled\"!==i.value.status&&\"failed\"!==i.value.status||(window.removeEventListener(\"message\",r),t._rejectPromiseDecorator(y.PURCHASE,i.value))})),window.parent.postMessage({playdeck:{method:\"requestPayment\",value:r}},\"*\")),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=e.map((function(e){return{id:e.id,price:\"\".concat(e.amount,\" Stars\"),priceCurrencyCode:\"Stars\",priceValue:e.amount}}));return Promise.resolve(t)}}],n&&Li(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Cr);function Zi(e){return Zi=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Zi(e)}function Yi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ea(n.key),n)}}function Ki(){return Ki=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ki.apply(this,arguments)}function Ji(e,t){return Ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ji(e,t)}function qi(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qi(e)}function Xi(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function $i(e,t,r){return(t=ea(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ea(e){var t=function(e,t){if(\"object\"!=Zi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Zi(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Zi(t)?t:String(t)}function ta(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,na(e,t,\"set\"),r),r}function ra(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,na(e,t,\"get\"))}function na(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var oa=new WeakMap,ia=new WeakMap,aa=new WeakMap,sa=new WeakMap;const ua=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ji(e,t)}(p,t);var r,n,o,s,u=(o=p,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qi(o);if(s){var r=Qi(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Zi(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return qi(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return $i(qi(e=u.call.apply(u,[this].concat(r))),\"_defaultStorageType\",c.PLATFORM_INTERNAL),$i(qi(e),\"_isPlayerAuthorized\",!0),Xi(qi(e),oa,{writable:!0,value:void 0}),Xi(qi(e),ia,{writable:!0,value:void 0}),Xi(qi(e),aa,{writable:!0,value:{onStart:function(){return e._setRewardedState(a.OPENED)},onSkip:function(){return e._setRewardedState(a.CLOSED)},onReward:function(){return e._setRewardedState(a.REWARDED)},onError:function(){return e._setRewardedState(a.FAILED)}}}),Xi(qi(e),sa,{writable:!0,value:{onStart:function(){return e._setInterstitialState(i.OPENED)},onSkip:function(){return e._setInterstitialState(i.CLOSED)},onError:function(){return e._setInterstitialState(i.FAILED)}}}),e}return r=p,(n=[{key:\"platformId\",get:function(){return e.TELEGRAM}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.initDataUnsafe.user.language_code:Ki(Qi(p.prototype),\"platformLanguage\",this)}},{key:\"isInterstitialSupported\",get:function(){return!!ra(this,ia)}},{key:\"isRewardedSupported\",get:function(){return!!ra(this,ia)}},{key:\"deviceType\",get:function(){switch(ra(this,oa)){case\"android\":case\"android_x\":case\"ios\":return l.MOBILE;case\"tdesktop\":case\"unigram\":case\"macos\":return l.DESKTOP;default:return Ki(Qi(p.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"https://telegram.org/js/telegram-web-app.js\").then((function(){e._platformSdk=window.Telegram.WebApp;var t=e._platformSdk.initDataUnsafe.user;e._playerId=t.id,e._playerName=[t.first_name,t.last_name].filter(Boolean).join(\" \"),e._playerPhotos=[t.photo_url],ta(e,oa,e._platformSdk.platform),e._isInitialized=!0,e._options&&e._options.adsgramBlockId?ce(\"https://sad.adsgram.ai/js/sad.min.js\").then((function(){ta(e,ia,window.Adsgram.init({blockId:e._options.adsgramBlockId}))})).finally((function(){e._resolvePromiseDecorator(y.INITIALIZE)})):e._resolvePromiseDecorator(y.INITIALIZE)}))),t.promise}},{key:\"sendMessage\",value:function(e){return e===f.GAME_READY?(this._platformSdk.ready(),Promise.resolve()):Ki(Qi(p.prototype),\"sendMessage\",this).call(this,e)}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||Ki(Qi(p.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL||Ki(Qi(p.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,o){Array.isArray(e)?n._platformSdk.CloudStorage.getItems(e,(function(n,i){if(n)o(n);else{var a=[];e.forEach((function(e){var t=i[e];if(r&&\"string\"==typeof t)try{t=JSON.parse(t)}catch(e){}a.push(t)})),t(a)}})):n._platformSdk.CloudStorage.getItem(e,(function(e,n){e&&o(e);var i=n;if(r&&\"string\"==typeof i)try{i=JSON.parse(i)}catch(e){}t(i)}))})):Ki(Qi(p.prototype),\"getDataFromStorage\",this).call(this,e,t)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===c.PLATFORM_INTERNAL?new Promise((function(r){var o=Array.isArray(e)?e:[e],i=(Array.isArray(t)?t:[t]).map((function(e){return\"string\"!=typeof e?JSON.stringify(e):e}));o.forEach((function(e,t){return n._platformSdk.CloudStorage.setItem(e,i[t])})),r()})):Ki(Qi(p.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t){(Array.isArray(e)?e:[e]).forEach((function(e){return r._platformSdk.CloudStorage.removeItem(e)})),t()})):Ki(Qi(p.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){var e=this;ra(this,ia)?(ra(this,ia).addEventListener(\"onStart\",ra(this,sa).onStart),ra(this,ia).addEventListener(\"onSkip\",ra(this,sa).onSkip),ra(this,ia).addEventListener(\"onError\",ra(this,sa).onError),ra(this,ia).addEventListener(\"onBannerNotFound\",ra(this,sa).onError),ra(this,ia).show().finally((function(){ra(e,ia).removeEventListener(\"onStart\",ra(e,sa).onStart),ra(e,ia).removeEventListener(\"onSkip\",ra(e,sa).onSkip),ra(e,ia).removeEventListener(\"onError\",ra(e,sa).onError),ra(e,ia).removeEventListener(\"onBannerNotFound\",ra(e,sa).onError)}))):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var e=this;ra(this,ia)?(ra(this,ia).addEventListener(\"onStart\",ra(this,aa).onStart),ra(this,ia).addEventListener(\"onSkip\",ra(this,aa).onSkip),ra(this,ia).addEventListener(\"onReward\",ra(this,aa).onReward),ra(this,ia).addEventListener(\"onError\",ra(this,aa).onError),ra(this,ia).addEventListener(\"onBannerNotFound\",ra(this,aa).onError),ra(this,ia).show().finally((function(){ra(e,ia).addEventListener(\"onStart\",ra(e,aa).onStart),ra(e,ia).addEventListener(\"onSkip\",ra(e,aa).onSkip),ra(e,ia).addEventListener(\"onReward\",ra(e,aa).onReward),ra(e,ia).addEventListener(\"onError\",ra(e,aa).onError),ra(e,ia).addEventListener(\"onBannerNotFound\",ra(e,aa).onError)}))):this._setRewardedState(a.FAILED)}},{key:\"clipboardRead\",value:function(){var e=this,t=this._getPromiseDecorator(y.CLIPBOARD_READ);return t||(t=this._createPromiseDecorator(y.CLIPBOARD_READ),this._platformSdk.readTextFromClipboard((function(t){t?e._resolvePromiseDecorator(y.CLIPBOARD_READ,t):e._rejectPromiseDecorator(y.CLIPBOARD_READ)}))),t.promise}}])&&Yi(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(Cr);var ca=[\"player\"];function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?la(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=ha(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pa(e){return pa=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},pa(e)}function da(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ha(n.key),n)}}function ha(e){var t=function(e,t){if(\"object\"!=pa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=pa(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==pa(t)?t:String(t)}function ya(){return ya=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_a(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ya.apply(this,arguments)}function ma(e,t){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ma(e,t)}function va(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(e)}function ga(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Sa(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var ba=\"userData\",Ea=\"6129580795478709\",Pa=new WeakSet,wa=new WeakSet;function Aa(){var e=this;return new Promise((function(t,r){e._platformStorageCachedData?t(e._platformStorageCachedData):e._platformSdk.api(\"user_data/retrieve\",\"POST\",{key:ba},(function(n){n.error&&\"Key not found\"!==n.error&&r(n);var o={};try{n.jsondata&&(o=JSON.parse(n.jsondata))}catch(e){}e._platformStorageCachedData=o,t(o)}))}))}function Oa(e){if(\"ok\"===e.status){this._isPlayerAuthorized=!0,this._defaultStorageType=c.PLATFORM_INTERNAL;var t=e.authResponse.details,r=t.pid,n=t.locale,o=t.nickname,i=t.first_name,a=t.last_name,s=t.avatars;r&&(this._playerId=r),this._platformLanguage=n,this._playerName=[i,a].filter((function(e){return!!e})).join(\" \")||o,this._playerPhotos=[];var u=s.thumb_url,l=s.medium_url,f=s.large_url;u&&this._playerPhotos.push(u),l&&this._playerPhotos.push(l),f&&this._playerPhotos.push(f)}}const ka=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ma(e,t)}(l,t);var r,n,o,s,u=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_a(o);if(s){var r=_a(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===pa(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return va(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ga(va(e=u.call.apply(u,[this].concat(r))),wa),ga(va(e),Pa),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.Y8}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return d}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"isGetAchievementsListSupported\",get:function(){return!0}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r=this._getPromiseDecorator(y.INITIALIZE);return r||(r=this._createPromiseDecorator(y.INITIALIZE),null!==(t=this._options)&&void 0!==t&&t.gameId?ce(\"https://cdn.y8.com/api/sdk.js\").then((function(){fe(\"ID\").then((function(){e._platformSdk=window.ID,e._platformSdk.Event.subscribe(\"id.init\",(function(){var t,r,n,o,i,a;(t={hostId:\"ca-host-pub-\".concat(Ea),adsenseId:e._options.channelId?\"ca-pub-\".concat(Ea):e._options.adsenseId,channelId:e._options.channelId},r=t.hostId,n=t.adsenseId,o=t.channelId,i=t.adFrequencyHint,a=void 0===i?\"180s\":i,new Promise((function(e){var t=document.createElement(\"script\");t.setAttribute(\"data-ad-client\",n),o?t.setAttribute(\"data-ad-channel\",o):r&&t.setAttribute(\"data-ad-host\",r),t.setAttribute(\"data-ad-frequency-hint\",a),t.src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",t.addEventListener(\"load\",e),document.head.appendChild(t)}))).then((function(){e._showAd=function(e){window.adsbygoogle.push(e)},window.adsbygoogle.push({preloadAdBreaks:\"on\",sound:\"on\",onReady:function(){}})})),e._platformSdk.getLoginStatus((function(t){Sa(e,wa,Oa).call(e,t),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))})),e._platformSdk.init({appId:e._options.gameId})}))})):this._rejectPromiseDecorator(y.INITIALIZE,S)),r.promise}},{key:\"authorizePlayer\",value:function(){var e=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(t,r){e._platformSdk.login((function(n){Sa(e,wa,Oa).call(e,n),\"ok\"===n.status?(e._platformStorageCachedData=null,t()):r()}))}))}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||ya(_a(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL?this._isPlayerAuthorized:ya(_a(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,o){Sa(n,Pa,Aa).call(n).then((function(n){var o=(Array.isArray(e)?e:[e]).map((function(e){var t=n[e];return r||\"object\"!==pa(t)||null===t?null!=t?t:null:JSON.stringify(t)}));t(o)})).catch(o)})):ya(_a(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===c.PLATFORM_INTERNAL?new Promise((function(r,o){Sa(n,Pa,Aa).call(n).then((function(i){var a=fa({},i);if(Array.isArray(e))for(var s=0;s<e.length;s++)a[e[s]]=t[s];else a[e]=t;n._platformSdk.api(\"user_data/submit\",\"POST\",{key:ba,value:JSON.stringify(a)},(function(e){\"ok\"===e.status?(n._platformStorageCachedData=a,r()):o(e)}))})).catch(o)})):ya(_a(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,n){Sa(r,Pa,Aa).call(r).then((function(o){var i=fa({},o);if(Array.isArray(e))for(var a=0;a<e.length;a++)delete i[e[a]];else delete i[e];r._platformSdk.api(\"user_data/submit\",\"POST\",{key:ba,value:JSON.stringify(i)},(function(e){\"ok\"===e.status?(r._platformStorageCachedData=i,t()):n(e)}))})).catch(n)})):ya(_a(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){var e=this;this._showAd?this._showAd({type:\"start\",name:\"start-game\",beforeAd:function(){e._setInterstitialState(i.OPENED)},afterAd:function(){e.interstitialState!==i.FAILED&&e._setInterstitialState(i.CLOSED)},adBreakDone:function(t){\"viewed\"!==t.breakStatus&&e._setInterstitialState(i.FAILED)}}):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var e=this;this._showAd?this._showAd({type:\"reward\",name:\"rewarded Ad\",beforeAd:function(){e._setRewardedState(a.OPENED)},afterAd:function(){e.rewardedState!==a.FAILED&&e._setRewardedState(a.CLOSED)},beforeReward:function(e){e(0)},adDismissed:function(){e._setRewardedState(a.FAILED)},adViewed:function(){e._setRewardedState(a.REWARDED)},adBreakDone:function(t){\"frequencyCapped\"!==t.breakStatus&&\"other\"!==t.breakStatus||e._setRewardedState(a.FAILED)}}):this._setRewardedState(a.FAILED)}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var o={table:e,points:t};this._platformSdk.GameAPI.Leaderboards.save(o,(function(e){var t=e.success,n=e.errormessage;t?r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE):r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,n)}))}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();var r=this._getPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);if(!r){r=this._createPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);var n={table:e,mode:\"alltime\"};this._platformSdk.GameAPI.Leaderboards.listCustom(n,(function(e){var r=e.scores,n=e.success,o=e.errormessage;if(n){var i=r.map((function(e){return{id:e.playerid,name:e.playername,score:e.points,rank:e.rank,photo:null}}));t._resolvePromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,i)}else t._rejectPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,o)}))}return r.promise}},{key:\"unlockAchievement\",value:function(e){var t=this;return this._isPlayerAuthorized&&e.achievement&&e.achievementkey?new Promise((function(r){t._platformSdk.GameAPI.Achievements.save(e,(function(e){r(e)}))})):Promise.reject()}},{key:\"getAchievementsList\",value:function(e){var t=this;return new Promise((function(r,n){t._platformSdk.GameAPI.Achievements.listCustom(e,(function(e){e.success?r(e.achievements.map((function(e){var t=e.player;return fa(fa({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ca)),{},{playerid:t.playerid,playername:t.playername,lastupdated:t.lastupdated,date:t.date,rdate:t.rdate})}))):n(new Error(e.errorcode))}))}))}},{key:\"showAchievementsNativePopup\",value:function(e){return this._platformSdk.GameAPI.Achievements.list(e),Promise.resolve()}}])&&da(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Cr);function Da(e){return Da=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Da(e)}function Ia(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ra(n.key),n)}}function Ra(e){var t=function(e,t){if(\"object\"!=Da(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Da(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Da(t)?t:String(t)}function Ta(){return Ta=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ja(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ta.apply(this,arguments)}function La(e,t){return La=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},La(e,t)}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ja(e)}const Na=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&La(e,t)}(l,t);var r,n,o,s,u=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ja(o);if(s){var r=ja(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Da(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),u.apply(this,arguments)}return r=l,(n=[{key:\"platformId\",get:function(){return e.LAGGED}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return h}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),this._options&&this._options.devId&&this._options.publisherId?ce(\"https://lagged.com/api/rev-share/lagged.js\").then((function(){fe(\"LaggedAPI\").then((function(){e._platformSdk=window.LaggedAPI,e._platformSdk.init(e._options.devId,e._options.publisherId),e._platformSdk.User.get((function(t){var r,n=null!==(r=null==t?void 0:t.user)&&void 0!==r?r:{},o=n.id,i=n.name,a=n.avatar;o>0&&(e._playerId=o,e._playerName=i,e._playerPhotos.push(a),e._isPlayerAuthorized=!0),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))})):this._rejectPromiseDecorator(y.INITIALIZE,E)),t.promise}},{key:\"isStorageSupported\",value:function(e){return e!==c.PLATFORM_INTERNAL&&Ta(ja(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e!==c.PLATFORM_INTERNAL&&Ta(ja(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"showInterstitial\",value:function(){var e=this;this._setInterstitialState(i.OPENED),this._platformSdk.APIAds.show((function(){e._setInterstitialState(i.CLOSED)}))}},{key:\"showRewarded\",value:function(){var e=this;this._setRewardedState(a.OPENED),this._platformSdk.GEvents.reward((function(t,r){t?r():e._setRewardedState(a.FAILED)}),(function(t){t?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)}))}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this,n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var o={score:t,board:e};this._platformSdk.Scores.save(o,(function(e){e.success?r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE):r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e.errormsg)}))}return n.promise}},{key:\"unlockAchievement\",value:function(e){var t=this;return e.achievement?new Promise((function(r,n){t._platformSdk.Achievements.save(Array.isArray(e.achievement)?e.achievement:[e.achievement],(function(e){e.success?r(e):n(e.errormsg)}))})):Promise.reject()}}])&&Ia(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Cr);function Ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(r),!0).forEach((function(t){Va(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ga(e){return Ga=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ga(e)}function Ma(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Wa(n.key),n)}}function Fa(){return Fa=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xa(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Fa.apply(this,arguments)}function Ha(e,t){return Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ha(e,t)}function Ua(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function xa(e){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xa(e)}function za(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Va(e,t,r){return(t=Wa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wa(e){var t=function(e,t){if(\"object\"!=Ga(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ga(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ga(t)?t:String(t)}function Za(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Ya=new WeakSet,Ka=new WeakSet;function Ja(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedInterstitialPromises[e])return this._preloadedInterstitialPromises[e];var r=null;return this._preloadedInterstitialPromises[e]=this._platformSdk.getInterstitialAdAsync(e).then((function(e){return r=e,e.loadAsync()})).then((function(){return r})).catch((function(){return t._preloadedInterstitialPromises[e]=null,Promise.reject()})),this._preloadedInterstitialPromises[e]}function qa(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedRewardedPromises[e])return this._preloadedRewardedPromises[e];var r=null;return this._preloadedRewardedPromises[e]=this._platformSdk.getRewardedVideoAsync(e).then((function(e){return r=e,e.loadAsync()})).then((function(){return r})).catch((function(){return t._preloadedRewardedPromises[e]=null,Promise.reject()})),this._preloadedRewardedPromises[e]}const Qa=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ha(e,t)}(h,t);var r,n,o,u,p=(o=h,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xa(o);if(u){var r=xa(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Ga(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ua(e)}(this,e)});function h(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return za(Ua(e=p.call.apply(p,[this].concat(r))),Ka),za(Ua(e),Ya),Va(Ua(e),\"_contextId\",null),Va(Ua(e),\"_supportedApis\",[]),Va(Ua(e),\"_preloadedInterstitialPromises\",{}),Va(Ua(e),\"_preloadedRewardedPromises\",{}),Va(Ua(e),\"_defaultStorageType\",c.PLATFORM_INTERNAL),e}return r=h,n=[{key:\"platformId\",get:function(){return e.FACEBOOK}},{key:\"platformLanguage\",get:function(){return this._platformLanguage}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.getPlatform()){case\"IOS\":case\"ANDROID\":case\"MOBILE_WEB\":return l.MOBILE;case\"WEB\":return l.DESKTOP;default:return Fa(xa(h.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return d}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedApis.includes(\"inviteAsync\")}},{key:\"isShareSupported\",get:function(){return this._supportedApis.includes(\"shareAsync\")}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"https://connect.facebook.net/en_US/fbinstant.8.0.js\").then((function(){return fe(\"FBInstant\")})).then((function(){return e._platformSdk=window.FBInstant,e._platformSdk.initializeAsync()})).then((function(){e._isPlayerAuthorized=!0,e._playerId=e._platformSdk.player.getID(),e._contextId=e._platformSdk.context.getID();var t=e._platformSdk.getLocale();t&&t.length>2&&(e._platformLanguage=t.substring(0,2).toLowerCase()),e._supportedApis=e._platformSdk.getSupportedAPIs(),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)})).catch((function(t){return e._rejectPromiseDecorator(y.INITIALIZE,t)}))),t.promise}},{key:\"sendMessage\",value:function(e){var t=this;return e===f.GAME_READY?(this._platformSdk.setLoadingProgress(100),new Promise((function(e){t._platformSdk.startGameAsync().then(e)}))):Fa(xa(h.prototype),\"sendMessage\",this).call(this,e)}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL?this._supportedApis.includes(\"player.getDataAsync\"):Fa(xa(h.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL?this._isPlayerAuthorized:Fa(xa(h.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,o){var i=Array.isArray(e)?e:[e];n._platformSdk.player.getDataAsync(i).then((function(e){var n=i.map((function(t){var n=e[t];return r||\"object\"!==Ga(n)||null===n?null!=n?n:null:JSON.stringify(n)}));t(n)})).catch(o)})):Fa(xa(h.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===c.PLATFORM_INTERNAL?new Promise((function(r,o){var i={};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.player.setDataAsync(i).then(r).catch(o)})):Fa(xa(h.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,n){var o={};if(Array.isArray(e))for(var i=0;i<e.length;i++)o[e[i]]=null;else o[e]=null;r._platformSdk.player.setDataAsync(o).then(t).catch(n)})):Fa(xa(h.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e,t){var r=this;this._platformSdk.loadBannerAdAsync(t,e).then((function(){r._setBannerState(s.SHOWN)})).catch((function(){r._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.hideBannerAdAsync().then((function(){e._setBannerState(s.HIDDEN)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"preloadInterstitial\",value:function(e){Za(this,Ya,Ja).call(this,e)}},{key:\"showInterstitial\",value:function(e){var t=this;Za(this,Ya,Ja).call(this,e).then((function(e){return t._setInterstitialState(i.OPENED),e.showAsync()})).then((function(){t._setInterstitialState(i.CLOSED)})).catch((function(){return t._advertisementShowErrorPopup(!1)})).finally((function(){Za(t,Ya,Ja).call(t,e,!0)}))}},{key:\"preloadRewarded\",value:function(e){Za(this,Ka,qa).call(this,e)}},{key:\"showRewarded\",value:function(e){var t=this;Za(this,Ka,qa).call(this,e).then((function(e){return t._setRewardedState(a.OPENED),e.showAsync()})).then((function(){t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)})).catch((function(){return t._advertisementShowErrorPopup(!0)})).finally((function(){Za(t,Ka,qa).call(t,e,!0)}))}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this,n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);return n||(n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE),this._platformSdk.globalLeaderboards.setScoreAsync(e,t).then((function(){r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)})).catch((function(e){r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e)}))),n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this,r=this._getPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);return r||(r=this._createPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES),this._platformSdk.globalLeaderboards.getTopEntriesAsync(e,10).then((function(e){var r=null,n=0;e&&e.entries.length>0&&(r=e.entries.map((function(e){var t=e.getPlayer(),r=n;return n+=1,{rank:r,score:e.getScore(),id:t.getID(),name:t.getName(),photo:t.getPhoto()}}))),t._resolvePromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,r)})).catch((function(e){t._rejectPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,e)}))),r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);r||(r={id:e});var n=this._getPromiseDecorator(y.PURCHASE);return n||(n=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.payments.purchaseAsync({productID:r.id}).then((function(r){var n=Ba({id:e},r);delete n.productID,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),this._platformSdk.payments.consumePurchaseAsync(this._paymentsPurchases[r].purchaseToken).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(y.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),this._platformSdk.payments.getCatalogAsync().then((function(r){var n=t.map((function(e){var t=r.find((function(t){return t.productID===e.id}));return{id:e.id,title:t.title,description:t.description,imageURI:t.imageURI,price:t.price,priceCurrencyCode:t.priceCurrencyCode,priceValue:t.priceAmount}}));e._resolvePromiseDecorator(y.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),this._platformSdk.payments.getPurchasesAsync().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){var t=Ba({id:r.find((function(t){return t.id===e.productID})).id},e);return delete t.productID,t})),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}},{key:\"inviteFriends\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.image||!t.text)return Promise.reject();if(!pe(t.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(y.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(y.INVITE_FRIENDS),this._platformSdk.inviteAsync(t).then((function(){e._resolvePromiseDecorator(y.INVITE_FRIENDS)})).catch((function(t){e._rejectPromiseDecorator(y.INVITE_FRIENDS,t)}))),r.promise}},{key:\"share\",value:function(e){var t=this;if(!e.image||!e.text)return Promise.reject();if(!pe(e.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(y.SHARE);return r||(r=this._createPromiseDecorator(y.SHARE),this._platformSdk.shareAsync(Ba({intent:\"REQUEST\"},e)).then((function(){t._resolvePromiseDecorator(y.SHARE)})).catch((function(e){t._rejectPromiseDecorator(y.SHARE,e)}))),r.promise}}],n&&Ma(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),h}(Cr);function Xa(e){return Xa=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Xa(e)}function $a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,es(n.key),n)}}function es(e){var t=function(e,t){if(\"object\"!=Xa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Xa(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Xa(t)?t:String(t)}var ts,rs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r;return t=e,r=[{key:\"send\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"*\";window.parent&&window.parent.postMessage(e,t)}},{key:\"addListener\",value:function(e){window.addEventListener(\"message\",e)}},{key:\"removeListener\",value:function(e){window.removeEventListener(\"message\",e)}},{key:\"generateMessageId\",value:function(){return\"\".concat(Date.now(),\"-\").concat(Math.random())}}],r&&$a(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function ns(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(r),!0).forEach((function(t){ps(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ns(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function is(e){return is=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},is(e)}function as(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ds(n.key),n)}}function ss(e,t){return ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ss(e,t)}function us(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function cs(e,t){ys(e,t),t.add(e)}function ls(){return ls=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fs(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ls.apply(this,arguments)}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fs(e)}function ps(e,t,r){return(t=ds(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ds(e){var t=function(e,t){if(\"object\"!=is(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=is(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==is(t)?t:String(t)}function hs(e,t,r){ys(e,t),t.set(e,r)}function ys(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function ms(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function vs(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var _s=\"banner\",gs=\"get_data_from_storage\",Ss=\"get_server_time\",bs=\"clipboard_read\",Es=\"unlock_achievement\",Ps=\"get_achievements\",ws=\"get_performance_resources\",As=\"isStorageInternalSupported\",Os=\"isStorageLocalSupported\",ks=new WeakMap,Ds=new WeakMap,Is=new WeakSet,Rs=new WeakSet,Ts=function(r){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ss(e,t)}(m,r);var n,o,u,l,d=(u=m,l=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fs(u);if(l){var r=fs(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===is(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return us(e)}(this,e)});function m(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,m);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cs(us(e=d.call.apply(d,[this].concat(r))),Rs),cs(us(e),Is),hs(us(e),ks,{get:Ls,set:void 0}),hs(us(e),Ds,{writable:!0,value:new rs}),ps(us(e),\"_supportedFeatures\",[]),ps(us(e),\"_leaderboardsType\",null),e}return n=m,(o=[{key:\"platformId\",get:function(){return e.QA_TOOL}},{key:\"platformLanguage\",get:function(){return this._supportedFeatures.includes(\"isGetLanguageSupported\")&&vs(this,Ds).send({type:t.PLATFORM,action:\"get_language\",options:{language:this._platformLanguage}}),this._platformLanguage}},{key:\"platformTld\",get:function(){return this._platformTld}},{key:\"deviceType\",get:function(){return this._deviceType}},{key:\"platformPayload\",get:function(){return this._platformPayload}},{key:\"isInterstitialSupported\",get:function(){return this._supportedFeatures.includes(\"isInterstitialSupported\")}},{key:\"isRewardedSupported\",get:function(){return this._supportedFeatures.includes(\"isRewardedSupported\")}},{key:\"isPlayerAuthorizationSupported\",get:function(){return this._supportedFeatures.includes(\"isPlayerAuthorizationSupported\")}},{key:\"isPaymentsSupported\",get:function(){return this._supportedFeatures.includes(\"isPaymentsSupported\")}},{key:\"isRemoteConfigSupported\",get:function(){return this._supportedFeatures.includes(\"isRemoteConfigSupported\")}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedFeatures.includes(\"isInviteFriendsSupported\")}},{key:\"isJoinCommunitySupported\",get:function(){return this._supportedFeatures.includes(\"isJoinCommunitySupported\")}},{key:\"isShareSupported\",get:function(){return this._supportedFeatures.includes(\"isShareSupported\")}},{key:\"isCreatePostSupported\",get:function(){return this._supportedFeatures.includes(\"isCreatePostSupported\")}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToHomeScreenSupported\")}},{key:\"isAddToFavoritesSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToFavoritesSupported\")}},{key:\"isRateSupported\",get:function(){return this._supportedFeatures.includes(\"isRateSupported\")}},{key:\"leaderboardsType\",get:function(){var e;return null!==(e=this._leaderboardsType)&&void 0!==e?e:p}},{key:\"isClipboardSupported\",get:function(){return this._supportedFeatures.includes(\"isClipboardSupported\")}},{key:\"isAchievementsSupported\",get:function(){return this._supportedFeatures.includes(\"isAchievementsSupported\")}},{key:\"isGetAchievementsListSupported\",get:function(){return this._supportedFeatures.includes(\"isGetAchievementsListSupported\")}},{key:\"isAchievementsNativePopupSupported\",get:function(){return this._supportedFeatures.includes(\"isAchievementsNativePopupSupported\")}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var r=this._getPromiseDecorator(y.INITIALIZE);return r||(r=this._createPromiseDecorator(y.INITIALIZE),this._defaultStorageType=c.PLATFORM_INTERNAL,vs(this,Ds).addListener((function(r){var n=r.data;if(null!=n&&n.type&&n.type===t.PLATFORM&&(n.action===y.INITIALIZE&&ms(e,Is,js).call(e,n),n.action===ws)){var o,i=vs(e,Ds).generateMessageId(),a=(null==n||null===(o=n.options)||void 0===o?void 0:o.resources)||[];ms(e,Rs,Ns).call(e,i,a)}})),vs(this,Ds).send({type:t.PLATFORM,action:y.INITIALIZE})),r.promise}},{key:\"authorizePlayer\",value:function(e){var r=this,n=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);if(!n){n=this._createPromiseDecorator(y.AUTHORIZE_PLAYER);var o=vs(this,Ds).generateMessageId();vs(this,Ds).addListener((function e(n){var i=n.data;if((null==i?void 0:i.type)===t.PLAYER&&i.action===y.AUTHORIZE_PLAYER&&i.id===o){var a=i.player,s=i.auth;\"success\"===s.status?(r._isPlayerAuthorized=!0,r._playerId=a.userId,r._playerName=a.name,a.profilePictureUrl&&(r._playerPhotos=[a.profilePictureUrl]),r._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)):r._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,s.error),vs(r,Ds).removeListener(e)}})),vs(this,Ds).send({type:t.PLAYER,action:y.AUTHORIZE_PLAYER,id:o,options:e})}return n.promise}},{key:\"sendMessage\",value:function(e){return[f.GAME_READY,f.IN_GAME_LOADING_STARTED,f.IN_GAME_LOADING_STOPPED,f.GAMEPLAY_STARTED,f.GAMEPLAY_STOPPED,f.PLAYER_GOT_ACHIEVEMENT,f.GAME_OVER].includes(e)?(vs(this,Ds).send({type:t.PLATFORM,action:e}),Promise.resolve()):ls(fs(m.prototype),\"sendMessage\",this).call(this,e)}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(r,n){var o,i=vs(e,Ds).generateMessageId(),a=function a(s){var u=s.data;if((null==u?void 0:u.type)===t.PLATFORM&&u.action===Ss&&u.id===i){if(!u.time)return void n(new Error(\"Invalid server time\"));clearTimeout(o),r(u.time),vs(e,Ds).removeListener(a)}};vs(e,Ds).addListener(a),vs(e,Ds).send({type:t.PLATFORM,action:Ss,id:i}),o=setTimeout((function(){n(new Error(\"Server time request timeout\")),vs(e,Ds).removeListener(a)}),5e3)}))}},{key:\"isStorageSupported\",value:function(e){return vs(this,Ds).send({type:t.STORAGE,action:\"is_storage_supported\",options:{storageType:e}}),!(e!==c.PLATFORM_INTERNAL||!this._supportedFeatures.includes(As))||!(e!==c.LOCAL_STORAGE||!this._supportedFeatures.includes(Os))}},{key:\"isStorageAvailable\",value:function(e){return vs(this,Ds).send({type:t.STORAGE,action:\"is_storage_available\",options:{storageType:e}}),!(e!==c.PLATFORM_INTERNAL||!this._supportedFeatures.includes(As))||!(e!==c.LOCAL_STORAGE||!this._supportedFeatures.includes(Os))}},{key:\"getDataFromStorage\",value:function(e,r,n){var o=this;if(r===c.PLATFORM_INTERNAL||r===c.LOCAL_STORAGE&&vs(this,ks)){var i=vs(this,Ds).generateMessageId();return new Promise((function(a){vs(o,Ds).addListener((function e(r){var n=r.data;if((null==n?void 0:n.type)===t.STORAGE&&n.action===gs&&n.id===i){var s=Object.values(n.storage);a(s),vs(o,Ds).removeListener(e)}})),vs(o,Ds).send({type:t.STORAGE,action:gs,id:i,options:{key:e,storageType:r,tryParseJson:n}})}))}return vs(this,Ds).send({type:t.STORAGE,action:gs,options:{key:e,storageType:r,tryParseJson:n}}),ls(fs(m.prototype),\"getDataFromStorage\",this).call(this,e,r,n)}},{key:\"setDataToStorage\",value:function(e,r,n){return vs(this,Ds).send({type:t.STORAGE,action:\"set_data_to_storage\",options:{key:e,value:r,storageType:n}}),n===c.PLATFORM_INTERNAL||n===c.LOCAL_STORAGE&&vs(this,ks)?Promise.resolve():ls(fs(m.prototype),\"setDataToStorage\",this).call(this,e,r,n)}},{key:\"deleteDataFromStorage\",value:function(e,r){return vs(this,Ds).send({type:t.STORAGE,action:\"delete_data_from_storage\",options:{key:e,storageType:r}}),r===c.PLATFORM_INTERNAL||r===c.LOCAL_STORAGE&&vs(this,ks)?Promise.resolve():ls(fs(m.prototype),\"deleteDataFromStorage\",this).call(this,e,r)}},{key:\"showInterstitial\",value:function(e){var r=this;vs(this,Ds).addListener((function e(n){var o=n.data;if((null==o?void 0:o.type)===t.ADVERTISEMENT)switch(o.payload.status){case\"start\":r._setInterstitialState(i.LOADING);break;case\"open\":r._setInterstitialState(i.OPENED);break;case\"failed\":r._setInterstitialState(i.FAILED);break;case\"close\":r._setInterstitialState(i.CLOSED),vs(r,Ds).removeListener(e)}})),vs(this,Ds).send({type:t.ADVERTISEMENT,action:\"interstitial\",options:{placement:e}})}},{key:\"showRewarded\",value:function(e){var r=this;vs(this,Ds).addListener((function e(n){var o=n.data;if((null==o?void 0:o.type)===t.ADVERTISEMENT)switch(o.payload.status){case\"start\":r._setRewardedState(a.LOADING);break;case\"open\":r._setRewardedState(a.OPENED);break;case\"failed\":r._setRewardedState(a.FAILED);break;case\"rewarded\":r._setRewardedState(a.REWARDED);break;case\"close\":r._setRewardedState(a.CLOSED),vs(r,Ds).removeListener(e)}})),vs(this,Ds).send({type:t.ADVERTISEMENT,action:\"reward\",options:{placement:e}})}},{key:\"showBanner\",value:function(e,r){this._setBannerState(s.SHOWN),vs(this,Ds).send({type:t.ADVERTISEMENT,action:s.SHOWN,options:{type:_s,position:e,placement:r}})}},{key:\"hideBanner\",value:function(){this._setBannerState(s.HIDDEN),vs(this,Ds).send({type:t.ADVERTISEMENT,action:s.HIDDEN,options:{type:_s}})}},{key:\"checkAdBlock\",value:function(){return vs(this,Ds).send({type:\"check_adblock\",action:y.ADBLOCK_DETECT}),ls(fs(m.prototype),\"checkAdBlock\",this).call(this)}},{key:\"inviteFriends\",value:function(){var e=this._getPromiseDecorator(y.INVITE_FRIENDS);return e||(e=this._createPromiseDecorator(y.INVITE_FRIENDS),this._resolvePromiseDecorator(y.INVITE_FRIENDS),vs(this,Ds).send({type:t.SOCIAL,action:y.INVITE_FRIENDS})),e.promise}},{key:\"joinCommunity\",value:function(){var e=this._getPromiseDecorator(y.JOIN_COMMUNITY);return e||(e=this._createPromiseDecorator(y.JOIN_COMMUNITY),this._resolvePromiseDecorator(y.JOIN_COMMUNITY),vs(this,Ds).send({type:t.SOCIAL,action:y.JOIN_COMMUNITY})),e.promise}},{key:\"share\",value:function(){var e=this._getPromiseDecorator(y.SHARE);return e||(e=this._createPromiseDecorator(y.SHARE),this._resolvePromiseDecorator(y.SHARE),vs(this,Ds).send({type:t.SOCIAL,action:y.SHARE})),e.promise}},{key:\"createPost\",value:function(){var e=this._getPromiseDecorator(y.CREATE_POST);return e||(e=this._createPromiseDecorator(y.CREATE_POST),this._resolvePromiseDecorator(y.CREATE_POST),vs(this,Ds).send({type:t.SOCIAL,action:y.CREATE_POST})),e.promise}},{key:\"addToHomeScreen\",value:function(){var e=this._getPromiseDecorator(y.ADD_TO_HOME_SCREEN);return e||(e=this._createPromiseDecorator(y.ADD_TO_HOME_SCREEN),this._resolvePromiseDecorator(y.ADD_TO_HOME_SCREEN),vs(this,Ds).send({type:t.SOCIAL,action:y.ADD_TO_HOME_SCREEN})),e.promise}},{key:\"addToFavorites\",value:function(){var e=this._getPromiseDecorator(y.ADD_TO_FAVORITES);return e||(e=this._createPromiseDecorator(y.ADD_TO_FAVORITES),this._resolvePromiseDecorator(y.ADD_TO_FAVORITES),vs(this,Ds).send({type:t.SOCIAL,action:y.ADD_TO_FAVORITES})),e.promise}},{key:\"rate\",value:function(){var e=this._getPromiseDecorator(y.RATE);return e||(e=this._createPromiseDecorator(y.RATE),this._resolvePromiseDecorator(y.RATE),vs(this,Ds).send({type:t.SOCIAL,action:y.RATE})),e.promise}},{key:\"paymentsPurchase\",value:function(e){var r=this,n=this._paymentsGetProductPlatformData(e);if(!n)return Promise.reject();var o=this._getPromiseDecorator(y.PURCHASE);if(!o){o=this._createPromiseDecorator(y.PURCHASE);var i=vs(this,Ds).generateMessageId();vs(this,Ds).addListener((function n(o){var a=o.data;if((null==a?void 0:a.type)===t.PAYMENTS&&a.action===y.PURCHASE&&a.id===i){var s;if(!a.purchase||\"object\"!==is(a.purchase))return r._rejectPromiseDecorator(y.PURCHASE,new Error(\"Invalid purchase\")),void vs(r,Ds).removeListener(n);if(null!==(s=a.purchase)&&void 0!==s&&s.status){var u=os({id:e},a.purchase.purchaseData);delete u.commonId,r._paymentsPurchases.push(u),r._resolvePromiseDecorator(y.PURCHASE,u)}else{var c;r._rejectPromiseDecorator(y.PURCHASE,(null===(c=a.purchase)||void 0===c?void 0:c.error)||new Error(\"Unknown purchase error\"))}vs(r,Ds).removeListener(n)}})),vs(this,Ds).send({type:t.PAYMENTS,action:y.PURCHASE,id:i,options:{product:n}})}return o.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var r=this,n=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(n<0)return Promise.reject();var o=this._getPromiseDecorator(y.CONSUME_PURCHASE);if(!o){o=this._createPromiseDecorator(y.CONSUME_PURCHASE);var i=vs(this,Ds).generateMessageId();vs(this,Ds).addListener((function o(a){var s=a.data;if((null==s?void 0:s.type)===t.PAYMENTS&&s.action===y.CONSUME_PURCHASE&&s.id===i){var u;if(!s.purchase||\"object\"!==is(s.purchase))return r._rejectPromiseDecorator(y.CONSUME_PURCHASE,new Error(\"Invalid purchase\")),void vs(r,Ds).removeListener(o);if(null!==(u=s.purchase)&&void 0!==u&&u.status){var c=os({id:e},s.purchase);r._paymentsPurchases.splice(n,1),r._resolvePromiseDecorator(y.CONSUME_PURCHASE,c)}else{var l;r._rejectPromiseDecorator(y.CONSUME_PURCHASE,(null===(l=s.purchase)||void 0===l?void 0:l.error)||new Error(\"Unknown consume purchase error\"))}vs(r,Ds).removeListener(o)}})),vs(this,Ds).send({type:t.PAYMENTS,action:y.CONSUME_PURCHASE,id:i,options:{product:this._paymentsPurchases[n]}})}return o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,r=this._getPromiseDecorator(y.GET_CATALOG);if(!r){r=this._createPromiseDecorator(y.GET_CATALOG);var n=this._paymentsGetProductsPlatformData(),o=vs(this,Ds).generateMessageId();vs(this,Ds).addListener((function r(i){var a=i.data;if((null==a?void 0:a.type)===t.PAYMENTS&&a.action===y.GET_CATALOG&&a.id===o){var s=n.map((function(e){return{id:e.id,price:\"\".concat(e.amount,\" Gam\"),priceCurrencyCode:\"Gam\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:e.amount}}));vs(e,Ds).removeListener(r),e._resolvePromiseDecorator(y.GET_CATALOG,s)}})),vs(this,Ds).send({type:t.PAYMENTS,action:y.GET_CATALOG,id:o})}return r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,r=this._getPromiseDecorator(y.GET_PURCHASES);if(!r){r=this._createPromiseDecorator(y.GET_PURCHASES);var n=vs(this,Ds).generateMessageId();vs(this,Ds).addListener((function r(o){var i=o.data;if((null==i?void 0:i.type)===t.PAYMENTS&&i.action===y.GET_PURCHASES&&i.id===n){var a=e._paymentsGetProductsPlatformData();e._paymentsPurchases=i.purchases.map((function(e){return os({id:a.find((function(t){return t.id===e.id})).id},e.purchaseData)})),vs(e,Ds).removeListener(r),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)}})),vs(this,Ds).send({type:t.PAYMENTS,action:y.GET_PURCHASES,id:n})}return r.promise}},{key:\"getRemoteConfig\",value:function(){var e=this,r=this._getPromiseDecorator(y.GET_REMOTE_CONFIG);if(!r){r=this._createPromiseDecorator(y.GET_REMOTE_CONFIG);var n=vs(this,Ds).generateMessageId();vs(this,Ds).addListener((function r(o){var i=o.data;(null==i?void 0:i.type)===t.REMOTE_CONFIG&&i.action===y.GET_REMOTE_CONFIG&&i.id===n&&(e._resolvePromiseDecorator(y.GET_REMOTE_CONFIG,i.result),vs(e,Ds).removeListener(r))})),vs(this,Ds).send({type:t.REMOTE_CONFIG,action:y.GET_REMOTE_CONFIG,id:n})}return r.promise}},{key:\"clipboardWrite\",value:function(e){var r=this,n=this._getPromiseDecorator(y.CLIPBOARD_WRITE);if(!n){n=this._createPromiseDecorator(y.CLIPBOARD_WRITE);var o=vs(this,Ds).generateMessageId();vs(this,Ds).addListener((function e(n){var i=n.data;(null==i?void 0:i.type)===t.CLIPBOARD&&i.action===y.CLIPBOARD_WRITE&&i.id===o&&(r._resolvePromiseDecorator(y.CLIPBOARD_WRITE,!0),vs(r,Ds).removeListener(e))})),vs(this,Ds).send({type:t.CLIPBOARD,action:y.CLIPBOARD_WRITE,id:o,options:{text:e}})}return n.promise}},{key:\"clipboardRead\",value:function(){var e=this,r=this._getPromiseDecorator(bs);if(!r){r=this._createPromiseDecorator(bs);var n=vs(this,Ds).generateMessageId();vs(this,Ds).addListener((function r(o){var i=o.data;if((null==i?void 0:i.type)===t.CLIPBOARD&&i.action===bs&&i.id===n){var a=i.text;e._resolvePromiseDecorator(bs,a),vs(e,Ds).removeListener(r)}})),vs(this,Ds).send({type:t.CLIPBOARD,action:bs,id:n,options:{}})}return r.promise}},{key:\"leaderboardsSetScore\",value:function(e,r){if(this.leaderboardsType===p)return Promise.reject(new Error(\"Leaderboards are not available\"));var n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var o={id:e,score:r};vs(this,Ds).send({type:t.LEADERBOARDS,action:y.LEADERBOARDS_SET_SCORE,options:o}),this._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var r=this;if(this.leaderboardsType===p||this.leaderboardsType===h)return Promise.reject(new Error(\"Leaderboards are not available\"));var n=this._getPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);var o=vs(this,Ds).generateMessageId();vs(this,Ds).addListener((function e(n){var i=n.data;(null==i?void 0:i.type)===t.LEADERBOARDS&&i.action===y.LEADERBOARDS_GET_ENTRIES&&i.id===o?(r._resolvePromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,i.entries),vs(r,Ds).removeListener(e)):r._rejectPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES)})),vs(this,Ds).send({type:t.LEADERBOARDS,action:y.LEADERBOARDS_GET_ENTRIES,id:o,options:{id:e}})}return n.promise}},{key:\"unlockAchievement\",value:function(e){var r=this;return new Promise((function(n){var o=vs(r,Ds).generateMessageId();vs(r,Ds).addListener((function e(i){var a=i.data;(null==a?void 0:a.type)===t.ACHIEVEMENTS&&a.action===Es&&a.id===o&&(n(a.result),vs(r,Ds).removeListener(e))})),vs(r,Ds).send({type:t.ACHIEVEMENTS,action:Es,id:o,options:e})}))}},{key:\"getAchievementsList\",value:function(e){var r=this;return new Promise((function(n){var o=vs(r,Ds).generateMessageId();vs(r,Ds).addListener((function e(i){var a=i.data;(null==a?void 0:a.type)===t.ACHIEVEMENTS&&a.action===Ps&&a.id===o&&(n(a.result),vs(r,Ds).removeListener(e))})),vs(r,Ds).send({type:t.ACHIEVEMENTS,action:Ps,id:o,options:e})}))}},{key:\"showAchievementsNativePopup\",value:function(){return vs(this,Ds).send({type:t.ACHIEVEMENTS,action:\"show_achievements_native_popup\"}),Promise.resolve()}},{key:\"_paymentsGetProductsPlatformData\",value:function(){return this._options.payments?this._options.payments.map((function(e){return os({id:e.id},e.playgama)})):[]}},{key:\"_paymentsGetProductPlatformData\",value:function(e){var t=this._options.payments;if(!t)return null;var r=t.find((function(t){return t.id===e}));return r?os({id:r.id},r.playgama):null}}])&&as(n.prototype,o),Object.defineProperty(n,\"prototype\",{writable:!1}),m}(Cr);function Ls(){return this._supportedFeatures.includes(\"isStorageRemoteLocalSupported\")}function js(e){var t,r,n,o,i;this._supportedFeatures=e.supportedFeatures||[],this._isBannerSupported=this._supportedFeatures.includes(\"isBannerSupported\");var a=e.config,s=void 0===a?{}:a;this._deviceType=null!==(t=s.deviceType)&&void 0!==t?t:ls(fs(ts.prototype),\"deviceType\",this),this._platformLanguage=null!==(r=s.platformLanguage)&&void 0!==r?r:ls(fs(ts.prototype),\"platformLanguage\",this),this._platformTld=null!==(n=s.platformTld)&&void 0!==n?n:ls(fs(ts.prototype),\"platformTld\",this),this._platformPayload=null!==(o=s.platformPayload)&&void 0!==o?o:ls(fs(ts.prototype),\"platformPayload\",this),this._leaderboardsType=null!==(i=s.leaderboardsType)&&void 0!==i?i:p,this._paymentsPurchases=e.purchases||[],this._isInitialized=!0,this._resolvePromiseDecorator(y.INITIALIZE),vs(this,Ds).send({type:\"liveness\",action:\"ping\",options:{version:\"1.24.0\"}})}function Ns(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(r)?r:[],o=performance.getEntriesByType(\"resource\")||[],i=n.length>0?n:[\"name\",\"initiatorType\"],a=o.map((function(e){var t={};return i.forEach((function(r){r in e&&(t[r]=e[r])})),t}));return vs(this,Ds).send({type:t.PLATFORM,action:ws,id:e,options:{resources:a}}),Promise.resolve(o)}ts=Ts;const Cs=Ts;function Bs(e){return Bs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Bs(e)}function Gs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ms(n.key),n)}}function Ms(e){var t=function(e,t){if(\"object\"!=Bs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Bs(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Bs(t)?t:String(t)}function Fs(){return Fs=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Us(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Fs.apply(this,arguments)}function Hs(e,t){return Hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hs(e,t)}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Us(e)}const xs=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Hs(e,t)}(c,t);var r,n,o,s,u=(o=c,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Us(o);if(s){var r=Us(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Bs(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,c),u.apply(this,arguments)}return r=c,(n=[{key:\"platformId\",get:function(){return e.POKI}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"https://game-cdn.poki.com/scripts/v2/poki-sdk.js\").then((function(){fe(\"PokiSDK\",\"init\").then((function(){e._platformSdk=window.PokiSDK,e._platformSdk.init().then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case f.GAME_READY:return this._platformSdk.gameLoadingFinished(),Promise.resolve();case f.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case f.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();default:return Fs(Us(c.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"showInterstitial\",value:function(){var e=this,t=!1;this._platformSdk.commercialBreak((function(){t=!0,e._setInterstitialState(i.OPENED)})).then((function(){t?e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)})).catch((function(t){e._setInterstitialState(i.FAILED,t)}))}},{key:\"showRewarded\",value:function(){var e=this,t=!1;this._platformSdk.rewardedBreak((function(){t=!0,e._setRewardedState(a.OPENED)})).then((function(r){t?(r&&e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)})).catch((function(t){e._setRewardedState(a.FAILED,t)}))}}])&&Gs(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(Cr);function zs(e){return zs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},zs(e)}function Vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Ys(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ys(n.key),n)}}function Ys(e){var t=function(e,t){if(\"object\"!=zs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=zs(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==zs(t)?t:String(t)}function Ks(e,t){return Ks=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ks(e,t)}function Js(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function qs(e){return qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qs(e)}function Qs(e,t){Xs(e,t),t.add(e)}function Xs(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function $s(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,eu(e,t,\"get\"))}function eu(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}function tu(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var ru=new WeakMap,nu=new WeakSet,ou=new WeakSet,iu=new WeakSet;function au(){var e=this;return $s(this,ru)?new Promise((function(t){$s(e,ru).requestOutOfPageAd(\"interstitial\").then((function(r){switch(r.state){case\"empty\":return void e._advertisementShowErrorPopup(!1).then((function(){return t()}));case\"ready\":e._setInterstitialState(i.OPENED),r.show()}r.addEventListener(\"ready\",(function(){e._setInterstitialState(i.OPENED),r.show()})),r.addEventListener(\"empty\",(function(){e._advertisementShowErrorPopup(!1).then((function(){return t()}))})),r.addEventListener(\"closed\",(function(){e._setInterstitialState(i.CLOSED),t()}))}))})):this._advertisementShowErrorPopup(!1)}function su(){var e=this;return $s(this,ru)?new Promise((function(t){$s(e,ru).requestOutOfPageAd(\"rewarded\").then((function(r){switch(r.state){case\"empty\":return void e._advertisementShowErrorPopup(!0).then((function(){return t()}));case\"ready\":e._setRewardedState(a.OPENED),r.show()}r.addEventListener(\"ready\",(function(){e._setRewardedState(a.OPENED),r.show()})),r.addEventListener(\"rewarded\",(function(){e._setRewardedState(a.REWARDED)})),r.addEventListener(\"empty\",(function(){e._advertisementShowErrorPopup(!0).then((function(){return t()}))})),r.addEventListener(\"closed\",(function(){e._setRewardedState(a.CLOSED),t()}))}))})):this._advertisementShowErrorPopup(!0)}function uu(e){e.playerId&&(this._isPlayerAuthorized=!0,this._playerId=e.playerId,this._playerName=e.playerDisplayName)}const cu=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ks(e,t)}(l,t);var r,n,o,u,c=(o=l,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qs(o);if(u){var r=qs(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===zs(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Js(e)}(this,e)});function l(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Qs(Js(e=c.call.apply(c,[this].concat(i))),iu),Qs(Js(e),ou),Qs(Js(e),nu),n={writable:!0,value:null},Xs(t=Js(e),r=ru),r.set(t,n),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.MSN}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return h}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);if(!t){var r;t=this._createPromiseDecorator(y.INITIALIZE),ce(\"https://assets.msn.com/staticsb/statics/latest/msstart-games-sdk/msstart-v1.0.0-rc.20.min.js\").then((function(){return fe(\"$msstart\")})).then((function(){e._platformSdk=window.$msstart,e._platformSdk.getSignedInUserAsync().then((function(t){tu(e,iu,uu).call(e,t)})).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}));var n=null===(r=this._options)||void 0===r||null===(r=r.advertisement)||void 0===r?void 0:r.backfillId;n&&ce(\"https://playgama.com/ads/msn.v0.1.js\").then((function(){return fe(\"pgAds\")})).then((function(){window.pgAds.init(n).then((function(){var t,r,n;t=e,r=ru,n=window.pgAds,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t,eu(t,r,\"set\"),n);var o=e._options.gameId;$s(e,ru).updateTargeting({gameId:o})}))}))}return t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(t,r){e._platformSdk.signInAsync().then((function(r){tu(e,iu,uu).call(e,r),t()})).catch((function(e){r(e)}))}))}},{key:\"share\",value:function(e){var t=this;return new Promise((function(r,n){t._platformSdk.shareAsync(e).then(r).catch(n)}))}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;return new Promise((function(e,n){r._platformSdk.submitGameResultsAsync(t).then(e).catch(n)}))}},{key:\"showBanner\",value:function(e){var t,r=this;t=\"top\"===e?\"top:728x90\":\"bottom:320x50\",this._platformSdk.showDisplayAdsAsync([t]).then((function(){r._setBannerState(s.SHOWN)})).catch((function(){r._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.hideDisplayAdsAsync().then((function(){e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.loadAdsAsync(!1).then((function(t){return e._platformSdk.showAdsAsync(t.instanceId)})).then((function(t){return e._setInterstitialState(i.OPENED),t.showAdsCompletedAsync})).then((function(){return e._setInterstitialState(i.CLOSED)})).catch((function(){return tu(e,nu,au).call(e)}))}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.loadAdsAsync(!0).then((function(t){return e._platformSdk.showAdsAsync(t.instanceId)})).then((function(t){return e._setRewardedState(a.OPENED),t.showAdsCompletedAsync})).then((function(){e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)})).catch((function(){return tu(e,ou,su).call(e)}))}},{key:\"paymentsPurchase\",value:function(e){var t=this;if(!this._paymentsGetProductPlatformData(e))return Promise.reject();var r=this._getPromiseDecorator(y.PURCHASE);return r||(r=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.iap.purchaseAsync({productId:e}).then((function(r){if(\"IAP_PURCHASE_FAILURE\"!==r.code){var n=Ws(Ws({id:e},r.receipt),{},{receiptSignature:r.receiptSignature});delete n.productId,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)}else t._rejectPromiseDecorator(y.PURCHASE,r.description)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),r.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),this._platformSdk.iap.consumeAsync({productId:this._paymentsPurchases[r].id}).then((function(n){if(\"IAP_CONSUME_FAILURE\"!==n.code){t._paymentsPurchases.splice(r,1);var o=Ws(Ws({id:e},n.consumptionReceipt),{},{consumptionSignature:n.consumptionSignature});delete o.productId,t._resolvePromiseDecorator(y.CONSUME_PURCHASE,o)}else t._rejectPromiseDecorator(y.CONSUME_PURCHASE,n.description)})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),this._platformSdk.iap.getAllAddOnsAsync({productId:this._options.gameId}).then((function(r){if(\"IAP_GET_ALL_ADD_ONS_FAILURE\"!==r.code){var n=t.map((function(e){var t=r.find((function(t){return t.productId===e.id}));return{id:e.id,title:t.title,description:t.description,publisherName:t.publisherName,inAppOfferToken:t.inAppOfferToken,isConsumable:t.isConsumable,price:\"\".concat(t.price.listPrice,\" \").concat(t.price.currencyCode,\" \"),priceCurrencyCode:t.price.currencyCode,priceValue:t.price.listPrice}}));e._resolvePromiseDecorator(y.GET_CATALOG,n)}else e._rejectPromiseDecorator(y.GET_CATALOG,r.description)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),this._platformSdk.iap.getAllPurchasesAsync({productId:this._options.gameId}).then((function(t){if(\"IAP_GET_ALL_PURCHASES_FAILURE\"!==t.code){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.receipts.map((function(e){var n=Ws(Ws({id:r.find((function(t){return t.id===e.productId})).id},e),{},{receiptSignature:t.receiptSignature});return delete n.productId,n})),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)}else e._rejectPromiseDecorator(y.GET_PURCHASES,t.description)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}}])&&Zs(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Cr);function lu(e){return lu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},lu(e)}function fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fu(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=vu(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function du(){du=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},\"\")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new R(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",y=\"completed\",m={};function v(){}function _(){}function g(){}var S={};c(S,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(T([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=g.prototype=v.prototype=Object.create(S);function w(e){[\"next\",\"throw\",\"return\"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==lu(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r(\"throw\",e,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===h)throw new Error(\"Generator is already running\");if(o===y){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=h;var c=f(t,r,n);if(\"normal\"===c.type){if(o=n.done?y:d,c.arg===m)continue;return{value:c.arg,done:n.done}}\"throw\"===c.type&&(o=y,n.method=\"throw\",n.arg=c.arg)}}}function k(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,k(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(D,this),this.reset(!0)}function T(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(lu(t)+\" is not iterable\")}return _.prototype=g,o(P,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=c(g,u,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,u,\"GeneratorFunction\")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},w(A.prototype),c(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(P),c(P,u,\"Generator\"),c(P,a,(function(){return this})),c(P,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=n.call(a,\"catchLoc\"),c=n.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;I(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function hu(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function yu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){hu(i,n,o,a,s,\"next\",e)}function s(e){hu(i,n,o,a,s,\"throw\",e)}a(void 0)}))}}function mu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,vu(n.key),n)}}function vu(e){var t=function(e,t){if(\"object\"!=lu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=lu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==lu(t)?t:String(t)}function _u(){return _u=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bu(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},_u.apply(this,arguments)}function gu(e,t){return gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gu(e,t)}function Su(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function bu(e){return bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bu(e)}var Eu=new WeakSet;function Pu(){var e=this,t={loading:a.LOADING,opened:a.OPENED,closed:a.CLOSED,failed:a.FAILED,rewarded:a.REWARDED},r={loading:i.LOADING,opened:i.OPENED,closed:i.CLOSED,failed:i.FAILED},n={loading:s.LOADING,shown:s.SHOWN,hidden:s.HIDDEN,failed:s.FAILED};this._platformSdk.advertisement.on(\"REWARDED_STATE_CHANGED\",(function(r){var n=t[r];n&&(e._setRewardedState(n),n===a.REWARDED&&e._setRewardedState(a.CLOSED))})),this._platformSdk.advertisement.on(\"INTERSTITIAL_STATE_CHANGED\",(function(t){var n=r[t];n&&e._setInterstitialState(n)})),this._platformSdk.advertisement.on(\"BANNER_STATE_CHANGED\",(function(t){var r=n[t];r&&e._setBannerState(r)}))}const wu=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&gu(e,t)}(l,t);var r,n,o,i,a,s,u=(a=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bu(a);if(s){var r=bu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===lu(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Su(e)}(this,e)});function l(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t=Su(e=u.call.apply(u,[this].concat(o))),r=Eu),r.add(t),e}return r=l,n=[{key:\"platformId\",get:function(){return e.BITQUEST}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"leaderboardsType\",get:function(){return d}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"https://app-stage.bitquest.games/bqsdk.min.js\").then((function(){fe(\"bq\").then((function(){e._platformSdk=window.bq,e._platformSdk.initialize().then((function(){e._platformSdk.platform.sendMessage(\"game_ready\");var t=e._platformSdk.player,r=t.id,n=void 0===r?null:r,o=t.name,i=void 0===o?\"\":o;e._playerId=n,e._playerName=i,e._isPlayerAuthorized=!0,function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}(e,Eu,Pu).call(e),e.showPreRoll(),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)})).catch((function(t){e._rejectPromiseDecorator(y.INITIALIZE,t)}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||_u(bu(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL||_u(bu(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;if(t===c.PLATFORM_INTERNAL){if(Array.isArray(e)){var o=e.map((function(e){return n._platformSdk.storage.get(e,\"platform_internal\").then((function(e){var t=e;if(r&&\"string\"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}))}));return Promise.all(o)}return this._platformSdk.storage.get(e,\"platform_internal\").then((function(e){var t=e;if(r&&\"string\"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}))}return _u(bu(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:(i=yu(du().mark((function e(t,r,n){var o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==c.PLATFORM_INTERNAL){e.next=20;break}if(!Array.isArray(t)){e.next=17;break}if(Array.isArray(r)){e.next=4;break}throw new Error(\"Value must be an array if key is an array\");case 4:if(t.length===r.length){e.next=6;break}throw new Error(\"Key and value arrays must have the same length\");case 6:if(!Array.isArray(t)||!Array.isArray(r)){e.next=9;break}return this._platformSdk.storage.set(t,r,\"platform_internal\"),e.abrupt(\"return\");case 9:o=0;case 10:if(!(o<t.length)){e.next=16;break}return e.next=13,this._platformSdk.storage.set(t[o],r[o],\"platform_internal\");case 13:o++,e.next=10;break;case 16:return e.abrupt(\"return\");case 17:return e.next=19,this._platformSdk.storage.set(t,r,\"platform_internal\");case 19:return e.abrupt(\"return\");case 20:return e.next=22,_u(bu(l.prototype),\"setDataToStorage\",this).call(this,t,r,n);case 22:case\"end\":return e.stop()}}),e,this)}))),function(e,t,r){return i.apply(this,arguments)})},{key:\"deleteDataFromStorage\",value:(o=yu(du().mark((function e(t,r){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==c.PLATFORM_INTERNAL){e.next=13;break}if(!Array.isArray(t)){e.next=10;break}n=0;case 3:if(!(n<t.length)){e.next=9;break}return e.next=6,this._platformSdk.storage.delete(t[n],\"platform_internal\");case 6:n++,e.next=3;break;case 9:return e.abrupt(\"return\");case 10:return e.next=12,this._platformSdk.storage.delete(t,\"platform_internal\");case 12:return e.abrupt(\"return\");case 13:return e.next=15,_u(bu(l.prototype),\"deleteDataFromStorage\",this).call(this,t,r);case 15:case\"end\":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:\"showRewarded\",value:function(){this._platformSdk.advertisement.showRewarded()}},{key:\"showInterstitial\",value:function(){this._platformSdk.advertisement.showInterstitial()}},{key:\"showPreRoll\",value:function(){this._platformSdk.advertisement.showPreRoll()}},{key:\"showBanner\",value:function(){this._platformSdk.advertisement.showBanner()}},{key:\"hideBanner\",value:function(){this._platformSdk.advertisement.hideBanner()}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._getPromiseDecorator(y.PURCHASE);return r||(r=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.payment.purchase(e).then((function(r){var n=pu({id:e},r.purchaseData);delete n.productID,t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),r.promise}},{key:\"paymentsGetCatalog\",value:function(){var e,t=this,r=this._paymentsGetProductsPlatformData();if(!r||!Array.isArray(r)||0===r.length)return Promise.reject(new Error(\"No platform products available\"));if(!this._isInitialized||null===(e=this._platformSdk)||void 0===e||!e.payment)return Promise.reject(new Error(\"SDK not initialized or payment not available\"));var n=this._getPromiseDecorator(y.GET_CATALOG);return n||(n=this._createPromiseDecorator(y.GET_CATALOG),this._platformSdk.payment.getCatalog().then((function(e){if(!Array.isArray(e))throw new Error(\"Catalog response is not an array\");var n=r.map((function(t){var r=e.find((function(e){return e.purchaseId===t.id}));return r?{name:r.name,description:r.description,id:r.purchaseId,price:r.priceValue,priceCurrencyCode:r.currencyCode,priceValue:r.price}:null})).filter(Boolean);t._resolvePromiseDecorator(y.GET_CATALOG,n)})).catch((function(e){t._rejectPromiseDecorator(y.GET_CATALOG,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),this._platformSdk.payment.consumePurchase(e).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(y.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),this._platformSdk.payment.getPurchases().then((function(t){var r=null==t?void 0:t.purchases,n=e._paymentsGetProductsPlatformData();e._paymentsPurchases=r.map((function(e){var t=n.find((function(t){return t.id===e.purchaseId}));if(!t)return null;var r=pu({id:t.id},e);return delete r.purchaseId,r})).filter(Boolean),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}},{key:\"leaderboardsSetScore\",value:function(e,t){var r=this;if(!this._isPlayerAuthorized)return Promise.reject();var n=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!n){n=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var o=\"number\"==typeof t?t:parseInt(t,10);this._platformSdk.leaderboard.setScore(e,o).then((function(){r._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)})).catch((function(e){r._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e)}))}return n.promise}},{key:\"leaderboardsGetEntries\",value:function(e){var t=this,r=this._getPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES);return r||(r=this._createPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES),this._platformSdk.leaderboard.getEntries(e).then((function(e){var r=Array.isArray(e)?e:e.entries||e.data||[];t._resolvePromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,r)})).catch((function(e){t._rejectPromiseDecorator(y.LEADERBOARDS_GET_ENTRIES,e)}))),r.promise}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(t){t(e._platformSdk.platform.getServerTime())}))}}],n&&mu(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Cr);function Au(e){return Au=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Au(e)}function Ou(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Tu(n.key),n)}}function ku(e,t){return ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ku(e,t)}function Du(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Iu(e){return Iu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Iu(e)}function Ru(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Tu(e){var t=function(e,t){if(\"object\"!=Au(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Au(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Au(t)?t:String(t)}function Lu(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var ju=new WeakSet,Nu=new WeakSet,Cu=new WeakSet;function Bu(){var e=this;this._platformSdk.ads.on(\"rewarded:start\",(function(){e._setRewardedState(a.OPENED)})),this._platformSdk.ads.on(\"rewarded:close\",(function(t){t||e._setRewardedState(a.FAILED)})),this._platformSdk.ads.on(\"rewarded:reward\",(function(){e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)}))}function Gu(){var e=this;this._platformSdk.ads.on(\"fullscreen:start\",(function(){e._setInterstitialState(i.OPENED)})),this._platformSdk.ads.on(\"fullscreen:close\",(function(){e._setInterstitialState(i.CLOSED)}))}function Mu(){var e=this;this._platformSdk.ads.on(\"sticky:render\",(function(){e._setBannerState(s.SHOWN)})),this._platformSdk.ads.on(\"sticky:close\",(function(){e._setBannerState(s.HIDDEN)}))}const Fu=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ku(e,t)}(u,t);var r,n,o,i,s=(o=u,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Iu(o);if(i){var r=Iu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Au(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Du(e)}(this,e)});function u(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,u);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Ru(Du(e=s.call.apply(s,[this].concat(o))),Cu),Ru(Du(e),Nu),Ru(Du(e),ju),t=Du(e),!0,(r=Tu(r=\"_isBannerSupported\"))in t?Object.defineProperty(t,r,{value:true,enumerable:!0,configurable:!0,writable:!0}):t[r]=true,e}return r=u,(n=[{key:\"platformId\",get:function(){return e.GAMEPUSH}},{key:\"isInterstitialSupported\",get:function(){return!0}},{key:\"isRewardedSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);if(!t)if(t=this._createPromiseDecorator(y.INITIALIZE),this._options&&this._options.projectId&&this._options.publicToken){var r=\"https://gamepush.com/sdk/game-score.js?projectId=\".concat(this._options.projectId,\"&publicToken=\").concat(this._options.publicToken);ce(r).then((function(){fe(\"GamePush\").then((function(){var t;e._platformSdk=window.GamePush;var r=null===(t=e._platformSdk)||void 0===t?void 0:t.player;if(r){var n=r.id,o=void 0===n?null:n,i=r.name,a=void 0===i?\"\":i,s=r.avatar,u=void 0===s?\"\":s;e._isPlayerAuthorized=!0,e._playerId=o,e._playerName=a,u&&e._playerPhotos.push(u)}e._isInitialized=!0,Lu(e,Nu,Gu).call(e),Lu(e,ju,Bu).call(e),Lu(e,Cu,Mu).call(e),e._resolvePromiseDecorator(y.INITIALIZE)}))}))}else this._rejectPromiseDecorator(y.INITIALIZE,P);return t.promise}},{key:\"showInterstitial\",value:function(){this._platformSdk.ads.showFullscreen()}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.ads.showRewardedVideo().catch((function(){e._setRewardedState(a.FAILED)}))}},{key:\"showBanner\",value:function(){this._platformSdk.ads.showSticky()}},{key:\"hideBanner\",value:function(){this._platformSdk.ads.closeSticky()}},{key:\"checkAdBlock\",value:function(){var e=this;return new Promise((function(t){e._platformSdk.ads.isAdblockEnabled().then((function(e){t(e)}))}))}}])&&Ou(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),u}(Cr);function Hu(e){return Hu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Hu(e)}function Uu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uu(Object(r),!0).forEach((function(t){Yu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ku(n.key),n)}}function Vu(e,t){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vu(e,t)}function Wu(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zu(e)}function Yu(e,t,r){return(t=Ku(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ku(e){var t=function(e,t){if(\"object\"!=Hu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Hu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Hu(t)?t:String(t)}const Ju=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Vu(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zu(o);if(i){var r=Zu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Hu(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Wu(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Yu(Wu(e=a.call.apply(a,[this].concat(r))),\"_appId\",null),Yu(Wu(e),\"_accessToken\",null),Yu(Wu(e),\"_platformLanguage\",\"en\"),e}return r=s,(n=[{key:\"platformId\",get:function(){return e.DISCORD}},{key:\"platformLanguage\",get:function(){return this._platformLanguage}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r=this._getPromiseDecorator(y.INITIALIZE);return r||(r=this._createPromiseDecorator(y.INITIALIZE),null!==(t=this._options)&&void 0!==t&&t.appId?(this._appId=this._options.appId,ce(\"/cdn/discord/discord-v2.0.0.min.js\").then((function(){fe(\"discord\",\"DiscordSDK\").then((function(){return e._platformSdk=new window.discord.DiscordSDK(e._appId),e._platformSdk.ready()})).then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE)}))}))):this._rejectPromiseDecorator(y.INITIALIZE,A)),r.promise}},{key:\"authorizePlayer\",value:function(){var e=this,t=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._platformSdk.commands.authorize({client_id:this._appId,response_type:\"code\",state:\"\",prompt:\"none\",scope:[\"identify\"]}).then((function(e){var t=e.code;return fetch(\"\".concat(\"/api\",\"/token\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({code:t})})})).then((function(e){return e.json()})).then((function(t){return e._accessToken=t.access_token,e._platformSdk.commands.authenticate({access_token:e._accessToken})})).then((function(t){if(null===t)throw new Error(\"Authorization failed\");return e._isPlayerAuthorized=!0,e._resolvePromiseDecorator(y.AUTHORIZE_PLAYER),fetch(\"/users/@me\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(e._accessToken),\"Content-Type\":\"application/json\"}})})).then((function(e){return e.json()})).then((function(t){e.playerId=t.id,e.playerName=t.username,t.avatar&&e.playerPhotos.push(\"https://cdn.discordapp.com/avatars/\".concat(t.id,\"/\").concat(t.avatar,\".png\"))})).catch((function(t){e._accessToken=null,e._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,t)}))),t.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();var n=this._getPromiseDecorator(y.PURCHASE);return n||(n=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.commands.startPurchase({sku_id:r.id}).then((function(r){if(!r)throw new Error(\"Purchase failed\");var n=xu({id:e},r);t._paymentsPurchases.push(n),t._resolvePromiseDecorator(y.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(y.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.id===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(y.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(y.CONSUME_PURCHASE),fetch(\"/applications/\".concat(this._appId,\"/entitlements/\").concat(this._paymentsPurchases[r].purchaseToken,\"/consume\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(this._accessToken),\"Content-Type\":\"application/json\"},body:JSON.stringify({})}).then((function(){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(y.CONSUME_PURCHASE,{id:e})})).catch((function(e){t._rejectPromiseDecorator(y.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(y.GET_CATALOG);return r||(r=this._createPromiseDecorator(y.GET_CATALOG),this._platformSdk.commands.getSkus().then((function(r){var n=r.skus,o=t.map((function(e){var t=n.find((function(t){return t.id===e.id}));return{id:e.id,title:t.name,price:\"\".concat(t.price.amount,\" \").concat(t.price.currency),priceCurrencyCode:t.price.currency,priceValue:t.price.amount}}));e._resolvePromiseDecorator(y.GET_CATALOG,o)})).catch((function(t){e._rejectPromiseDecorator(y.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(y.GET_PURCHASES);return t||(t=this._createPromiseDecorator(y.GET_PURCHASES),this._platformSdk.commands.getEntitlements().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){return xu({id:r.find((function(t){return t.id===e.id})).id},e)})),e._resolvePromiseDecorator(y.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(y.GET_PURCHASES,t)}))),t.promise}},{key:\"inviteFriends\",value:function(){var e=this,t=this._getPromiseDecorator(y.INVITE_FRIENDS);return t||(t=this._createPromiseDecorator(y.INVITE_FRIENDS),this._platformSdk.commands.openInviteDialog().then((function(){e._resolvePromiseDecorator(y.INVITE_FRIENDS)})).catch((function(t){e._rejectPromiseDecorator(y.INVITE_FRIENDS,t)}))),t.promise}},{key:\"share\",value:function(e){var t=this;if(!e.mediaUrl)return Promise.reject();var r=this._getPromiseDecorator(y.SHARE);return r||(r=this._createPromiseDecorator(y.SHARE),this._platformSdk.commands.openShareMomentDialog({mediaUrl:e.mediaUrl}).then((function(){t._resolvePromiseDecorator(y.SHARE)})).catch((function(e){t._rejectPromiseDecorator(y.SHARE,e)}))),r.promise}}])&&zu(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(Cr);function qu(e){return qu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},qu(e)}function Qu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=ec(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ec(n.key),n)}}function ec(e){var t=function(e,t){if(\"object\"!=qu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=qu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==qu(t)?t:String(t)}function tc(){return tc=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oc(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},tc.apply(this,arguments)}function rc(e,t){return rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rc(e,t)}function nc(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oc(e)}function ic(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function ac(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,uc(e,t,\"set\"),r),r}function sc(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,uc(e,t,\"get\"))}function uc(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var cc=new WeakMap,lc=new WeakMap,fc=new WeakMap;const pc=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&rc(e,t)}(s,t);var r,n,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oc(o);if(i){var r=oc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===qu(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return nc(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ic(nc(e=a.call.apply(a,[this].concat(r))),cc,{writable:!0,value:void 0}),ic(nc(e),lc,{writable:!0,value:!0}),ic(nc(e),fc,{writable:!0,value:!1}),e}return r=s,(n=[{key:\"platformId\",get:function(){return e.YOUTUBE}},{key:\"platformLanguage\",get:function(){return sc(this,cc)?sc(this,cc):tc(oc(s.prototype),\"platformLanguage\",this)}},{key:\"isPlatformAudioEnabled\",get:function(){return sc(this,lc)}},{key:\"isPlatformPaused\",get:function(){return sc(this,fc)}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"leaderboardsType\",get:function(){return h}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);return t||(t=this._createPromiseDecorator(y.INITIALIZE),ce(\"https://www.youtube.com/game_api/v1\").then((function(){fe(\"ytgame\").then((function(){e._platformSdk=window.ytgame,e._defaultStorageType=c.PLATFORM_INTERNAL,ac(e,lc,e._platformSdk.system.isAudioEnabled());var t=e._platformSdk.system.getLanguage().then((function(t){ac(e,cc,t.length>2?t.slice(0,2):t)}));e._platformStorageCachedData={};var r=e._platformSdk.game.loadData().then((function(t){\"string\"==typeof t&&\"\"!==t&&(e._platformStorageCachedData=JSON.parse(t))}));e._platformSdk.system.onAudioEnabledChange((function(t){ac(e,lc,t),e._setAudioState(t)})),e._platformSdk.system.onPause((function(){ac(e,fc,!0),e._setPauseState(sc(e,fc))})),e._platformSdk.system.onResume((function(){ac(e,fc,!1),e._setPauseState(sc(e,fc))})),Promise.all([t,r]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE),e._platformSdk.game.firstFrameReady()}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===c.PLATFORM_INTERNAL||tc(oc(s.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===c.PLATFORM_INTERNAL||tc(oc(s.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,o){n._platformSdk.game.loadData().then((function(o){if(\"string\"==typeof o&&\"\"!==o&&(n._platformStorageCachedData=JSON.parse(o)),Array.isArray(e)){for(var i=[],a=0;a<e.length;a++){var s=void 0===n._platformStorageCachedData[e[a]]?null:n._platformStorageCachedData[e[a]];if(\"string\"==typeof s&&r)try{s=JSON.parse(s)}catch(e){}i.push(s)}t(i)}else{var u=void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e];if(\"string\"==typeof u&&r)try{u=JSON.parse(u)}catch(e){}t(u)}})).catch((function(){o()}))})):tc(oc(s.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===c.PLATFORM_INTERNAL?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?Xu({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.game.saveData(JSON.stringify(i)).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))})):tc(oc(s.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===c.PLATFORM_INTERNAL?new Promise((function(t,n){var o=null!==r._platformStorageCachedData?Xu({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r._platformSdk.game.saveData(JSON.stringify(o)).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))})):tc(oc(s.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"sendMessage\",value:function(e){return e===f.GAME_READY?(this._platformSdk.game.gameReady(),Promise.resolve()):tc(oc(s.prototype),\"sendMessage\",this).call(this,e)}},{key:\"leaderboardsSetScore\",value:function(e,t,r){var n=this;if(!r)return Promise.reject();var o=this._getPromiseDecorator(y.LEADERBOARDS_SET_SCORE);if(!o){o=this._createPromiseDecorator(y.LEADERBOARDS_SET_SCORE);var i=\"string\"==typeof t?parseInt(t,10):t;this._platformSdk.engagement.sendScore({value:i}).then((function(){n._resolvePromiseDecorator(y.LEADERBOARDS_SET_SCORE)})).catch((function(e){n._rejectPromiseDecorator(y.LEADERBOARDS_SET_SCORE,e)}))}return o.promise}}])&&$u(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),s}(Cr);function dc(e){return dc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},dc(e)}function hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=vc(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,vc(n.key),n)}}function vc(e){var t=function(e,t){if(\"object\"!=dc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=dc(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==dc(t)?t:String(t)}function _c(e,t){Sc(e,t),t.add(e)}function gc(e,t,r){Sc(e,t),t.set(e,r)}function Sc(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function bc(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,wc(e,t,\"set\"),r),r}function Ec(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Pc(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,wc(e,t,\"get\"))}function wc(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Ac=new WeakMap,Oc=new WeakMap,kc=new WeakMap,Dc=new WeakMap,Ic=new WeakSet,Rc=new WeakSet,Tc=new WeakSet;function Lc(t){var r,n=e.MOCK,o=new URL(window.location.href);if(t.forciblySetPlatformId)n=Ec(this,Rc,jc).call(this,t.forciblySetPlatformId.toLowerCase());else{var i=[\"y\",\"a\",\"n\",\"d\",\"e\",\"x\",\".\",\"n\",\"e\",\"t\"].join(\"\");o.searchParams.has(\"platform_id\")?n=Ec(this,Rc,jc).call(this,o.searchParams.get(\"platform_id\").toLowerCase()):o.hostname.includes(i)||o.hash.includes(\"yandex\")?n=e.YANDEX:o.hostname.includes(\"crazygames.\")||o.hostname.includes(\"1001juegos.com\")?n=e.CRAZY_GAMES:o.hostname.includes(\"gamedistribution.com\")?n=e.GAME_DISTRIBUTION:o.hostname.includes(\"lagged.\")?n=e.LAGGED:o.searchParams.has(\"api_id\")&&o.searchParams.has(\"viewer_id\")&&o.searchParams.has(\"auth_key\")||o.searchParams.has(\"vk_app_id\")?n=e.VK:o.searchParams.has(\"app_id\")&&o.searchParams.has(\"player_id\")&&o.searchParams.has(\"game_sid\")&&o.searchParams.has(\"auth_key\")?n=e.ABSOLUTE_GAMES:o.searchParams.has(\"playdeck\")?n=e.PLAYDECK:o.hash.includes(\"tgWebAppData\")?n=e.TELEGRAM:o.hostname.includes(\"y8\")?n=e.Y8:o.hostname.includes(\"fbsbx\")?n=e.FACEBOOK:o.hostname.includes(\"poki-gdn\")||o.hostname.includes(\"poki-user-content\")?n=e.POKI:o.hostname.includes(\"msn.\")||o.hostname.includes(\"msnfun.\")||o.hostname.includes(\"start.gg\")?n=e.MSN:o.hash.includes(\"customUrl_\")||document.referrer.includes(\"bitquest\")?n=e.BITQUEST:o.hostname.includes(\"eponesh.\")?n=e.GAMEPUSH:o.hostname.includes(\"discordsays.com\")&&(n=e.DISCORD)}var a=t;switch(null!==(r=a.platforms)&&void 0!==r&&r[n]&&(a=ye(a,a.platforms[n])),delete a.platforms,n){case e.VK:bc(this,kc,new qr(a));break;case e.YANDEX:bc(this,kc,new gn(a));break;case e.CRAZY_GAMES:bc(this,kc,new Mn(a));break;case e.ABSOLUTE_GAMES:bc(this,kc,new qn(a));break;case e.GAME_DISTRIBUTION:bc(this,kc,new so(a));break;case e.OK:bc(this,kc,new li(a));break;case e.PLAYGAMA:bc(this,kc,new Ii(a));break;case e.PLAYDECK:bc(this,kc,new Wi(a));break;case e.TELEGRAM:bc(this,kc,new ua(a));break;case e.Y8:bc(this,kc,new ka(a));break;case e.LAGGED:bc(this,kc,new Na(a));break;case e.FACEBOOK:bc(this,kc,new Qa(a));break;case e.POKI:bc(this,kc,new xs(a));break;case e.QA_TOOL:bc(this,kc,new Cs(a));break;case e.MSN:bc(this,kc,new cu(a));break;case e.BITQUEST:bc(this,kc,new wu(a));break;case e.GAMEPUSH:bc(this,kc,new Fu(a));break;case e.DISCORD:bc(this,kc,new Ju(a));break;case e.YOUTUBE:bc(this,kc,new pc(a));break;default:bc(this,kc,new Cr(a))}}function jc(t){for(var r=Object.values(e),n=0;n<r.length;n++)if(t===r[n])return t;return e.MOCK}function Nc(e){return Pc(this,Ac)||console.error(m),Pc(this,Dc)[e]}const Cc=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),_c(this,Tc),_c(this,Rc),_c(this,Ic),gc(this,Ac,{writable:!0,value:!1}),gc(this,Oc,{writable:!0,value:null}),gc(this,kc,{writable:!0,value:null}),gc(this,Dc,{writable:!0,value:{}})}var u,p;return u=r,(p=[{key:\"version\",get:function(){return\"1.24.0\"}},{key:\"isInitialized\",get:function(){return Pc(this,Ac)}},{key:\"options\",get:function(){return Pc(this,kc).options}},{key:\"platform\",get:function(){return Ec(this,Tc,Nc).call(this,t.PLATFORM)}},{key:\"player\",get:function(){return Ec(this,Tc,Nc).call(this,t.PLAYER)}},{key:\"game\",get:function(){return Ec(this,Tc,Nc).call(this,t.GAME)}},{key:\"storage\",get:function(){return Ec(this,Tc,Nc).call(this,t.STORAGE)}},{key:\"advertisement\",get:function(){return Ec(this,Tc,Nc).call(this,t.ADVERTISEMENT)}},{key:\"social\",get:function(){return Ec(this,Tc,Nc).call(this,t.SOCIAL)}},{key:\"device\",get:function(){return Ec(this,Tc,Nc).call(this,t.DEVICE)}},{key:\"leaderboard\",get:function(){return Ec(this,Tc,Nc).call(this,t.LEADERBOARDS)}},{key:\"leaderboards\",get:function(){return Ec(this,Tc,Nc).call(this,t.LEADERBOARDS)}},{key:\"payments\",get:function(){return Ec(this,Tc,Nc).call(this,t.PAYMENTS)}},{key:\"achievements\",get:function(){return Ec(this,Tc,Nc).call(this,t.ACHIEVEMENTS)}},{key:\"remoteConfig\",get:function(){return Ec(this,Tc,Nc).call(this,t.REMOTE_CONFIG)}},{key:\"clipboard\",get:function(){return Ec(this,Tc,Nc).call(this,t.CLIPBOARD)}},{key:\"PLATFORM_ID\",get:function(){return e}},{key:\"PLATFORM_MESSAGE\",get:function(){return f}},{key:\"MODULE_NAME\",get:function(){return t}},{key:\"EVENT_NAME\",get:function(){return n}},{key:\"INTERSTITIAL_STATE\",get:function(){return i}},{key:\"REWARDED_STATE\",get:function(){return a}},{key:\"BANNER_STATE\",get:function(){return s}},{key:\"STORAGE_TYPE\",get:function(){return c}},{key:\"VISIBILITY_STATE\",get:function(){return o}},{key:\"DEVICE_TYPE\",get:function(){return l}},{key:\"initialize\",value:function(e){var r=this;if(Pc(this,Ac))return Promise.resolve();if(!Pc(this,Oc)){bc(this,Oc,new B);var n,o=\"./playgama-bridge-config.json\";e&&e.configFilePath&&(o=e.configFilePath),fetch(o).then((function(e){return e.json()})).then((function(e){n=yc({},e)})).catch((function(){n=yc({},e)})).finally((function(){Ec(r,Ic,Lc).call(r,n),Pc(r,Dc)[t.PLATFORM]=new $(Pc(r,kc)),Pc(r,Dc)[t.PLAYER]=new ie(Pc(r,kc)),Pc(r,Dc)[t.GAME]=new we(Pc(r,kc)),Pc(r,Dc)[t.STORAGE]=new Re(Pc(r,kc)),Pc(r,Dc)[t.ADVERTISEMENT]=new Rt(Pc(r,kc)),Pc(r,Dc)[t.SOCIAL]=new Bt(Pc(r,kc)),Pc(r,Dc)[t.DEVICE]=new xt(Pc(r,kc)),Pc(r,Dc)[t.LEADERBOARDS]=new tr(Pc(r,kc)),Pc(r,Dc)[t.PAYMENTS]=new sr(Pc(r,kc)),Pc(r,Dc)[t.REMOTE_CONFIG]=new dr(Pc(r,kc)),Pc(r,Dc)[t.CLIPBOARD]=new gr(Pc(r,kc)),Pc(r,Dc)[t.ACHIEVEMENTS]=new Ar(Pc(r,kc)),Pc(r,kc).initialize().then((function(){var e,n;if(bc(r,Ac,!0),console.info(\"%c PlaygamaBridge v.\".concat(r.version,\" initialized. \"),\"background: #01A5DA; color: white\"),Pc(r,Oc)&&(Pc(r,Oc).resolve(),bc(r,Oc,null)),null!==(e=Pc(r,kc).options)&&void 0!==e&&null!==(e=e.advertisement)&&void 0!==e&&null!==(e=e.interstitial)&&void 0!==e&&e.preloadOnStart){var o=Pc(r,kc).options.advertisement.interstitial.preloadOnStart;Pc(r,Dc)[t.ADVERTISEMENT].preloadInterstitial(o)}if(null!==(n=Pc(r,kc).options)&&void 0!==n&&null!==(n=n.advertisement)&&void 0!==n&&null!==(n=n.rewarded)&&void 0!==n&&n.preloadOnStart){var i=Pc(r,kc).options.advertisement.rewarded.preloadOnStart;Pc(r,Dc)[t.ADVERTISEMENT].preloadRewarded(i)}})).finally((function(){setTimeout((function(){return Pc(r,Dc)[t.GAME].setLoadingProgress(100,!0)}),700)}))}))}return Pc(this,Oc).promise}}])&&mc(u.prototype,p),Object.defineProperty(u,\"prototype\",{writable:!1}),r}();window.bridge=new Cc,window.playgamaBridge=window.bridge})()})();",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension = {",
            "    isLastActionCompletedSuccessfully: false,",
            "    actionParametersContainer: {},",
            "",
            "    // game",
            "    isVisibilityStateChanged: false,",
            "    prevVisibilityState: null,",
            "    visibilityStateStack: [],",
            "",
            "    // platform",
            "    serverTime: 0,",
            "    isGetServerTimeCompleted: false,",
            "    nextIsGetServerTimeCompleted: false,",
            "    allGames: [],",
            "    gameById: null,",
            "    isGetAllGamesCompleted: false,",
            "    nextIsGetAllGamesCompleted: false,",
            "    isGetGameByIdCompleted: false,",
            "    nextIsGetGameByIdCompleted: false,",
            "    isPlatformAudioStateChanged: false,",
            "    platformAudioStateStack: [],",
            "    platformAudioState: null,",
            "    platformPreviousAudioState: null,",
            "    isPlatformPauseStateChanged: false,",
            "    platformPauseStateStack: [],",
            "    platformPauseState: null,",
            "    platformPreviousPauseState: null,",
            "    ",
            "    // storage",
            "    storageData: {},",
            "    storageDataGetRequestKeys: [],",
            "    storageDataSetRequestKeys: [],",
            "    storageDataSetRequestValues: [],",
            "    storageDataDeleteRequestKeys: [],",
            "    isStorageDataGetRequestCompleted: false,",
            "    isStorageDataSetRequestCompleted: false,",
            "    isStorageDataDeleteRequestCompleted: false,",
            "    nextIsStorageDataGetRequestCompleted: false,",
            "    nextIsStorageDataSetRequestCompleted: false,",
            "    nextIsStorageDataDeleteRequestCompleted: false,",
            "",
            "    // advertisement",
            "    bannerState: null,",
            "    prevBannerState: null,",
            "    bannerStateStack: [],",
            "    interstitialState: null,",
            "    prevInterstitialState: null,",
            "    interstitialStateStack: [],",
            "    rewardedState: null,",
            "    prevRewardedState: null,",
            "    rewardedStateStack: [],",
            "    isAdBlockDetected: false,",
            "    isBannerStateChanged: false,",
            "    isInterstitialStateChanged: false,",
            "    isRewardedStateChanged: false,",
            "    isCheckAdBlockCompleted: false,",
            "    nextIsCheckAdBlockCompleted: false,",
            "",
            "    // player",
            "    isAuthorizePlayerCompleted: false,",
            "    nextIsAuthorizePlayerCompleted: false,",
            "",
            "    // social",
            "    isShareCompleted: false,",
            "    isInviteFriendsCompleted: false,",
            "    isJoinCommunityCompleted: false,",
            "    nextIsShareCompleted: false,",
            "    nextIsInviteFriendsCompleted: false,",
            "    nextIsJoinCommunityCompleted: false,",
            "    isCreatePostCompleted: false,",
            "    isAddToHomeScreenCompleted: false,",
            "    isAddToFavoritesCompleted: false,",
            "    isRateCompleted: false,",
            "    nextIsCreatePostCompleted: false,",
            "    nextIsAddToHomeScreenCompleted: false,",
            "    nextIsAddToFavoritesCompleted: false,",
            "    nextIsRateCompleted: false,",
            "",
            "    // leaderboard",
            "    isLeaderboardsSetScoreCompleted: false,",
            "    isLeaderboardsGetEntriesCompleted: false,",
            "    nextIsLeaderboardsSetScoreCompleted: false,",
            "    nextIsLeaderboardsGetEntriesCompleted: false,",
            "    leaderboardEntries: [],",
            "    ",
            "    // payments",
            "    isPaymentsPurchaseCompleted: false,",
            "    isPaymentsGetPurchasesCompleted: false,",
            "    isPaymentsGetCatalogCompleted: false,",
            "    isPaymentsConsumePurchaseCompleted: false,",
            "    nextIsPaymentsPurchaseCompleted: false,",
            "    nextIsPaymentsGetPurchasesCompleted: false,",
            "    nextIsPaymentsGetCatalogCompleted: false,",
            "    nextIsPaymentsConsumePurchaseCompleted: false,",
            "    paymentsPurchase: null,",
            "    paymentsPurchases: [],",
            "    paymentsCatalog: [],",
            "",
            "    // achievements",
            "    isAchievementsUnlockCompleted: false,",
            "    isAchievementsGetListCompleted: false,",
            "    isAchievementsShowNativePopupCompleted: false,",
            "    nextIsAchievementsUnlockCompleted: false,",
            "    nextIsAchievementsGetListCompleted: false,",
            "    nextIsAchievementsShowNativePopupCompleted: false,",
            "    achievementsList: [],",
            "",
            "    // remote",
            "    remoteConfig: {},",
            "    isRemoteConfigGotCompleted: false,",
            "    nextIsRemoteConfigGotCompleted: false,",
            "}",
            "",
            "// utils",
            "gdjs._playgamaBridgeExtension.addActionParameter = function (path, value, sep = '.') {",
            "    const keys = path.replace(/\\[/g, sep).replace(/]/g, '').split(sep).map(item => isNaN(+item) ? item : +item);",
            "",
            "    let current = gdjs._playgamaBridgeExtension.actionParametersContainer;",
            "",
            "    for (let i = 0; i < keys.length; i++) {",
            "        const key = keys[i];",
            "        if (['__proto__', 'prototype', 'constructor'].includes(key)) {",
            "            break;",
            "        }",
            "",
            "        if (i < keys.length - 1) {",
            "            if ((Array.isArray(current[key]) && typeof keys[i + 1] !== 'number') || (!Array.isArray(current[key]) && typeof keys[i + 1] === 'number') || typeof current[key] !== 'object') {",
            "                break;",
            "            }",
            "            current = current[key];",
            "        } else if (Array.isArray(current[key]) && Array.isArray(value)) {",
            "            current[key] = [ ...current[key], ...value ];",
            "        } else if (",
            "            typeof value === 'object' && typeof current[key] === 'object' && !Array.isArray(current[key]) && !Array.isArray(value)) {",
            "            current[key] = { ...current[key], ...value };",
            "        } else {",
            "            current[key] = value;",
            "        }",
            "    }",
            "}",
            "",
            "bridge.initialize(bridgeOptions)",
            "    .then(() => {",
            "        bridge.advertisement.on('banner_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.bannerStateStack.push(state);",
            "        });",
            "",
            "        bridge.advertisement.on('interstitial_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.interstitialStateStack.push(state);",
            "",
            "        });",
            "",
            "        bridge.advertisement.on('rewarded_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.rewardedStateStack.push(state);",
            "        });",
            "",
            "        bridge.game.on('visibility_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.visibilityStateStack.push(state)",
            "        });",
            "",
            "        bridge.platform.on('audio_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.platformAudioStateStack.push(state)",
            "        });",
            "",
            "        bridge.platform.on('pause_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.platformPauseStateStack.push(state)",
            "        });",
            "",
            "        function updateState() {",
            "            // visibility",
            "            if (gdjs._playgamaBridgeExtension.visibilityStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.visibilityState = gdjs._playgamaBridgeExtension.visibilityStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isVisibilityStateChanged = gdjs._playgamaBridgeExtension.visibilityState !== gdjs._playgamaBridgeExtension.prevVisibilityState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isVisibilityStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevVisibilityState = gdjs._playgamaBridgeExtension.visibilityState;",
            "            }",
            "",
            "            // advertisement",
            "            if (gdjs._playgamaBridgeExtension.bannerStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.bannerState = gdjs._playgamaBridgeExtension.bannerStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isBannerStateChanged = gdjs._playgamaBridgeExtension.bannerState !== gdjs._playgamaBridgeExtension.prevBannerState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isBannerStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevBannerState = gdjs._playgamaBridgeExtension.bannerState;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.interstitialStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.interstitialState = gdjs._playgamaBridgeExtension.interstitialStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isInterstitialStateChanged = gdjs._playgamaBridgeExtension.interstitialState !== gdjs._playgamaBridgeExtension.prevInterstitialState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isInterstitialStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevInterstitialState = gdjs._playgamaBridgeExtension.interstitialState;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.rewardedStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.rewardedState = gdjs._playgamaBridgeExtension.rewardedStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isRewardedStateChanged = gdjs._playgamaBridgeExtension.rewardedState !== gdjs._playgamaBridgeExtension.prevRewardedState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isRewardedStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevRewardedState = gdjs._playgamaBridgeExtension.rewardedState;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted !== gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted = gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = false;",
            "            }",
            "",
            "            // platform",
            "            if (gdjs._playgamaBridgeExtension.platformAudioStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.platformAudioState = gdjs._playgamaBridgeExtension.platformAudioStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged = gdjs._playgamaBridgeExtension.platformAudioState !== gdjs._playgamaBridgeExtension.platformPreviousAudioState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged) {",
            "                gdjs._playgamaBridgeExtension.platformPreviousAudioState = gdjs._playgamaBridgeExtension.platformAudioState;",
            "            }",
            "",
            "",
            "            if (gdjs._playgamaBridgeExtension.platformPauseStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.platformPauseState = gdjs._playgamaBridgeExtension.platformPauseStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged = gdjs._playgamaBridgeExtension.platformPauseState !== gdjs._playgamaBridgeExtension.platformPreviousPauseState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged) {",
            "                gdjs._playgamaBridgeExtension.platformPreviousPauseState = gdjs._playgamaBridgeExtension.platformPauseState;",
            "            }",
            "",
            "",
            "            if (gdjs._playgamaBridgeExtension.isGetServerTimeCompleted !== gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                gdjs._playgamaBridgeExtension.isGetServerTimeCompleted = gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isGetAllGamesCompleted !== gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isGetAllGamesCompleted = gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isGetGameByIdCompleted !== gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                gdjs._playgamaBridgeExtension.isGetGameByIdCompleted = gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = false;",
            "            }",
            "",
            "            // storage",
            "            if (gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = false;",
            "            }",
            "",
            "            // player",
            "            if (gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted !== gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted = gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = false;",
            "            }",
            "",
            "            // social",
            "            if (gdjs._playgamaBridgeExtension.isShareCompleted !== gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                gdjs._playgamaBridgeExtension.isShareCompleted = gdjs._playgamaBridgeExtension.nextIsShareCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsShareCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isInviteFriendsCompleted !== gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                gdjs._playgamaBridgeExtension.isInviteFriendsCompleted = gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isJoinCommunityCompleted !== gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                gdjs._playgamaBridgeExtension.isJoinCommunityCompleted = gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isCreatePostCompleted !== gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                gdjs._playgamaBridgeExtension.isCreatePostCompleted = gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted = gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted = gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isRateCompleted !== gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                gdjs._playgamaBridgeExtension.isRateCompleted = gdjs._playgamaBridgeExtension.nextIsRateCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsRateCompleted = false;",
            "            }",
            "",
            "            // leaderboards",
            "            if (gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted) {",
            "                gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = false;",
            "            }",
            "",
            "            // payments",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = false;",
            "            }",
            "",
            "            // achievements",
            "            if (gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = false;",
            "            }",
            "",
            "            // remote configs",
            "            if (gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted !== gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted = gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = false;",
            "            }",
            "",
            "            requestAnimationFrame(updateState);",
            "        }",
            "",
            "        requestAnimationFrame(updateState);",
            "    });"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add Action Parameter.",
      "fullName": "Add Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, isNaN(+value) ? value : +value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Add Bool Action Parameter.",
      "fullName": "Add Bool Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddBoolActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "trueorfalse"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Initialized.",
      "fullName": "Is Initialized",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsInitialized",
      "sentence": "Is Initialized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = window.bridge && window.bridge.isInitialized;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Id.",
      "fullName": "Platform Id",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Language.",
      "fullName": "Platform Language",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformLanguage",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.language;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Payload.",
      "fullName": "Platform Payload",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformPayload",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.payload;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Tld.",
      "fullName": "Platform Tld",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformTld",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.tld || '';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Is Audio Enabled.",
      "fullName": "Platform Is Audio Enabled",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformIsAudioEnabled",
      "sentence": "Platform Is Audio Enabled",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isAudioEnabled;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Is Paused.",
      "fullName": "Platform Is Paused",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformIsPaused",
      "sentence": "Platform Is Paused",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isPaused;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get All Games Supported.",
      "fullName": "Is Get All Games Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetAllGamesSupported",
      "sentence": "Is Get All Games Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetAllGamesSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get Game By Id Supported.",
      "fullName": "Is Get Game By Id Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetGameByIdSupported",
      "sentence": "Is Get Game By Id Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetGameByIdSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get All Games Completed.",
      "fullName": "On Get All Games Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetAllGamesCompleted",
      "sentence": "On Get All Games Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetAllGamesCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Game By Id Completed.",
      "fullName": "On Get Game By Id Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetGameByIdCompleted",
      "sentence": "On Get Game By Id Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetGameByIdCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get All Games.",
      "fullName": "Platform Get All Games",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetAllGames",
      "sentence": "Platform Get All Games",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getAllGames()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.allGames = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get Game By Id.",
      "fullName": "Platform Get Game By Id",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetGameById",
      "sentence": "Platform Get Game By Id",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getGameById(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.gameById = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Count.",
      "fullName": "Platform All Games Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Game Properties Count.",
      "fullName": "Platform All Game Properties Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length > 0 ",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0] || {}).length",
            "    : 0"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Name.",
      "fullName": "Platform All Games Property Name",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Value.",
      "fullName": "Platform All Games Property Value",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const gameIndex = eventsFunctionContext.getArgument(\"GameIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (gdjs._playgamaBridgeExtension.allGames.length > 0) {",
            "    const game = gdjs._playgamaBridgeExtension.allGames[gameIndex];",
            "",
            "    eventsFunctionContext.returnValue = isNaN(+property) ",
            "        ? game[property]",
            "        : game[Object.keys(game || {})[+property]]",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Game Index",
          "name": "GameIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform Game By Id Property Value.",
      "fullName": "Platform Game By Id Property Value",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformGameByIdPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (!gdjs._playgamaBridgeExtension.gameById) {",
            "    eventsFunctionContext.returnValue = '';",
            "    return;",
            "}",
            "",
            "if (typeof property === 'number') {",
            "    let properties = Object.keys(gdjs._playgamaBridgeExtension.gameById);",
            "    let propertyName = properties[property];",
            "    eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[propertyName];",
            "    return;",
            "}",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[property];"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform On Audio State Changed.",
      "fullName": "Platform On Audio State Changed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformOnAudioStateChanged",
      "sentence": "Platform On Audio State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPlatformAudioStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform On Pause State Changed.",
      "fullName": "Platform On Pause State Changed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "PlatformOnPauseStateChanged",
      "sentence": "Platform On Pause State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPlatformPauseStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Device Type.",
      "fullName": "Device Type",
      "functionType": "StringExpression",
      "group": "Device",
      "name": "DeviceType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.device.type;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Mobile.",
      "fullName": "Is Mobile",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsMobile",
      "sentence": "Is Mobile",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'mobile';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tablet.",
      "fullName": "Is Tablet",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTablet",
      "sentence": "Is Tablet",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tablet';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Desktop.",
      "fullName": "Is Desktop",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsDesktop",
      "sentence": "Is Desktop",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'desktop';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tv.",
      "fullName": "Is Tv",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTv",
      "sentence": "Is Tv",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tv';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Id.",
      "fullName": "Player Id",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Name.",
      "fullName": "Player Name",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Photos Count.",
      "fullName": "Player Photos Count",
      "functionType": "Expression",
      "group": "Player",
      "name": "PlayerPhotosCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.photos.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Photo # _PARAM1_.",
      "fullName": "Player Photo",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerPhoto",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\")",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos[index];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Visibility State.",
      "fullName": "Visibility State",
      "functionType": "StringExpression",
      "group": "Game",
      "name": "VisibilityState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.game.visibilityState;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Visibility State Changed.",
      "fullName": "On Visibility State Changed",
      "functionType": "Condition",
      "group": "Game",
      "name": "OnVisibilityStateChanged",
      "sentence": "On Visibility State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isVisibilityStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Default Storage Type.",
      "fullName": "Default Storage Type",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "DefaultStorageType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.storage.defaultType;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Storage Data.",
      "fullName": "Storage Data",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageData",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.storageData[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Storage Data As JSON.",
      "fullName": "Storage Data As JSON",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageDataAsJSON",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "let value = gdjs._playgamaBridgeExtension.storageData[key];",
            "",
            "if (typeof value !== 'string') {",
            "    value = JSON.stringify(value);",
            "}",
            "",
            "eventsFunctionContext.returnValue = value;"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Get Request.",
      "fullName": "Append Parameter to Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataGetRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Get Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataGetRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Set Request.",
      "fullName": "Append Parameter to Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataSetRequest",
      "sentence": "Append Parameter _PARAM1_ : _PARAM2_ to Storage Data Set Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "const value = eventsFunctionContext.getArgument(\"Value\")",
            "",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestKeys.push(key);",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestValues.push(value);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Delete Request.",
      "fullName": "Append Parameter to Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataDeleteRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Delete Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Last Action Completed Successfully.",
      "fullName": "Is Last Action Completed Successfully",
      "functionType": "Condition",
      "group": "Common",
      "name": "IsLastActionCompletedSuccessfully",
      "sentence": "Is Last Action Completed Successfully",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Get Request.",
      "fullName": "Send Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataGetRequest",
      "sentence": "Send Storage Data Get Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataGetRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.get(storageDataGetRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(data => {",
            "            for (let i = 0; i < data.length; i++) {",
            "                let key = storageDataGetRequestKeys[i];",
            "                let value = data[i];",
            "                storageData[key] = value;",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataGetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = true;",
            "            resolve()",
            "        });",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Set Request.",
      "fullName": "Send Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataSetRequest",
      "sentence": "Send Storage Data Set Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false",
            "",
            "const { storageData, storageDataSetRequestKeys, storageDataSetRequestValues } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.set(storageDataSetRequestKeys, storageDataSetRequestValues, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            for (let i = 0; i < storageDataSetRequestKeys.length; i++) {",
            "                let key = storageDataSetRequestKeys[i]",
            "                storageData[key] = storageDataSetRequestValues[i]",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestValues = []",
            "",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Delete Request.",
      "fullName": "Send Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataDeleteRequest",
      "sentence": "Send Storage Data Delete Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataDeleteRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.delete(storageDataDeleteRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            if (storageData) {",
            "                for (const key of storageDataDeleteRequestKeys) {",
            "                    delete storageData[key];",
            "                }",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys = [];",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Get Request Completed.",
      "fullName": "On Storage Data Get Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataGetRequestCompleted",
      "sentence": "On Storage Data Get Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Set Request Completed.",
      "fullName": "On Storage Data Set Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataSetRequestCompleted",
      "sentence": "On Storage Data Set Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Delete Request Completed.",
      "fullName": "On Storage Data Delete Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataDeleteRequestCompleted",
      "sentence": "On Storage Data Delete Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Storage Data.",
      "fullName": "Has Storage Data",
      "functionType": "Condition",
      "group": "Storage",
      "name": "HasStorageData",
      "sentence": "Has _PARAM1_ in Storage Data",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { storageData } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = storageData[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Supported.",
      "fullName": "Is Storage Supported",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageSupported",
      "sentence": "Is Storage Supported _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isSupported(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Available.",
      "fullName": "Is Storage Available",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageAvailable",
      "sentence": "Is Storage Available _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isAvailable(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Set Minimum Delay Between Interstitial.",
      "fullName": "Set Minimum Delay Between Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "SetMinimumDelayBetweenInterstitial",
      "sentence": "Set Minimum Delay Between Interstitial _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const seconds = eventsFunctionContext.getArgument(\"Seconds\");",
            "",
            "bridge.advertisement.setMinimumDelayBetweenInterstitial(seconds);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Seconds",
          "name": "Seconds",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Banner.",
      "fullName": "Show Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowBanner",
      "sentence": "Show Banner on _PARAM1_  with placement _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const position = eventsFunctionContext.getArgument(\"Position\");",
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showBanner(position, placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Position",
          "name": "Position",
          "supplementaryInformation": "[\"bottom\",\"top\"]",
          "type": "stringWithSelector"
        },
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Hide Banner.",
      "fullName": "Hide Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "HideBanner",
      "sentence": "Hide Banner",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "bridge.advertisement.hideBanner(gdjs._playgamaBridgeExtension.actionParametersContainer);",
            "",
            "gdjs._playgamaBridgeExtension.actionParametersContainer = {};"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Show Interstitial.",
      "fullName": "Show Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowInterstitial",
      "sentence": "Show Interstitial with placement _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showInterstitial(placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Rewarded.",
      "fullName": "Show Rewarded",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowRewarded",
      "sentence": "Show Rewarded with placement _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const placement = eventsFunctionContext.getArgument(\"Placement\");",
            "bridge.advertisement.showRewarded(placement);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Placement (optional)",
          "name": "Placement",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Check AdBlock.",
      "fullName": "Check AdBlock",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "CheckAdBlock",
      "sentence": "Check AdBlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.advertisement.checkAdBlock()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.isAdBlockDetected = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Minimum Delay Between Interstitial.",
      "fullName": "Minimum Delay Between Interstitial",
      "functionType": "Expression",
      "group": "Advertisement",
      "name": "MinimumDelayBetweenInterstitial",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.advertisement.minimumDelayBetweenInterstitial;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Banner State.",
      "fullName": "Banner State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "BannerState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Interstitial State.",
      "fullName": "Interstitial State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "InterstitialState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rewarded State.",
      "fullName": "Rewarded State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "RewardedState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.rewardedState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rewarded Placement.",
      "fullName": "Rewarded Placement",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "RewardedPlacement",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.advertisement.rewardedPlacement;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Banner Supported.",
      "fullName": "Is Banner Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsBannerSupported",
      "sentence": "Is Banner Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isBannerSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Interstitial Supported.",
      "fullName": "Is Interstitial Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsInterstitialSupported",
      "sentence": "Is Interstitial Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isInterstitialSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Rewarded Supported.",
      "fullName": "Is Rewarded Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsRewardedSupported",
      "sentence": "Is Rewarded Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isRewardedSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner State Changed.",
      "fullName": "On Banner State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerStateChanged",
      "sentence": "On Banner State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isBannerStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Loading.",
      "fullName": "On Banner Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerLoading",
      "sentence": "On Banner Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Shown.",
      "fullName": "On Banner Shown",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerShown",
      "sentence": "On Banner Shown",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"shown\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Hidden.",
      "fullName": "On Banner Hidden",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerHidden",
      "sentence": "On Banner Hidden",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"hidden\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Failed.",
      "fullName": "On Banner Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerFailed",
      "sentence": "On Banner Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial State Changed.",
      "fullName": "On Interstitial State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialStateChanged",
      "sentence": "On Interstitial State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInterstitialStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Loading.",
      "fullName": "On Interstitial Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialLoading",
      "sentence": "On Interstitial Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Opened.",
      "fullName": "On Interstitial Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialOpened",
      "sentence": "On Interstitial Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Closed.",
      "fullName": "On Interstitial Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialClosed",
      "sentence": "On Interstitial Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Failed.",
      "fullName": "On Interstitial Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialFailed",
      "sentence": "On Interstitial Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded State Changed.",
      "fullName": "On Rewarded State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedStateChanged",
      "sentence": "On Rewarded State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRewardedStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Loading.",
      "fullName": "On Rewarded Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedLoading",
      "sentence": "On Rewarded Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Opened.",
      "fullName": "On Rewarded Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedOpened",
      "sentence": "On Rewarded Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Closed.",
      "fullName": "On Rewarded Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedClosed",
      "sentence": "On Rewarded Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Rewarded.",
      "fullName": "On Rewarded Rewarded",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedRewarded",
      "sentence": "On Rewarded Rewarded",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"rewarded\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Failed.",
      "fullName": "On Rewarded Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedFailed",
      "sentence": "On Rewarded Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Check AdBlock Completed.",
      "fullName": "On Check AdBlock Completed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnCheckAdBlockCompleted",
      "sentence": "On Check AdBlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Message.",
      "fullName": "Send Message",
      "functionType": "Action",
      "group": "Platform",
      "name": "SendMessage",
      "sentence": "Send Message _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const message = eventsFunctionContext.getArgument(\"Message\")",
            "",
            "bridge.platform.sendMessage(bridge.PLATFORM_MESSAGE[message])",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Message",
          "name": "Message",
          "supplementaryInformation": "[\"GAME_READY\",\"IN_GAME_LOADING_STARTED\",\"IN_GAME_LOADING_STOPPED\",\"GAMEPLAY_STARTED\",\"GAMEPLAY_STOPPED\",\"PLAYER_GOT_ACHIEVEMENT\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Get Server Time.",
      "fullName": "Get Server Time",
      "functionType": "Action",
      "group": "Platform",
      "name": "GetServerTime",
      "sentence": "Get Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getServerTime()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.serverTime = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Server Time.",
      "fullName": "Server Time",
      "functionType": "Expression",
      "group": "Platform",
      "name": "ServerTime",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Server Time Completed.",
      "fullName": "On Get Server Time Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetServerTimeCompleted",
      "sentence": "On Get Server Time Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetServerTimeCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Server Time.",
      "fullName": "Has Server Time",
      "functionType": "Condition",
      "group": "Platform",
      "name": "HasServerTime",
      "sentence": "Has Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime > 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Authorize Player.",
      "fullName": "Authorize Player",
      "functionType": "Action",
      "group": "Player",
      "name": "AuthorizePlayer",
      "sentence": "Authorize Player",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.player.authorize(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorization Supported.",
      "fullName": "Is Player Authorization Supported",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorizationSupported",
      "sentence": "Is Player Authorization Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorizationSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorized.",
      "fullName": "Is Player Authorized",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorized",
      "sentence": "Is Player Authorized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorized;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Authorize Player Completed.",
      "fullName": "On Authorize Player Completed",
      "functionType": "Condition",
      "group": "Player",
      "name": "OnAuthorizePlayerCompleted",
      "sentence": "On Authorize Player Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Name.",
      "fullName": "Does Player Have Name",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHaveName",
      "sentence": "Does Player Have Name",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name === 'string';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Photo.",
      "fullName": "Does Player Have Photo",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHavePhoto",
      "sentence": "Does Player Have Photo # _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\");",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos.length > index;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Share.",
      "fullName": "Share",
      "functionType": "Action",
      "group": "Social",
      "name": "Share",
      "sentence": "Share",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.share(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsShareCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Invite Friends.",
      "fullName": "Invite Friends",
      "functionType": "Action",
      "group": "Social",
      "name": "InviteFriends",
      "sentence": "Invite Friends",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.inviteFriends(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = true;",
            "            resolve();",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Join Community.",
      "fullName": "Join Community",
      "functionType": "Action",
      "group": "Social",
      "name": "JoinCommunity",
      "sentence": "Join Community",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.joinCommunity(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Create Post.",
      "fullName": "Create Post",
      "functionType": "Action",
      "group": "Social",
      "name": "CreatePost",
      "sentence": "Create Post",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.createPost(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Home Screen.",
      "fullName": "Add To Home Screen",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToHomeScreen",
      "sentence": "Add To Home Screen",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "   bridge.social.addToHomeScreen()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Favorites.",
      "fullName": "Add To Favorites",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToFavorites",
      "sentence": "Add To Favorites",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.addToFavorites()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rate.",
      "fullName": "Rate",
      "functionType": "Action",
      "group": "Social",
      "name": "Rate",
      "sentence": "Rate",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.rate()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsRateCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Share Supported.",
      "fullName": "Is Share Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsShareSupported",
      "sentence": "Is Share Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isShareSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Share Completed.",
      "fullName": "On Share Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnShareCompleted",
      "sentence": "On Share Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isShareCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Invite Friends Supported.",
      "fullName": "Is Invite Friends Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsInviteFriendsSupported",
      "sentence": "Is Invite Friends Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isInviteFriendsSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Invite Friends Completed.",
      "fullName": "On Invite Friends Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnInviteFriendsCompleted",
      "sentence": "On Invite Friends Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInviteFriendsCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Join Community Supported.",
      "fullName": "Is Join Community Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsJoinCommunitySupported",
      "sentence": "Is Join Community Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isJoinCommunitySupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Join Community Completed.",
      "fullName": "On Join Community Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnJoinCommunityCompleted",
      "sentence": "On Join Community Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isJoinCommunityCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Create Post Supported.",
      "fullName": "Is Create Post Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsCreatePostSupported",
      "sentence": "Is Create Post Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isCreatePostSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Create Post Completed.",
      "fullName": "On Create Post Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnCreatePostCompleted",
      "sentence": "On Create Post Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCreatePostCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Home Screen Supported.",
      "fullName": "Is Add To Home Screen Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToHomeScreenSupported",
      "sentence": "Is Add To Home Screen Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToHomeScreenSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Home Screen Completed.",
      "fullName": "On Add To Home Screen Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToHomeScreenCompleted",
      "sentence": "On Add To Home Screen Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Favorites Supported.",
      "fullName": "Is Add To Favorites Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToFavoritesSupported",
      "sentence": "Is Add To Favorites Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToFavoritesSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Favorites Completed.",
      "fullName": "On Add To Favorites Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToFavoritesCompleted",
      "sentence": "On Add To Favorites Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Rate Supported.",
      "fullName": "Is Rate Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsRateSupported",
      "sentence": "Is Rate Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isRateSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rate Completed.",
      "fullName": "On Rate Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnRateCompleted",
      "sentence": "On Rate Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRateCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is External Links Allowed.",
      "fullName": "Is External Links Allowed",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsExternalLinksAllowed",
      "sentence": "Is External Links Allowed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isExternalLinksAllowed;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Set Score.",
      "fullName": "Leaderboards Set Score",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsSetScore",
      "sentence": "Leaderboards Set Score - Id: _PARAM1_, Score: _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    const score = eventsFunctionContext.getArgument('Score');",
            "    bridge.leaderboards.setScore(id, score)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsSetScoreCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        },
        {
          "description": "Score",
          "name": "Score",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Get Entries.",
      "fullName": "Leaderboards Get Entries",
      "functionType": "Action",
      "group": "Leaderboards",
      "name": "LeaderboardsGetEntries",
      "sentence": "Leaderboards Get Entries - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "gdjs._playgamaBridgeExtension.leaderboardEntries = [];",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument('Id');",
            "    bridge.leaderboards.getEntries(id)",
            "        .then(entries => {",
            "            gdjs._playgamaBridgeExtension.leaderboardEntries = entries || [];",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardsGetEntriesCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboards Type.",
      "fullName": "Leaderboards Type",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardsType",
      "sentence": "Is Leaderboard Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "supplementaryInformation": "[\"not_available\",\"in_game\",\"native\"]",
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Not Available.",
      "fullName": "The leaderboard is of type Not Available",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNotAvailable",
      "sentence": "The leaderboard is of type Not Available",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'not_available';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type In Game.",
      "fullName": "The leaderboard is of type In Game",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeInGame",
      "sentence": "The leaderboard is of type In Game",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'in_game';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "The leaderboard is of type Native.",
      "fullName": "The leaderboard is of type Native",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "LeaderboardsTypeNative",
      "sentence": "The leaderboard is of type Native",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboards.type === 'native';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Set Score Completed.",
      "fullName": "On Leaderboards Set Score Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsSetScoreCompleted",
      "sentence": "On Leaderboards Set Score Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsSetScoreCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboards Get Entries Completed.",
      "fullName": "On Leaderboards Get Entries Completed",
      "functionType": "Condition",
      "group": "Leaderboards",
      "name": "OnLeaderboardsGetEntriesCompleted",
      "sentence": "On Leaderboards Get Entries Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardsGetEntriesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entries Count.",
      "fullName": "Leaderboard Entries Count",
      "functionType": "Expression",
      "group": "Leaderboards",
      "name": "LeaderboardEntriesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.leaderboardEntries.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Id.",
      "fullName": "Leaderboard Entry Id",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['id'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Name.",
      "fullName": "Leaderboard Entry Name",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['name'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Photo.",
      "fullName": "Leaderboard Entry Photo",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryPhoto",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['photo'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Rank.",
      "fullName": "Leaderboard Entry Rank",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryRank",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['rank'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Score.",
      "fullName": "Leaderboard Entry Score",
      "functionType": "StringExpression",
      "group": "Leaderboards",
      "name": "LeaderboardEntryScore",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument('EntryIndex');",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "    eventsFunctionContext.returnValue = entry['score'];",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase.",
      "fullName": "Payments Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsPurchase",
      "sentence": "Payments Purchase - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument(\"Id\");",
            "    bridge.payments.purchase(id)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchase = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Get Purchases.",
      "fullName": "Payments Get Purchases",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetPurchases",
      "sentence": "Payments Get Purchases",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getPurchases()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchases = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Get Catalog.",
      "fullName": "Payments Get Catalog",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetCatalog",
      "sentence": "Payments Get Catalog",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getCatalog()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsCatalog = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Consume Purchase.",
      "fullName": "Payments Consume Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsConsumePurchase",
      "sentence": "Payments Consume Purchase - Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const id = eventsFunctionContext.getArgument(\"Id\");",
            "    bridge.payments.consumePurchase(id)",
            "        .then((data) => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchase = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Id",
          "name": "Id",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Payments Supported.",
      "fullName": "Is Payments Supported",
      "functionType": "Condition",
      "group": "Payments",
      "name": "IsPaymentsSupported",
      "sentence": "Is Payments Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.payments.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Purchase Completed.",
      "fullName": "On Payments Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsPurchaseCompleted",
      "sentence": "On Payments Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Purchases Completed.",
      "fullName": "On Payments Get Purchases Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetPurchasesCompleted",
      "sentence": "On Payments Get Purchases Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Catalog Completed.",
      "fullName": "On Payments Get Catalog Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetCatalogCompleted",
      "sentence": "On Payments Get Catalog Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Consume Purchase Completed.",
      "fullName": "On Payments Consume Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsConsumePurchaseCompleted",
      "sentence": "On Payments Consume Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Properties Count.",
      "fullName": "Payments Last Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase).length",
            "    : 0;",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Name.",
      "fullName": "Payments Last Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase)[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "const { paymentsPurchase } = gdjs._playgamaBridgeExtension;",
            "",
            "if (!paymentsPurchase) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "} else {",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? paymentsPurchase[property]",
            "        : paymentsPurchase[Object.keys(paymentsPurchase)[property]];",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchases Count.",
      "fullName": "Payments Purchases Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Properties Count.",
      "fullName": "Payments Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Property Name.",
      "fullName": "Payments Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const purchaseIndex = eventsFunctionContext.getArgument(\"PurchaseIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsPurchases } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsPurchases.length > 0) {",
            "    const purchase = paymentsPurchases[purchaseIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? purchase[property]",
            "        : purchase[Object.keys(purchase)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Purchase Index",
          "name": "PurchaseIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Items Count.",
      "fullName": "Payments Catalog Items Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Properties Count.",
      "fullName": "Payments Catalog Item Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Name.",
      "fullName": "Payments Catalog Item Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Value.",
      "fullName": "Payments Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const productIndex = eventsFunctionContext.getArgument(\"ProductIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length > 0) {",
            "    const product = paymentsCatalog[productIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? product[property]",
            "        : product[Object.keys(product)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Product Index",
          "name": "ProductIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments First Catalog Item Property Value.",
      "fullName": "Payments First Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsFirstCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const filterProperty = eventsFunctionContext.getArgument(\"FilterProperty\");",
            "const filterPropertyValue = eventsFunctionContext.getArgument(\"FilterPropertyValue\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length <= 0) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "",
            "const product = paymentsCatalog.find(item => item[filterProperty] === filterPropertyValue);",
            "",
            "if (!product) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "    ",
            "eventsFunctionContext.returnValue = isNaN(+property)",
            "    ? product[property]",
            "    : product[Object.keys(product)[property]];",
            "",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Filter Property",
          "name": "FilterProperty",
          "type": "string"
        },
        {
          "description": "Filter Property Value",
          "name": "FilterPropertyValue",
          "type": "string"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Supported.",
      "fullName": "Is Achievements Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsSupported",
      "sentence": "Is Achievements Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Get List Supported.",
      "fullName": "Is Achievements Get List Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsGetListSupported",
      "sentence": "Is Achievements Get List Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isGetListSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Native Popup Supported.",
      "fullName": "Is Achievements Native Popup Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsNativePopupSupported",
      "sentence": "Is Achievements Native Popup Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isNativePopupSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Unlock Completed.",
      "fullName": "On Achievements Unlock Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsUnlockCompleted",
      "sentence": "On Achievements Unlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Get List Completed.",
      "fullName": "On Achievements Get List Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsGetListCompleted",
      "sentence": "On Achievements Get List Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Show Native Popup Completed.",
      "fullName": "On Achievements Show Native Popup Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsShowNativePopupCompleted",
      "sentence": "On Achievements Show Native Popup Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Count.",
      "fullName": "Achievements Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Properties Count.",
      "fullName": "Achievement Properties Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Name.",
      "fullName": "Achievement Property Name",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {})[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Value.",
      "fullName": "Achievement Property Value",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const achievementIndex = eventsFunctionContext.getArgument(\"AchievementIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { achievementsList } = gdjs._playgamaBridgeExtension;",
            "",
            "if (achievementsList.length > 0) {",
            "    const achievement = achievementsList[achievementIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? achievement[property]",
            "        : achievement[Object.keys(achievement)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Achievement Index",
          "name": "AchievementIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievements Unlock.",
      "fullName": "Achievements Unlock",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsUnlock",
      "sentence": "Achievements Unlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.unlock(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Get List.",
      "fullName": "Achievements Get List",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsGetList",
      "sentence": "Achievements Get List",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.getList(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.achievementsList = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Show Native Popup.",
      "fullName": "Achievements Show Native Popup",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsShowNativePopup",
      "sentence": "Achievements Show Native Popup",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.showNativePopup(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Remote Config Supported.",
      "fullName": "Is Remote Config Supported",
      "functionType": "Condition",
      "group": "Remote",
      "name": "IsRemoteConfigSupported",
      "sentence": "Is Remote Config Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.remoteConfig.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Remote Config Got Completed.",
      "fullName": "On Remote Config Got Completed",
      "functionType": "Condition",
      "group": "Remote",
      "name": "OnRemoteConfigGotCompleted",
      "sentence": "On Remote Config Got Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Remote Config Value.",
      "fullName": "Has Remote Config Value",
      "functionType": "Condition",
      "group": "Remote",
      "name": "HasRemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = remoteConfig[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Remote Config Value.",
      "fullName": "Remote Config Value",
      "functionType": "StringExpression",
      "group": "Remote",
      "name": "RemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "eventsFunctionContext.returnValue = remoteConfig[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Remote Config Get Request.",
      "fullName": "Send Remote Config Get Request",
      "functionType": "Action",
      "group": "Remote",
      "name": "SendRemoteConfigGetRequest",
      "sentence": "Send Remote Config Get Request",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    window.bridge.remoteConfig.get(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.remoteConfig = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Ad Block Detected.",
      "fullName": "Is Ad Block Detected",
      "functionType": "Condition",
      "name": "IsAdBlockDetected",
      "sentence": "Is Ad Block Detected",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAdBlockDetected;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [],
  "eventsBasedObjects": []
}