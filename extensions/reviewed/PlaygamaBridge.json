{
  "author": "Playgama",
  "category": "Ads",
  "extensionNamespace": "",
  "fullName": "Playgama Bridge",
  "gdevelopVersion": "",
  "helpPath": "/extensions/playgama-bridge/details",
  "iconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSIjOTc0N0ZGIi8+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",
  "name": "PlaygamaBridge",
  "previewIconUrl": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTcgMTU0LjM2MlY5Ni4wMDAxSDIyMy4xMjlWNDE2SDExN1YzNTkuMjU0SDE1OC40NFYxNTQuMzYySDExN1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0zOTUgMTU0LjM2MlY5NkgyODguODcxVjQxNkgzOTVWMzU5LjI1NEgzNTMuNTZWMTU0LjM2MkgzOTVaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K",
  "shortDescription": "One SDK for cross-platform publishing HTML5 games.",
  "version": "1.21.0",
  "description": [
    "One SDK for cross-platform publishing HTML5 games. ",
    "Please refer to [Playgama documentation](https://wiki.playgama.com/playgama/sdk/engines/gdevelop) for detailed guidance."
  ],
  "tags": [
    "playgama",
    "bridge",
    "html5",
    "sdk",
    "platform",
    "ads"
  ],
  "authorIds": [
    "pGl7czfmrbUqIa4ZZkTji4NL9zX2"
  ],
  "dependencies": [],
  "globalVariables": [],
  "sceneVariables": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onFirstSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "window.bridgeOptions = {",
            "    \"platforms\": {",
            "        \"game_distribution\": {",
            "            \"gameId\": \"\"",
            "        },",
            "        \"telegram\": {",
            "            \"adsgramBlockId\": \"\"",
            "        },",
            "        \"y8\": {",
            "            \"gameId\": \"\",",
            "            \"adsenseId\": \"\",",
            "            \"channelId\": \"\"",
            "        },",
            "        \"lagged\": {",
            "            \"devId\": \"\",",
            "            \"publisherId\": \"\"",
            "        },",
            "        \"facebook\": {",
            "            \"bannerPlacementId\": \"\",",
            "            \"interstitialPlacements\": [],",
            "            \"rewardedPlacements\": []",
            "        }",
            "    },",
            "    \"payments\": [",
            "        {",
            "            \"commonId\": \"test_product\",",
            "            \"yandex\": {",
            "                \"id\": \"test_product\"",
            "            },",
            "            \"facebook\": {",
            "                \"productID\": \"test_product\"",
            "            },",
            "            \"msn\": {",
            "                \"productId\": \"test_product\"",
            "            },",
            "            \"playgama\": {",
            "                \"amount\": 1",
            "            },",
            "            \"qa_tool\": {",
            "                \"id\": \"test_product\",",
            "                \"amount\": 1",
            "            },",
            "            \"playdeck\": {",
            "                \"amount\": 1,",
            "                \"description\": \"TEST PRODUCT\"",
            "            }",
            "        }",
            "    ]",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        },
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "(()=>{var e={258:e=>{!function(t){e.exports=t;var r=\"listeners\",n={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var r=this;return n.originalListener=t,a(r,e).push(n),r;function n(){i.call(r,e,n),t.apply(this,arguments)}},off:i,emit:function(e,t){var r=this,n=a(r,e,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(e){e.call(r)}));else if(2===o)n.forEach((function(e){e.call(r,t)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(e){e.apply(r,i)}))}return!!n.length}};function o(e){for(var t in n)e[t]=n[t];return e}function i(e,t){var n,o=this;if(arguments.length){if(t){if(n=a(o,e,!0)){if(!(n=n.filter((function(e){return e!==t&&e.originalListener!==t}))).length)return i.call(o,e);o[r][e]=n}}else if((n=o[r])&&(delete n[e],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(e,t,n){if(!n||e[r]){var o=e[r]||(e[r]={});return o[t]||(o[t]=[])}}o(t.prototype),t.mixin=o}((function e(){if(!(this instanceof e))return new e}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{\"use strict\";var e={VK:\"vk\",OK:\"ok\",YANDEX:\"yandex\",CRAZY_GAMES:\"crazy_games\",ABSOLUTE_GAMES:\"absolute_games\",GAME_DISTRIBUTION:\"game_distribution\",PLAYGAMA:\"playgama\",WORTAL:\"wortal\",PLAYDECK:\"playdeck\",TELEGRAM:\"telegram\",Y8:\"y8\",LAGGED:\"lagged\",FACEBOOK:\"facebook\",POKI:\"poki\",MOCK:\"mock\",QA_TOOL:\"qa_tool\",MSN:\"msn\"},t={PLATFORM:\"platform\",PLAYER:\"player\",GAME:\"game\",STORAGE:\"storage\",ADVERTISEMENT:\"advertisement\",SOCIAL:\"social\",DEVICE:\"device\",LEADERBOARD:\"leaderboard\",PAYMENTS:\"payments\",REMOTE_CONFIG:\"remote_config\",CLIPBOARD:\"clipboard\",ACHIEVEMENTS:\"achievements\"},n={INTERSTITIAL_STATE_CHANGED:\"interstitial_state_changed\",REWARDED_STATE_CHANGED:\"rewarded_state_changed\",BANNER_STATE_CHANGED:\"banner_state_changed\",VISIBILITY_STATE_CHANGED:\"visibility_state_changed\"},o={VISIBLE:\"visible\",HIDDEN:\"hidden\"},i={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\"},a={LOADING:\"loading\",OPENED:\"opened\",CLOSED:\"closed\",FAILED:\"failed\",REWARDED:\"rewarded\"},s={LOADING:\"loading\",SHOWN:\"shown\",HIDDEN:\"hidden\",FAILED:\"failed\"},u={LOCAL_STORAGE:\"local_storage\",PLATFORM_INTERNAL:\"platform_internal\"},c={DESKTOP:\"desktop\",MOBILE:\"mobile\",TABLET:\"tablet\",TV:\"tv\"},l={GAME_READY:\"game_ready\",IN_GAME_LOADING_STARTED:\"in_game_loading_started\",IN_GAME_LOADING_STOPPED:\"in_game_loading_stopped\",GAMEPLAY_STARTED:\"gameplay_started\",GAMEPLAY_STOPPED:\"gameplay_stopped\",PLAYER_GOT_ACHIEVEMENT:\"player_got_achievement\",GAME_OVER:\"game_over\"},f={INITIALIZE:\"initialize\",AUTHORIZE_PLAYER:\"authorize_player\",SHARE:\"share\",INVITE_FRIENDS:\"invite_friends\",JOIN_COMMUNITY:\"join_community\",CREATE_POST:\"create_post\",ADD_TO_HOME_SCREEN:\"add_to_home_screen\",ADD_TO_FAVORITES:\"add_to_favorites\",RATE:\"rate\",SET_LEADERBOARD_SCORE:\"set_leaderboard_score\",GET_LEADERBOARD_SCORE:\"get_leaderboard_score\",GET_LEADERBOARD_ENTRIES:\"get_leaderboard_entries\",GET_PURCHASES:\"get_purchases\",GET_CATALOG:\"get_catalog\",PURCHASE:\"purchase\",CONSUME_PURCHASE:\"consume_purchase\",GET_REMOTE_CONFIG:\"get_remote_config\",GET_STORAGE_DATA:\"get_storage_data\",SHOW_LEADERBOARD_NATIVE_POPUP:\"show_leaderboard_native_popup\",CLIPBOARD_WRITE:\"clipboard_write\",ADBLOCK_DETECT:\"adblock_detect\"},p={message:\"Before using the SDK you must initialize it\"},d={message:\"Storage not supported\"},y={message:\"Storage not available\"},h={message:\"GameDistribution Game ID is undefined\"},m={message:\"Y8 Game params are not found\"},v={message:\"OK Game params are not found\"},_={message:\"Lagged Game params are not found\"},g={message:\"Message is too long\"};function S(e){return S=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},S(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function P(e){var t=function(e,t){if(\"object\"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=S(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==S(t)?t:String(t)}function E(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function A(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,O(e,t,\"set\"),r),r}function w(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,O(e,t,\"get\"))}function O(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var D=new WeakMap,k=new WeakMap,I=new WeakMap;const R=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),E(this,D,{writable:!0,value:void 0}),E(this,k,{writable:!0,value:void 0}),E(this,I,{writable:!0,value:void 0}),A(this,D,new Promise((function(e,r){A(t,k,e),A(t,I,r)})))}var t,r;return t=e,(r=[{key:\"promise\",get:function(){return w(this,D)}},{key:\"resolve\",value:function(e){w(this,k).call(this,e)}},{key:\"reject\",value:function(e){w(this,I).call(this,e)}}])&&b(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function T(e){return T=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},T(e)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function j(e){var t=function(e,t){if(\"object\"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=T(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==T(t)?t:String(t)}const N=function(){function e(t){var r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,o=void 0,(n=j(n=\"_platformBridge\"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=t}var t,r;return t=e,(r=[{key:\"initialize\",value:function(){return Promise.resolve()}}])&&L(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function C(e){return C=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},C(e)}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function G(e){var t=function(e,t){if(\"object\"!=C(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=C(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==C(t)?t:String(t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function F(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function U(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var z=new WeakMap;const x=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&M(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(n);if(o){var r=H(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===C(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return F(e)}(this,e)});function a(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a);for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return t=F(e=i.call.apply(i,[this].concat(s))),n={writable:!0,value:!1},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,r=z),r.set(t,n),e}return t=a,(r=[{key:\"id\",get:function(){return this._platformBridge.platformId}},{key:\"sdk\",get:function(){return this._platformBridge.platformSdk}},{key:\"language\",get:function(){return this._platformBridge.platformLanguage}},{key:\"payload\",get:function(){return this._platformBridge.platformPayload}},{key:\"tld\",get:function(){return this._platformBridge.platformTld}},{key:\"isGetAllGamesSupported\",get:function(){return this._platformBridge.isPlatformGetAllGamesSupported}},{key:\"isGetGameByIdSupported\",get:function(){return this._platformBridge.isPlatformGetGameByIdSupported}},{key:\"sendMessage\",value:function(e){if(e===l.GAME_READY){if(function(e,t){return t.get?t.get.call(e):t.value}(this,U(this,z,\"get\")))return Promise.reject();!function(e,t,r){(function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}})(e,U(e,t,\"set\"),r)}(this,z,!0)}return this._platformBridge.sendMessage(e)}},{key:\"getServerTime\",value:function(){return this._platformBridge.getServerTime()}},{key:\"getAllGames\",value:function(){return this._platformBridge.getAllGames()}},{key:\"getGameById\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getGameById(t)}return this._platformBridge.getGameById(e)}}])&&B(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);function W(e){return W=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},W(e)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Y(n.key),n)}}function Y(e){var t=function(e,t){if(\"object\"!=W(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=W(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==W(t)?t:String(t)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}const J=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Z(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(n);if(o){var r=K(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===W(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isAuthorizationSupported\",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:\"isAuthorized\",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:\"id\",get:function(){return this._platformBridge.playerId}},{key:\"name\",get:function(){return this._platformBridge.playerName}},{key:\"photos\",get:function(){return this._platformBridge.playerPhotos}},{key:\"authorize\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.authorize(t)}return this._platformBridge.authorizePlayer(e)}}])&&V(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);var q=r(258),X=r.n(q);function Q(e){return Q=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Q(e)}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ee(n.key),n)}}function ee(e){var t=function(e,t){if(\"object\"!=Q(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Q(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Q(t)?t:String(t)}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var ne=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&te(e,t)}(s,e);var t,r,o,i,a=(o=s,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(o);if(i){var r=re(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Q(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),(t=a.call(this,e))._platformBridge.on(n.VISIBILITY_STATE_CHANGED,(function(e){return t.emit(n.VISIBILITY_STATE_CHANGED,e)})),t}return t=s,(r=[{key:\"visibilityState\",get:function(){return this._platformBridge.visibilityState}}])&&$(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),s}(N);X().mixin(ne.prototype);const oe=ne;function ie(e){return ie=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ie(e)}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,se(n.key),n)}}function se(e){var t=function(e,t){if(\"object\"!=ie(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ie(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ie(t)?t:String(t)}function ue(e,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ue(e,t)}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}const le=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ue(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ce(n);if(o){var r=ce(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ie(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,r=[{key:\"defaultType\",get:function(){return this._platformBridge.defaultStorageType}},{key:\"isSupported\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageSupported(e)}},{key:\"isAvailable\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.isSupported(t)}return this._platformBridge.isStorageAvailable(e)}},{key:\"get\",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){var n=t[this._platformBridge.platformId];if(n)return this.get(e,n,r)}var o=t;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?this._platformBridge.getDataFromStorage(e,o,r):Promise.reject()}},{key:\"set\",value:function(e,t,r){if(r){var n=r[this._platformBridge.platformId];if(n)return this.set(e,t,n)}var o=r;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?this._platformBridge.setDataToStorage(e,t,o):Promise.reject()}},{key:\"delete\",value:function(e,t){if(t){var r=t[this._platformBridge.platformId];if(r)return this.delete(e,r)}var n=t;return n||(n=this.defaultType),this._platformBridge.isStorageAvailable(n)?this._platformBridge.deleteDataFromStorage(e,n):Promise.reject()}}],r&&ae(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);function fe(e){return fe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},fe(e)}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,de(n.key),n)}}function de(e){var t=function(e,t){if(\"object\"!=fe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=fe(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==fe(t)?t:String(t)}function ye(e,t){me(e,t),t.add(e)}function he(e,t,r){me(e,t),t.set(e,r)}function me(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function ve(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function _e(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Se(e,t,\"set\"),r),r}function ge(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Se(e,t,\"get\"))}function Se(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var be=\"created\",Pe=\"completed\",Ee=new WeakMap,Ae=new WeakMap,we=new WeakMap,Oe=new WeakMap,De=new WeakSet,ke=new WeakSet,Ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),ye(this,ke),ye(this,De),he(this,Ee,{writable:!0,value:0}),he(this,Ae,{writable:!0,value:0}),he(this,we,{writable:!0,value:be}),he(this,Oe,{writable:!0,value:0}),_e(this,Ee,t)}var t,r;return t=e,(r=[{key:\"state\",get:function(){return ge(this,we)}},{key:\"start\",value:function(){var e=this;ge(this,we)!==be&&ge(this,we)!==Pe||(_e(this,Ae,ge(this,Ee)),ve(this,De,Re).call(this,\"started\"),_e(this,Oe,setInterval((function(){_e(e,Ae,ge(e,Ae)-1),e.emit(\"time_left_changed\",ge(e,Ae)),ge(e,Ae)<=0&&(ve(e,ke,Te).call(e),ve(e,De,Re).call(e,Pe))}),1e3)))}},{key:\"stop\",value:function(){ve(this,ke,Te).call(this),ve(this,De,Re).call(this,\"stopped\")}}])&&pe(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function Re(e){_e(this,we,e),this.emit(\"state_changed\",ge(this,we))}function Te(){_e(this,Ae,0),clearInterval(ge(this,Oe))}X().mixin(Ie.prototype);const Le=Ie;function je(e){return je=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},je(e)}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ce(n.key),n)}}function Ce(e){var t=function(e,t){if(\"object\"!=je(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=je(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==je(t)?t:String(t)}function Be(e,t){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Be(e,t)}function Ge(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Me(e)}function Fe(e,t){Ue(e,t),t.add(e)}function He(e,t,r){Ue(e,t),t.set(e,r)}function Ue(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function ze(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Ve(e,t,\"set\"),r),r}function xe(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function We(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ve(e,t,\"get\"))}function Ve(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Ye=new WeakMap,Ze=new WeakMap,Ke=new WeakSet,Je=new WeakSet,qe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Be(e,t)}(l,e);var t,r,o,u,c=(o=l,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Me(o);if(u){var r=Me(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===je(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ge(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),Fe(Ge(t=c.call(this,e)),Je),Fe(Ge(t),Ke),He(Ge(t),Ye,{writable:!0,value:void 0}),He(Ge(t),Ze,{writable:!0,value:60}),t._platformBridge.on(n.INTERSTITIAL_STATE_CHANGED,(function(e){e===i.CLOSED&&We(Ge(t),Ze)>0&&xe(Ge(t),Ke,Xe).call(Ge(t)),t.emit(n.INTERSTITIAL_STATE_CHANGED,e)})),t._platformBridge.on(n.REWARDED_STATE_CHANGED,(function(e){return t.emit(n.REWARDED_STATE_CHANGED,e)})),t._platformBridge.on(n.BANNER_STATE_CHANGED,(function(e){return t.emit(n.BANNER_STATE_CHANGED,e)})),t}return t=l,(r=[{key:\"isBannerSupported\",get:function(){return this._platformBridge.isBannerSupported}},{key:\"bannerState\",get:function(){return this._platformBridge.bannerState}},{key:\"interstitialState\",get:function(){return this._platformBridge.interstitialState}},{key:\"rewardedState\",get:function(){return this._platformBridge.rewardedState}},{key:\"minimumDelayBetweenInterstitial\",get:function(){return We(this,Ze)}},{key:\"setMinimumDelayBetweenInterstitial\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(void 0!==t)return void this.setMinimumDelayBetweenInterstitial(t)}var r=je(e),n=We(this,Ze);switch(r){case\"number\":n=e;break;case\"string\":if(n=parseInt(e,10),Number.isNaN(n))return;break;default:return}ze(this,Ze,n),We(this,Ye)&&(We(this,Ye).stop(),xe(this,Ke,Xe).call(this))}},{key:\"showBanner\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return void this.showBanner(t)}this.bannerState!==s.LOADING&&this.bannerState!==s.SHOWN&&(this._platformBridge._setBannerState(s.LOADING),this.isBannerSupported?this._platformBridge.showBanner(e):this._platformBridge._setBannerState(s.FAILED))}},{key:\"hideBanner\",value:function(){this.bannerState!==s.LOADING&&this.bannerState!==s.HIDDEN&&this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:\"showInterstitial\",value:function(e){if(!xe(this,Je,Qe).call(this)){if(e){var t=e[this._platformBridge.platformId];if(t)return void this.showInterstitial(t)}var r=!1;e&&\"boolean\"==typeof e.ignoreDelay&&(r=e.ignoreDelay),this._platformBridge._setInterstitialState(i.LOADING),!We(this,Ye)||We(this,Ye).state===Pe||r?this._platformBridge.showInterstitial(e):this._platformBridge._setInterstitialState(i.FAILED)}}},{key:\"showRewarded\",value:function(e){if(!xe(this,Je,Qe).call(this)){if(e){var t=e[this._platformBridge.platformId];if(t)return void this.showRewarded(t)}this._platformBridge._setRewardedState(a.LOADING),this._platformBridge.showRewarded(e)}}},{key:\"checkAdBlock\",value:function(){return this._platformBridge.checkAdBlock()}}])&&Ne(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),l}(N);function Xe(){ze(this,Ye,new Le(We(this,Ze))),We(this,Ye).start()}function Qe(){return this.interstitialState===i.LOADING||this.interstitialState===i.OPENED||!![a.LOADING,a.OPENED,a.REWARDED].includes(this.rewardedState)}X().mixin(qe.prototype);const $e=qe;function et(e){return et=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},et(e)}function tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,rt(n.key),n)}}function rt(e){var t=function(e,t){if(\"object\"!=et(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=et(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==et(t)?t:String(t)}function nt(e,t){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nt(e,t)}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}const it=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&nt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ot(n);if(o){var r=ot(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===et(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isInviteFriendsSupported\",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:\"isJoinCommunitySupported\",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:\"isShareSupported\",get:function(){return this._platformBridge.isShareSupported}},{key:\"isCreatePostSupported\",get:function(){return this._platformBridge.isCreatePostSupported}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:\"isAddToFavoritesSupported\",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:\"isRateSupported\",get:function(){return this._platformBridge.isRateSupported}},{key:\"isExternalLinksAllowed\",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:\"inviteFriends\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.inviteFriends(t)}return this._platformBridge.inviteFriends(e)}},{key:\"joinCommunity\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.joinCommunity(t)}return this._platformBridge.joinCommunity(e)}},{key:\"share\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.share(t)}return this._platformBridge.share(e)}},{key:\"createPost\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.createPost(t)}return this._platformBridge.createPost(e)}},{key:\"addToHomeScreen\",value:function(){return this._platformBridge.addToHomeScreen()}},{key:\"addToFavorites\",value:function(){return this._platformBridge.addToFavorites()}},{key:\"rate\",value:function(){return this._platformBridge.rate()}}])&&tt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);function at(e){return at=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},at(e)}function st(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ut(n.key),n)}}function ut(e){var t=function(e,t){if(\"object\"!=at(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=at(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==at(t)?t:String(t)}function ct(e,t){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ct(e,t)}function lt(e){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lt(e)}const ft=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ct(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lt(n);if(o){var r=lt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===at(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"type\",get:function(){return this._platformBridge.deviceType}}])&&st(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);function pt(e){return pt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},pt(e)}function dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,yt(n.key),n)}}function yt(e){var t=function(e,t){if(\"object\"!=pt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=pt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==pt(t)?t:String(t)}function ht(e,t){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ht(e,t)}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}const vt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ht(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mt(n);if(o){var r=mt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===pt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isLeaderboardSupported}},{key:\"isNativePopupSupported\",get:function(){return this._platformBridge.isLeaderboardNativePopupSupported}},{key:\"isMultipleBoardsSupported\",get:function(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}},{key:\"isSetScoreSupported\",get:function(){return this._platformBridge.isLeaderboardSetScoreSupported}},{key:\"isGetScoreSupported\",get:function(){return this._platformBridge.isLeaderboardGetScoreSupported}},{key:\"isGetEntriesSupported\",get:function(){return this._platformBridge.isLeaderboardGetEntriesSupported}},{key:\"setScore\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.setScore(t)}return this._platformBridge.setLeaderboardScore(e)}},{key:\"getScore\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getScore(t)}return this._platformBridge.getLeaderboardScore(e)}},{key:\"getEntries\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getEntries(t)}return this._platformBridge.getLeaderboardEntries(e)}},{key:\"showNativePopup\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.showNativePopup(t)}return this._platformBridge.showLeaderboardNativePopup(e)}}])&&dt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);function _t(e){return _t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_t(e)}function gt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,St(n.key),n)}}function St(e){var t=function(e,t){if(\"object\"!=_t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=_t(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==_t(t)?t:String(t)}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}function Pt(e){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pt(e)}const Et=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&bt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pt(n);if(o){var r=Pt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===_t(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isPaymentsSupported}},{key:\"purchase\",value:function(e){return this._platformBridge.paymentsPurchase(e)}},{key:\"getPurchases\",value:function(){return this._platformBridge.paymentsGetPurchases()}},{key:\"getCatalog\",value:function(){return this._platformBridge.paymentsGetCatalog()}},{key:\"consumePurchase\",value:function(e){return this._platformBridge.paymentsConsumePurchase(e)}}])&&gt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);function At(e){return At=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},At(e)}function wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ot(n.key),n)}}function Ot(e){var t=function(e,t){if(\"object\"!=At(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=At(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==At(t)?t:String(t)}function Dt(e,t){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dt(e,t)}function kt(e){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kt(e)}const It=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Dt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=kt(n);if(o){var r=kt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===At(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isRemoteConfigSupported}},{key:\"get\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.get(t)}return this._platformBridge.getRemoteConfig(e)}}])&&wt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);function Rt(e){return Rt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Rt(e)}function Tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Lt(n.key),n)}}function Lt(e){var t=function(e,t){if(\"object\"!=Rt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Rt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Rt(t)?t:String(t)}function jt(e,t){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jt(e,t)}function Nt(e){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nt(e)}const Ct=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&jt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nt(n);if(o){var r=Nt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Rt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isClipboardSupported}},{key:\"read\",value:function(){return this._platformBridge.clipboardRead()}},{key:\"write\",value:function(e){return this._platformBridge.clipboardWrite(e)}}])&&Tt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);function Bt(e){return Bt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Bt(e)}function Gt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Mt(n.key),n)}}function Mt(e){var t=function(e,t){if(\"object\"!=Bt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Bt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Bt(t)?t:String(t)}function Ft(e,t){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ft(e,t)}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}const Ut=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ft(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ht(n);if(o){var r=Ht(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Bt(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"isSupported\",get:function(){return this._platformBridge.isAchievementsSupported}},{key:\"isGetListSupported\",get:function(){return this._platformBridge.isGetAchievementsListSupported}},{key:\"isNativePopupSupported\",get:function(){return this._platformBridge.isAchievementsNativePopupSupported}},{key:\"unlock\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.unlock(t)}return this._platformBridge.unlockAchievement(e)}},{key:\"getList\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.getList(t)}return this._platformBridge.getAchievementsList(e)}},{key:\"showNativePopup\",value:function(e){if(e){var t=e[this._platformBridge.platformId];if(t)return this.showNativePopup(t)}return this._platformBridge.showAchievementsNativePopup(e)}}])&&Gt(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(N);function zt(e){return zt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},zt(e)}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Zt(n.key),n)}}function Yt(e,t,r){return(t=Zt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zt(e){var t=function(e,t){if(\"object\"!=zt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=zt(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==zt(t)?t:String(t)}function Kt(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var Jt=new WeakMap,qt=function(){function t(e){var r,n,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),Yt(this,\"_isInitialized\",!1),Yt(this,\"_platformSdk\",null),Yt(this,\"_isPlayerAuthorized\",!1),Yt(this,\"_playerId\",null),Yt(this,\"_playerName\",null),Yt(this,\"_playerPhotos\",[]),Yt(this,\"_visibilityState\",null),Yt(this,\"_localStorage\",null),Yt(this,\"_defaultStorageType\",u.LOCAL_STORAGE),Yt(this,\"_platformStorageCachedData\",null),Yt(this,\"_isBannerSupported\",!1),Yt(this,\"_interstitialState\",null),Yt(this,\"_rewardedState\",null),Yt(this,\"_bannerState\",null),Yt(this,\"_paymentsPurchases\",[]),i={writable:!0,value:{}},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(r=this,n=Jt),n.set(r,i);try{this._localStorage=window.localStorage}catch(e){}this._visibilityState=document.visibilityState,document.addEventListener(\"visibilitychange\",(function(){a._setVisibilityState(document.visibilityState)})),window.addEventListener(\"blur\",(function(){a._setVisibilityState(o.HIDDEN)})),window.addEventListener(\"focus\",(function(){a._setVisibilityState(o.VISIBLE)})),e&&(this._options=Wt({},e))}var r,l;return r=t,(l=[{key:\"platformId\",get:function(){return e.MOCK}},{key:\"platformSdk\",get:function(){return this._platformSdk}},{key:\"platformLanguage\",get:function(){var e=navigator.language;return\"string\"==typeof e?e.substring(0,2).toLowerCase():\"en\"}},{key:\"platformPayload\",get:function(){return new URL(window.location.href).searchParams.get(\"payload\")}},{key:\"platformTld\",get:function(){return null}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!1}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!1}},{key:\"visibilityState\",get:function(){return this._visibilityState}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!1}},{key:\"isPlayerAuthorized\",get:function(){return this._isPlayerAuthorized}},{key:\"playerId\",get:function(){return this._playerId}},{key:\"playerName\",get:function(){return this._playerName}},{key:\"playerPhotos\",get:function(){return this._playerPhotos}},{key:\"defaultStorageType\",get:function(){return this._defaultStorageType}},{key:\"isBannerSupported\",get:function(){return this._isBannerSupported}},{key:\"bannerState\",get:function(){return this._bannerState}},{key:\"interstitialState\",get:function(){return this._interstitialState}},{key:\"rewardedState\",get:function(){return this._rewardedState}},{key:\"isInviteFriendsSupported\",get:function(){return!1}},{key:\"isJoinCommunitySupported\",get:function(){return!1}},{key:\"isShareSupported\",get:function(){return!1}},{key:\"isCreatePostSupported\",get:function(){return!1}},{key:\"isAddToHomeScreenSupported\",get:function(){return!1}},{key:\"isAddToFavoritesSupported\",get:function(){return!1}},{key:\"isRateSupported\",get:function(){return!1}},{key:\"isExternalLinksAllowed\",get:function(){return!0}},{key:\"deviceType\",get:function(){if(navigator&&navigator.userAgent){var e=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(e))return c.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(e))return c.TABLET}return c.DESKTOP}},{key:\"isLeaderboardSupported\",get:function(){return!1}},{key:\"isLeaderboardNativePopupSupported\",get:function(){return!1}},{key:\"isLeaderboardMultipleBoardsSupported\",get:function(){return!1}},{key:\"isLeaderboardSetScoreSupported\",get:function(){return!1}},{key:\"isLeaderboardGetScoreSupported\",get:function(){return!1}},{key:\"isLeaderboardGetEntriesSupported\",get:function(){return!1}},{key:\"isPaymentsSupported\",get:function(){return!1}},{key:\"isRemoteConfigSupported\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!0}},{key:\"isAchievementsSupported\",get:function(){return!1}},{key:\"isGetAchievementsListSupported\",get:function(){return!1}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){return Promise.resolve()}},{key:\"sendMessage\",value:function(){return Promise.resolve()}},{key:\"getServerTime\",value:function(){return new Promise((function(e,t){fetch(\"https://worldtimeapi.org/api/timezone/Etc/UTC\").then((function(e){if(!e.ok)throw new Error(\"Network response was not ok\");return e.json()})).then((function(t){e(1e3*t.unixtime)})).catch((function(){t()}))}))}},{key:\"getAllGames\",value:function(){return Promise.reject()}},{key:\"getGameById\",value:function(){return Promise.reject()}},{key:\"authorizePlayer\",value:function(){return Promise.reject()}},{key:\"isStorageSupported\",value:function(e){switch(e){case u.LOCAL_STORAGE:return null!==this._localStorage;case u.PLATFORM_INTERNAL:default:return!1}}},{key:\"isStorageAvailable\",value:function(e){switch(e){case u.LOCAL_STORAGE:return null!==this._localStorage;case u.PLATFORM_INTERNAL:default:return!1}}},{key:\"getDataFromStorage\",value:function(e,t,r){if(t===u.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var n=[],o=0;o<e.length;o++)n.push(this._getDataFromLocalStorage(e[o],r));return Promise.resolve(n)}var i=this._getDataFromLocalStorage(e,r);return Promise.resolve(i)}return Promise.reject(d)}return Promise.reject(d)}},{key:\"setDataToStorage\",value:function(e,t,r){if(r===u.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this._setDataToLocalStorage(e[n],t[n]);return Promise.resolve()}return this._setDataToLocalStorage(e,t),Promise.resolve()}return Promise.reject(d)}return Promise.reject(d)}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t===u.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this._deleteDataFromLocalStorage(e[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(e),Promise.resolve()}return Promise.reject(d)}return Promise.reject(d)}},{key:\"showBanner\",value:function(){this._setBannerState(s.FAILED)}},{key:\"hideBanner\",value:function(){this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){this._setRewardedState(a.FAILED)}},{key:\"checkAdBlock\",value:function(){var e=document.createElement(\"div\");e.className=\"textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox\",e.style.position=\"absolute\",e.style.left=\"-9999px\",e.style.width=\"1px\",e.style.height=\"1px\",document.body.appendChild(e);var t={method:\"HEAD\",mode:\"no-cors\"};return new Promise((function(r){fetch(\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",t).then((function(t){t.redirected?r(t.redirected):window.setTimeout((function(){var t,n=0===e.offsetHeight||\"none\"===(null===(t=window.getComputedStyle(e))||void 0===t?void 0:t.display);r(n),e.remove()}),100)})).catch((function(){r(!0)}))}))}},{key:\"inviteFriends\",value:function(){return Promise.reject()}},{key:\"joinCommunity\",value:function(){return Promise.reject()}},{key:\"share\",value:function(){return Promise.reject()}},{key:\"createPost\",value:function(){return Promise.reject()}},{key:\"addToHomeScreen\",value:function(){return Promise.reject()}},{key:\"addToFavorites\",value:function(){return Promise.reject()}},{key:\"rate\",value:function(){return Promise.reject()}},{key:\"setLeaderboardScore\",value:function(){return Promise.reject()}},{key:\"getLeaderboardScore\",value:function(){return Promise.reject()}},{key:\"getLeaderboardEntries\",value:function(){return Promise.reject()}},{key:\"showLeaderboardNativePopup\",value:function(){return Promise.reject()}},{key:\"paymentsPurchase\",value:function(e){return this.isPaymentsSupported?(this._paymentsPurchases.push({commonId:e}),Promise.resolve()):Promise.reject()}},{key:\"paymentsConsumePurchase\",value:function(e){if(this.isPaymentsSupported){var t=this._paymentsPurchases.findIndex((function(t){return t.commonId===e}));return t<0?Promise.reject():(this._paymentsPurchases.splice(t,1),Promise.resolve())}return Promise.reject()}},{key:\"paymentsGetCatalog\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsGetProductsPlatformData()):Promise.reject()}},{key:\"paymentsGetPurchases\",value:function(){return this.isPaymentsSupported?Promise.resolve(this._paymentsPurchases):Promise.reject()}},{key:\"getRemoteConfig\",value:function(){return Promise.reject()}},{key:\"clipboardRead\",value:function(){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.readText():Promise.reject()}},{key:\"clipboardWrite\",value:function(e){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.writeText(e):Promise.reject()}},{key:\"unlockAchievement\",value:function(){return Promise.reject()}},{key:\"getAchievementsList\",value:function(){return Promise.reject()}},{key:\"showAchievementsNativePopup\",value:function(){return Promise.reject()}},{key:\"_getDataFromLocalStorage\",value:function(e,t){var r=this._localStorage.getItem(e);if(t&&\"string\"==typeof r)try{r=JSON.parse(r)}catch(e){}return r}},{key:\"_setDataToLocalStorage\",value:function(e,t){this._localStorage.setItem(e,\"object\"===zt(t)?JSON.stringify(t):t)}},{key:\"_deleteDataFromLocalStorage\",value:function(e){this._localStorage.removeItem(e)}},{key:\"_setVisibilityState\",value:function(e){this._visibilityState!==e&&(this._visibilityState=e,this.emit(n.VISIBILITY_STATE_CHANGED,this._visibilityState))}},{key:\"_setInterstitialState\",value:function(e){this._interstitialState===e&&e!==i.FAILED||(this._interstitialState=e,this.emit(n.INTERSTITIAL_STATE_CHANGED,this._interstitialState))}},{key:\"_setRewardedState\",value:function(e){this._rewardedState===e&&e!==a.FAILED||(this._rewardedState=e,this.emit(n.REWARDED_STATE_CHANGED,this._rewardedState))}},{key:\"_setBannerState\",value:function(e){this._bannerState===e&&e!==s.FAILED||(this._bannerState=e,this.emit(n.BANNER_STATE_CHANGED,this._bannerState))}},{key:\"_createPromiseDecorator\",value:function(e){var t=new R;return Kt(this,Jt)[e]=t,t}},{key:\"_getPromiseDecorator\",value:function(e){return Kt(this,Jt)[e]}},{key:\"_resolvePromiseDecorator\",value:function(e,t){Kt(this,Jt)[e]&&(Kt(this,Jt)[e].resolve(t),delete Kt(this,Jt)[e])}},{key:\"_rejectPromiseDecorator\",value:function(e,t){Kt(this,Jt)[e]&&(Kt(this,Jt)[e].reject(t),delete Kt(this,Jt)[e])}},{key:\"_paymentsGetProductsPlatformData\",value:function(){var e=this;return this._options.payments?this._options.payments.filter((function(t){return Object.prototype.hasOwnProperty.call(t,e.platformId)})).map((function(t){return Wt({commonId:t.commonId},t[e.platformId])})):[]}},{key:\"_paymentsGetProductPlatformData\",value:function(e){var t=this._options.payments;if(!t)return null;var r=t.find((function(t){return t.commonId===e}));return r?Wt({commonId:r.commonId},r[this.platformId]):null}},{key:\"_paymentsGenerateTransactionId\",value:function(e){return\"\".concat(e,\"_\").concat(Date.now(),\"_\").concat(Math.random().toString(36).substring(2,10))}}])&&Vt(r.prototype,l),Object.defineProperty(r,\"prototype\",{writable:!1}),t}();X().mixin(qt.prototype);const Xt=qt;var Qt=function(e){return new Promise((function(t){var r=document.createElement(\"script\");r.src=e,r.addEventListener(\"load\",t),document.head.appendChild(r)}))},$t=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length<=0?Promise.resolve():new Promise((function(e){var r=setInterval((function(){for(var n=window,o=0;o<t.length;o++){var i=n[t[o]];if(!i)return;n=i}e(),clearInterval(r)}),100)}))},er=function(e){return/^data:image\\/(png|jpeg|jpg|gif|bmp|webp|svg\\+xml);base64,[A-Za-z0-9+/]+={0,2}$/.test(e)},tr=function(e,t){return void 0===e[t]?null:e[t]};function rr(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)?e.reduce((function(e,n,o){if(e[o]=tr(t,n),r)try{e[o]=JSON.parse(e[o])}catch(e){console.error(e)}return e}),new Array(e.length)):tr(t,e)}function nr(e){return nr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},nr(e)}function or(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ir(n.key),n)}}function ir(e){var t=function(e,t){if(\"object\"!=nr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=nr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==nr(t)?t:String(t)}function ar(){return ar=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ar.apply(this,arguments)}function sr(e,t){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sr(e,t)}function ur(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function cr(e){return cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cr(e)}function lr(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function fr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function pr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,dr(e,t,\"get\"))}function dr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var yr=new WeakMap,hr=new WeakSet;function mr(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"result\",i=this._getPromiseDecorator(e);return i||(i=this._createPromiseDecorator(e),this._platformSdk.send(t,n).then((function(t){t[o]?r._resolvePromiseDecorator(e):r._rejectPromiseDecorator(e)})).catch((function(t){r._rejectPromiseDecorator(e,t)}))),i.promise}const vr=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&sr(e,t)}(d,t);var r,n,o,l,p=(o=d,l=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cr(o);if(l){var r=cr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===nr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ur(e)}(this,e)});function d(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,d);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return lr(t=ur(e=p.call.apply(p,[this].concat(o))),r=hr),r.add(t),function(e,t,r){lr(e,t),t.set(e,{writable:!0,value:void 0})}(ur(e),yr),e}return r=d,(n=[{key:\"platformId\",get:function(){return e.VK}},{key:\"platformLanguage\",get:function(){var e=new URL(window.location.href);if(e.searchParams.has(\"language\")){var t=e.searchParams.get(\"language\"),r=0;try{r=parseInt(t,10)}catch(e){r=0}switch(r){case 0:default:return\"ru\";case 1:return\"uk\";case 2:return\"be\";case 3:return\"en\"}}return ar(cr(d.prototype),\"platformLanguage\",this)}},{key:\"platformPayload\",get:function(){var e=new URL(window.location.href);return e.searchParams.has(\"hash\")?e.searchParams.get(\"hash\"):ar(cr(d.prototype),\"platformPayload\",this)}},{key:\"deviceType\",get:function(){switch(pr(this,yr)){case\"html5_ios\":case\"html5_android\":case\"html5_mobile\":return c.MOBILE;case\"web\":return c.DESKTOP;default:return ar(cr(d.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPlayerAuthorized\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return\"html5_android\"===pr(this,yr)}},{key:\"isAddToFavoritesSupported\",get:function(){return!0}},{key:\"isLeaderboardSupported\",get:function(){return this.deviceType===c.MOBILE}},{key:\"isLeaderboardNativePopupSupported\",get:function(){return this.deviceType===c.MOBILE}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r,n,o=this._getPromiseDecorator(f.INITIALIZE);if(!o){o=this._createPromiseDecorator(f.INITIALIZE);var i=new URL(window.location.href);i.searchParams.has(\"platform\")&&(t=this,r=yr,n=i.searchParams.get(\"platform\"),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t,dr(t,r,\"set\"),n)),Qt(\"https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js\").then((function(){$t(\"vkBridge\").then((function(){e._platformSdk=window.vkBridge,e._platformSdk.send(\"VKWebAppInit\").then((function(){e._isBannerSupported=!0,e._platformSdk.send(\"VKWebAppGetUserInfo\").then((function(t){t&&(e._playerId=t.id,e._playerName=\"\".concat(t.first_name,\" \").concat(t.last_name),t.photo_100&&e._playerPhotos.push(t.photo_100),t.photo_200&&e._playerPhotos.push(t.photo_200),t.photo_max_orig&&e._playerPhotos.push(t.photo_max_orig))})).finally((function(){e._isInitialized=!0,e._defaultStorageType=u.PLATFORM_INTERNAL,e._resolvePromiseDecorator(f.INITIALIZE)}))}))}))}))}return o.promise}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||ar(cr(d.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||ar(cr(d.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,o){var i=Array.isArray(e)?e:[e];n._platformSdk.send(\"VKWebAppStorageGet\",{keys:i}).then((function(n){if(Array.isArray(e)){var o=[];return i.forEach((function(e){var t=n.keys.findIndex((function(t){return t.key===e}));if(t<0)o.push(null);else if(\"\"!==n.keys[t].value){var i=n.keys[t].value;if(r)try{i=JSON.parse(n.keys[t].value)}catch(e){}o.push(i)}else o.push(null)})),void t(o)}if(\"\"!==n.keys[0].value){var a=n.keys[0].value;if(r)try{a=JSON.parse(n.keys[0].value)}catch(e){}t(a)}else t(null)})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?o(e.error_data.error_reason):o()}))})):ar(cr(d.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;if(r===u.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a={key:e[i],value:t[i]};\"string\"!=typeof t[i]&&(a.value=JSON.stringify(t[i])),o.push(this._platformSdk.send(\"VKWebAppStorageSet\",a))}return Promise.all(o)}var s={key:e,value:t};return\"string\"!=typeof t&&(s.value=JSON.stringify(t)),new Promise((function(e,t){n._platformSdk.send(\"VKWebAppStorageSet\",s).then((function(){e()})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?t(e.error_data.error_reason):t()}))}))}return ar(cr(d.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){if(t===u.PLATFORM_INTERNAL){if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++)r.push(this.setDataToStorage(e[n],\"\",t));return Promise.all(r)}return this.setDataToStorage(e,\"\",t)}return ar(cr(d.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e){var t=this,r=\"bottom\",n=\"resize\",o=!1;e&&(\"string\"==typeof e.position&&(r=e.position),\"string\"==typeof e.layoutType&&(n=e.layoutType),\"boolean\"==typeof e.canClose&&(o=e.canClose)),this._platformSdk.send(\"VKWebAppShowBannerAd\",{banner_location:r,layout_type:n,can_close:o}).then((function(e){e.result?t._setBannerState(s.SHOWN):t._setBannerState(s.FAILED)})).catch((function(){t._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppHideBannerAd\").then((function(t){t.result&&e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"interstitial\"}).then((function(t){t.result&&e._setInterstitialState(i.OPENED)})).finally((function(){e._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"interstitial\"}).then((function(t){e._setInterstitialState(t.result?i.CLOSED:i.FAILED)})).catch((function(){e._setInterstitialState(i.FAILED)}))}))}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.send(\"VKWebAppCheckNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(t){t.result&&e._setRewardedState(a.OPENED)})).finally((function(){e._platformSdk.send(\"VKWebAppShowNativeAds\",{ad_format:\"reward\",use_waterfall:!0}).then((function(t){t.result?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)})).catch((function(){e._setRewardedState(a.FAILED)}))}))}},{key:\"inviteFriends\",value:function(){return fr(this,hr,mr).call(this,f.INVITE_FRIENDS,\"VKWebAppShowInviteBox\",{},\"success\")}},{key:\"joinCommunity\",value:function(e){if(!e||!e.groupId)return Promise.reject();var t=e.groupId;return\"string\"==typeof t&&(t=parseInt(t,10),Number.isNaN(t))?Promise.reject():fr(this,hr,mr).call(this,f.JOIN_COMMUNITY,\"VKWebAppJoinGroup\",{group_id:t}).then((function(){window.open(\"https://vk.com/public\".concat(t))}))}},{key:\"share\",value:function(e){var t={};return e&&e.link&&(t.link=e.link),fr(this,hr,mr).call(this,f.SHARE,\"VKWebAppShare\",t,\"type\")}},{key:\"addToHomeScreen\",value:function(){return this.isAddToHomeScreenSupported?fr(this,hr,mr).call(this,f.ADD_TO_HOME_SCREEN,\"VKWebAppAddToHomeScreen\"):Promise.reject()}},{key:\"addToFavorites\",value:function(){return fr(this,hr,mr).call(this,f.ADD_TO_FAVORITES,\"VKWebAppAddToFavorites\")}},{key:\"showLeaderboardNativePopup\",value:function(e){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!e||!e.userResult)return Promise.reject();var t={user_result:e.userResult};return\"boolean\"==typeof e.global&&(t.global=e.global?1:0),fr(this,hr,mr).call(this,f.SHOW_LEADERBOARD_NATIVE_POPUP,\"VKWebAppShowLeaderBoardBox\",t)}},{key:\"clipboardWrite\",value:function(e){return fr(this,hr,mr).call(this,f.CLIPBOARD_WRITE,\"VKWebAppCopyText\",{text:e})}}])&&or(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),d}(Xt);function _r(e){return _r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_r(e)}function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Pr(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Pr(n.key),n)}}function Pr(e){var t=function(e,t){if(\"object\"!=_r(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=_r(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==_r(t)?t:String(t)}function Er(){return Er=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Or(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Er.apply(this,arguments)}function Ar(e,t){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ar(e,t)}function wr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Or(e){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(e)}function Dr(e,t,r){kr(e,t),t.set(e,r)}function kr(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Ir(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Lr(e,t,\"set\"),r),r}function Rr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Tr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Lr(e,t,\"get\"))}function Lr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var jr=new WeakMap,Nr=new WeakMap,Cr=new WeakMap,Br=new WeakMap,Gr=new WeakSet;function Mr(e){var t=this;return new Promise((function(r){var n={scopes:!1};e&&\"boolean\"==typeof e.scopes&&(n.scopes=e.scopes),t._platformSdk.getPlayer(n).then((function(e){t._playerId=e.getUniqueID(),t._isPlayerAuthorized=\"lite\"!==e.getMode(),t._defaultStorageType=t._isPlayerAuthorized?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE;var r=e.getName();\"\"!==r&&(t._playerName=r),t._playerPhotos=[];var n=e.getPhoto(\"small\"),o=e.getPhoto(\"medium\"),i=e.getPhoto(\"large\");return n&&t._playerPhotos.push(n),o&&t._playerPhotos.push(o),i&&t._playerPhotos.push(i),Ir(t,Nr,e),e.getData()})).then((function(e){t._platformStorageCachedData=e})).finally((function(){r()}))}))}const Fr=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ar(e,t)}(y,t);var r,n,o,p,d=(o=y,p=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Or(o);if(p){var r=Or(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===_r(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return wr(e)}(this,e)});function y(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,y);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return kr(t=wr(e=d.call.apply(d,[this].concat(o))),r=Gr),r.add(t),Dr(wr(e),jr,{writable:!0,value:!1}),Dr(wr(e),Nr,{writable:!0,value:null}),Dr(wr(e),Cr,{writable:!0,value:null}),Dr(wr(e),Br,{writable:!0,value:null}),e}return r=y,(n=[{key:\"platformId\",get:function(){return e.YANDEX}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():Er(Or(y.prototype),\"platformLanguage\",this)}},{key:\"platformTld\",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():Er(Or(y.prototype),\"platformTld\",this)}},{key:\"isPlatformGetAllGamesSupported\",get:function(){return!0}},{key:\"isPlatformGetGameByIdSupported\",get:function(){return!0}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.deviceInfo.type){case c.DESKTOP:return c.DESKTOP;case c.MOBILE:return c.MOBILE;case c.TABLET:return c.TABLET;case c.TV:return c.TV;default:return Er(Or(y.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isAddToHomeScreenSupported\",get:function(){return Tr(this,jr)}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isLeaderboardSupported\",get:function(){return!0}},{key:\"isLeaderboardMultipleBoardsSupported\",get:function(){return!0}},{key:\"isLeaderboardSetScoreSupported\",get:function(){return!0}},{key:\"isLeaderboardGetScoreSupported\",get:function(){return!0}},{key:\"isLeaderboardGetEntriesSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"isRemoteConfigSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"/sdk.js\").then((function(){$t(\"YaGames\",\"init\").then((function(){window.YaGames.init().then((function(t){var r;e._platformSdk=t;var n=Rr(e,Gr,Mr).call(e),o=null===(r=e._platformSdk.features.PluginEngineDataReporterAPI)||void 0===r?void 0:r.report({engineName:\"\",engineVersion:\"\",pluginName:\"playgama-bridge\",pluginVersion:\"1.21.0\"}),i=e._platformSdk.shortcut.canShowPrompt().then((function(t){Ir(e,jr,t.canShow)})),a=new Promise((function(e){setTimeout(e,1e3)})),u=Promise.race([i,a]),c=e._platformSdk.getLeaderboards().then((function(t){Ir(e,Cr,t)})),l=e._platformSdk.getPayments().then((function(t){Ir(e,Br,t)}));e._isBannerSupported=!0;var p=e._platformSdk.adv.getBannerAdvStatus().then((function(t){t.stickyAdvIsShowing&&e._setBannerState(s.SHOWN)}));Promise.all([n,o,u,c,l,p]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE)}))}))}))}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case l.GAME_READY:var t;return null===(t=this._platformSdk.features.LoadingAPI)||void 0===t||t.ready(),Promise.resolve();case l.GAMEPLAY_STARTED:var r;return null===(r=this._platformSdk.features.GameplayAPI)||void 0===r||r.start(),Promise.resolve();case l.GAMEPLAY_STOPPED:var n;return null===(n=this._platformSdk.features.GameplayAPI)||void 0===n||n.stop(),Promise.resolve();default:return Er(Or(y.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(t){t(e._platformSdk.serverTime())}))}},{key:\"getAllGames\",value:function(){var e=this;return new Promise((function(t,r){e._platformSdk.features.GamesAPI.getAllGames().then((function(e){var r=e.games;t(r)})).catch(r)}))}},{key:\"getGameById\",value:function(e){var t=this;return null!=e&&e.gameId?new Promise((function(r,n){t._platformSdk.features.GamesAPI.getGameByID(null==e?void 0:e.gameId).then((function(e){var t=e.game,n=e.isAvailable;r(Sr(Sr({},t),{},{isAvailable:n}))})).catch(n)})):Promise.reject(new Error(\"Provide gameId\"))}},{key:\"authorizePlayer\",value:function(e){var t=this,r=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._isPlayerAuthorized?Rr(this,Gr,Mr).call(this,e).then((function(){t._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)})):this._platformSdk.auth.openAuthDialog().then((function(){Rr(t,Gr,Mr).call(t,e).then((function(){t._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)}))})).catch((function(e){t._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,e)}))),r.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Er(Or(y.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:Er(Or(y.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?new Promise((function(t){if(Array.isArray(e)){for(var r=[],o=0;o<e.length;o++){var i=void 0===n._platformStorageCachedData[e[o]]?null:n._platformStorageCachedData[e[o]];r.push(i)}t(r)}else t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])})):Promise.reject():Er(Or(y.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?Sr({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;Tr(n,Nr).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))})):Promise.reject():Er(Or(y.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?new Promise((function(t,n){var o=null!==r._platformStorageCachedData?Sr({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];Tr(r,Nr).setData(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))})):Promise.reject():Er(Or(y.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(){var e=this;this._platformSdk.adv.showBannerAdv().then((function(t){t.stickyAdvIsShowing?e._setBannerState(s.SHOWN):e._setBannerState(s.FAILED)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.adv.hideBannerAdv().then((function(t){t.stickyAdvIsShowing||e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){e._setInterstitialState(i.OPENED)},onClose:function(t){t?e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)},onError:function(e){console.error(e)}}})}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){e._setRewardedState(a.OPENED)},onRewarded:function(){e._setRewardedState(a.REWARDED)},onClose:function(){e._setRewardedState(a.CLOSED)},onError:function(){e._setRewardedState(a.FAILED)}}})}},{key:\"checkAdBlock\",value:function(){return new Promise((function(e){e(!1)}))}},{key:\"addToHomeScreen\",value:function(){var e=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var t=this._getPromiseDecorator(f.ADD_TO_HOME_SCREEN);return t||(t=this._createPromiseDecorator(f.ADD_TO_HOME_SCREEN),this._platformSdk.shortcut.showPrompt().then((function(t){\"accepted\"!==t.outcome?e._rejectPromiseDecorator(f.ADD_TO_HOME_SCREEN):e._resolvePromiseDecorator(f.ADD_TO_HOME_SCREEN)})).catch((function(t){e._rejectPromiseDecorator(f.ADD_TO_HOME_SCREEN,t)}))),t.promise}},{key:\"rate\",value:function(){var e=this,t=this._getPromiseDecorator(f.RATE);return t||(t=this._createPromiseDecorator(f.RATE),this._platformSdk.feedback.canReview().then((function(t){t.value?e._platformSdk.feedback.requestReview().then((function(t){t.feedbackSent?e._resolvePromiseDecorator(f.RATE):e._rejectPromiseDecorator(f.RATE)})).catch((function(t){e._rejectPromiseDecorator(f.RATE,t)})):e._rejectPromiseDecorator(f.RATE,t.reason)})).catch((function(t){e._rejectPromiseDecorator(f.RATE,t)}))),t.promise}},{key:\"setLeaderboardScore\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!(Tr(this,Cr)&&e&&e.score&&e.leaderboardName))return Promise.reject();var r=this._getPromiseDecorator(f.SET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(f.SET_LEADERBOARD_SCORE),Tr(this,Cr).setLeaderboardScore(e.leaderboardName,\"string\"==typeof e.score?parseInt(e.score,10):e.score).then((function(){t._resolvePromiseDecorator(f.SET_LEADERBOARD_SCORE)})).catch((function(e){t._rejectPromiseDecorator(f.SET_LEADERBOARD_SCORE,e)}))),r.promise}},{key:\"getLeaderboardScore\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!Tr(this,Cr)||!e||!e.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(f.GET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(f.GET_LEADERBOARD_SCORE),Tr(this,Cr).getLeaderboardPlayerEntry(e.leaderboardName).then((function(e){t._resolvePromiseDecorator(f.GET_LEADERBOARD_SCORE,e.score)})).catch((function(e){t._rejectPromiseDecorator(f.GET_LEADERBOARD_SCORE,e)}))),r.promise}},{key:\"getLeaderboardEntries\",value:function(e){var t=this;if(!Tr(this,Cr)||!e||!e.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(f.GET_LEADERBOARD_ENTRIES);if(!r){r=this._createPromiseDecorator(f.GET_LEADERBOARD_ENTRIES);var n={};n.includeUser=\"boolean\"==typeof e.includeUser&&e.includeUser,n.quantityAround=\"string\"==typeof e.quantityAround?parseInt(e.quantityAround,10):e.quantityAround,Number.isNaN(n.quantityAround)&&(n.quantityAround=5),n.quantityTop=\"string\"==typeof e.quantityTop?parseInt(e.quantityTop,10):e.quantityTop,Number.isNaN(n.quantityTop)&&(n.quantityTop=5),Tr(this,Cr).getLeaderboardEntries(e.leaderboardName,n).then((function(e){var r=null;e&&e.entries.length>0&&(r=e.entries.map((function(e){return{id:e.player.uniqueID,score:e.score,rank:e.rank,name:e.player.publicName,photo:e.player.getAvatarSrc(\"large\")}}))),t._resolvePromiseDecorator(f.GET_LEADERBOARD_ENTRIES,r)})).catch((function(e){t._rejectPromiseDecorator(f.GET_LEADERBOARD_ENTRIES,e)}))}return r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!Tr(this,Br)||!r)return Promise.reject();var n=this._getPromiseDecorator(f.PURCHASE);return n||(n=this._createPromiseDecorator(f.PURCHASE),Tr(this,Br).purchase(r).then((function(r){var n=Sr({commonId:e},r.purchaseData);t._paymentsPurchases.push(n),t._resolvePromiseDecorator(f.PURCHASE,n)})).catch((function(e){t._rejectPromiseDecorator(f.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this;if(!Tr(this,Br))return Promise.reject();var r=this._paymentsPurchases.findIndex((function(t){return t.commonId===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(f.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(f.CONSUME_PURCHASE),Tr(this,Br).consumePurchase(this._paymentsPurchases[r].purchaseToken).then((function(e){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(f.CONSUME_PURCHASE,e)})).catch((function(e){t._rejectPromiseDecorator(f.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this;if(!Tr(this,Br))return Promise.reject();var t=this._paymentsGetProductsPlatformData(),r=this._getPromiseDecorator(f.GET_CATALOG);return r||(r=this._createPromiseDecorator(f.GET_CATALOG),Tr(this,Br).getCatalog().then((function(r){var n=t.map((function(e){var t,n=r.find((function(t){return t.id===e.id}));return{commonId:e.commonId,id:n.id,title:n.title,description:n.description,imageURI:n.imageURI,price:n.price,priceCurrencyCode:n.priceCurrencyCode,priceValue:n.priceValue,priceCurrencyImage:null===(t=n.getPriceCurrencyImage)||void 0===t?void 0:t.call(n,\"medium\")}}));e._resolvePromiseDecorator(f.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(f.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this;if(!Tr(this,Br))return Promise.reject();var t=this._getPromiseDecorator(f.GET_PURCHASES);return t||(t=this._createPromiseDecorator(f.GET_PURCHASES),Tr(this,Br).getPurchases().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){return Sr({commonId:r.find((function(t){return t.id===e.productID})).commonId},e.purchaseData)})),e._resolvePromiseDecorator(f.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(f.GET_PURCHASES,t)}))),t.promise}},{key:\"getRemoteConfig\",value:function(e){var t=this;if(!this._platformSdk)return Promise.reject();var r=e;r||(r={}),r.clientFeatures||(r.clientFeatures=[]);var n=this._getPromiseDecorator(f.GET_REMOTE_CONFIG);return n||(n=this._createPromiseDecorator(f.GET_REMOTE_CONFIG),this._platformSdk.getFlags(r).then((function(e){t._resolvePromiseDecorator(f.GET_REMOTE_CONFIG,e)})).catch((function(e){t._rejectPromiseDecorator(f.GET_REMOTE_CONFIG,e)}))),n.promise}},{key:\"clipboardWrite\",value:function(e){var t=this,r=this._getPromiseDecorator(f.CLIPBOARD_WRITE);return r||(r=this._createPromiseDecorator(f.CLIPBOARD_WRITE),this._platformSdk.clipboard.writeText(e).then((function(){t._resolvePromiseDecorator(f.CLIPBOARD_WRITE,!0)})).catch((function(e){t._rejectPromiseDecorator(f.CLIPBOARD_WRITE,e)}))),r.promise}}])&&br(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),y}(Xt);function Hr(e){return Hr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Hr(e)}function Ur(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,zr(n.key),n)}}function zr(e){var t=function(e,t){if(\"object\"!=Hr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Hr(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Hr(t)?t:String(t)}function xr(){return xr=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yr(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xr.apply(this,arguments)}function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wr(e,t)}function Vr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Yr(e){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yr(e)}function Zr(e,t,r){Kr(e,t),t.set(e,r)}function Kr(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function Jr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function qr(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Qr(e,t,\"set\"),r),r}function Xr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Qr(e,t,\"get\"))}function Qr(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var $r=\"banner-container\",en=new WeakMap,tn=new WeakMap,rn=new WeakMap,nn=new WeakSet;function on(){var e=this;return Xr(this,tn)?new Promise((function(t,r){e._platformSdk.user.getUser().then((function(n){n?(e._isPlayerAuthorized=!0,e._defaultStorageType=u.PLATFORM_INTERNAL,n.username&&(e._playerName=n.username),n.profilePictureUrl&&(e._playerPhotos=[n.profilePictureUrl]),t()):r()})).catch((function(e){r(e)}))})):Promise.reject()}const an=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Wr(e,t)}(y,t);var r,n,o,p,d=(o=y,p=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yr(o);if(p){var r=Yr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Hr(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Vr(e)}(this,e)});function y(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,y);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return Kr(t=Vr(e=d.call.apply(d,[this].concat(o))),r=nn),r.add(t),Zr(Vr(e),en,{writable:!0,value:!1}),Zr(Vr(e),tn,{writable:!0,value:!1}),Zr(Vr(e),rn,{writable:!0,value:{adStarted:function(){Xr(Vr(e),en)?e._setRewardedState(a.OPENED):e._setInterstitialState(i.OPENED)},adFinished:function(){Xr(Vr(e),en)?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setInterstitialState(i.CLOSED)},adError:function(){Xr(Vr(e),en)?e._setRewardedState(a.FAILED):e._setInterstitialState(i.FAILED)}}}),e}return r=y,(n=[{key:\"platformId\",get:function(){return e.CRAZY_GAMES}},{key:\"platformLanguage\",get:function(){return Xr(this,tn)?this._platformSdk.user.systemInfo.countryCode.toLowerCase():xr(Yr(y.prototype),\"platformLanguage\",this)}},{key:\"isPlayerAuthorizationSupported\",get:function(){return Xr(this,tn)}},{key:\"deviceType\",get:function(){if(Xr(this,tn)){var e=this._platformSdk.user.systemInfo.device.type.toLowerCase();if([c.DESKTOP,c.MOBILE,c.TABLET].includes(e))return e}return xr(Yr(y.prototype),\"deviceType\",this)}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"https://sdk.crazygames.com/crazygames-sdk-v3.js\").then((function(){$t(\"CrazyGames\",\"SDK\",\"init\").then((function(){e._platformSdk=window.CrazyGames.SDK,e._defaultStorageType=u.LOCAL_STORAGE,e._isBannerSupported=!0,e._platformSdk.init().then((function(){qr(e,tn,e._platformSdk.user.isUserAccountAvailable);var t=Jr(e,nn,on).call(e);Promise.all([t]).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE)}))}))}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;if(!Xr(this,tn))return Promise.reject();if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._platformSdk.user.showAuthPrompt().then((function(){Jr(e,nn,on).call(e).then((function(){e._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,t)}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case l.IN_GAME_LOADING_STARTED:return this._platformSdk.game.loadingStart(),Promise.resolve();case l.IN_GAME_LOADING_STOPPED:return this._platformSdk.game.loadingStop(),Promise.resolve();case l.GAMEPLAY_STARTED:return this._platformSdk.game.gameplayStart(),Promise.resolve();case l.GAMEPLAY_STOPPED:return this._platformSdk.game.gameplayStop(),Promise.resolve();case l.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.game.happytime(),Promise.resolve();default:return xr(Yr(y.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||xr(Yr(y.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:xr(Yr(y.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t){if(Array.isArray(e)){var o=[];return e.forEach((function(e){var t=n._platformSdk.data.getItem(e);if(r)try{t=JSON.parse(t)}catch(e){}o.push(t)})),void t(o)}var i=n._platformSdk.data.getItem(e);if(r)try{i=JSON.parse(i)}catch(e){}t(i)})):xr(Yr(y.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r){if(Array.isArray(e)){for(var o=0;o<e.length;o++){var i=t[o];\"string\"!=typeof t[o]&&(i=JSON.stringify(t[o])),n._platformSdk.data.setItem(e[o],i)}r()}else{var a=t;\"string\"!=typeof t&&(a=JSON.stringify(t)),n._platformSdk.data.setItem(e,a),r()}})):xr(Yr(y.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?Array.isArray(e)?(e.forEach((function(e){return r._platformSdk.data.removeItem(e)})),Promise.resolve()):(this._platformSdk.data.removeItem(e),Promise.resolve()):xr(Yr(y.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e){var t=this,r=document.getElementById($r);r||((r=document.createElement(\"div\")).id=$r,r.style.position=\"absolute\",document.body.appendChild(r)),\"top\"===(null==e?void 0:e.position)?(r.style.top=0,r.style.height=\"90px\",r.style.width=\"100%\"):\"left\"===(null==e?void 0:e.position)?(r.style.left=0,r.style.top=0,r.style.height=\"100%\",r.style.width=\"90px\"):\"right\"===(null==e?void 0:e.position)?(r.style.right=0,r.style.top=0,r.style.height=\"100%\",r.style.width=\"90px\"):(r.style.bottom=0,r.style.height=\"90px\",r.style.width=\"100%\"),r.style.display=\"block\",this._platformSdk.banner.requestResponsiveBanner([$r]).then((function(){t._setBannerState(s.SHOWN)})).catch((function(){t._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var e=document.getElementById($r);e&&(e.style.display=\"none\"),this._platformSdk.banner.clearAllBanners(),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){qr(this,en,!1),this._platformSdk.ad.requestAd(\"midgame\",Xr(this,rn))}},{key:\"showRewarded\",value:function(){qr(this,en,!0),this._platformSdk.ad.requestAd(\"rewarded\",Xr(this,rn))}},{key:\"checkAdBlock\",value:function(){var e=this;return new Promise((function(t){e._platformSdk.ad.hasAdblock().then((function(e){t(e)}))}))}}])&&Ur(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),y}(Xt);function sn(e){return sn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},sn(e)}function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=fn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ln(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,fn(n.key),n)}}function fn(e){var t=function(e,t){if(\"object\"!=sn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=sn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==sn(t)?t:String(t)}function pn(){return pn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},pn.apply(this,arguments)}function dn(e,t){return dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dn(e,t)}function yn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function hn(e){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hn(e)}var mn=new WeakSet;function vn(){var e=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized=\"false\"===this._platformSdk.options.guest,new Promise((function(t){e._platformSdk.getUsers([e._playerId],(function(r){if(r&&1===r.length){var n=r[0];e._playerName=n.full_name,\"\"!==n.avatar&&(e._playerPhotos=[n.avatar])}t()}))}))}const _n=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&dn(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hn(o);if(s){var r=hn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===sn(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return yn(e)}(this,e)});function l(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t=yn(e=c.call.apply(c,[this].concat(o))),r=mn),r.add(t),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.ABSOLUTE_GAMES}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"https://unpkg.com/@agru/sdk/dist/umd/index.min.js\").then((function(){e._platformSdk=new window.AgRuSdk,e._platformSdk.on(window.AgRuSdkMethods.ShowCampaign,(function(t,r){\"rewarded\"===t.type?null===r?t.status?e._setRewardedState(a.OPENED):(t.reward&&e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED):null===r?t.status?e._setInterstitialState(i.OPENED):e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)}));var t=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}(e,mn,vn).call(e);Promise.all([t]).finally((function(){e._isInitialized=!0,e._defaultStorageType=e._isPlayerAuthorized?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE,e._resolvePromiseDecorator(f.INITIALIZE)}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._platformSdk.authorize((function(t,r){null===r?e._resolvePromiseDecorator(f.AUTHORIZE_PLAYER):e._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,r)}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||pn(hn(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:pn(hn(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,r){if(n._platformStorageCachedData){if(Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a=void 0===n._platformStorageCachedData[e[i]]?null:n._platformStorageCachedData[e[i]];o.push(a)}return void t(o)}t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}else n._isPlayerAuthorized?n._platformSdk.getSaveData((function(o,i){if(null===i){if(n._platformStorageCachedData=o||{},Array.isArray(e)){for(var a=[],s=0;s<e.length;s++){var u=void 0===n._platformStorageCachedData[e[s]]?null:n._platformStorageCachedData[e[s]];a.push(u)}return void t(a)}t(void 0===n._platformStorageCachedData[e]?null:n._platformStorageCachedData[e])}else r(i)})):r()})):pn(hn(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?cn({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.setSaveData(i,(function(e,t){null===t&&(n._platformStorageCachedData=i,r()),o(t)}))}else o()})):pn(hn(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?cn({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r._platformSdk.setSaveData(o,(function(e,i){null===i&&(r._platformStorageCachedData=o,t()),n(i)}))}else n()})):pn(hn(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){this._platformSdk.showCampaign(\"default\")}},{key:\"showRewarded\",value:function(){this._platformSdk.showCampaign(\"rewarded\")}}])&&ln(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Xt);function gn(e){return gn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},gn(e)}function Sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,bn(n.key),n)}}function bn(e){var t=function(e,t){if(\"object\"!=gn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=gn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==gn(t)?t:String(t)}function Pn(e,t){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pn(e,t)}function En(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function An(e){return An=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},An(e)}function wn(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,Dn(e,t,\"set\"),r),r}function On(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Dn(e,t,\"get\"))}function Dn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var kn=\"banner-container\",In=new WeakMap;const Rn=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Pn(e,t)}(p,t);var r,n,o,c,l=(o=p,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=An(o);if(c){var r=An(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===gn(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return En(e)}(this,e)});function p(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=En(e=l.call.apply(l,[this].concat(i))),n={writable:!0,value:!1},function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(t,r=In),r.set(t,n),e}return r=p,(n=[{key:\"platformId\",get:function(){return e.GAME_DISTRIBUTION}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(f.INITIALIZE);if(!e)if(e=this._createPromiseDecorator(f.INITIALIZE),this._options&&\"string\"==typeof this._options.gameId){var t=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(e){switch(e.name){case\"SDK_READY\":t._platformSdk=window.gdsdk,t._platformSdk.preloadAd(\"rewarded\"),t._isInitialized=!0,t.showInterstitial(),t._resolvePromiseDecorator(f.INITIALIZE);break;case\"SDK_GAME_START\":On(t,In)?t._setRewardedState(a.CLOSED):t._setInterstitialState(i.CLOSED);break;case\"SDK_GAME_PAUSE\":On(t,In)?t._setRewardedState(a.OPENED):t._setInterstitialState(i.OPENED);break;case\"SDK_REWARDED_WATCH_COMPLETE\":t._setRewardedState(a.REWARDED)}}},this._defaultStorageType=u.LOCAL_STORAGE,this._isBannerSupported=!0,Qt(\"https://html5.api.gamedistribution.com/main.min.js\")}else this._rejectPromiseDecorator(f.INITIALIZE,h);return e.promise}},{key:\"showBanner\",value:function(e){var t=this,r=document.getElementById(kn);r||((r=document.createElement(\"div\")).id=kn,r.style.position=\"absolute\",document.body.appendChild(r)),\"top\"===(null==e?void 0:e.position)?(r.style.top=0,r.style.height=\"90px\",r.style.width=\"100%\"):\"left\"===(null==e?void 0:e.position)?(r.style.left=0,r.style.top=0,r.style.height=\"100%\",r.style.minHeight=\"600px\",r.style.width=\"120px\"):\"right\"===(null==e?void 0:e.position)?(r.style.right=0,r.style.top=0,r.style.height=\"100%\",r.style.minHeight=\"600px\",r.style.width=\"120px\"):(r.style.bottom=0,r.style.height=\"90px\",r.style.width=\"100%\"),r.style.display=\"block\",this._platformSdk.showAd(\"display\",{containerId:kn}).then((function(){t._setBannerState(s.SHOWN)})).catch((function(){t._setBannerState(s.FAILED),r.style.display=\"none\"}))}},{key:\"hideBanner\",value:function(){var e=document.getElementById(kn);e&&(e.style.display=\"none\"),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(){var e=this;wn(this,In,!1),this._platformSdk?this._platformSdk.showAd().catch((function(){e._setInterstitialState(i.FAILED)})):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var e=this;wn(this,In,!0),this._platformSdk?this._platformSdk.showAd(\"rewarded\").catch((function(){e._setRewardedState(a.FAILED)})):this._setRewardedState(a.FAILED)}}])&&Sn(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(Xt);function Tn(e){return Tn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Tn(e)}function Ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(r),!0).forEach((function(t){zn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,xn(n.key),n)}}function Cn(){return Cn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Cn.apply(this,arguments)}function Bn(e,t){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bn(e,t)}function Gn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Mn(e){return Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mn(e)}function Fn(e,t){Un(e,t),t.add(e)}function Hn(e,t,r){Un(e,t),t.set(e,r)}function Un(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function zn(e,t,r){return(t=xn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xn(e){var t=function(e,t){if(\"object\"!=Tn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Tn(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Tn(t)?t:String(t)}function Wn(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function Vn(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var Yn=\"AUTHORIZED\",Zn={VALUABLE_ACCESS:\"VALUABLE_ACCESS\",PHOTO_CONTENT:\"PHOTO_CONTENT\"},Kn=new WeakMap,Jn=new WeakMap,qn=new WeakMap,Xn=new WeakSet,Qn=new WeakSet,$n=new WeakSet,eo=new WeakSet,to=new WeakSet,ro=new WeakSet,no=new WeakSet,oo=new WeakSet,io=new WeakSet,ao=new WeakSet,so=new WeakSet,uo=new WeakSet,co=new WeakSet,lo=new WeakSet,fo=new WeakSet,po=new WeakSet;function yo(){return{userProfile:{fields:\"uid,name,pic50x50,pic128x128,pic_base\",method:\"users.getCurrentUser\"},hasAppPermission:function(e){return{method:\"users.hasAppPermission\",ext_perm:e}}}}function ho(){var e=this;return{userProfileCallback:function(t,r,n){return Wn(e,Xn,vo).call(e,t,r,n)},hasValueAccessCallback:function(t,r,n){return Wn(e,$n,go).call(e,r,n)}}}function mo(){var e=this;return{showPermissions:function(){return Wn(e,eo,So).call(e)},loadAd:function(t){return Wn(e,to,bo).call(e,t)},showLoadedAd:function(t,r){return Wn(e,ro,Po).call(e,r)},showAd:function(t,r){return Wn(e,no,Eo).call(e,r)},requestBannerAds:function(t,r){return Wn(e,oo,Ao).call(e,t,r)},showBannerAds:function(t,r){return Wn(e,ao,Oo).call(e,r)},hideBannerAds:function(t,r){return Wn(e,io,wo).call(e,r)},setBannerFormat:function(t){return Wn(e,so,Do).call(e,t)},showInvite:function(t){return Wn(e,uo,ko).call(e,t)},showRatingDialog:function(t,r){return Wn(e,co,Io).call(e,t,r)},joinGroup:function(t,r){return Wn(e,lo,Ro).call(e,t,r)},showLoginSuggestion:function(t,r){return Wn(e,Qn,_o).call(e,t,r)},postMediatopic:function(t,r){return Wn(e,fo,To).call(e,t,r)},isAdBlockEnabled:function(t,r){return Wn(e,po,Lo).call(e,t,r)}}}function vo(e,t){\"ok\"===e&&(this._playerId=t.uid,this._playerName=t.name,this._playerPhotos=[t.pic50x50,t.pic128x128,t.pic_base]),this._isInitialized=!0,this._platformSdk.Client.call(Vn(this,Kn).hasAppPermission(Zn.VALUABLE_ACCESS),Vn(this,Jn).hasValueAccessCallback)}function _o(e,t){if(\"error\"===e)return this._isPlayerAuthorized=!1,void this._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,t);this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)}function go(e){if(this._hasValuableAccessPermission=!!e,this._defaultStorageType=this._hasValuableAccessPermission?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE,this._hasValuableAccessPermission||this._hasValuableAccessPermissionShowed)this._resolvePromiseDecorator(f.INITIALIZE);else{var t=Object.values(Zn).map((function(e){return'\"'.concat(e,'\"')})).join(\",\");this._platformSdk.UI.showPermissions(\"[\".concat(t,\"]\"))}}function So(){this._hasValuableAccessPermissionShowed=!0,this._platformSdk.Client.call(Vn(this,Kn).hasAppPermission(Zn.VALUABLE_ACCESS),Vn(this,Jn).hasValueAccessCallback)}function bo(e){\"error\"===e?this._setRewardedState(a.FAILED):(this._setRewardedState(a.OPENED),this._platformSdk.UI.showLoadedAd())}function Po(e){switch(e){case\"complete\":this._setRewardedState(a.REWARDED),this._setRewardedState(a.CLOSED);break;case\"skip\":this._setRewardedState(a.CLOSED);break;default:this._setRewardedState(a.FAILED)}}function Eo(e){switch(e){case\"ready\":case\"ad_prepared\":break;case\"ad_shown\":this._setInterstitialState(i.OPENED),this._setInterstitialState(i.CLOSED);break;default:this._setInterstitialState(i.FAILED)}}function Ao(e,t){if(\"error\"!==e)switch(t){case\"ad_loaded\":this._platformSdk.invokeUIMethod(\"showBannerAds\");break;case\"banner_shown\":case\"ad_shown\":this._setBannerState(s.SHOWN);break;case\"hidden_by_user\":this._setBannerState(s.HIDDEN)}else this._setBannerState(s.FAILED)}function wo(e){e?this._setBannerState(s.HIDDEN):this._setBannerState(s.FAILED)}function Oo(e){e||this._setBannerState(s.FAILED)}function Do(e){\"error\"===e?this._setBannerState(s.FAILED):this.showBanner(this._platformBannerOptions)}function ko(e){\"error\"===e?this._rejectPromiseDecorator(f.INVITE_FRIENDS):this._resolvePromiseDecorator(f.INVITE_FRIENDS)}function Io(e,t){\"error\"===e?this._rejectPromiseDecorator(f.RATE,t):this._resolvePromiseDecorator(f.RATE)}function Ro(e,t){\"error\"===e?this._rejectPromiseDecorator(f.JOIN_COMMUNITY,t):this._resolvePromiseDecorator(f.JOIN_COMMUNITY)}function To(e,t){\"error\"===e?this._rejectPromiseDecorator(f.CREATE_POST,t):this._resolvePromiseDecorator(f.CREATE_POST)}function Lo(e,t){\"ok\"===e?this._resolvePromiseDecorator(f.ADBLOCK_DETECT,\"true\"===t):this._rejectPromiseDecorator(f.ADBLOCK_DETECT)}const jo=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Bn(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Mn(o);if(s){var r=Mn(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Tn(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Gn(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Fn(Gn(e=c.call.apply(c,[this].concat(r))),po),Fn(Gn(e),fo),Fn(Gn(e),lo),Fn(Gn(e),co),Fn(Gn(e),uo),Fn(Gn(e),so),Fn(Gn(e),ao),Fn(Gn(e),io),Fn(Gn(e),oo),Fn(Gn(e),no),Fn(Gn(e),ro),Fn(Gn(e),to),Fn(Gn(e),eo),Fn(Gn(e),$n),Fn(Gn(e),Qn),Fn(Gn(e),Xn),Hn(Gn(e),qn,{get:mo,set:void 0}),Hn(Gn(e),Jn,{get:ho,set:void 0}),Hn(Gn(e),Kn,{get:yo,set:void 0}),zn(Gn(e),\"_hasValuableAccessPermission\",!1),zn(Gn(e),\"_hasValuableAccessPermissionShowed\",!1),zn(Gn(e),\"_platformBannerOptions\",{}),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.OK}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isJoinCommunitySupported\",get:function(){return!0}},{key:\"isInviteFriendsSupported\",get:function(){return!0}},{key:\"isCreatePostSupported\",get:function(){return!0}},{key:\"isRateSupported\",get:function(){return!0}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"//api.ok.ru/js/fapi5.js\").then((function(){$t(\"FAPI\").then((function(){e._platformSdk=window.FAPI,window.API_callback=function(t,r,n){return Vn(e,qn)[t](r,n)};var t=e._platformSdk.Util.getRequestParameters()||{};t.api_server&&t.apiconnection?e._platformSdk.init(t.api_server,t.apiconnection,(function(){var t,r=null===(t=e._platformSdk)||void 0===t?void 0:t.saved_state;e._isPlayerAuthorized=!r||r===Yn,e._isPlayerAuthorized?e._platformSdk.Client.call(Vn(e,Kn).userProfile,Vn(e,Jn).userProfileCallback):(e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE))}),(function(){e._rejectPromiseDecorator(f.INITIALIZE)})):e._rejectPromiseDecorator(f.INITIALIZE,v)}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._platformSdk.UI.showLoginSuggestion(Yn)),e.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Cn(Mn(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._hasValuableAccessPermission:Cn(Mn(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?this._hasValuableAccessPermission?new Promise((function(t,o){var i=Array.isArray(e)?e:[e],a={method:\"storage.get\",keys:i,scope:\"CUSTOM\"};n._platformSdk.Client.call(a,(function(n,a,s){if(a){var u=a.data||{};if(Array.isArray(e)){var c=[];return i.forEach((function(e){if(\"\"!==u[e]&&void 0!==u[e]){var t=u[e];if(r)try{t=JSON.parse(u[e])}catch(e){}c.push(t)}else c.push(null)})),void t(c)}if(\"\"===u[e]||void 0===u[e])return void t(null);var l=u[e];if(r)try{l=JSON.parse(u[e])}catch(e){}t(l)}else o(s)}))})):Promise.reject(y):Cn(Mn(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;if(r===u.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(y);for(var o=Array.isArray(e)?e:[e],i=Array.isArray(e)?t:[t],a=[],s=function(){var e=o[c],t=i[c];\"string\"!=typeof t&&(t=JSON.stringify(t));var r={method:\"storage.set\",key:e,value:t},s=new Promise((function(e,t){n._platformSdk.Client.call(r,(function(r,n){n?e():t()}))}));a.push(s)},c=0;c<o.length;c++)s();return Promise.all(a)}return Cn(Mn(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;if(t===u.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(y);for(var n=Array.isArray(e)?e:[e],o=[],i=function(){var e={method:\"storage.set\",key:n[a]},t=new Promise((function(t,n){r._platformSdk.Client.call(e,(function(e,r){r?t():n()}))}));o.push(t)},a=0;a<n.length;a++)i();return Promise.all(o)}return Cn(Mn(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){try{this._platformSdk.UI.showAd()}catch(e){this._setInterstitialState(i.FAILED)}}},{key:\"showRewarded\",value:function(){try{this._platformSdk.UI.loadAd()}catch(e){this._setRewardedState(a.FAILED)}}},{key:\"showBanner\",value:function(e){if(e){if(\"string\"==typeof e.layoutType)return this._platformBannerOptions=jn(jn({},e),{},{layoutType:null}),void this._platformSdk.invokeUIMethod(\"setBannerFormat\",e.layoutType);if(\"string\"==typeof e.position)return void this._platformSdk.invokeUIMethod(\"requestBannerAds\",e.position)}this._platformSdk.invokeUIMethod(\"requestBannerAds\",\"bottom\")}},{key:\"hideBanner\",value:function(){this._platformSdk.invokeUIMethod(\"hideBannerAds\")}},{key:\"checkAdBlock\",value:function(){var e=this._getPromiseDecorator(f.ADBLOCK_DETECT);return e||(e=this._createPromiseDecorator(f.ADBLOCK_DETECT),this._platformSdk.invokeUIMethod(\"isAdBlockEnabled\")),e.promise}},{key:\"inviteFriends\",value:function(e){var t=(e||{}).text;if(!e||\"string\"!=typeof t)return Promise.reject();var r=this._getPromiseDecorator(f.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(f.INVITE_FRIENDS),t.length>120?this._rejectPromiseDecorator(f.INVITE_FRIENDS,g):this._platformSdk.UI.showInvite(t)),r.promise}},{key:\"rate\",value:function(){var e=this._getPromiseDecorator(f.RATE);return e||(e=this._createPromiseDecorator(f.RATE),this._platformSdk.UI.showRatingDialog()),e.promise}},{key:\"createPost\",value:function(e){if(!e||null==e||!e.media)return Promise.reject();var t,r=this._getPromiseDecorator(f.CREATE_POST);return r||(r=this._createPromiseDecorator(f.CREATE_POST),this._platformSdk.UI.postMediatopic(e,null!==(t=e.status)&&void 0!==t&&t)),r.promise}},{key:\"joinCommunity\",value:function(e){if(!e||null==e||!e.groupId)return Promise.reject();var t,r=this._getPromiseDecorator(f.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(f.JOIN_COMMUNITY),this._platformSdk.UI.joinGroup(e.groupId,null!==(t=e.enableMessages)&&void 0!==t&&t)),r.promise}}])&&Nn(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Xt);function No(e){return No=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},No(e)}function Co(){Co=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i=\"function\"==typeof Symbol?Symbol:{},a=i.iterator||\"@@iterator\",s=i.asyncIterator||\"@@asyncIterator\",u=i.toStringTag||\"@@toStringTag\";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},\"\")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new R(n||[]);return o(a,\"_invoke\",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var p=\"suspendedStart\",d=\"suspendedYield\",y=\"executing\",h=\"completed\",m={};function v(){}function _(){}function g(){}var S={};c(S,a,(function(){return this}));var b=Object.getPrototypeOf,P=b&&b(b(T([])));P&&P!==r&&n.call(P,a)&&(S=P);var E=g.prototype=v.prototype=Object.create(S);function A(e){[\"next\",\"throw\",\"return\"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if(\"throw\"!==u.type){var c=u.arg,l=c.value;return l&&\"object\"==No(l)&&n.call(l,\"__await\")?t.resolve(l.__await).then((function(e){r(\"next\",e,a,s)}),(function(e){r(\"throw\",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r(\"throw\",e,a,s)}))}s(u.arg)}var i;o(this,\"_invoke\",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=p;return function(i,a){if(o===y)throw new Error(\"Generator is already running\");if(o===h){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=D(s,n);if(u){if(u===m)continue;return u}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);o=y;var c=f(t,r,n);if(\"normal\"===c.type){if(o=n.done?h:d,c.arg===m)continue;return{value:c.arg,done:n.done}}\"throw\"===c.type&&(o=h,n.method=\"throw\",n.arg=c.arg)}}}function D(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,\"throw\"===n&&t.iterator.return&&(r.method=\"return\",r.arg=e,D(t,r),\"throw\"===r.method)||\"return\"!==n&&(r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),m;var i=f(o,t.iterator,r.arg);if(\"throw\"===i.type)return r.method=\"throw\",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,m):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||\"\"===t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(No(t)+\" is not iterable\")}return _.prototype=g,o(E,\"constructor\",{value:g,configurable:!0}),o(g,\"constructor\",{value:_,configurable:!0}),_.displayName=c(g,u,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===_||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,u,\"GeneratorFunction\")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},A(w.prototype),c(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(E),c(E,u,\"Generator\"),c(E,a,(function(){return this})),c(E,\"toString\",(function(){return\"[object Generator]\"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var u=n.call(a,\"catchLoc\"),c=n.call(a,\"finallyLoc\");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var o=n.arg;I(r)}return o}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),m}},t}function Bo(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Ho(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ho(n.key),n)}}function Ho(e){var t=function(e,t){if(\"object\"!=No(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=No(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==No(t)?t:String(t)}function Uo(){return Uo=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wo(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Uo.apply(this,arguments)}function zo(e,t){return zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zo(e,t)}function xo(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wo(e)}function Vo(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Yo(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Zo=new WeakSet,Ko=new WeakSet;function Jo(){var e=this;return new Promise((function(t){e._platformSdk.userService.getUser().then((function(t){return e._playerId=t.id,e._isPlayerAuthorized=t.isAuthorized,e._playerName=t.name,e._playerPhotos=t.photos,e._defaultStorageType=e._isPlayerAuthorized?u.PLATFORM_INTERNAL:u.LOCAL_STORAGE,e._isPlayerAuthorized?Yo(e,Ko,qo).call(e,[]):Promise.resolve()})).finally((function(){t()}))}))}function qo(e){return Xo.apply(this,arguments)}function Xo(){var e;return e=Co().mark((function e(t){var r,n=arguments;return Co().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1],this._platformStorageCachedData){e.next=5;break}return e.next=4,this.platformSdk.cloudSaveApi.getState();case 4:this._platformStorageCachedData=e.sent;case 5:return e.abrupt(\"return\",rr(t,this._platformStorageCachedData,r));case 6:case\"end\":return e.stop()}}),e,this)})),Xo=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Bo(i,n,o,a,s,\"next\",e)}function s(e){Bo(i,n,o,a,s,\"throw\",e)}a(void 0)}))},Xo.apply(this,arguments)}const Qo=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&zo(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wo(o);if(s){var r=Wo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===No(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return xo(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Vo(xo(e=c.call.apply(c,[this].concat(r))),Ko),Vo(xo(e),Zo),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.PLAYGAMA}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"https://developer.playgama.com/sdk/v1.js\").then((function(){$t(\"PLAYGAMA_SDK\").then((function(){e._platformSdk=window.PLAYGAMA_SDK,Yo(e,Zo,Jo).call(e).then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE)}))}))}))),t.promise}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||Uo(Wo(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:Uo(Wo(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){return t===u.PLATFORM_INTERNAL?this._isPlayerAuthorized?Yo(this,Ko,qo).call(this,e,r):Promise.reject():Uo(Wo(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;switch(r){case u.PLATFORM_INTERNAL:return this._isPlayerAuthorized?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?Mo({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n.platformSdk.cloudSaveApi.setItems(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){o(e)}))})):Promise.reject();case u.LOCAL_STORAGE:var o={};if(Array.isArray(e))for(var i=0;i<e.length;i++)o[e[i]]=\"string\"!=typeof t[i]?JSON.stringify(t[i]):t[i];else o[e]=\"string\"!=typeof t?JSON.stringify(t):t;return this._platformSdk.storageApi.setItems(o),Uo(Wo(l.prototype),\"setDataToStorage\",this).call(this,e,t,r);default:return Promise.reject(d)}}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;switch(t){case u.PLATFORM_INTERNAL:return new Promise((function(t,n){var o=null!==r._platformStorageCachedData?Mo({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r.platformSdk.cloudSaveApi.setItems(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){n(e)}))}));case u.LOCAL_STORAGE:return this._platformSdk.storageApi.deleteItems(Array.isArray(e)?e:[e]),Uo(Wo(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t);default:return Promise.reject(d)}}},{key:\"showInterstitial\",value:function(){var e=this;this._platformSdk.advService.showInterstitial({onOpen:function(){e._setInterstitialState(i.OPENED)},onEmpty:function(){e._setInterstitialState(i.FAILED)},onClose:function(){e._setInterstitialState(i.CLOSED)},onError:function(){e._setInterstitialState(i.FAILED)}})}},{key:\"showRewarded\",value:function(){var e=this;this._platformSdk.advService.showRewarded({onOpen:function(){e._setRewardedState(a.OPENED)},onRewarded:function(){e._setRewardedState(a.REWARDED)},onEmpty:function(){e._setRewardedState(a.FAILED)},onClose:function(){e._setRewardedState(a.CLOSED)},onError:function(){e._setRewardedState(a.FAILED)}})}},{key:\"authorizePlayer\",value:function(e){var t=this,r=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._isPlayerAuthorized?Yo(this,Zo,Jo).call(this,e).then((function(){t._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)})):this._platformSdk.userService.authorizeUser().then((function(){Yo(t,Zo,Jo).call(t,e).then((function(){t._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)}))})).catch((function(e){t._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,e)}))),r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();r.externalId||(r.externalId=this._paymentsGenerateTransactionId(e));var n=this._getPromiseDecorator(f.PURCHASE);return n||(n=this._createPromiseDecorator(f.PURCHASE),this._platformSdk.inGamePaymentsApi.purchase(r).then((function(r){if(\"PAID\"===r.status){var n=Mo({commonId:e},r);t._paymentsPurchases.push(n),t._resolvePromiseDecorator(f.PURCHASE,n)}else t._rejectPromiseDecorator(f.PURCHASE,r.error)})).catch((function(e){t._rejectPromiseDecorator(f.PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=e.map((function(e){return{commonId:e.commonId,price:\"\".concat(e.amount,\" Golden Fennec\"),priceCurrencyCode:\"Golden Fennec\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:e.amount}}));return Promise.resolve(t)}}])&&Fo(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Xt);function $o(e){return $o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},$o(e)}function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ti(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,si(n.key),n)}}function ri(){return ri=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ii(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ri.apply(this,arguments)}function ni(e,t){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ni(e,t)}function oi(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ii(e){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ii(e)}function ai(e,t,r){return(t=si(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function si(e){var t=function(e,t){if(\"object\"!=$o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=$o(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==$o(t)?t:String(t)}function ui(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function ci(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,fi(e,t,\"set\"),r),r}function li(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,fi(e,t,\"get\"))}function fi(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var pi=new WeakMap,di=new WeakMap;const yi=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ni(e,t)}(p,t);var r,n,o,s,c=(o=p,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ii(o);if(s){var r=ii(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===$o(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return oi(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ui(oi(e=c.call.apply(c,[this].concat(r))),pi,{writable:!0,value:void 0}),ui(oi(e),di,{writable:!0,value:void 0}),ai(oi(e),\"_defaultStorageType\",u.PLATFORM_INTERNAL),ai(oi(e),\"_isPlayerAuthorized\",!0),e}return r=p,n=[{key:\"platformId\",get:function(){return e.PLAYDECK}},{key:\"platformLanguage\",get:function(){return li(this,pi)?li(this,pi):ri(ii(p.prototype),\"platformLanguage\",this)}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),window.addEventListener(\"message\",(function t(r){var n=r.data;if(n&&n.playdeck){var o=n.playdeck;if(\"getUserProfile\"===o.method){var i=o.value;e._playerId=i.telegramId,e._playerPhotos=[i.avatar],e._playerName=i.username,ci(e,pi,i.locale),ci(e,di,i.params),window.removeEventListener(\"message\",t),e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE)}}})),window.parent.postMessage({playdeck:{method:\"getUserProfile\"}},\"*\")),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case l.GAME_OVER:return window.parent.postMessage({playdeck:{method:\"gameEnd\"}},\"*\"),Promise.resolve();case l.GAME_READY:return window.parent.postMessage({playdeck:{method:\"loading\",value:100}},\"*\"),Promise.resolve();default:return ri(ii(p.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"showInterstitial\",value:function(){var e=this;window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":e._setInterstitialState(i.OPENED);break;case\"rewardedAd\":case\"skipAd\":e._setInterstitialState(i.CLOSED),window.removeEventListener(\"message\",t);break;case\"errAd\":case\"notFoundAd\":e._setInterstitialState(i.FAILED),window.removeEventListener(\"message\",t)}})),window.parent.postMessage({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"showRewarded\",value:function(){var e=this;window.addEventListener(\"message\",(function t(r){var n=r.data,o=null==n?void 0:n.playdeck;if(o)switch(o.method){case\"startAd\":e._setRewardedState(a.OPENED);break;case\"rewardedAd\":e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",t);break;case\"skipAd\":e._setRewardedState(a.CLOSED),window.removeEventListener(\"message\",t);break;case\"errAd\":case\"notFoundAd\":e._setRewardedState(a.FAILED),window.removeEventListener(\"message\",t)}})),window.parent.postMessage({playdeck:{method:\"showAd\"}},\"*\")}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||ri(ii(p.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||ri(ii(p.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){return t===u.PLATFORM_INTERNAL?new Promise((function(t){var r={},n=Array.isArray(e)?e:[e];window.addEventListener(\"message\",(function o(i){var a=i.data;if(a&&a.playdeck&&\"getData\"===a.playdeck.method&&n.includes(a.playdeck.key)){var s=a.playdeck;if(\"getData\"===s.method&&(r[s.key]=s.value.data),Object.keys(r).length===n.length){window.removeEventListener(\"message\",o);var u=Array.isArray(e)?e.map((function(e){return r[e]})):r[e];t(u)}}})),n.forEach((function(e){return window.parent.postMessage({playdeck:{method:\"getData\",key:e}},\"*\")}))})):ri(ii(p.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){return r===u.PLATFORM_INTERNAL?new Promise((function(r){var n=Array.isArray(e)?e:[e],o=(Array.isArray(t)?t:[t]).map((function(e){return\"string\"!=typeof e?JSON.stringify(e):e}));n.forEach((function(e,t){return window.parent.postMessage({playdeck:{method:\"setData\",key:e,value:o[t]}},\"*\")})),r()})):ri(ii(p.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){return t===u.PLATFORM_INTERNAL?new Promise((function(t){(Array.isArray(e)?e:[e]).forEach((function(e){return window.parent.postMessage({playdeck:{method:\"setData\",key:e,value:\"\"}},\"*\")})),t()})):ri(ii(p.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"share\",value:function(){window.parent.postMessage({playdeck:{method:\"customShare\",value:li(this,di)}},\"*\")}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();r.externalId||(r.externalId=this._paymentsGenerateTransactionId(e));var n=this._getPromiseDecorator(f.PURCHASE);return n||(n=this._createPromiseDecorator(f.PURCHASE),window.addEventListener(\"message\",(function e(t){var r=t.data,n=null==r?void 0:r.playdeck;n&&\"requestPayment\"===n.method&&(window.parent.postMessage({playdeck:{method:\"openTelegramLink\",value:n.value.url}},\"*\"),window.removeEventListener(\"message\",e))})),window.addEventListener(\"message\",(function r(n){var o=n.data,i=null==o?void 0:o.playdeck;if(i&&\"invoiceClosed\"===i.method)if(\"paid\"===i.value.status){window.removeEventListener(\"message\",r);var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach((function(t){ai(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({commonId:e},i.value);t._paymentsPurchases.push(a),t._resolvePromiseDecorator(f.PURCHASE,a)}else\"cancelled\"!==i.value.status&&\"failed\"!==i.value.status||(window.removeEventListener(\"message\",r),t._rejectPromiseDecorator(f.PURCHASE,i.value))})),window.parent.postMessage({playdeck:{method:\"requestPayment\",value:r}},\"*\")),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this._paymentsGetProductsPlatformData();if(!e)return Promise.reject();var t=e.map((function(e){return{commonId:e.commonId,price:\"\".concat(e.amount,\" Stars\"),priceCurrencyCode:\"Stars\",priceValue:e.amount}}));return Promise.resolve(t)}}],n&&ti(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(Xt);function hi(e){return hi=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},hi(e)}function mi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=gi(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,gi(n.key),n)}}function gi(e){var t=function(e,t){if(\"object\"!=hi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=hi(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==hi(t)?t:String(t)}function Si(){return Si=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ei(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Si.apply(this,arguments)}function bi(e,t){return bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bi(e,t)}function Pi(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ei(e){return Ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ei(e)}function Ai(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function wi(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Oi(e,t,\"get\"))}function Oi(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var Di=new WeakMap,ki=new WeakSet;function Ii(){this._playerId=this._platformSdk.player.getId(),this._playerName=this._platformSdk.player.getName(),this._playerPhotos=[this._platformSdk.player.getPhoto()]}const Ri=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&bi(e,t)}(d,t);var r,n,o,c,p=(o=d,c=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ei(o);if(c){var r=Ei(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===hi(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Pi(e)}(this,e)});function d(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,d);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Ai(t=Pi(e=p.call.apply(p,[this].concat(o))),r=ki),r.add(t),function(e,t,r){Ai(e,t),t.set(e,{writable:!0,value:void 0})}(Pi(e),Di),e}return r=d,(n=[{key:\"platformId\",get:function(){return e.WORTAL}},{key:\"platformLanguage\",get:function(){if(this._platformSdk){var e=this._platformSdk.session.getLocale();if(e)return e.toLowerCase().slice(0,2)}return Si(Ei(d.prototype),\"platformLanguage\",this)}},{key:\"deviceType\",get:function(){var e=this._platformSdk.session.getDevice();return e?e.toLowerCase():Si(Ei(d.prototype),\"deviceType\",this)}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"https://storage.googleapis.com/cdn-wortal-ai/v2/wortal-core.js\").then((function(){$t(\"Wortal\",\"initializeAsync\").then((function(){window.Wortal.initializeAsync().then((function(){var t,r,n;e._platformSdk=window.Wortal,t=e,r=Di,n=e._platformSdk.getSupportedAPIs(),function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(t,Oi(t,r,\"set\"),n),e._isBannerSupported=wi(e,Di).includes(\"ads.showBanner\"),e._platformSdk.player.onLogin(function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}(e,ki,Ii)),e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE)}))}))}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case l.GAMEPLAY_STARTED:return this._platformSdk.session.gameplayStart(),Promise.resolve();case l.GAMEPLAY_STOPPED:return this._platformSdk.session.gameplayStop(),Promise.resolve();case l.GAME_READY:return this._platformSdk.setLoadingProgress(100),this._platformSdk.startGameAsync(),Promise.resolve();case l.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.session.happyTime(),Promise.resolve();default:return Si(Ei(d.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"showBanner\",value:function(e){var t=\"bottom\";e&&\"string\"==typeof e.position&&(t=e.position),this._platformSdk.ads.showBanner(!0,t),this._setBannerState(s.SHOWN)}},{key:\"hideBanner\",value:function(){this._platformSdk.ads.showBanner(!1),this._setBannerState(s.HIDDEN)}},{key:\"showInterstitial\",value:function(e){var t=this,r=\"next\",n=\"NextLevel\";e&&(e.placement&&(r=e.placement),e.description&&(n=e.description)),this._platformSdk.ads.showInterstitial(r,n,(function(){t._setInterstitialState(i.OPENED)}),(function(){t._setInterstitialState(i.CLOSED)}),(function(){t._setInterstitialState(i.FAILED)}))}},{key:\"showRewarded\",value:function(e){var t=this,r=\"Bonus\";e&&e.description&&(r=e.description),this._platformSdk.ads.showRewarded(r,(function(){t._setRewardedState(a.OPENED)}),(function(){t._setRewardedState(a.CLOSED)}),(function(){t._setRewardedState(a.CLOSED)}),(function(){t._setRewardedState(a.REWARDED)}),(function(){t._setRewardedState(a.FAILED)}))}},{key:\"checkAdBlock\",value:function(){var e=this;return new Promise((function(t){t(e._platformSdk.ads.isAdBlocked())}))}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL?wi(this,Di).includes(\"player.setDataAsync\"):Si(Ei(d.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?wi(this,Di).includes(\"player.setDataAsync\"):Si(Ei(d.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,r){var o=Array.isArray(e)?e:[e];n._platformSdk.player.getDataAsync(o).then((function(r){if(n._platformStorageCachedData||(n._platformStorageCachedData={}),Array.isArray(e)){for(var o=[],i=0;i<e.length;i++){var a=void 0===r[e[i]]?null:r[e[i]];o.push(a),n._platformStorageCachedData[e[i]]=a}t(o)}else{var s=void 0===r[e]?null:r[e];n._platformStorageCachedData[e]=s,t(s)}})).catch((function(e){return r(e)}))})):Si(Ei(d.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?vi({},n._platformStorageCachedData):{};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.player.setDataAsync(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(e){return o(e)}))})):Si(Ei(d.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,n){var o=null!==r._platformStorageCachedData?vi({},r._platformStorageCachedData):{};if(Array.isArray(e))for(var i=0;i<e.length;i++)delete o[e[i]];else delete o[e];r._platformSdk.player.setDataAsync(o).then((function(){r._platformStorageCachedData=o,t()})).catch((function(e){return n(e)}))})):Si(Ei(d.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}}])&&_i(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),d}(Xt);function Ti(e){return Ti=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ti(e)}function Li(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Fi(n.key),n)}}function ji(){return ji=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bi(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ji.apply(this,arguments)}function Ni(e,t){return Ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ni(e,t)}function Ci(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Bi(e){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bi(e)}function Gi(e,t,r){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.set(e,r)}function Mi(e,t,r){return(t=Fi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fi(e){var t=function(e,t){if(\"object\"!=Ti(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ti(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ti(t)?t:String(t)}function Hi(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,zi(e,t,\"set\"),r),r}function Ui(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,zi(e,t,\"get\"))}function zi(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var xi=new WeakMap,Wi=new WeakMap,Vi=new WeakMap,Yi=new WeakMap;const Zi=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ni(e,t)}(d,t);var r,n,o,s,p=(o=d,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bi(o);if(s){var r=Bi(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Ti(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Ci(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Mi(Ci(e=p.call.apply(p,[this].concat(r))),\"_defaultStorageType\",u.PLATFORM_INTERNAL),Mi(Ci(e),\"_isPlayerAuthorized\",!0),Gi(Ci(e),xi,{writable:!0,value:void 0}),Gi(Ci(e),Wi,{writable:!0,value:void 0}),Gi(Ci(e),Vi,{writable:!0,value:{onStart:function(){return e._setRewardedState(a.OPENED)},onSkip:function(){return e._setRewardedState(a.CLOSED)},onReward:function(){return e._setRewardedState(a.REWARDED)},onError:function(){return e._setRewardedState(a.FAILED)}}}),Gi(Ci(e),Yi,{writable:!0,value:{onStart:function(){return e._setInterstitialState(i.OPENED)},onSkip:function(){return e._setInterstitialState(i.CLOSED)},onError:function(){return e._setInterstitialState(i.FAILED)}}}),e}return r=d,(n=[{key:\"platformId\",get:function(){return e.TELEGRAM}},{key:\"platformLanguage\",get:function(){return this._platformSdk?this._platformSdk.initDataUnsafe.user.language_code:ji(Bi(d.prototype),\"platformLanguage\",this)}},{key:\"deviceType\",get:function(){switch(Ui(this,xi)){case\"android\":case\"android_x\":case\"ios\":return c.MOBILE;case\"tdesktop\":case\"unigram\":case\"macos\":return c.DESKTOP;default:return ji(Bi(d.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"https://telegram.org/js/telegram-web-app.js\").then((function(){e._platformSdk=window.Telegram.WebApp;var t=e._platformSdk.initDataUnsafe.user;e._playerId=t.id,e._playerName=[t.first_name,t.last_name].filter(Boolean).join(\" \"),e._playerPhotos=[t.photo_url],Hi(e,xi,e._platformSdk.platform),e._isInitialized=!0,e._options&&e._options.adsgramBlockId?Qt(\"https://sad.adsgram.ai/js/sad.min.js\").then((function(){Hi(e,Wi,window.Adsgram.init({blockId:e._options.adsgramBlockId}))})).finally((function(){e._resolvePromiseDecorator(f.INITIALIZE)})):e._resolvePromiseDecorator(f.INITIALIZE)}))),t.promise}},{key:\"sendMessage\",value:function(e){return e===l.GAME_READY?(this._platformSdk.ready(),Promise.resolve()):ji(Bi(d.prototype),\"sendMessage\",this).call(this,e)}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||ji(Bi(d.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL||ji(Bi(d.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,o){Array.isArray(e)?n._platformSdk.CloudStorage.getItems(e,(function(n,i){if(n)o(n);else{var a=[];e.forEach((function(e){var t=i[e];if(r&&\"string\"==typeof t)try{t=JSON.parse(t)}catch(e){}a.push(t)})),t(a)}})):n._platformSdk.CloudStorage.getItem(e,(function(e,n){e&&o(e);var i=n;if(r&&\"string\"==typeof i)try{i=JSON.parse(i)}catch(e){}t(i)}))})):ji(Bi(d.prototype),\"getDataFromStorage\",this).call(this,e,t)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r){var o=Array.isArray(e)?e:[e],i=(Array.isArray(t)?t:[t]).map((function(e){return\"string\"!=typeof e?JSON.stringify(e):e}));o.forEach((function(e,t){return n._platformSdk.CloudStorage.setItem(e,i[t])})),r()})):ji(Bi(d.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t){(Array.isArray(e)?e:[e]).forEach((function(e){return r._platformSdk.CloudStorage.removeItem(e)})),t()})):ji(Bi(d.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){var e=this;Ui(this,Wi)?(Ui(this,Wi).addEventListener(\"onStart\",Ui(this,Yi).onStart),Ui(this,Wi).addEventListener(\"onSkip\",Ui(this,Yi).onSkip),Ui(this,Wi).addEventListener(\"onError\",Ui(this,Yi).onError),Ui(this,Wi).addEventListener(\"onBannerNotFound\",Ui(this,Yi).onError),Ui(this,Wi).show().finally((function(){Ui(e,Wi).removeEventListener(\"onStart\",Ui(e,Yi).onStart),Ui(e,Wi).removeEventListener(\"onSkip\",Ui(e,Yi).onSkip),Ui(e,Wi).removeEventListener(\"onError\",Ui(e,Yi).onError),Ui(e,Wi).removeEventListener(\"onBannerNotFound\",Ui(e,Yi).onError)}))):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var e=this;Ui(this,Wi)?(Ui(this,Wi).addEventListener(\"onStart\",Ui(this,Vi).onStart),Ui(this,Wi).addEventListener(\"onSkip\",Ui(this,Vi).onSkip),Ui(this,Wi).addEventListener(\"onReward\",Ui(this,Vi).onReward),Ui(this,Wi).addEventListener(\"onError\",Ui(this,Vi).onError),Ui(this,Wi).addEventListener(\"onBannerNotFound\",Ui(this,Vi).onError),Ui(this,Wi).show().finally((function(){Ui(e,Wi).addEventListener(\"onStart\",Ui(e,Vi).onStart),Ui(e,Wi).addEventListener(\"onSkip\",Ui(e,Vi).onSkip),Ui(e,Wi).addEventListener(\"onReward\",Ui(e,Vi).onReward),Ui(e,Wi).addEventListener(\"onError\",Ui(e,Vi).onError),Ui(e,Wi).addEventListener(\"onBannerNotFound\",Ui(e,Vi).onError)}))):this._setRewardedState(a.FAILED)}},{key:\"clipboardRead\",value:function(){var e=this,t=this._getPromiseDecorator(f.CLIPBOARD_READ);return t||(t=this._createPromiseDecorator(f.CLIPBOARD_READ),this._platformSdk.readTextFromClipboard((function(t){t?e._resolvePromiseDecorator(f.CLIPBOARD_READ,t):e._rejectPromiseDecorator(f.CLIPBOARD_READ)}))),t.promise}}])&&Li(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),d}(Xt);var Ki=[\"player\"];function Ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=$i(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xi(e){return Xi=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Xi(e)}function Qi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,$i(n.key),n)}}function $i(e){var t=function(e,t){if(\"object\"!=Xi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Xi(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Xi(t)?t:String(t)}function ea(){return ea=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=na(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ea.apply(this,arguments)}function ta(e,t){return ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ta(e,t)}function ra(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function na(e){return na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},na(e)}function oa(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function ia(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var aa=\"userData\",sa=\"6129580795478709\",ua=new WeakSet,ca=new WeakSet;function la(){var e=this;return new Promise((function(t,r){e._platformStorageCachedData?t(e._platformStorageCachedData):e._platformSdk.api(\"user_data/retrieve\",\"POST\",{key:aa},(function(n){n.error&&\"Key not found\"!==n.error&&r(n);var o={};try{n.jsondata&&(o=JSON.parse(n.jsondata))}catch(e){}e._platformStorageCachedData=o,t(o)}))}))}function fa(e){if(\"ok\"===e.status){this._isPlayerAuthorized=!0,this._defaultStorageType=u.PLATFORM_INTERNAL;var t=e.authResponse.details,r=t.pid,n=t.locale,o=t.nickname,i=t.first_name,a=t.last_name,s=t.avatars;r&&(this._playerId=r),this._platformLanguage=n,this._playerName=[i,a].filter((function(e){return!!e})).join(\" \")||o,this._playerPhotos=[];var c=s.thumb_url,l=s.medium_url,f=s.large_url;c&&this._playerPhotos.push(c),l&&this._playerPhotos.push(l),f&&this._playerPhotos.push(f)}}const pa=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ta(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=na(o);if(s){var r=na(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Xi(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return ra(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return oa(ra(e=c.call.apply(c,[this].concat(r))),ca),oa(ra(e),ua),e}return r=l,(n=[{key:\"platformId\",get:function(){return e.Y8}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isLeaderboardSupported\",get:function(){return!0}},{key:\"isLeaderboardNativePopupSupported\",get:function(){return!0}},{key:\"isLeaderboardMultipleBoardsSupported\",get:function(){return!0}},{key:\"isLeaderboardSetScoreSupported\",get:function(){return!0}},{key:\"isLeaderboardGetScoreSupported\",get:function(){return!0}},{key:\"isLeaderboardGetEntriesSupported\",get:function(){return!0}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"isGetAchievementsListSupported\",get:function(){return!0}},{key:\"isAchievementsNativePopupSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t,r=this._getPromiseDecorator(f.INITIALIZE);return r||(r=this._createPromiseDecorator(f.INITIALIZE),null!==(t=this._options)&&void 0!==t&&t.gameId?Qt(\"https://cdn.y8.com/api/sdk.js\").then((function(){$t(\"ID\").then((function(){e._platformSdk=window.ID,e._platformSdk.Event.subscribe(\"id.init\",(function(){var t,r,n,o,i,a;(t={hostId:\"ca-host-pub-\".concat(sa),adsenseId:e._options.channelId?\"ca-pub-\".concat(sa):e._options.adsenseId,channelId:e._options.channelId},r=t.hostId,n=t.adsenseId,o=t.channelId,i=t.adFrequencyHint,a=void 0===i?\"180s\":i,new Promise((function(e){var t=document.createElement(\"script\");t.setAttribute(\"data-ad-client\",n),o?t.setAttribute(\"data-ad-channel\",o):r&&t.setAttribute(\"data-ad-host\",r),t.setAttribute(\"data-ad-frequency-hint\",a),t.src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\",t.addEventListener(\"load\",e),document.head.appendChild(t)}))).then((function(){e._showAd=function(e){window.adsbygoogle.push(e)},window.adsbygoogle.push({preloadAdBreaks:\"on\",sound:\"on\",onReady:function(){}})})),e._platformSdk.getLoginStatus((function(t){ia(e,ca,fa).call(e,t),e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE)}))})),e._platformSdk.init({appId:e._options.gameId})}))})):this._rejectPromiseDecorator(f.INITIALIZE,m)),r.promise}},{key:\"authorizePlayer\",value:function(){var e=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(t,r){e._platformSdk.login((function(n){ia(e,ca,fa).call(e,n),\"ok\"===n.status?(e._platformStorageCachedData=null,t()):r()}))}))}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL||ea(na(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:ea(na(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,o){ia(n,ua,la).call(n).then((function(n){var o=(Array.isArray(e)?e:[e]).map((function(e){var t=n[e];return r||\"object\"!==Xi(t)||null===t?null!=t?t:null:JSON.stringify(t)}));t(o)})).catch(o)})):ea(na(l.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){ia(n,ua,la).call(n).then((function(i){var a=qi({},i);if(Array.isArray(e))for(var s=0;s<e.length;s++)a[e[s]]=t[s];else a[e]=t;n._platformSdk.api(\"user_data/submit\",\"POST\",{key:aa,value:JSON.stringify(a)},(function(e){\"ok\"===e.status?(n._platformStorageCachedData=a,r()):o(e)}))})).catch(o)})):ea(na(l.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,n){ia(r,ua,la).call(r).then((function(o){var i=qi({},o);if(Array.isArray(e))for(var a=0;a<e.length;a++)delete i[e[a]];else delete i[e];r._platformSdk.api(\"user_data/submit\",\"POST\",{key:aa,value:JSON.stringify(i)},(function(e){\"ok\"===e.status?(r._platformStorageCachedData=i,t()):n(e)}))})).catch(n)})):ea(na(l.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showInterstitial\",value:function(){var e=this;this._showAd?this._showAd({type:\"start\",name:\"start-game\",beforeAd:function(){e._setInterstitialState(i.OPENED)},afterAd:function(){e.interstitialState!==i.FAILED&&e._setInterstitialState(i.CLOSED)},adBreakDone:function(t){\"viewed\"!==t.breakStatus&&e._setInterstitialState(i.FAILED)}}):this._setInterstitialState(i.FAILED)}},{key:\"showRewarded\",value:function(){var e=this;this._showAd?this._showAd({type:\"reward\",name:\"rewarded Ad\",beforeAd:function(){e._setRewardedState(a.OPENED)},afterAd:function(){e.rewardedState!==a.FAILED&&e._setRewardedState(a.CLOSED)},beforeReward:function(e){e(0)},adDismissed:function(){e._setRewardedState(a.FAILED)},adViewed:function(){e._setRewardedState(a.REWARDED)},adBreakDone:function(t){\"frequencyCapped\"!==t.breakStatus&&\"other\"!==t.breakStatus||e._setRewardedState(a.FAILED)}}):this._setRewardedState(a.FAILED)}},{key:\"showLeaderboardNativePopup\",value:function(e){return this._isPlayerAuthorized?e&&e.table?(this._platformSdk.GameAPI.Leaderboards.list(e),Promise.resolve()):Promise.reject(new Error(\"`table` property is not provided\")):Promise.reject()}},{key:\"setLeaderboardScore\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!e||!e.points||!e.table)return Promise.reject(new Error(\"`table` or `points` property is not provided\"));var r=this._getPromiseDecorator(f.SET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(f.SET_LEADERBOARD_SCORE),this._platformSdk.GameAPI.Leaderboards.save(e,(function(e){var r=e.success,n=e.errormessage;r?t._resolvePromiseDecorator(f.SET_LEADERBOARD_SCORE):t._rejectPromiseDecorator(f.SET_LEADERBOARD_SCORE,n)}))),r.promise}},{key:\"getLeaderboardScore\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!e||!e.table)return Promise.reject(new Error(\"`table` property is not provided\"));var r=this._getPromiseDecorator(f.GET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(f.GET_LEADERBOARD_SCORE),this._platformSdk.GameAPI.Leaderboards.listCustom(qi(qi({},e),{},{playerid:this.playerId}),(function(e){var r=e.scores,n=e.success,o=e.errormessage;n?t._resolvePromiseDecorator(f.GET_LEADERBOARD_SCORE,r[0]):t._rejectPromiseDecorator(f.GET_LEADERBOARD_SCORE,o)}))),r.promise}},{key:\"getLeaderboardEntries\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!e||!e.table)return Promise.reject(new Error(\"`table` property is not provided\"));var r=this._getPromiseDecorator(f.GET_LEADERBOARD_ENTRIES);return r||(r=this._createPromiseDecorator(f.GET_LEADERBOARD_ENTRIES),this._platformSdk.GameAPI.Leaderboards.listCustom(e,(function(e){var r=e.scores,n=e.success,o=e.errormessage;n?t._resolvePromiseDecorator(f.GET_LEADERBOARD_ENTRIES,r):t._rejectPromiseDecorator(f.GET_LEADERBOARD_ENTRIES,o)}))),r.promise}},{key:\"unlockAchievement\",value:function(e){var t=this;return this._isPlayerAuthorized&&e.achievement&&e.achievementkey?new Promise((function(r){t._platformSdk.GameAPI.Achievements.save(e,(function(e){r(e)}))})):Promise.reject()}},{key:\"getAchievementsList\",value:function(e){var t=this;return new Promise((function(r,n){t._platformSdk.GameAPI.Achievements.listCustom(e,(function(e){e.success?r(e.achievements.map((function(e){var t=e.player;return qi(qi({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ki)),{},{playerid:t.playerid,playername:t.playername,lastupdated:t.lastupdated,date:t.date,rdate:t.rdate})}))):n(new Error(e.errorcode))}))}))}},{key:\"showAchievementsNativePopup\",value:function(e){return this._platformSdk.GameAPI.Achievements.list(e),Promise.resolve()}}])&&Qi(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Xt);function da(e){return da=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},da(e)}function ya(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,ha(n.key),n)}}function ha(e){var t=function(e,t){if(\"object\"!=da(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=da(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==da(t)?t:String(t)}function ma(){return ma=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_a(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ma.apply(this,arguments)}function va(e,t){return va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},va(e,t)}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(e)}const ga=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&va(e,t)}(l,t);var r,n,o,s,c=(o=l,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_a(o);if(s){var r=_a(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===da(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),c.apply(this,arguments)}return r=l,(n=[{key:\"platformId\",get:function(){return e.LAGGED}},{key:\"isLeaderboardSupported\",get:function(){return!0}},{key:\"isLeaderboardSetScoreSupported\",get:function(){return!0}},{key:\"isAchievementsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),this._options&&this._options.devId&&this._options.publisherId?Qt(\"https://lagged.com/api/rev-share/lagged.js\").then((function(){$t(\"LaggedAPI\").then((function(){e._platformSdk=window.LaggedAPI,e._platformSdk.init(e._options.devId,e._options.publisherId),e._platformSdk.User.get((function(t){var r,n=null!==(r=null==t?void 0:t.user)&&void 0!==r?r:{},o=n.id,i=n.name,a=n.avatar;o>0&&(e._playerId=o,e._playerName=i,e._playerPhotos.push(a),e._isPlayerAuthorized=!0),e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE)}))}))})):this._rejectPromiseDecorator(f.INITIALIZE,_)),t.promise}},{key:\"isStorageSupported\",value:function(e){return e!==u.PLATFORM_INTERNAL&&ma(_a(l.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e!==u.PLATFORM_INTERNAL&&ma(_a(l.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"showInterstitial\",value:function(){var e=this;this._setInterstitialState(i.OPENED),this._platformSdk.APIAds.show((function(){e._setInterstitialState(i.CLOSED)}))}},{key:\"showRewarded\",value:function(){var e=this;this._setRewardedState(a.OPENED),this._platformSdk.GEvents.reward((function(t,r){t?r():e._setRewardedState(a.FAILED)}),(function(t){t?(e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)}))}},{key:\"setLeaderboardScore\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(void 0===(null==e?void 0:e.score)||null==e||!e.boardId)return Promise.reject();var r=this._getPromiseDecorator(f.SET_LEADERBOARD_SCORE);if(!r){r=this._createPromiseDecorator(f.SET_LEADERBOARD_SCORE);var n={score:\"string\"==typeof e.score?parseInt(e.score,10):e.score,board:e.boardId};this._platformSdk.Scores.save(n,(function(e){e.success?t._resolvePromiseDecorator(f.SET_LEADERBOARD_SCORE):t._rejectPromiseDecorator(f.SET_LEADERBOARD_SCORE,e.errormsg)}))}return r.promise}},{key:\"unlockAchievement\",value:function(e){var t=this;return e.achievement?new Promise((function(r,n){t._platformSdk.Achievements.save(Array.isArray(e.achievement)?e.achievement:[e.achievement],(function(e){e.success?r(e):n(e.errormsg)}))})):Promise.reject()}}])&&ya(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Xt);function Sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(r),!0).forEach((function(t){Ia(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pa(e){return Pa=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Pa(e)}function Ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Ra(n.key),n)}}function Aa(){return Aa=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Da(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Aa.apply(this,arguments)}function wa(e,t){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wa(e,t)}function Oa(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Da(e){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Da(e)}function ka(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Ia(e,t,r){return(t=Ra(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ra(e){var t=function(e,t){if(\"object\"!=Pa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Pa(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Pa(t)?t:String(t)}function Ta(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var La=new WeakSet,ja=new WeakSet;function Na(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedInterstitialPromises[e])return this._preloadedInterstitialPromises[e];var r=null;return this._preloadedInterstitialPromises[e]=this._platformSdk.getInterstitialAdAsync(e).then((function(e){return r=e,e.loadAsync()})).then((function(){return r})).catch((function(){return t._preloadedInterstitialPromises[e]=null,Promise.reject()})),this._preloadedInterstitialPromises[e]}function Ca(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this._preloadedRewardedPromises[e])return this._preloadedRewardedPromises[e];var r=null;return this._preloadedRewardedPromises[e]=this._platformSdk.getRewardedVideoAsync(e).then((function(e){return r=e,e.loadAsync()})).then((function(){return r})).catch((function(){return t._preloadedRewardedPromises[e]=null,Promise.reject()})),this._preloadedRewardedPromises[e]}const Ba=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&wa(e,t)}(y,t);var r,n,o,p,d=(o=y,p=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Da(o);if(p){var r=Da(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Pa(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Oa(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,y);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ka(Oa(e=d.call.apply(d,[this].concat(r))),ja),ka(Oa(e),La),Ia(Oa(e),\"_contextId\",null),Ia(Oa(e),\"_bannerPlacementId\",null),Ia(Oa(e),\"_interstitialPlacements\",[]),Ia(Oa(e),\"_rewardedPlacements\",[]),Ia(Oa(e),\"_isPlayerAuthorized\",!0),Ia(Oa(e),\"_supportedApis\",[]),Ia(Oa(e),\"_preloadedInterstitialPromises\",{}),Ia(Oa(e),\"_preloadedRewardedPromises\",{}),Ia(Oa(e),\"_defaultStorageType\",u.PLATFORM_INTERNAL),e}return r=y,n=[{key:\"platformId\",get:function(){return e.FACEBOOK}},{key:\"platformLanguage\",get:function(){return this._platformLanguage}},{key:\"deviceType\",get:function(){switch(this._platformSdk&&this._platformSdk.getPlatform()){case\"IOS\":case\"MOBILE_WEB\":case\"ANDROID\":return c.MOBILE;case\"WEB\":return c.DESKTOP;default:return Aa(Da(y.prototype),\"deviceType\",this)}}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isPlayerAuthorized\",get:function(){return this._isPlayerAuthorized}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isLeaderboardSupported\",get:function(){return this._supportedApis.includes(\"getLeaderboardAsync\")}},{key:\"isLeaderboardMultipleBoardsSupported\",get:function(){return this._supportedApis.includes(\"getLeaderboardAsync\")}},{key:\"isLeaderboardSetScoreSupported\",get:function(){return this._supportedApis.includes(\"getLeaderboardAsync\")}},{key:\"isLeaderboardGetScoreSupported\",get:function(){return this._supportedApis.includes(\"getLeaderboardAsync\")}},{key:\"isLeaderboardGetEntriesSupported\",get:function(){return this._supportedApis.includes(\"getLeaderboardAsync\")}},{key:\"isPaymentsSupported\",get:function(){return this._supportedApis.includes(\"payments.purchaseAsync\")}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedApis.includes(\"inviteAsync\")}},{key:\"isShareSupported\",get:function(){return this._supportedApis.includes(\"shareAsync\")}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"https://connect.facebook.net/en_US/fbinstant.8.0.js\").then((function(){return $t(\"FBInstant\")})).then((function(){return e._platformSdk=window.FBInstant,e._platformSdk.initializeAsync()})).then((function(){e._bannerPlacementId=e._options.bannerPlacementId||null,e._interstitialPlacements=e._options.interstitialPlacements||[],e._rewardedPlacements=e._options.rewardedPlacements||[],e._playerId=e._platformSdk.player.getID(),e._contextId=e._platformSdk.context.getID();var t=e._platformSdk.getLocale();t&&t.length>2&&(e._platformLanguage=t.substring(0,2).toLowerCase()),e._supportedApis=e._platformSdk.getSupportedAPIs(),e._isInitialized=!0;for(var r=0;r<e._interstitialPlacements.length;r++){var n=e._interstitialPlacements[r];Ta(e,La,Na).call(e,n.id)}for(var o=0;o<e._rewardedPlacements.length;o++){var i=e._rewardedPlacements[o];Ta(e,ja,Ca).call(e,i.id)}e._resolvePromiseDecorator(f.INITIALIZE)})).catch((function(t){return e._rejectPromiseDecorator(f.INITIALIZE,t)}))),t.promise}},{key:\"sendMessage\",value:function(e){var t=this;return e===l.GAME_READY?(this._platformSdk.setLoadingProgress(100),new Promise((function(e){t._platformSdk.startGameAsync().then(e)}))):Aa(Da(y.prototype),\"sendMessage\",this).call(this,e)}},{key:\"authorizePlayer\",value:function(){return Promise.resolve()}},{key:\"isStorageSupported\",value:function(e){return e===u.PLATFORM_INTERNAL?this._supportedApis.includes(\"getDataAsync\"):Aa(Da(y.prototype),\"isStorageSupported\",this).call(this,e)}},{key:\"isStorageAvailable\",value:function(e){return e===u.PLATFORM_INTERNAL?this._isPlayerAuthorized:Aa(Da(y.prototype),\"isStorageAvailable\",this).call(this,e)}},{key:\"getDataFromStorage\",value:function(e,t,r){var n=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,o){var i=Array.isArray(e)?e:[e];n._platformSdk.player.getDataAsync(i).then((function(e){var n=i.map((function(t){var n=e[t];return r||\"object\"!==Pa(n)||null===n?null!=n?n:null:JSON.stringify(n)}));t(n)})).catch(o)})):Aa(Da(y.prototype),\"getDataFromStorage\",this).call(this,e,t,r)}},{key:\"setDataToStorage\",value:function(e,t,r){var n=this;return r===u.PLATFORM_INTERNAL?new Promise((function(r,o){var i={};if(Array.isArray(e))for(var a=0;a<e.length;a++)i[e[a]]=t[a];else i[e]=t;n._platformSdk.player.setDataAsync(i).then(r).catch(o)})):Aa(Da(y.prototype),\"setDataToStorage\",this).call(this,e,t,r)}},{key:\"deleteDataFromStorage\",value:function(e,t){var r=this;return t===u.PLATFORM_INTERNAL?new Promise((function(t,n){var o={};if(Array.isArray(e))for(var i=0;i<e.length;i++)o[e[i]]=null;else o[e]=null;r._platformSdk.player.setDataAsync(o).then(t).catch(n)})):Aa(Da(y.prototype),\"deleteDataFromStorage\",this).call(this,e,t)}},{key:\"showBanner\",value:function(e){var t=this;this._platformSdk.loadBannerAdAsync(this._bannerPlacementId,e).then((function(){t._setBannerState(s.SHOWN)})).catch((function(){t._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._platformSdk.hideBannerAdAsync().then((function(){e._setBannerState(s.HIDDEN)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"showInterstitial\",value:function(e){var t,r=this,n=e||(null===(t=this._interstitialPlacements[0])||void 0===t?void 0:t.id);Ta(this,La,Na).call(this,n).then((function(e){return r._setInterstitialState(i.OPENED),e.showAsync()})).then((function(){r._setInterstitialState(i.CLOSED)})).catch((function(){r._setInterstitialState(i.FAILED)})).finally((function(){Ta(r,La,Na).call(r,n,!0)}))}},{key:\"showRewarded\",value:function(e){var t,r=this,n=e||(null===(t=this._rewardedPlacements[0])||void 0===t?void 0:t.id);Ta(this,ja,Ca).call(this,n).then((function(e){return r._setRewardedState(a.OPENED),e.showAsync()})).then((function(){r._setRewardedState(a.REWARDED),r._setRewardedState(a.CLOSED)})).catch((function(){r._setRewardedState(a.FAILED)})).finally((function(){Ta(r,ja,Ca).call(r,n,!0)}))}},{key:\"setLeaderboardScore\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!e||!e.score||!e.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(f.SET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(f.SET_LEADERBOARD_SCORE),this._platformSdk.getLeaderboardAsync(e.leaderboardName).then((function(t){return t.setScoreAsync(e.score,e.extraData?JSON.stringify(e.extraData):null)})).then((function(){t._resolvePromiseDecorator(f.SET_LEADERBOARD_SCORE)})).catch((function(e){t._rejectPromiseDecorator(f.SET_LEADERBOARD_SCORE,e)}))),r.promise}},{key:\"getLeaderboardScore\",value:function(e){var t=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!e||!e.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(f.GET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(f.GET_LEADERBOARD_SCORE),this._platformSdk.getLeaderboardAsync(e.leaderboardName).then((function(e){return e.getPlayerEntryAsync()})).then((function(e){t._resolvePromiseDecorator(f.GET_LEADERBOARD_SCORE,e.getScore())})).catch((function(e){t._rejectPromiseDecorator(f.GET_LEADERBOARD_SCORE,e)}))),r.promise}},{key:\"getLeaderboardEntries\",value:function(e){var t=this;if(!e||!e.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(f.GET_LEADERBOARD_ENTRIES);if(!r){var n,o;r=this._createPromiseDecorator(f.GET_LEADERBOARD_ENTRIES);var i=[null!==(n=e.count)&&void 0!==n?n:5,null!==(o=e.offset)&&void 0!==o?o:0];this._platformSdk.getLeaderboardAsync(e.leaderboardName).then((function(e){return e.getConnectedPlayerEntriesAsync.apply(e,i)})).then((function(e){var r=null;e&&e.entries.length>0&&(r=e.entries.map((function(e){return{rank:e.rank,score:e.score,format_score:e.format_score,ts:e.ts,extra_data:e.extra_data,playerId:e.player.player_id,playerName:e.player.name,playerPhoto:e.player.photo}}))),t._resolvePromiseDecorator(f.GET_LEADERBOARD_ENTRIES,r)})).catch((function(e){t._rejectPromiseDecorator(f.GET_LEADERBOARD_ENTRIES,e)}))}return r.promise}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();var n=this._getPromiseDecorator(f.PURCHASE);return n||(n=this._createPromiseDecorator(f.PURCHASE),this._platformSdk.payments.purchaseAsync(r).then((function(r){var n=ba({commonId:e},r);t._paymentsPurchases.push(n),t._resolvePromiseDecorator(f.PURCHASE,r)})).catch((function(e){t._rejectPromiseDecorator(f.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.commonId===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(f.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(f.CONSUME_PURCHASE),this._platformSdk.payments.consumePurchaseAsync(this._paymentsPurchases[r].purchaseToken).then((function(e){t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(f.CONSUME_PURCHASE,e)})).catch((function(e){t._rejectPromiseDecorator(f.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(f.GET_CATALOG);return r||(r=this._createPromiseDecorator(f.GET_CATALOG),this._platformSdk.payments.getCatalogAsync().then((function(r){var n=t.map((function(e){var t=r.find((function(t){return t.productID===e.productID}));return{commonId:e.commonId,productID:t.productID,description:t.description,imageURI:t.imageURI,price:t.price,priceCurrencyCode:t.priceCurrencyCode,priceValue:t.priceAmount,title:t.title}}));e._resolvePromiseDecorator(f.GET_CATALOG,n)})).catch((function(t){e._rejectPromiseDecorator(f.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(f.GET_PURCHASES);return t||(t=this._createPromiseDecorator(f.GET_PURCHASES),this._platformSdk.payments.getPurchasesAsync().then((function(t){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){return ba({commonId:r.find((function(t){return t.id===e.productID})).commonId},e)})),e._resolvePromiseDecorator(f.GET_PURCHASES,e._paymentsPurchases)})).catch((function(t){e._rejectPromiseDecorator(f.GET_PURCHASES,t)}))),t.promise}},{key:\"inviteFriends\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.image||!t.text)return Promise.reject();if(!er(t.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(f.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(f.INVITE_FRIENDS),this._platformSdk.inviteAsync(t).then((function(){e._resolvePromiseDecorator(f.INVITE_FRIENDS)})).catch((function(t){e._rejectPromiseDecorator(f.INVITE_FRIENDS,t)}))),r.promise}},{key:\"share\",value:function(e){var t=this;if(!e.image||!e.text)return Promise.reject();if(!er(e.image))return Promise.reject(new Error(\"Image is not base64\"));var r=this._getPromiseDecorator(f.SHARE);return r||(r=this._createPromiseDecorator(f.SHARE),this._platformSdk.shareAsync(e).then((function(){t._resolvePromiseDecorator(f.SHARE)})).catch((function(e){t._rejectPromiseDecorator(f.SHARE,e)}))),r.promise}}],n&&Ea(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),y}(Xt);function Ga(e){return Ga=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ga(e)}function Ma(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Fa(n.key),n)}}function Fa(e){var t=function(e,t){if(\"object\"!=Ga(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ga(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ga(t)?t:String(t)}var Ha,Ua=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r;return t=e,r=[{key:\"send\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"*\";window.parent&&window.parent.postMessage(e,t)}},{key:\"addListener\",value:function(e){window.addEventListener(\"message\",e)}},{key:\"removeListener\",value:function(e){window.removeEventListener(\"message\",e)}},{key:\"generateMessageId\",value:function(){return\"\".concat(Date.now(),\"-\").concat(Math.random())}}],r&&Ma(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function za(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?za(Object(r),!0).forEach((function(t){Xa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):za(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wa(e){return Wa=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Wa(e)}function Va(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Qa(n.key),n)}}function Ya(e,t){return Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ya(e,t)}function Za(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ka(e,t){es(e,t),t.add(e)}function Ja(){return Ja=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qa(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ja.apply(this,arguments)}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qa(e)}function Xa(e,t,r){return(t=Qa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qa(e){var t=function(e,t){if(\"object\"!=Wa(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Wa(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Wa(t)?t:String(t)}function $a(e,t,r){es(e,t),t.set(e,r)}function es(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function ts(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}function rs(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var ns=\"banner\",os=\"get_data_from_storage\",is=\"get_server_time\",as=\"clipboard_read\",ss=\"unlock_achievement\",us=\"get_achievements\",cs=\"get_performance_resources\",ls=\"isStorageInternalSupported\",fs=\"isStorageLocalSupported\",ps=new WeakMap,ds=new WeakMap,ys=new WeakSet,hs=new WeakSet,ms=function(r){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ya(e,t)}(y,r);var n,o,c,p,d=(c=y,p=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qa(c);if(p){var r=qa(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===Wa(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Za(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,y);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ka(Za(e=d.call.apply(d,[this].concat(r))),hs),Ka(Za(e),ys),$a(Za(e),ps,{get:vs,set:void 0}),$a(Za(e),ds,{writable:!0,value:new Ua}),Xa(Za(e),\"_supportedFeatures\",[]),e}return n=y,(o=[{key:\"platformId\",get:function(){return e.QA_TOOL}},{key:\"platformLanguage\",get:function(){return this._platformLanguage}},{key:\"platformTld\",get:function(){return this._platformTld}},{key:\"deviceType\",get:function(){return this._deviceType}},{key:\"platformPayload\",get:function(){return this._platformPayload}},{key:\"isPlayerAuthorizationSupported\",get:function(){return this._supportedFeatures.includes(\"isPlayerAuthorizationSupported\")}},{key:\"isPaymentsSupported\",get:function(){return this._supportedFeatures.includes(\"isPaymentsSupported\")}},{key:\"isRemoteConfigSupported\",get:function(){return this._supportedFeatures.includes(\"isRemoteConfigSupported\")}},{key:\"isInviteFriendsSupported\",get:function(){return this._supportedFeatures.includes(\"isInviteFriendsSupported\")}},{key:\"isJoinCommunitySupported\",get:function(){return this._supportedFeatures.includes(\"isJoinCommunitySupported\")}},{key:\"isShareSupported\",get:function(){return this._supportedFeatures.includes(\"isShareSupported\")}},{key:\"isCreatePostSupported\",get:function(){return this._supportedFeatures.includes(\"isCreatePostSupported\")}},{key:\"isAddToHomeScreenSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToHomeScreenSupported\")}},{key:\"isAddToFavoritesSupported\",get:function(){return this._supportedFeatures.includes(\"isAddToFavoritesSupported\")}},{key:\"isRateSupported\",get:function(){return this._supportedFeatures.includes(\"isRateSupported\")}},{key:\"isLeaderboardSupported\",get:function(){return this._supportedFeatures.includes(\"isLeaderboardSupported\")}},{key:\"isLeaderboardMultipleBoardsSupported\",get:function(){return this._supportedFeatures.includes(\"isLeaderboardMultipleBoardsSupported\")}},{key:\"isLeaderboardSetScoreSupported\",get:function(){return this._supportedFeatures.includes(\"isLeaderboardSetScoreSupported\")}},{key:\"isLeaderboardGetScoreSupported\",get:function(){return this._supportedFeatures.includes(\"isLeaderboardGetScoreSupported\")}},{key:\"isLeaderboardGetEntriesSupported\",get:function(){return this._supportedFeatures.includes(\"isLeaderboardGetEntriesSupported\")}},{key:\"isLeaderboardNativePopupSupported\",get:function(){return this._supportedFeatures.includes(\"isLeaderboardNativePopupSupported\")}},{key:\"isClipboardSupported\",get:function(){return this._supportedFeatures.includes(\"isClipboardSupported\")}},{key:\"isAchievementsSupported\",get:function(){return this._supportedFeatures.includes(\"isAchievementsSupported\")}},{key:\"isGetAchievementsListSupported\",get:function(){return this._supportedFeatures.includes(\"isGetAchievementsListSupported\")}},{key:\"isAchievementsNativePopupSupported\",get:function(){return this._supportedFeatures.includes(\"isAchievementsNativePopupSupported\")}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var r=this._getPromiseDecorator(f.INITIALIZE);return r||(r=this._createPromiseDecorator(f.INITIALIZE),this._defaultStorageType=u.PLATFORM_INTERNAL,ts(this,ds).addListener((function(r){var n=r.data;if(null!=n&&n.type&&n.type===t.PLATFORM&&(n.action===f.INITIALIZE&&rs(e,ys,_s).call(e,n),n.action===cs)){var o,i=ts(e,ds).generateMessageId(),a=(null==n||null===(o=n.options)||void 0===o?void 0:o.resources)||[];rs(e,hs,gs).call(e,i,a)}})),ts(this,ds).send({type:t.PLATFORM,action:f.INITIALIZE})),r.promise}},{key:\"authorizePlayer\",value:function(e){var r=this,n=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);if(!n){n=this._createPromiseDecorator(f.AUTHORIZE_PLAYER);var o=ts(this,ds).generateMessageId();ts(this,ds).addListener((function e(n){var i=n.data;if((null==i?void 0:i.type)===t.PLAYER&&i.action===f.AUTHORIZE_PLAYER&&i.id===o){var a=i.player,s=i.auth;\"success\"===s.status?(r._isPlayerAuthorized=!0,r._playerId=a.userId,r._playerName=a.name,a.profilePictureUrl&&(r._playerPhotos=[a.profilePictureUrl]),r._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)):r._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,s.error),ts(r,ds).removeListener(e)}})),ts(this,ds).send({type:t.PLAYER,action:f.AUTHORIZE_PLAYER,id:o,options:e})}return n.promise}},{key:\"sendMessage\",value:function(e){return[l.GAME_READY,l.IN_GAME_LOADING_STARTED,l.IN_GAME_LOADING_STOPPED,l.GAMEPLAY_STARTED,l.GAMEPLAY_STOPPED,l.PLAYER_GOT_ACHIEVEMENT,l.GAME_OVER].includes(e)?(ts(this,ds).send({type:t.PLATFORM,action:e}),Promise.resolve()):Ja(qa(y.prototype),\"sendMessage\",this).call(this,e)}},{key:\"getServerTime\",value:function(){var e=this;return new Promise((function(r,n){var o,i=ts(e,ds).generateMessageId(),a=function a(s){var u=s.data;if((null==u?void 0:u.type)===t.PLATFORM&&u.action===is&&u.id===i){if(!u.time)return void n(new Error(\"Invalid server time\"));clearTimeout(o),r(u.time),ts(e,ds).removeListener(a)}};ts(e,ds).addListener(a),ts(e,ds).send({type:t.PLATFORM,action:is,id:i}),o=setTimeout((function(){n(new Error(\"Server time request timeout\")),ts(e,ds).removeListener(a)}),5e3)}))}},{key:\"isStorageSupported\",value:function(e){return ts(this,ds).send({type:t.STORAGE,action:\"is_storage_supported\",options:{storageType:e}}),!(e!==u.PLATFORM_INTERNAL||!this._supportedFeatures.includes(ls))||!(e!==u.LOCAL_STORAGE||!this._supportedFeatures.includes(fs))}},{key:\"isStorageAvailable\",value:function(e){return ts(this,ds).send({type:t.STORAGE,action:\"is_storage_available\",options:{storageType:e}}),!(e!==u.PLATFORM_INTERNAL||!this._supportedFeatures.includes(ls))||!(e!==u.LOCAL_STORAGE||!this._supportedFeatures.includes(fs))}},{key:\"getDataFromStorage\",value:function(e,r,n){var o=this;if(r===u.PLATFORM_INTERNAL||r===u.LOCAL_STORAGE&&ts(this,ps)){var i=ts(this,ds).generateMessageId();return new Promise((function(a){ts(o,ds).addListener((function e(r){var n=r.data;if((null==n?void 0:n.type)===t.STORAGE&&n.action===os&&n.id===i){var s=Object.values(n.storage);a(s),ts(o,ds).removeListener(e)}})),ts(o,ds).send({type:t.STORAGE,action:os,id:i,options:{key:e,storageType:r,tryParseJson:n}})}))}return ts(this,ds).send({type:t.STORAGE,action:os,options:{key:e,storageType:r,tryParseJson:n}}),Ja(qa(y.prototype),\"getDataFromStorage\",this).call(this,e,r,n)}},{key:\"setDataToStorage\",value:function(e,r,n){return ts(this,ds).send({type:t.STORAGE,action:\"set_data_to_storage\",options:{key:e,value:r,storageType:n}}),n===u.PLATFORM_INTERNAL||n===u.LOCAL_STORAGE&&ts(this,ps)?Promise.resolve():Ja(qa(y.prototype),\"setDataToStorage\",this).call(this,e,r,n)}},{key:\"deleteDataFromStorage\",value:function(e,r){return ts(this,ds).send({type:t.STORAGE,action:\"delete_data_from_storage\",options:{key:e,storageType:r}}),r===u.PLATFORM_INTERNAL||r===u.LOCAL_STORAGE&&ts(this,ps)?Promise.resolve():Ja(qa(y.prototype),\"deleteDataFromStorage\",this).call(this,e,r)}},{key:\"showInterstitial\",value:function(){var e=this;ts(this,ds).addListener((function r(n){var o=n.data;if((null==o?void 0:o.type)===t.ADVERTISEMENT)switch(o.payload.status){case\"start\":e._setInterstitialState(i.LOADING);break;case\"open\":e._setInterstitialState(i.OPENED);break;case\"failed\":e._setInterstitialState(i.FAILED);break;case\"close\":e._setInterstitialState(i.CLOSED),ts(e,ds).removeListener(r)}})),ts(this,ds).send({type:t.ADVERTISEMENT,action:\"interstitial\"})}},{key:\"showRewarded\",value:function(){var e=this;ts(this,ds).addListener((function r(n){var o=n.data;if((null==o?void 0:o.type)===t.ADVERTISEMENT)switch(o.payload.status){case\"start\":e._setRewardedState(a.LOADING);break;case\"open\":e._setRewardedState(a.OPENED);break;case\"failed\":e._setRewardedState(a.FAILED);break;case\"rewarded\":e._setRewardedState(a.REWARDED);break;case\"close\":e._setRewardedState(a.CLOSED),ts(e,ds).removeListener(r)}})),ts(this,ds).send({type:t.ADVERTISEMENT,action:\"reward\"})}},{key:\"showBanner\",value:function(){this._setBannerState(s.SHOWN),ts(this,ds).send({type:t.ADVERTISEMENT,action:s.SHOWN,options:{type:ns}})}},{key:\"hideBanner\",value:function(){this._setBannerState(s.HIDDEN),ts(this,ds).send({type:t.ADVERTISEMENT,action:s.HIDDEN,options:{type:ns}})}},{key:\"checkAdBlock\",value:function(){return ts(this,ds).send({type:\"check_adblock\",action:f.ADBLOCK_DETECT}),Ja(qa(y.prototype),\"checkAdBlock\",this).call(this)}},{key:\"inviteFriends\",value:function(){var e=this._getPromiseDecorator(f.INVITE_FRIENDS);return e||(e=this._createPromiseDecorator(f.INVITE_FRIENDS),this._resolvePromiseDecorator(f.INVITE_FRIENDS),ts(this,ds).send({type:t.SOCIAL,action:f.INVITE_FRIENDS})),e.promise}},{key:\"joinCommunity\",value:function(){var e=this._getPromiseDecorator(f.JOIN_COMMUNITY);return e||(e=this._createPromiseDecorator(f.JOIN_COMMUNITY),this._resolvePromiseDecorator(f.JOIN_COMMUNITY),ts(this,ds).send({type:t.SOCIAL,action:f.JOIN_COMMUNITY})),e.promise}},{key:\"share\",value:function(){var e=this._getPromiseDecorator(f.SHARE);return e||(e=this._createPromiseDecorator(f.SHARE),this._resolvePromiseDecorator(f.SHARE),ts(this,ds).send({type:t.SOCIAL,action:f.SHARE})),e.promise}},{key:\"createPost\",value:function(){var e=this._getPromiseDecorator(f.CREATE_POST);return e||(e=this._createPromiseDecorator(f.CREATE_POST),this._resolvePromiseDecorator(f.CREATE_POST),ts(this,ds).send({type:t.SOCIAL,action:f.CREATE_POST})),e.promise}},{key:\"addToHomeScreen\",value:function(){var e=this._getPromiseDecorator(f.ADD_TO_HOME_SCREEN);return e||(e=this._createPromiseDecorator(f.ADD_TO_HOME_SCREEN),this._resolvePromiseDecorator(f.ADD_TO_HOME_SCREEN),ts(this,ds).send({type:t.SOCIAL,action:f.ADD_TO_HOME_SCREEN})),e.promise}},{key:\"addToFavorites\",value:function(){var e=this._getPromiseDecorator(f.ADD_TO_FAVORITES);return e||(e=this._createPromiseDecorator(f.ADD_TO_FAVORITES),this._resolvePromiseDecorator(f.ADD_TO_FAVORITES),ts(this,ds).send({type:t.SOCIAL,action:f.ADD_TO_FAVORITES})),e.promise}},{key:\"rate\",value:function(){var e=this._getPromiseDecorator(f.RATE);return e||(e=this._createPromiseDecorator(f.RATE),this._resolvePromiseDecorator(f.RATE),ts(this,ds).send({type:t.SOCIAL,action:f.RATE})),e.promise}},{key:\"paymentsPurchase\",value:function(e){var r=this,n=this._paymentsGetProductPlatformData(e);if(!n)return Promise.reject();var o=this._getPromiseDecorator(f.PURCHASE);if(!o){o=this._createPromiseDecorator(f.PURCHASE);var i=ts(this,ds).generateMessageId();ts(this,ds).addListener((function n(o){var a=o.data;if((null==a?void 0:a.type)===t.PAYMENTS&&a.action===f.PURCHASE&&a.id===i){var s;if(!a.purchase||\"object\"!==Wa(a.purchase))return r._rejectPromiseDecorator(f.PURCHASE,new Error(\"Invalid purchase\")),void ts(r,ds).removeListener(n);if(null!==(s=a.purchase)&&void 0!==s&&s.status){var u=xa({commonId:e},a.purchase.purchaseData);r._paymentsPurchases.push(u),r._resolvePromiseDecorator(f.PURCHASE,u)}else{var c;r._rejectPromiseDecorator(f.PURCHASE,(null===(c=a.purchase)||void 0===c?void 0:c.error)||new Error(\"Unknown purchase error\"))}ts(r,ds).removeListener(n)}})),ts(this,ds).send({type:t.PAYMENTS,action:f.PURCHASE,id:i,options:{product:n}})}return o.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var r=this,n=this._paymentsPurchases.findIndex((function(t){return t.commonId===e}));if(n<0)return Promise.reject();var o=this._getPromiseDecorator(f.CONSUME_PURCHASE);if(!o){o=this._createPromiseDecorator(f.CONSUME_PURCHASE);var i=ts(this,ds).generateMessageId();ts(this,ds).addListener((function e(o){var a=o.data;if((null==a?void 0:a.type)===t.PAYMENTS&&a.action===f.CONSUME_PURCHASE&&a.id===i){var s,u;if(!a.purchase||\"object\"!==Wa(a.purchase))return r._rejectPromiseDecorator(f.CONSUME_PURCHASE,new Error(\"Invalid purchase\")),void ts(r,ds).removeListener(e);null!==(s=a.purchase)&&void 0!==s&&s.status?(r._paymentsPurchases.splice(n,1),r._resolvePromiseDecorator(f.CONSUME_PURCHASE,a.result)):r._rejectPromiseDecorator(f.CONSUME_PURCHASE,(null===(u=a.purchase)||void 0===u?void 0:u.error)||new Error(\"Unknown consume purchase error\")),ts(r,ds).removeListener(e)}})),ts(this,ds).send({type:t.PAYMENTS,action:f.CONSUME_PURCHASE,id:i,options:{product:this._paymentsPurchases[n]}})}return o.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,r=this._getPromiseDecorator(f.GET_CATALOG);if(!r){r=this._createPromiseDecorator(f.GET_CATALOG);var n=this._paymentsGetProductsPlatformData(),o=ts(this,ds).generateMessageId();ts(this,ds).addListener((function r(i){var a=i.data;if((null==a?void 0:a.type)===t.PAYMENTS&&a.action===f.GET_CATALOG&&a.id===o){var s=n.map((function(e){return{commonId:e.commonId,id:e.id,price:\"\".concat(e.amount,\" Golden Fennec\"),priceCurrencyCode:\"Golden Fennec\",priceCurrencyImage:\"https://games.playgama.com/assets/gold-fennec-coin-large.webp\",priceValue:e.amount}}));ts(e,ds).removeListener(r),e._resolvePromiseDecorator(f.GET_CATALOG,s)}})),ts(this,ds).send({type:t.PAYMENTS,action:f.GET_CATALOG,id:o})}return r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,r=this._getPromiseDecorator(f.GET_PURCHASES);if(!r){r=this._createPromiseDecorator(f.GET_PURCHASES);var n=ts(this,ds).generateMessageId();ts(this,ds).addListener((function r(o){var i=o.data;if((null==i?void 0:i.type)===t.PAYMENTS&&i.action===f.GET_PURCHASES&&i.id===n){var a=e._paymentsGetProductsPlatformData();e._paymentsPurchases=i.purchases.map((function(e){return xa({commonId:a.find((function(t){return t.id===e.id})).commonId},e.purchaseData)})),ts(e,ds).removeListener(r),e._resolvePromiseDecorator(f.GET_PURCHASES,e._paymentsPurchases)}})),ts(this,ds).send({type:t.PAYMENTS,action:f.GET_PURCHASES,id:n})}return r.promise}},{key:\"getRemoteConfig\",value:function(){var e=this,r=this._getPromiseDecorator(f.GET_REMOTE_CONFIG);if(!r){r=this._createPromiseDecorator(f.GET_REMOTE_CONFIG);var n=ts(this,ds).generateMessageId();ts(this,ds).addListener((function r(o){var i=o.data;(null==i?void 0:i.type)===t.REMOTE_CONFIG&&i.action===f.GET_REMOTE_CONFIG&&i.id===n&&(e._resolvePromiseDecorator(f.GET_REMOTE_CONFIG,i.result),ts(e,ds).removeListener(r))})),ts(this,ds).send({type:t.REMOTE_CONFIG,action:f.GET_REMOTE_CONFIG,id:n})}return r.promise}},{key:\"clipboardWrite\",value:function(e){var r=this,n=this._getPromiseDecorator(f.CLIPBOARD_WRITE);if(!n){n=this._createPromiseDecorator(f.CLIPBOARD_WRITE);var o=ts(this,ds).generateMessageId();ts(this,ds).addListener((function e(n){var i=n.data;(null==i?void 0:i.type)===t.CLIPBOARD&&i.action===f.CLIPBOARD_WRITE&&i.id===o&&(r._resolvePromiseDecorator(f.CLIPBOARD_WRITE,!0),ts(r,ds).removeListener(e))})),ts(this,ds).send({type:t.CLIPBOARD,action:f.CLIPBOARD_WRITE,id:o,options:{text:e}})}return n.promise}},{key:\"clipboardRead\",value:function(){var e=this,r=this._getPromiseDecorator(as);if(!r){r=this._createPromiseDecorator(as);var n=ts(this,ds).generateMessageId();ts(this,ds).addListener((function r(o){var i=o.data;if((null==i?void 0:i.type)===t.CLIPBOARD&&i.action===as&&i.id===n){var a=i.text;e._resolvePromiseDecorator(as,a),ts(e,ds).removeListener(r)}})),ts(this,ds).send({type:t.CLIPBOARD,action:as,id:n,options:{}})}return r.promise}},{key:\"setLeaderboardScore\",value:function(e){var r=this._getPromiseDecorator(f.SET_LEADERBOARD_SCORE);if(!r){r=this._createPromiseDecorator(f.SET_LEADERBOARD_SCORE);var n=xa({},e);\"string\"==typeof n.score&&(n.score=parseInt(n.score,10)),ts(this,ds).send({type:t.LEADERBOARD,action:f.SET_LEADERBOARD_SCORE,options:n}),this._resolvePromiseDecorator(f.SET_LEADERBOARD_SCORE)}return r.promise}},{key:\"getLeaderboardScore\",value:function(e){var r=this,n=Object.values(e||{}).find((function(e){return null==e?void 0:e.leaderboardName})),o=null==n?void 0:n.leaderboardName,i=\"\".concat(f.GET_LEADERBOARD_SCORE,\"_\").concat(o),a=this._getPromiseDecorator(i);if(!a){a=this._createPromiseDecorator(i);var s=ts(this,ds).generateMessageId();ts(this,ds).addListener((function e(n){var a=n.data;(null==a?void 0:a.type)===t.LEADERBOARD&&a.action===f.GET_LEADERBOARD_SCORE&&a.id===s&&a.leaderboardName===o&&(r._resolvePromiseDecorator(i,a.score),ts(r,ds).removeListener(e))})),ts(this,ds).send({type:t.LEADERBOARD,action:f.GET_LEADERBOARD_SCORE,id:s,leaderboardName:o,options:e})}return a.promise}},{key:\"getLeaderboardEntries\",value:function(e){var r=this,n=this._getPromiseDecorator(f.GET_LEADERBOARD_ENTRIES);if(!n){n=this._createPromiseDecorator(f.GET_LEADERBOARD_ENTRIES);var o=ts(this,ds).generateMessageId();ts(this,ds).addListener((function e(n){var i;(null===(i=n.data)||void 0===i?void 0:i.type)===t.LEADERBOARD&&n.data.action===f.GET_LEADERBOARD_ENTRIES&&n.data.id===o&&(r._resolvePromiseDecorator(f.GET_LEADERBOARD_ENTRIES,n.data.entries),ts(r,ds).removeListener(e))})),ts(this,ds).send({type:t.LEADERBOARD,action:f.GET_LEADERBOARD_ENTRIES,id:o,options:e})}return n.promise}},{key:\"showLeaderboardNativePopup\",value:function(e){var r=this._getPromiseDecorator(f.SHOW_LEADERBOARD_NATIVE_POPUP);return r||(r=this._createPromiseDecorator(f.SHOW_LEADERBOARD_NATIVE_POPUP),ts(this,ds).send({type:t.LEADERBOARD,action:f.SHOW_LEADERBOARD_NATIVE_POPUP,options:e}),this._resolvePromiseDecorator(f.SHOW_LEADERBOARD_NATIVE_POPUP)),r.promise}},{key:\"unlockAchievement\",value:function(e){var r=this;return new Promise((function(n){var o=ts(r,ds).generateMessageId();ts(r,ds).addListener((function e(i){var a=i.data;(null==a?void 0:a.type)===t.ACHIEVEMENTS&&a.action===ss&&a.id===o&&(n(a.result),ts(r,ds).removeListener(e))})),ts(r,ds).send({type:t.ACHIEVEMENTS,action:ss,id:o,options:e})}))}},{key:\"getAchievementsList\",value:function(e){var r=this;return new Promise((function(n){var o=ts(r,ds).generateMessageId();ts(r,ds).addListener((function e(i){var a=i.data;(null==a?void 0:a.type)===t.ACHIEVEMENTS&&a.action===us&&a.id===o&&(n(a.result),ts(r,ds).removeListener(e))})),ts(r,ds).send({type:t.ACHIEVEMENTS,action:us,id:o,options:e})}))}},{key:\"showAchievementsNativePopup\",value:function(){return ts(this,ds).send({type:t.ACHIEVEMENTS,action:\"show_achievements_native_popup\"}),Promise.resolve()}}])&&Va(n.prototype,o),Object.defineProperty(n,\"prototype\",{writable:!1}),y}(Xt);function vs(){return this._supportedFeatures.includes(\"isStorageRemoteLocalSupported\")}function _s(e){var t,r,n,o;this._supportedFeatures=e.supportedFeatures||[],this._isBannerSupported=this._supportedFeatures.includes(\"isBannerSupported\");var i=e.config,a=void 0===i?{}:i;this._deviceType=null!==(t=a.deviceType)&&void 0!==t?t:Ja(qa(Ha.prototype),\"deviceType\",this),this._platformLanguage=null!==(r=a.platformLanguage)&&void 0!==r?r:Ja(qa(Ha.prototype),\"platformLanguage\",this),this._platformTld=null!==(n=a.platformTld)&&void 0!==n?n:Ja(qa(Ha.prototype),\"platformTld\",this),this._platformPayload=null!==(o=a.platformPayload)&&void 0!==o?o:Ja(qa(Ha.prototype),\"platformPayload\",this),this._paymentsPurchases=e.purchases||[],this._isInitialized=!0,this._resolvePromiseDecorator(f.INITIALIZE),ts(this,ds).send({type:\"liveness\",action:\"ping\",options:{version:\"1.21.0\"}})}function gs(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(r)?r:[],o=performance.getEntriesByType(\"resource\")||[],i=n.length>0?n:[\"name\",\"initiatorType\"],a=o.map((function(e){var t={};return i.forEach((function(r){r in e&&(t[r]=e[r])})),t}));return ts(this,ds).send({type:t.PLATFORM,action:cs,id:e,options:{resources:a}}),Promise.resolve(o)}Ha=ms;const Ss=ms;function bs(e){return bs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},bs(e)}function Ps(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Es(n.key),n)}}function Es(e){var t=function(e,t){if(\"object\"!=bs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=bs(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==bs(t)?t:String(t)}function As(){return As=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Os(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},As.apply(this,arguments)}function ws(e,t){return ws=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ws(e,t)}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Os(e)}const Ds=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&ws(e,t)}(c,t);var r,n,o,s,u=(o=c,s=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Os(o);if(s){var r=Os(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===bs(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,c),u.apply(this,arguments)}return r=c,(n=[{key:\"platformId\",get:function(){return e.POKI}},{key:\"isExternalLinksAllowed\",get:function(){return!1}},{key:\"isClipboardSupported\",get:function(){return!1}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"https://game-cdn.poki.com/scripts/v2/poki-sdk.js\").then((function(){$t(\"PokiSDK\",\"init\").then((function(){e._platformSdk=window.PokiSDK,e._platformSdk.init().then((function(){e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE)}))}))}))),t.promise}},{key:\"sendMessage\",value:function(e){switch(e){case l.GAME_READY:return this._platformSdk.gameLoadingFinished(),Promise.resolve();case l.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case l.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();default:return As(Os(c.prototype),\"sendMessage\",this).call(this,e)}}},{key:\"showInterstitial\",value:function(){var e=this,t=!1;this._platformSdk.commercialBreak((function(){t=!0,e._setInterstitialState(i.OPENED)})).then((function(){t?e._setInterstitialState(i.CLOSED):e._setInterstitialState(i.FAILED)})).catch((function(t){e._setInterstitialState(i.FAILED,t)}))}},{key:\"showRewarded\",value:function(){var e=this,t=!1;this._platformSdk.rewardedBreak((function(){t=!0,e._setRewardedState(a.OPENED)})).then((function(r){t?(r&&e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)):e._setRewardedState(a.FAILED)})).catch((function(t){e._setRewardedState(a.FAILED,t)}))}}])&&Ps(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(Xt);function ks(e){return ks=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ks(e)}function Is(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(r),!0).forEach((function(t){Bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Is(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ts(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Gs(n.key),n)}}function Ls(e,t){return Ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ls(e,t)}function js(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ns(e){return Ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ns(e)}function Cs(e,t){!function(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}(e,t),t.add(e)}function Bs(e,t,r){return(t=Gs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gs(e){var t=function(e,t){if(\"object\"!=ks(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=ks(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==ks(t)?t:String(t)}function Ms(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}var Fs=new WeakSet,Hs=new WeakSet,Us=new WeakSet,zs=new WeakSet;function xs(){var e=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!this._preloadedRewardedPromise?(this._preloadedRewardedPromise=Ms(this,Us,Vs).call(this,!0).catch((function(){e._preloadedRewardedPromise=null})),this._preloadedRewardedPromise):this._preloadedRewardedPromise}function Ws(){var e=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!this._preloadedInterstitialPromise?(this._preloadedInterstitialPromise=Ms(this,Us,Vs).call(this).catch((function(){e._preloadedInterstitialPromise=null})),this._preloadedInterstitialPromise):this._preloadedInterstitialPromise}function Vs(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,n){var o=3;!function i(){o-=1,e._platformSdk.loadAdsAsync(t).then(r).catch((function(e){\"LOAD_ADS_FAILURE\"!==e.code||o<1?n(e):i()}))}()}))}function Ys(e){e.playerId&&(this._playerId=e.playerId,this._playerName=e.playerDisplayName,this._isPlayerAuthorized=!0)}const Zs=function(t){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&Ls(e,t)}(l,t);var r,n,o,u,c=(o=l,u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ns(o);if(u){var r=Ns(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&(\"object\"===ks(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return js(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Cs(js(e=c.call.apply(c,[this].concat(r))),zs),Cs(js(e),Us),Cs(js(e),Hs),Cs(js(e),Fs),Bs(js(e),\"_preloadedInterstitialPromise\",null),Bs(js(e),\"_preloadedRewardedPromise\",null),e}return r=l,n=[{key:\"platformId\",get:function(){return e.MSN}},{key:\"isPlayerAuthorizationSupported\",get:function(){return!0}},{key:\"isShareSupported\",get:function(){return!0}},{key:\"isLeaderboardSupported\",get:function(){return!0}},{key:\"isLeaderboardSetScoreSupported\",get:function(){return!0}},{key:\"isBannerSupported\",get:function(){return!0}},{key:\"isPaymentsSupported\",get:function(){return!0}},{key:\"initialize\",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);return t||(t=this._createPromiseDecorator(f.INITIALIZE),Qt(\"https://assets.msn.com/staticsb/statics/latest/msstart-games-sdk/msstart-v1.0.0-rc.20.min.js\").then((function(){$t(\"$msstart\").then((function(){e._platformSdk=window.$msstart,e._platformSdk.getSignedInUserAsync().then((function(t){Ms(e,zs,Ys).call(e,t),Ms(e,Hs,Ws).call(e,!0),Ms(e,Fs,xs).call(e,!0)})).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE)}))}))}))),t.promise}},{key:\"authorizePlayer\",value:function(){var e=this;return this._isPlayerAuthorized?Promise.resolve():new Promise((function(t,r){e._platformSdk.signInAsync().then((function(r){Ms(e,zs,Ys).call(e,r),t()})).catch((function(e){r(e)}))}))}},{key:\"share\",value:function(e){var t=this;return new Promise((function(r,n){t._platformSdk.shareAsync(e).then(r).catch(n)}))}},{key:\"setLeaderboardScore\",value:function(e){var t=this;return null!=e&&e.score?new Promise((function(r,n){t._platformSdk.submitGameResultsAsync(e.score).then(r).catch(n)})):Promise.reject(new Error(\"`score` option is required\"))}},{key:\"showBanner\",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).position||\"top:728x90\";this._platformSdk.showDisplayAdsAsync(Array.isArray(t)?t:[t]).then((function(){e._setBannerState(s.SHOWN)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:\"hideBanner\",value:function(){var e=this;this._bannerState===s.SHOWN&&this._platformSdk.hideDisplayAdsAsync().then((function(){e._setBannerState(s.HIDDEN)}))}},{key:\"showInterstitial\",value:function(){var e=this;Ms(this,Hs,Ws).call(this).then((function(t){return e._platformSdk.showAdsAsync(t.instanceId)})).then((function(t){return e._setInterstitialState(i.OPENED),t.showAdsCompletedAsync})).then((function(){return e._setInterstitialState(i.CLOSED)})).catch((function(){e._setInterstitialState(i.FAILED)})).finally((function(){Ms(e,Hs,Ws).call(e,!0)}))}},{key:\"showRewarded\",value:function(){var e=this;Ms(this,Fs,xs).call(this).then((function(t){return e._platformSdk.showAdsAsync(t.instanceId)})).then((function(t){return e._setRewardedState(a.OPENED),t.showAdsCompletedAsync})).then((function(){e._setRewardedState(a.REWARDED),e._setRewardedState(a.CLOSED)})).catch((function(){e._setRewardedState(a.FAILED)})).finally((function(){Ms(e,Fs,xs).call(e,!0)}))}},{key:\"paymentsPurchase\",value:function(e){var t=this,r=this._paymentsGetProductPlatformData(e);if(!r)return Promise.reject();var n=this._getPromiseDecorator(f.PURCHASE);return n||(n=this._createPromiseDecorator(f.PURCHASE),this._platformSdk.iap.purchaseAsync(r).then((function(r){if(\"IAP_PURCHASE_FAILURE\"!==r.code){var n=Rs(Rs({commonId:e},r.receipt),{},{receiptSignature:r.receiptSignature});t._paymentsPurchases.push(n),t._resolvePromiseDecorator(f.PURCHASE,n)}else t._rejectPromiseDecorator(f.PURCHASE,r.description)})).catch((function(e){t._rejectPromiseDecorator(f.PURCHASE,e)}))),n.promise}},{key:\"paymentsConsumePurchase\",value:function(e){var t=this,r=this._paymentsPurchases.findIndex((function(t){return t.commonId===e}));if(r<0)return Promise.reject();var n=this._getPromiseDecorator(f.CONSUME_PURCHASE);return n||(n=this._createPromiseDecorator(f.CONSUME_PURCHASE),this._platformSdk.iap.consumeAsync(this._paymentsPurchases[r].productId).then((function(e){\"IAP_CONSUME_FAILURE\"!==e.code?(t._paymentsPurchases.splice(r,1),t._resolvePromiseDecorator(f.CONSUME_PURCHASE,Rs(Rs({},e.consumptionReceipt),{},{consumptionSignature:e.consumptionSignature}))):t._rejectPromiseDecorator(f.CONSUME_PURCHASE,e.description)})).catch((function(e){t._rejectPromiseDecorator(f.CONSUME_PURCHASE,e)}))),n.promise}},{key:\"paymentsGetCatalog\",value:function(){var e=this,t=this._paymentsGetProductsPlatformData();if(!t)return Promise.reject();var r=this._getPromiseDecorator(f.GET_CATALOG);return r||(r=this._createPromiseDecorator(f.GET_CATALOG),this._platformSdk.iap.getAllAddOnsAsync().then((function(r){if(\"IAP_GET_ALL_ADD_ONS_FAILURE\"!==r.code){var n=t.map((function(e){var t=r.find((function(t){return t.productId===e.productId}));return{commonId:e.commonId,productId:t.productId,title:t.title,description:t.description,publisherName:t.publisherName,inAppOfferToken:t.inAppOfferToken,isConsumable:t.isConsumable,price:\"\".concat(t.price.listPrice,\" \").concat(t.price.currencyCode,\" \"),priceCurrencyCode:t.price.currencyCode,priceValue:t.price.listPrice}}));e._resolvePromiseDecorator(f.GET_CATALOG,n)}else e._rejectPromiseDecorator(f.GET_CATALOG,r.description)})).catch((function(t){e._rejectPromiseDecorator(f.GET_CATALOG,t)}))),r.promise}},{key:\"paymentsGetPurchases\",value:function(){var e=this,t=this._getPromiseDecorator(f.GET_PURCHASES);return t||(t=this._createPromiseDecorator(f.GET_PURCHASES),this._platformSdk.iap.getPurchasesAsync().then((function(t){if(\"IAP_GET_PURCHASES_FAILURE\"!==t.code){var r=e._paymentsGetProductsPlatformData();e._paymentsPurchases=t.map((function(e){return Rs(Rs({commonId:r.find((function(t){return t.id===e.productID})).commonId},e.receipt),{},{receiptSignature:e.receiptSignature})})),e._resolvePromiseDecorator(f.GET_PURCHASES,e._paymentsPurchases)}else e._rejectPromiseDecorator(f.GET_PURCHASES,t.description)})).catch((function(t){e._rejectPromiseDecorator(f.GET_PURCHASES,t)}))),t.promise}}],n&&Ts(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),l}(Xt);function Ks(e){return Ks=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ks(e)}function Js(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=Qs(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Js(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,Qs(n.key),n)}}function Qs(e){var t=function(e,t){if(\"object\"!=Ks(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,\"string\");if(\"object\"!=Ks(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==Ks(t)?t:String(t)}function $s(e,t){tu(e,t),t.add(e)}function eu(e,t,r){tu(e,t),t.set(e,r)}function tu(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function ru(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError(\"attempted to set read only private field\");t.value=r}}(e,iu(e,t,\"set\"),r),r}function nu(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return r}function ou(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,iu(e,t,\"get\"))}function iu(e,t,r){if(!t.has(e))throw new TypeError(\"attempted to \"+r+\" private field on non-instance\");return t.get(e)}var au=new WeakMap,su=new WeakMap,uu=new WeakMap,cu=new WeakMap,lu=new WeakSet,fu=new WeakSet,pu=new WeakSet;function du(){var t,r=e.MOCK;this._options||(this._options={});var n=new URL(window.location.href);if(this._options.forciblySetPlatformId)r=nu(this,fu,yu).call(this,this._options.forciblySetPlatformId.toLowerCase());else{var o=[\"y\",\"a\",\"n\",\"d\",\"e\",\"x\",\".\",\"n\",\"e\",\"t\"].join(\"\");n.searchParams.has(\"platform_id\")?r=nu(this,fu,yu).call(this,n.searchParams.get(\"platform_id\").toLowerCase()):n.hostname.includes(o)||n.hash.includes(\"yandex\")?r=e.YANDEX:n.hostname.includes(\"crazygames.\")||n.hostname.includes(\"1001juegos.com\")?r=e.CRAZY_GAMES:n.hostname.includes(\"gamedistribution.com\")?r=e.GAME_DISTRIBUTION:n.hostname.includes(\"lagged.\")?r=e.LAGGED:n.hostname.includes(\"wortal.ai\")?r=e.WORTAL:n.searchParams.has(\"api_id\")&&n.searchParams.has(\"viewer_id\")&&n.searchParams.has(\"auth_key\")||n.searchParams.has(\"vk_app_id\")?r=e.VK:n.searchParams.has(\"app_id\")&&n.searchParams.has(\"player_id\")&&n.searchParams.has(\"game_sid\")&&n.searchParams.has(\"auth_key\")?r=e.ABSOLUTE_GAMES:n.searchParams.has(\"playdeck\")?r=e.PLAYDECK:n.hash.includes(\"tgWebAppData\")?r=e.TELEGRAM:n.hostname.includes(\"y8\")?r=e.Y8:n.hostname.includes(\"fbsbx\")?r=e.FACEBOOK:n.hostname.includes(\"poki-gdn\")||n.hostname.includes(\"poki-user-content\")?r=e.POKI:(n.hostname.includes(\"msn.\")||n.hostname.includes(\"start.gg\"))&&(r=e.MSN)}var i=n.searchParams.get(\"game_id\");!this._options.gameId&&i&&(this._options.gameId=i);var a=(null===(t=this._options.platforms)||void 0===t?void 0:t[r])||this._options;switch(r){case e.VK:ru(this,uu,new vr(a));break;case e.YANDEX:ru(this,uu,new Fr(a));break;case e.CRAZY_GAMES:ru(this,uu,new an(a));break;case e.ABSOLUTE_GAMES:ru(this,uu,new _n(a));break;case e.GAME_DISTRIBUTION:ru(this,uu,new Rn(a));break;case e.OK:ru(this,uu,new jo(a));break;case e.PLAYGAMA:ru(this,uu,new Qo(a));break;case e.WORTAL:ru(this,uu,new Ri(a));break;case e.PLAYDECK:ru(this,uu,new yi(a));break;case e.TELEGRAM:ru(this,uu,new Zi(a));break;case e.Y8:ru(this,uu,new pa(a));break;case e.LAGGED:ru(this,uu,new ga(a));break;case e.FACEBOOK:ru(this,uu,new Ba(a));break;case e.POKI:ru(this,uu,new Ds(a));break;case e.QA_TOOL:ru(this,uu,new Ss(a));break;case e.MSN:ru(this,uu,new Zs(a));break;default:ru(this,uu,new Xt(a))}}function yu(t){for(var r=Object.values(e),n=0;n<r.length;n++)if(t===r[n])return t;return e.MOCK}function hu(e){return ou(this,au)||console.error(p),ou(this,cu)[e]}const mu=function(){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),$s(this,pu),$s(this,fu),$s(this,lu),eu(this,au,{writable:!0,value:!1}),eu(this,su,{writable:!0,value:null}),eu(this,uu,{writable:!0,value:null}),eu(this,cu,{writable:!0,value:{}})}var f,p;return f=r,(p=[{key:\"version\",get:function(){return\"1.21.0\"}},{key:\"isInitialized\",get:function(){return ou(this,au)}},{key:\"platform\",get:function(){return nu(this,pu,hu).call(this,t.PLATFORM)}},{key:\"player\",get:function(){return nu(this,pu,hu).call(this,t.PLAYER)}},{key:\"game\",get:function(){return nu(this,pu,hu).call(this,t.GAME)}},{key:\"storage\",get:function(){return nu(this,pu,hu).call(this,t.STORAGE)}},{key:\"advertisement\",get:function(){return nu(this,pu,hu).call(this,t.ADVERTISEMENT)}},{key:\"social\",get:function(){return nu(this,pu,hu).call(this,t.SOCIAL)}},{key:\"device\",get:function(){return nu(this,pu,hu).call(this,t.DEVICE)}},{key:\"leaderboard\",get:function(){return nu(this,pu,hu).call(this,t.LEADERBOARD)}},{key:\"payments\",get:function(){return nu(this,pu,hu).call(this,t.PAYMENTS)}},{key:\"achievements\",get:function(){return nu(this,pu,hu).call(this,t.ACHIEVEMENTS)}},{key:\"remoteConfig\",get:function(){return nu(this,pu,hu).call(this,t.REMOTE_CONFIG)}},{key:\"clipboard\",get:function(){return nu(this,pu,hu).call(this,t.CLIPBOARD)}},{key:\"PLATFORM_ID\",get:function(){return e}},{key:\"PLATFORM_MESSAGE\",get:function(){return l}},{key:\"MODULE_NAME\",get:function(){return t}},{key:\"EVENT_NAME\",get:function(){return n}},{key:\"INTERSTITIAL_STATE\",get:function(){return i}},{key:\"REWARDED_STATE\",get:function(){return a}},{key:\"BANNER_STATE\",get:function(){return s}},{key:\"STORAGE_TYPE\",get:function(){return u}},{key:\"VISIBILITY_STATE\",get:function(){return o}},{key:\"DEVICE_TYPE\",get:function(){return c}},{key:\"initialize\",value:function(e){var r=this;if(ou(this,au))return Promise.resolve();if(!ou(this,su)){ru(this,su,new R);var n=\"./playgama-bridge-config.json\";e&&e.configFilePath&&(n=e.configFilePath),fetch(n).then((function(e){return e.json()})).then((function(e){r._options=qs({},e)})).catch((function(){r._options=qs({},e)})).finally((function(){nu(r,lu,du).call(r),ou(r,uu).initialize().then((function(){ou(r,cu)[t.PLATFORM]=new x(ou(r,uu)),ou(r,cu)[t.PLAYER]=new J(ou(r,uu)),ou(r,cu)[t.GAME]=new oe(ou(r,uu)),ou(r,cu)[t.STORAGE]=new le(ou(r,uu)),ou(r,cu)[t.ADVERTISEMENT]=new $e(ou(r,uu)),ou(r,cu)[t.SOCIAL]=new it(ou(r,uu)),ou(r,cu)[t.DEVICE]=new ft(ou(r,uu)),ou(r,cu)[t.LEADERBOARD]=new vt(ou(r,uu)),ou(r,cu)[t.PAYMENTS]=new Et(ou(r,uu)),ou(r,cu)[t.REMOTE_CONFIG]=new It(ou(r,uu)),ou(r,cu)[t.CLIPBOARD]=new Ct(ou(r,uu)),ou(r,cu)[t.ACHIEVEMENTS]=new Ut(ou(r,uu)),ru(r,au,!0),console.info(\"%c PlaygamaBridge v.\".concat(r.version,\" initialized. \"),\"background: #01A5DA; color: white\"),ou(r,su)&&(ou(r,su).resolve(),ru(r,su,null))}))}))}return ou(this,su).promise}}])&&Xs(f.prototype,p),Object.defineProperty(f,\"prototype\",{writable:!1}),r}();window.bridge=new mu,window.playgamaBridge=window.bridge})()})();",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension = {",
            "    isLastActionCompletedSuccessfully: false,",
            "    isVisibilityStateChanged: false,",
            "    prevVisibilityState: null,",
            "    visibilityStateStack: [],",
            "    actionParametersContainer: {},",
            "",
            "    // platform",
            "    serverTime: 0,",
            "    isGetServerTimeCompleted: false,",
            "    nextIsGetServerTimeCompleted: false,",
            "    allGames: [],",
            "    gameById: null,",
            "    isGetAllGamesCompleted: false,",
            "    nextIsGetAllGamesCompleted: false,",
            "    isGetGameByIdCompleted: false,",
            "    nextIsGetGameByIdCompleted: false,",
            "    ",
            "    // storage",
            "    storageData: {},",
            "    storageDataGetRequestKeys: [],",
            "    storageDataSetRequestKeys: [],",
            "    storageDataSetRequestValues: [],",
            "    storageDataDeleteRequestKeys: [],",
            "    isStorageDataGetRequestCompleted: false,",
            "    isStorageDataSetRequestCompleted: false,",
            "    isStorageDataDeleteRequestCompleted: false,",
            "    nextIsStorageDataGetRequestCompleted: false,",
            "    nextIsStorageDataSetRequestCompleted: false,",
            "    nextIsStorageDataDeleteRequestCompleted: false,",
            "",
            "    // advertisement",
            "    bannerState: null,",
            "    prevBannerState: null,",
            "    bannerStateStack: [],",
            "    interstitialState: null,",
            "    prevInterstitialState: null,",
            "    interstitialStateStack: [],",
            "    rewardedState: null,",
            "    prevRewardedState: null,",
            "    rewardedStateStack: [],",
            "    isAdBlockDetected: false,",
            "    isBannerStateChanged: false,",
            "    isInterstitialStateChanged: false,",
            "    isRewardedStateChanged: false,",
            "    isCheckAdBlockCompleted: false,",
            "    nextIsCheckAdBlockCompleted: false,",
            "",
            "    // player",
            "    isAuthorizePlayerCompleted: false,",
            "    nextIsAuthorizePlayerCompleted: false,",
            "",
            "    // social",
            "    isShareCompleted: false,",
            "    isInviteFriendsCompleted: false,",
            "    isJoinCommunityCompleted: false,",
            "    nextIsShareCompleted: false,",
            "    nextIsInviteFriendsCompleted: false,",
            "    nextIsJoinCommunityCompleted: false,",
            "    isCreatePostCompleted: false,",
            "    isAddToHomeScreenCompleted: false,",
            "    isAddToFavoritesCompleted: false,",
            "    isRateCompleted: false,",
            "    nextIsCreatePostCompleted: false,",
            "    nextIsAddToHomeScreenCompleted: false,",
            "    nextIsAddToFavoritesCompleted: false,",
            "    nextIsRateCompleted: false,",
            "",
            "    // leaderboard",
            "    isLeaderboardSetScoreCompleted: false,",
            "    isLeaderboardGetScoreCompleted: false,",
            "    isLeaderboardGetEntriesCompleted: false,",
            "    isLeaderboardShowNativePopupCompleted: false,",
            "    nextIsLeaderboardSetScoreCompleted: false,",
            "    nextIsLeaderboardGetScoreCompleted: false,",
            "    nextIsLeaderboardGetEntriesCompleted: false,",
            "    nextIsLeaderboardShowNativePopupCompleted: false,",
            "    leaderboardPlayerScore: 0,",
            "    leaderboardEntries: [],",
            "    ",
            "    // payments",
            "    isPaymentsPurchaseCompleted: false,",
            "    isPaymentsGetPurchasesCompleted: false,",
            "    isPaymentsGetCatalogCompleted: false,",
            "    isPaymentsConsumePurchaseCompleted: false,",
            "    nextIsPaymentsPurchaseCompleted: false,",
            "    nextIsPaymentsGetPurchasesCompleted: false,",
            "    nextIsPaymentsGetCatalogCompleted: false,",
            "    nextIsPaymentsConsumePurchaseCompleted: false,",
            "    paymentsPurchase: null,",
            "    paymentsPurchases: [],",
            "    paymentsCatalog: [],",
            "",
            "    // achievements",
            "    isAchievementsUnlockCompleted: false,",
            "    isAchievementsGetListCompleted: false,",
            "    isAchievementsShowNativePopupCompleted: false,",
            "    nextIsAchievementsUnlockCompleted: false,",
            "    nextIsAchievementsGetListCompleted: false,",
            "    nextIsAchievementsShowNativePopupCompleted: false,",
            "    achievementsList: [],",
            "",
            "    // remote",
            "    remoteConfig: {},",
            "    isRemoteConfigGotCompleted: false,",
            "    nextIsRemoteConfigGotCompleted: false,",
            "}",
            "",
            "// utils",
            "gdjs._playgamaBridgeExtension.addActionParameter = function (path, value, sep = '.') {",
            "    const keys = path.replace(/\\[/g, sep).replace(/]/g, '').split(sep).map(item => isNaN(+item) ? item : +item);",
            "",
            "    let current = gdjs._playgamaBridgeExtension.actionParametersContainer;",
            "",
            "    for (let i = 0; i < keys.length; i++) {",
            "        const key = keys[i];",
            "        if (['__proto__', 'prototype', 'constructor'].includes(key)) {",
            "            break;",
            "        }",
            "",
            "        if (i < keys.length - 1) {",
            "            if ((Array.isArray(current[key]) && typeof keys[i + 1] !== 'number') || (!Array.isArray(current[key]) && typeof keys[i + 1] === 'number') || typeof current[key] !== 'object') {",
            "                break;",
            "            }",
            "            current = current[key];",
            "        } else if (Array.isArray(current[key]) && Array.isArray(value)) {",
            "            current[key] = [ ...current[key], ...value ];",
            "        } else if (",
            "            typeof value === 'object' && typeof current[key] === 'object' && !Array.isArray(current[key]) && !Array.isArray(value)) {",
            "            current[key] = { ...current[key], ...value };",
            "        } else {",
            "            current[key] = value;",
            "        }",
            "    }",
            "}",
            "",
            "bridge.initialize(bridgeOptions)",
            "    .then(() => {",
            "        bridge.advertisement.on('banner_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.bannerStateStack.push(state);",
            "        });",
            "",
            "        bridge.advertisement.on('interstitial_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.interstitialStateStack.push(state);",
            "",
            "        });",
            "",
            "        bridge.advertisement.on('rewarded_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.rewardedStateStack.push(state);",
            "        });",
            "",
            "        bridge.game.on('visibility_state_changed', state => {",
            "            gdjs._playgamaBridgeExtension.visibilityStateStack.push(state)",
            "        });",
            "",
            "        function updateState() {",
            "            // visibility",
            "            if (gdjs._playgamaBridgeExtension.visibilityStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.visibilityState = gdjs._playgamaBridgeExtension.visibilityStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isVisibilityStateChanged = gdjs._playgamaBridgeExtension.visibilityState !== gdjs._playgamaBridgeExtension.prevVisibilityState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isVisibilityStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevVisibilityState = gdjs._playgamaBridgeExtension.visibilityState;",
            "            }",
            "",
            "            // advertisement",
            "            if (gdjs._playgamaBridgeExtension.bannerStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.bannerState = gdjs._playgamaBridgeExtension.bannerStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isBannerStateChanged = gdjs._playgamaBridgeExtension.bannerState !== gdjs._playgamaBridgeExtension.prevBannerState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isBannerStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevBannerState = gdjs._playgamaBridgeExtension.bannerState;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.interstitialStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.interstitialState = gdjs._playgamaBridgeExtension.interstitialStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isInterstitialStateChanged = gdjs._playgamaBridgeExtension.interstitialState !== gdjs._playgamaBridgeExtension.prevInterstitialState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isInterstitialStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevInterstitialState = gdjs._playgamaBridgeExtension.interstitialState;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.rewardedStateStack.length > 0) {",
            "                gdjs._playgamaBridgeExtension.rewardedState = gdjs._playgamaBridgeExtension.rewardedStateStack.shift();",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isRewardedStateChanged = gdjs._playgamaBridgeExtension.rewardedState !== gdjs._playgamaBridgeExtension.prevRewardedState;",
            "",
            "            if (gdjs._playgamaBridgeExtension.isRewardedStateChanged) {",
            "                gdjs._playgamaBridgeExtension.prevRewardedState = gdjs._playgamaBridgeExtension.rewardedState;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted !== gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted = gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = false;",
            "            }",
            "",
            "            // platform",
            "            if (gdjs._playgamaBridgeExtension.isGetServerTimeCompleted !== gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                gdjs._playgamaBridgeExtension.isGetServerTimeCompleted = gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isGetAllGamesCompleted !== gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isGetAllGamesCompleted = gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isGetGameByIdCompleted !== gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                gdjs._playgamaBridgeExtension.isGetGameByIdCompleted = gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = false;",
            "            }",
            "",
            "            // storage",
            "",
            "            if (gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted !== gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted = gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = false;",
            "            }",
            "",
            "            // player",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted !== gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted = gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = false;",
            "            }",
            "",
            "            // social",
            "",
            "            if (gdjs._playgamaBridgeExtension.isShareCompleted !== gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                gdjs._playgamaBridgeExtension.isShareCompleted = gdjs._playgamaBridgeExtension.nextIsShareCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsShareCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsShareCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isInviteFriendsCompleted !== gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                gdjs._playgamaBridgeExtension.isInviteFriendsCompleted = gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isJoinCommunityCompleted !== gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                gdjs._playgamaBridgeExtension.isJoinCommunityCompleted = gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isCreatePostCompleted !== gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                gdjs._playgamaBridgeExtension.isCreatePostCompleted = gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted = gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted !== gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted = gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isRateCompleted !== gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                gdjs._playgamaBridgeExtension.isRateCompleted = gdjs._playgamaBridgeExtension.nextIsRateCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsRateCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsRateCompleted = false;",
            "            }",
            "",
            "            // leaderboards",
            "",
            "            if (gdjs._playgamaBridgeExtension.isLeaderboardSetScoreCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardSetScoreCompleted) {",
            "                gdjs._playgamaBridgeExtension.isLeaderboardSetScoreCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardSetScoreCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsLeaderboardSetScoreCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsLeaderboardSetScoreCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isLeaderboardGetScoreCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardGetScoreCompleted) {",
            "                gdjs._playgamaBridgeExtension.isLeaderboardGetScoreCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardGetScoreCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsLeaderboardGetScoreCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsLeaderboardGetScoreCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isLeaderboardGetEntriesCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardGetEntriesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isLeaderboardGetEntriesCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardGetEntriesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsLeaderboardGetEntriesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsLeaderboardGetEntriesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isLeaderboardShowNativePopupCompleted !== gdjs._playgamaBridgeExtension.nextIsLeaderboardShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.isLeaderboardShowNativePopupCompleted = gdjs._playgamaBridgeExtension.nextIsLeaderboardShowNativePopupCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsLeaderboardShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsLeaderboardShowNativePopupCompleted = false;",
            "            }",
            "            ",
            "            // payments",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted !== gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted = gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = false;",
            "            }",
            "",
            "            // achievements",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = false;",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted !== gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted = gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = false;",
            "            }",
            "",
            "            // remote",
            "",
            "            if (gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted !== gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted = gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted",
            "            }",
            "",
            "            if (gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted) {",
            "                gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = false;",
            "            }",
            "",
            "            requestAnimationFrame(updateState);",
            "        }",
            "",
            "        requestAnimationFrame(updateState);",
            "    });"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add Action Parameter.",
      "fullName": "Add Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, isNaN(+value) ? value : +value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Add Bool Action Parameter.",
      "fullName": "Add Bool Action Parameter",
      "functionType": "Action",
      "group": "Common",
      "name": "AddBoolActionParameter",
      "sentence": "Add Action Parameter _PARAM1_ : _PARAM2_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const path = eventsFunctionContext.getArgument(\"Path\");",
            "const value = eventsFunctionContext.getArgument(\"Value\");",
            "      ",
            "gdjs._playgamaBridgeExtension.addActionParameter(path, value);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Path",
          "name": "Path",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "trueorfalse"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Initialized.",
      "fullName": "Is Initialized",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsInitialized",
      "sentence": "Is Initialized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = window.bridge && window.bridge.isInitialized;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Id.",
      "fullName": "Platform Id",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Language.",
      "fullName": "Platform Language",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformLanguage",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.language;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Payload.",
      "fullName": "Platform Payload",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformPayload",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.payload;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Tld.",
      "fullName": "Platform Tld",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformTld",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.platform.tld || '';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get All Games Supported.",
      "fullName": "Is Get All Games Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetAllGamesSupported",
      "sentence": "Is Get All Games Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetAllGamesSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Get Game By Id Supported.",
      "fullName": "Is Get Game By Id Supported",
      "functionType": "Condition",
      "group": "Platform",
      "name": "IsGetGameByIdSupported",
      "sentence": "Is Get Game By Id Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.platform.isGetGameByIdSupported;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get All Games Completed.",
      "fullName": "On Get All Games Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetAllGamesCompleted",
      "sentence": "On Get All Games Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetAllGamesCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Game By Id Completed.",
      "fullName": "On Get Game By Id Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetGameByIdCompleted",
      "sentence": "On Get Game By Id Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetGameByIdCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get All Games.",
      "fullName": "Platform Get All Games",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetAllGames",
      "sentence": "Platform Get All Games",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getAllGames()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.allGames = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetAllGamesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform Get Game By Id.",
      "fullName": "Platform Get Game By Id",
      "functionType": "Action",
      "group": "Platform",
      "name": "PlatformGetGameById",
      "sentence": "Platform Get Game By Id",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getGameById(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.gameById = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsGetGameByIdCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Count.",
      "fullName": "Platform All Games Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Game Properties Count.",
      "fullName": "Platform All Game Properties Count",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformAllGamePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames.length > 0 ",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0] || {}).length",
            "    : 0"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Name.",
      "fullName": "Platform All Games Property Name",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.allGames",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.allGames[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform All Games Property Value.",
      "fullName": "Platform All Games Property Value",
      "functionType": "StringExpression",
      "group": "Platform",
      "name": "PlatformAllGamesPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const gameIndex = eventsFunctionContext.getArgument(\"GameIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (gdjs._playgamaBridgeExtension.allGames.length > 0) {",
            "    const game = gdjs._playgamaBridgeExtension.allGames[gameIndex];",
            "",
            "    eventsFunctionContext.returnValue = isNaN(+property) ",
            "        ? game[property]",
            "        : game[Object.keys(game || {})[+property]]",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Game Index",
          "name": "GameIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Platform Game By Id Property Value.",
      "fullName": "Platform Game By Id Property Value",
      "functionType": "Expression",
      "group": "Platform",
      "name": "PlatformGameByIdPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (!gdjs._playgamaBridgeExtension.gameById) {",
            "    eventsFunctionContext.returnValue = '';",
            "    return;",
            "}",
            "",
            "if (typeof property === 'number') {",
            "    let properties = Object.keys(gdjs._playgamaBridgeExtension.gameById);",
            "    let propertyName = properties[property];",
            "    eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[propertyName];",
            "    return;",
            "}",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.gameById[property];"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Device Type.",
      "fullName": "Device Type",
      "functionType": "StringExpression",
      "group": "Device",
      "name": "DeviceType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.device.type;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Mobile.",
      "fullName": "Is Mobile",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsMobile",
      "sentence": "Is Mobile",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'mobile';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tablet.",
      "fullName": "Is Tablet",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTablet",
      "sentence": "Is Tablet",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tablet';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Desktop.",
      "fullName": "Is Desktop",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsDesktop",
      "sentence": "Is Desktop",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'desktop';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Tv.",
      "fullName": "Is Tv",
      "functionType": "Condition",
      "group": "Device",
      "name": "IsTv",
      "sentence": "Is Tv",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.device.type === 'tv';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Id.",
      "fullName": "Player Id",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerId",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.id;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Name.",
      "fullName": "Player Name",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Photos Count.",
      "fullName": "Player Photos Count",
      "functionType": "Expression",
      "group": "Player",
      "name": "PlayerPhotosCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.photos.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Player Photo # _PARAM1_.",
      "fullName": "Player Photo",
      "functionType": "StringExpression",
      "group": "Player",
      "name": "PlayerPhoto",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\")",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos[index];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Visibility State.",
      "fullName": "Visibility State",
      "functionType": "StringExpression",
      "group": "Game",
      "name": "VisibilityState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.game.visibilityState;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Visibility State Changed.",
      "fullName": "On Visibility State Changed",
      "functionType": "Condition",
      "group": "Game",
      "name": "OnVisibilityStateChanged",
      "sentence": "On Visibility State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isVisibilityStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": []
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Default Storage Type.",
      "fullName": "Default Storage Type",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "DefaultStorageType",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.storage.defaultType;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Storage Data Key.",
      "fullName": "Storage Data Key",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageDataKey",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.storageData[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Storage Data Key As JSON.",
      "fullName": "Storage Data Key As JSON",
      "functionType": "StringExpression",
      "group": "Storage",
      "name": "StorageDataKeyAsJSON",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "let value = gdjs._playgamaBridgeExtension.storageData[key];",
            "",
            "if (typeof value !== 'string') {",
            "    value = JSON.stringify(value);",
            "}",
            "",
            "eventsFunctionContext.returnValue = value;"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Get Request.",
      "fullName": "Append Parameter to Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataGetRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Get Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataGetRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Set Request.",
      "fullName": "Append Parameter to Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataSetRequest",
      "sentence": "Append Parameter _PARAM1_ : _PARAM2_ to Storage Data Set Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "const value = eventsFunctionContext.getArgument(\"Value\")",
            "",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestKeys.push(key);",
            "gdjs._playgamaBridgeExtension.storageDataSetRequestValues.push(value);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        },
        {
          "description": "Value",
          "name": "Value",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Append Parameter to Storage Data Delete Request.",
      "fullName": "Append Parameter to Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "AppendStorageDataDeleteRequest",
      "sentence": "Append Parameter _PARAM1_ to Storage Data Delete Request ",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\")",
            "gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys.push(key);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Last Action Completed Successfully.",
      "fullName": "Is Last Action Completed Successfully",
      "functionType": "Condition",
      "group": "Common",
      "name": "IsLastActionCompletedSuccessfully",
      "sentence": "Is Last Action Completed Successfully",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Get Request.",
      "fullName": "Send Storage Data Get Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataGetRequest",
      "sentence": "Send Storage Data Get Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataGetRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.get(storageDataGetRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(data => {",
            "            for (let i = 0; i < data.length; i++) {",
            "                let key = storageDataGetRequestKeys[i];",
            "                let value = data[i];",
            "                storageData[key] = value;",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataGetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataGetRequestCompleted = true;",
            "            resolve()",
            "        });",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Set Request.",
      "fullName": "Send Storage Data Set Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataSetRequest",
      "sentence": "Send Storage Data Set Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false",
            "",
            "const { storageData, storageDataSetRequestKeys, storageDataSetRequestValues } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.set(storageDataSetRequestKeys, storageDataSetRequestValues, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            for (let i = 0; i < storageDataSetRequestKeys.length; i++) {",
            "                let key = storageDataSetRequestKeys[i]",
            "                storageData[key] = storageDataSetRequestValues[i]",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestKeys = []",
            "            gdjs._playgamaBridgeExtension.storageDataSetRequestValues = []",
            "",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataSetRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Storage Data Delete Request.",
      "fullName": "Send Storage Data Delete Request",
      "functionType": "Action",
      "group": "Storage",
      "name": "SendStorageDataDeleteRequest",
      "sentence": "Send Storage Data Delete Request _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "const { storageData, storageDataDeleteRequestKeys } = gdjs._playgamaBridgeExtension;",
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "",
            "return new Promise(resolve => {",
            "    bridge.storage.delete(storageDataDeleteRequestKeys, storageType === \"default\" ? null : storageType)",
            "        .then(() => {",
            "            if (storageData) {",
            "                for (const key of storageDataDeleteRequestKeys) {",
            "                    delete storageData[key];",
            "                }",
            "            }",
            "",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.storageDataDeleteRequestKeys = [];",
            "            gdjs._playgamaBridgeExtension.nextIsStorageDataDeleteRequestCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"default\",\"local_storage\",\"platform_internal\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Get Request Completed.",
      "fullName": "On Storage Data Get Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataGetRequestCompleted",
      "sentence": "On Storage Data Get Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataGetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Set Request Completed.",
      "fullName": "On Storage Data Set Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataSetRequestCompleted",
      "sentence": "On Storage Data Set Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataSetRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Storage Data Delete Request Completed.",
      "fullName": "On Storage Data Delete Request Completed",
      "functionType": "Condition",
      "group": "Storage",
      "name": "OnStorageDataDeleteRequestCompleted",
      "sentence": "On Storage Data Delete Request Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isStorageDataDeleteRequestCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Storage Data.",
      "fullName": "Has Storage Data",
      "functionType": "Condition",
      "group": "Storage",
      "name": "HasStorageData",
      "sentence": "Has _PARAM1_ in Storage Data",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { storageData } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = storageData[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Supported.",
      "fullName": "Is Storage Supported",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageSupported",
      "sentence": "Is Storage Supported _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isSupported(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Storage Available.",
      "fullName": "Is Storage Available",
      "functionType": "Condition",
      "group": "Storage",
      "name": "IsStorageAvailable",
      "sentence": "Is Storage Available _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const storageType = eventsFunctionContext.getArgument(\"StorageType\");",
            "eventsFunctionContext.returnValue = bridge.storage.isAvailable(storageType);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Storage Type",
          "name": "StorageType",
          "supplementaryInformation": "[\"platform_internal\",\"local_storage\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Set Minimum Delay Between Interstitial.",
      "fullName": "Set Minimum Delay Between Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "SetMinimumDelayBetweenInterstitial",
      "sentence": "Set Minimum Delay Between Interstitial _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const seconds = eventsFunctionContext.getArgument(\"Seconds\");",
            "",
            "bridge.advertisement.setMinimumDelayBetweenInterstitial(seconds);",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Seconds",
          "name": "Seconds",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Banner.",
      "fullName": "Show Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowBanner",
      "sentence": "Show Banner",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "bridge.advertisement.showBanner(gdjs._playgamaBridgeExtension.actionParametersContainer);",
            "",
            "gdjs._playgamaBridgeExtension.actionParametersContainer = {};"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Hide Banner.",
      "fullName": "Hide Banner",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "HideBanner",
      "sentence": "Hide Banner",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "bridge.advertisement.hideBanner(gdjs._playgamaBridgeExtension.actionParametersContainer);",
            "",
            "gdjs._playgamaBridgeExtension.actionParametersContainer = {};"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Show Interstitial.",
      "fullName": "Show Interstitial",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowInterstitial",
      "sentence": "Show Interstitial",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const ignoreDelay = eventsFunctionContext.getArgument(\"IgnoreDelay\");",
            "",
            "bridge.advertisement.showInterstitial(ignoreDelay);"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Ignore Delay",
          "name": "IgnoreDelay",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Show Rewarded.",
      "fullName": "Show Rewarded",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "ShowRewarded",
      "sentence": "Show Rewarded",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "bridge.advertisement.showRewarded();",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Check AdBlock.",
      "fullName": "Check AdBlock",
      "functionType": "Action",
      "group": "Advertisement",
      "name": "CheckAdBlock",
      "sentence": "Check AdBlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.advertisement.checkAdBlock()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.isAdBlockDetected = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsCheckAdBlockCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Minimum Delay Between Interstitial.",
      "fullName": "Minimum Delay Between Interstitial",
      "functionType": "Expression",
      "group": "Advertisement",
      "name": "MinimumDelayBetweenInterstitial",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = bridge.advertisement.minimumDelayBetweenInterstitial;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Banner State.",
      "fullName": "Banner State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "BannerState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Interstitial State.",
      "fullName": "Interstitial State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "InterstitialState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.interstitialState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rewarded State.",
      "fullName": "Rewarded State",
      "functionType": "StringExpression",
      "group": "Advertisement",
      "name": "RewardedState",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.rewardedState;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Banner Supported.",
      "fullName": "Is Banner Supported",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "IsBannerSupported",
      "sentence": "Is Banner Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.advertisement.isBannerSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner State Changed.",
      "fullName": "On Banner State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerStateChanged",
      "sentence": "On Banner State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isBannerStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Loading.",
      "fullName": "On Banner Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerLoading",
      "sentence": "On Banner Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Shown.",
      "fullName": "On Banner Shown",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerShown",
      "sentence": "On Banner Shown",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"shown\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Hidden.",
      "fullName": "On Banner Hidden",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerHidden",
      "sentence": "On Banner Hidden",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"hidden\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Banner Failed.",
      "fullName": "On Banner Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnBannerFailed",
      "sentence": "On Banner Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::BannerState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial State Changed.",
      "fullName": "On Interstitial State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialStateChanged",
      "sentence": "On Interstitial State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInterstitialStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Loading.",
      "fullName": "On Interstitial Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialLoading",
      "sentence": "On Interstitial Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Opened.",
      "fullName": "On Interstitial Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialOpened",
      "sentence": "On Interstitial Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Closed.",
      "fullName": "On Interstitial Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialClosed",
      "sentence": "On Interstitial Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Interstitial Failed.",
      "fullName": "On Interstitial Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnInterstitialFailed",
      "sentence": "On Interstitial Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::InterstitialState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "PlaygamaBridge::OnInterstitialStateChanged"
              },
              "parameters": [
                "",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded State Changed.",
      "fullName": "On Rewarded State Changed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedStateChanged",
      "sentence": "On Rewarded State Changed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRewardedStateChanged;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Loading.",
      "fullName": "On Rewarded Loading",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedLoading",
      "sentence": "On Rewarded Loading",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"loading\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Opened.",
      "fullName": "On Rewarded Opened",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedOpened",
      "sentence": "On Rewarded Opened",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"opened\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Closed.",
      "fullName": "On Rewarded Closed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedClosed",
      "sentence": "On Rewarded Closed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"closed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Rewarded.",
      "fullName": "On Rewarded Rewarded",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedRewarded",
      "sentence": "On Rewarded Rewarded",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"rewarded\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rewarded Failed.",
      "fullName": "On Rewarded Failed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnRewardedFailed",
      "sentence": "On Rewarded Failed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BuiltinCommonInstructions::CompareStrings"
              },
              "parameters": [
                "PlaygamaBridge::RewardedState()",
                "=",
                "\"failed\""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetReturnBoolean"
              },
              "parameters": [
                "True"
              ]
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Check AdBlock Completed.",
      "fullName": "On Check AdBlock Completed",
      "functionType": "Condition",
      "group": "Advertisement",
      "name": "OnCheckAdBlockCompleted",
      "sentence": "On Check AdBlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCheckAdBlockCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Send Message.",
      "fullName": "Send Message",
      "functionType": "Action",
      "group": "Platform",
      "name": "SendMessage",
      "sentence": "Send Message _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const message = eventsFunctionContext.getArgument(\"Message\")",
            "",
            "bridge.platform.sendMessage(bridge.PLATFORM_MESSAGE[message])",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Message",
          "name": "Message",
          "supplementaryInformation": "[\"GAME_READY\",\"IN_GAME_LOADING_STARTED\",\"IN_GAME_LOADING_STOPPED\",\"GAMEPLAY_STARTED\",\"GAMEPLAY_STOPPED\",\"PLAYER_GOT_ACHIEVEMENT\"]",
          "type": "stringWithSelector"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Get Server Time.",
      "fullName": "Get Server Time",
      "functionType": "Action",
      "group": "Platform",
      "name": "GetServerTime",
      "sentence": "Get Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.platform.getServerTime()",
            "        .then(result => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.serverTime = result;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsGetServerTimeCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Server Time.",
      "fullName": "Server Time",
      "functionType": "Expression",
      "group": "Platform",
      "name": "ServerTime",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Get Server Time Completed.",
      "fullName": "On Get Server Time Completed",
      "functionType": "Condition",
      "group": "Platform",
      "name": "OnGetServerTimeCompleted",
      "sentence": "On Get Server Time Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isGetServerTimeCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Server Time.",
      "fullName": "Has Server Time",
      "functionType": "Condition",
      "group": "Platform",
      "name": "HasServerTime",
      "sentence": "Has Server Time",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.serverTime > 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Authorize Player.",
      "fullName": "Authorize Player",
      "functionType": "Action",
      "group": "Player",
      "name": "AuthorizePlayer",
      "sentence": "Authorize Player",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.player.authorize(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAuthorizePlayerCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorization Supported.",
      "fullName": "Is Player Authorization Supported",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorizationSupported",
      "sentence": "Is Player Authorization Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorizationSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Player Authorized.",
      "fullName": "Is Player Authorized",
      "functionType": "Condition",
      "group": "Player",
      "name": "IsPlayerAuthorized",
      "sentence": "Is Player Authorized",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.isAuthorized;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Authorize Player Completed.",
      "fullName": "On Authorize Player Completed",
      "functionType": "Condition",
      "group": "Player",
      "name": "OnAuthorizePlayerCompleted",
      "sentence": "On Authorize Player Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAuthorizePlayerCompleted;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Name.",
      "fullName": "Does Player Have Name",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHaveName",
      "sentence": "Does Player Have Name",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.player.name === 'string';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Does Player Have Photo.",
      "fullName": "Does Player Have Photo",
      "functionType": "Condition",
      "group": "Player",
      "name": "DoesPlayerHavePhoto",
      "sentence": "Does Player Have Photo # _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const index = eventsFunctionContext.getArgument(\"Index\");",
            "",
            "eventsFunctionContext.returnValue = bridge.player.photos.length > index;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Index",
          "name": "Index",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Share.",
      "fullName": "Share",
      "functionType": "Action",
      "group": "Social",
      "name": "Share",
      "sentence": "Share",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.share(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsShareCompleted = true;",
            "            resolve()",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Invite Friends.",
      "fullName": "Invite Friends",
      "functionType": "Action",
      "group": "Social",
      "name": "InviteFriends",
      "sentence": "Invite Friends",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.inviteFriends(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsInviteFriendsCompleted = true;",
            "            resolve();",
            "        })",
            "})",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Join Community.",
      "fullName": "Join Community",
      "functionType": "Action",
      "group": "Social",
      "name": "JoinCommunity",
      "sentence": "Join Community",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.joinCommunity(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsJoinCommunityCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Create Post.",
      "fullName": "Create Post",
      "functionType": "Action",
      "group": "Social",
      "name": "CreatePost",
      "sentence": "Create Post",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.createPost(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsCreatePostCompleted = true;",
            "            resolve();",
            "        })",
            "})"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Home Screen.",
      "fullName": "Add To Home Screen",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToHomeScreen",
      "sentence": "Add To Home Screen",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "   bridge.social.addToHomeScreen()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToHomeScreenCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Add To Favorites.",
      "fullName": "Add To Favorites",
      "functionType": "Action",
      "group": "Social",
      "name": "AddToFavorites",
      "sentence": "Add To Favorites",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.addToFavorites()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsAddToFavoritesCompleted = true;",
            "            resolve();",
            "        })",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Rate.",
      "fullName": "Rate",
      "functionType": "Action",
      "group": "Social",
      "name": "Rate",
      "sentence": "Rate",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.social.rate()",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsRateCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Share Supported.",
      "fullName": "Is Share Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsShareSupported",
      "sentence": "Is Share Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isShareSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Share Completed.",
      "fullName": "On Share Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnShareCompleted",
      "sentence": "On Share Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isShareCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Invite Friends Supported.",
      "fullName": "Is Invite Friends Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsInviteFriendsSupported",
      "sentence": "Is Invite Friends Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isInviteFriendsSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Invite Friends Completed.",
      "fullName": "On Invite Friends Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnInviteFriendsCompleted",
      "sentence": "On Invite Friends Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isInviteFriendsCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Join Community Supported.",
      "fullName": "Is Join Community Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsJoinCommunitySupported",
      "sentence": "Is Join Community Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isJoinCommunitySupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Join Community Completed.",
      "fullName": "On Join Community Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnJoinCommunityCompleted",
      "sentence": "On Join Community Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isJoinCommunityCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Create Post Supported.",
      "fullName": "Is Create Post Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsCreatePostSupported",
      "sentence": "Is Create Post Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isCreatePostSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Create Post Completed.",
      "fullName": "On Create Post Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnCreatePostCompleted",
      "sentence": "On Create Post Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isCreatePostCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Home Screen Supported.",
      "fullName": "Is Add To Home Screen Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToHomeScreenSupported",
      "sentence": "Is Add To Home Screen Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToHomeScreenSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Home Screen Completed.",
      "fullName": "On Add To Home Screen Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToHomeScreenCompleted",
      "sentence": "On Add To Home Screen Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToHomeScreenCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Add To Favorites Supported.",
      "fullName": "Is Add To Favorites Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsAddToFavoritesSupported",
      "sentence": "Is Add To Favorites Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isAddToFavoritesSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Add To Favorites Completed.",
      "fullName": "On Add To Favorites Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnAddToFavoritesCompleted",
      "sentence": "On Add To Favorites Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAddToFavoritesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Rate Supported.",
      "fullName": "Is Rate Supported",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsRateSupported",
      "sentence": "Is Rate Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isRateSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Rate Completed.",
      "fullName": "On Rate Completed",
      "functionType": "Condition",
      "group": "Social",
      "name": "OnRateCompleted",
      "sentence": "On Rate Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRateCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is External Links Allowed.",
      "fullName": "Is External Links Allowed",
      "functionType": "Condition",
      "group": "Social",
      "name": "IsExternalLinksAllowed",
      "sentence": "Is External Links Allowed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.social.isExternalLinksAllowed;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Set Score.",
      "fullName": "Leaderboard Set Score",
      "functionType": "Action",
      "group": "Leaderboard",
      "name": "LeaderboardSetScore",
      "sentence": "Leaderboard Set Score",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.leaderboard.setScore(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardSetScoreCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Get Score.",
      "fullName": "Leaderboard Get Score",
      "functionType": "Action",
      "group": "Leaderboard",
      "name": "LeaderboardGetScore",
      "sentence": "Leaderboard Get Score",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "gdjs._playgamaBridgeExtension.leaderboardPlayerScore = 0;",
            "",
            "return new Promise(resolve => {",
            "    bridge.leaderboard.getScore(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(score => {",
            "            gdjs._playgamaBridgeExtension.leaderboardPlayerScore = score;",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardGetScoreCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Get Entries.",
      "fullName": "Leaderboard Get Entries",
      "functionType": "Action",
      "group": "Leaderboard",
      "name": "LeaderboardGetEntries",
      "sentence": "Leaderboard Get Entries",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "gdjs._playgamaBridgeExtension.leaderboardEntries = [];",
            "",
            "return new Promise(resolve => {",
            "    bridge.leaderboard.getEntries(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(entries => {",
            "            gdjs._playgamaBridgeExtension.leaderboardEntries = entries || [];",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardGetEntriesCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Show Native Popup.",
      "fullName": "Leaderboard Show Native Popup",
      "functionType": "Action",
      "group": "Leaderboard",
      "name": "LeaderboardShowNativePopup",
      "sentence": "Leaderboard Show Native Popup",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.leaderboard.showNativePopup(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsLeaderboardShowNativePopupCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Leaderboard Supported.",
      "fullName": "Is Leaderboard Supported",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "IsLeaderboardSupported",
      "sentence": "Is Leaderboard Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboard.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Leaderboard Native Popup Supported.",
      "fullName": "Is Leaderboard Native Popup Supported",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "IsLeaderboardNativePopupSupported",
      "sentence": "Is Leaderboard Native Popup Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboard.isNativePopupSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Leaderboard Multiple Boards Supported.",
      "fullName": "Is Leaderboard Multiple Boards Supported",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "IsLeaderboardMultipleBoardsSupported",
      "sentence": "Is Leaderboard Multiple Boards Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboard.isMultipleBoardsSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Leaderboard Set Score Supported.",
      "fullName": "Is Leaderboard Set Score Supported",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "IsLeaderboardSetScoreSupported",
      "sentence": "Is Leaderboard Set Score Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboard.isSetScoreSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Leaderboard Get Score Supported.",
      "fullName": "Is Leaderboard Get Score Supported",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "IsLeaderboardGetScoreSupported",
      "sentence": "Is Leaderboard Get Score Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboard.isGetScoreSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Leaderboard Get Entries Supported.",
      "fullName": "Is Leaderboard Get Entries Supported",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "IsLeaderboardGetEntriesSupported",
      "sentence": "Is Leaderboard Get Entries Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.leaderboard.isGetEntriesSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboard Set Score Completed.",
      "fullName": "On Leaderboard Set Score Completed",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "OnLeaderboardSetScoreCompleted",
      "sentence": "On Leaderboard Set Score Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardSetScoreCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboard Get Score Completed.",
      "fullName": "On Leaderboard Get Score Completed",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "OnLeaderboardGetScoreCompleted",
      "sentence": "On Leaderboard Get Score Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardGetScoreCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboard Get Entries Completed.",
      "fullName": "On Leaderboard Get Entries Completed",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "OnLeaderboardGetEntriesCompleted",
      "sentence": "On Leaderboard Get Entries Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardGetEntriesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Leaderboard Show Native Popup Completed.",
      "fullName": "On Leaderboard Show Native Popup Completed",
      "functionType": "Condition",
      "group": "Leaderboard",
      "name": "OnLeaderboardShowNativePopupCompleted",
      "sentence": "On Leaderboard Show Native Popup Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isLeaderboardShowNativePopupCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Player Score.",
      "fullName": "Leaderboard Player Score",
      "functionType": "Expression",
      "group": "Leaderboard",
      "name": "LeaderboardPlayerScore",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.leaderboardPlayerScore;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entries Count.",
      "fullName": "Leaderboard Entries Count",
      "functionType": "Expression",
      "group": "Leaderboard",
      "name": "LeaderboardEntriesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.leaderboardEntries.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Properties Count.",
      "fullName": "Leaderboard Entry Properties Count",
      "functionType": "Expression",
      "group": "Leaderboard",
      "name": "LeaderboardEntryPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0 ",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.leaderboardEntries[0] || {}).length",
            "    : 0",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Property Name.",
      "fullName": "Leaderboard Entry Property Name",
      "functionType": "StringExpression",
      "group": "Leaderboard",
      "name": "LeaderboardEntryPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0 ",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.leaderboardEntries[0] || {})[propertyIndex]",
            "    : ''",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Leaderboard Entry Property Value.",
      "fullName": "Leaderboard Entry Property Value",
      "functionType": "StringExpression",
      "group": "Leaderboard",
      "name": "LeaderboardEntryPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const entryIndex = eventsFunctionContext.getArgument(\"EntryIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "if (gdjs._playgamaBridgeExtension.leaderboardEntries.length > 0) {",
            "    const entry = gdjs._playgamaBridgeExtension.leaderboardEntries[entryIndex];",
            "",
            "    eventsFunctionContext.returnValue = isNaN(+property) ",
            "        ? entry[property]",
            "        : entry[Object.keys(entry || {})[+property]]",
            "} else {",
            "    eventsFunctionContext.returnValue = '';",
            "}",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Entry Index",
          "name": "EntryIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase.",
      "fullName": "Payments Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsPurchase",
      "sentence": "Payments Purchase - Common Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const commonId = eventsFunctionContext.getArgument(\"CommonId\");",
            "    bridge.payments.purchase(commonId)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchase = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsPurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "CommonId",
          "name": "CommonId",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Get Purchases.",
      "fullName": "Payments Get Purchases",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetPurchases",
      "sentence": "Payments Get Purchases",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getPurchases()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsPurchases = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetPurchasesCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Get Catalog.",
      "fullName": "Payments Get Catalog",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsGetCatalog",
      "sentence": "Payments Get Catalog",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.payments.getCatalog()",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.paymentsCatalog = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsGetCatalogCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Consume Purchase.",
      "fullName": "Payments Consume Purchase",
      "functionType": "Action",
      "group": "Payments",
      "name": "PaymentsConsumePurchase",
      "sentence": "Payments Consume Purchase - Common Id: _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    const commonId = eventsFunctionContext.getArgument(\"CommonId\");",
            "    bridge.payments.consumePurchase(commonId)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.nextIsPaymentsConsumePurchaseCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "CommonId",
          "name": "CommonId",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Payments Supported.",
      "fullName": "Is Payments Supported",
      "functionType": "Condition",
      "group": "Payments",
      "name": "IsPaymentsSupported",
      "sentence": "Is Payments Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.payments.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Purchase Completed.",
      "fullName": "On Payments Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsPurchaseCompleted",
      "sentence": "On Payments Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsPurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Purchases Completed.",
      "fullName": "On Payments Get Purchases Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetPurchasesCompleted",
      "sentence": "On Payments Get Purchases Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetPurchasesCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Get Catalog Completed.",
      "fullName": "On Payments Get Catalog Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsGetCatalogCompleted",
      "sentence": "On Payments Get Catalog Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsGetCatalogCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Payments Consume Purchase Completed.",
      "fullName": "On Payments Consume Purchase Completed",
      "functionType": "Condition",
      "group": "Payments",
      "name": "OnPaymentsConsumePurchaseCompleted",
      "sentence": "On Payments Consume Purchase Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isPaymentsConsumePurchaseCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Properties Count.",
      "fullName": "Payments Last Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase).length",
            "    : 0;",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Name.",
      "fullName": "Payments Last Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchase",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchase)[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsLastPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "const { paymentsPurchase } = gdjs._playgamaBridgeExtension;",
            "",
            "if (!paymentsPurchase) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "} else {",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? paymentsPurchase[property]",
            "        : paymentsPurchase[Object.keys(paymentsPurchase)[property]];",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Purchases Count.",
      "fullName": "Payments Purchases Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Properties Count.",
      "fullName": "Payments Purchase Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Purchase Property Name.",
      "fullName": "Payments Purchase Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsPurchases",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsPurchases[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Last Purchase Property Value.",
      "fullName": "Payments Last Purchase Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsPurchasePropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const purchaseIndex = eventsFunctionContext.getArgument(\"PurchaseIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsPurchases } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsPurchases.length > 0) {",
            "    const purchase = paymentsPurchases[purchaseIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? purchase[property]",
            "        : purchase[Object.keys(purchase)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Purchase Index",
          "name": "PurchaseIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Items Count.",
      "fullName": "Payments Catalog Items Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Properties Count.",
      "fullName": "Payments Catalog Item Properties Count",
      "functionType": "Expression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Name.",
      "fullName": "Payments Catalog Item Property Name",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.paymentsCatalog",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.paymentsCatalog[0])[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments Catalog Item Property Value.",
      "fullName": "Payments Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const productIndex = eventsFunctionContext.getArgument(\"ProductIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length > 0) {",
            "    const product = paymentsCatalog[productIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? product[property]",
            "        : product[Object.keys(product)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Product Index",
          "name": "ProductIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Payments First Catalog Item Property Value.",
      "fullName": "Payments First Catalog Item Property Value",
      "functionType": "StringExpression",
      "group": "Payments",
      "name": "PaymentsFirstCatalogItemPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const filterProperty = eventsFunctionContext.getArgument(\"FilterProperty\");",
            "const filterPropertyValue = eventsFunctionContext.getArgument(\"FilterPropertyValue\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { paymentsCatalog } = gdjs._playgamaBridgeExtension;",
            "",
            "if (paymentsCatalog.length <= 0) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "",
            "const product = paymentsCatalog.find(item => item[filterProperty] === filterPropertyValue);",
            "",
            "if (!product) {",
            "    eventsFunctionContext.returnValue = \"\";",
            "    return;",
            "}",
            "    ",
            "eventsFunctionContext.returnValue = isNaN(+property)",
            "    ? product[property]",
            "    : product[Object.keys(product)[property]];",
            "",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Filter Property",
          "name": "FilterProperty",
          "type": "string"
        },
        {
          "description": "Filter Property Value",
          "name": "FilterPropertyValue",
          "type": "string"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Supported.",
      "fullName": "Is Achievements Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsSupported",
      "sentence": "Is Achievements Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Get List Supported.",
      "fullName": "Is Achievements Get List Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsGetListSupported",
      "sentence": "Is Achievements Get List Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isGetListSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Achievements Native Popup Supported.",
      "fullName": "Is Achievements Native Popup Supported",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "IsAchievementsNativePopupSupported",
      "sentence": "Is Achievements Native Popup Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.achievements.isNativePopupSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Unlock Completed.",
      "fullName": "On Achievements Unlock Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsUnlockCompleted",
      "sentence": "On Achievements Unlock Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsUnlockCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Get List Completed.",
      "fullName": "On Achievements Get List Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsGetListCompleted",
      "sentence": "On Achievements Get List Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsGetListCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Achievements Show Native Popup Completed.",
      "fullName": "On Achievements Show Native Popup Completed",
      "functionType": "Condition",
      "group": "Achievements",
      "name": "OnAchievementsShowNativePopupCompleted",
      "sentence": "On Achievements Show Native Popup Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAchievementsShowNativePopupCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Count.",
      "fullName": "Achievements Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementsCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Properties Count.",
      "fullName": "Achievement Properties Count",
      "functionType": "Expression",
      "group": "Achievements",
      "name": "AchievementPropertiesCount",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList.length > 0",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {}).length",
            "    : 0;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Name.",
      "fullName": "Achievement Property Name",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyName",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const propertyIndex = eventsFunctionContext.getArgument(\"PropertyIndex\");",
            "",
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.achievementsList",
            "    ? Object.keys(gdjs._playgamaBridgeExtension.achievementsList[0] || {})[propertyIndex]",
            "    : '';",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Property Index",
          "name": "PropertyIndex",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievement Property Value.",
      "fullName": "Achievement Property Value",
      "functionType": "StringExpression",
      "group": "Achievements",
      "name": "AchievementPropertyValue",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const achievementIndex = eventsFunctionContext.getArgument(\"AchievementIndex\");",
            "const property = eventsFunctionContext.getArgument(\"Property\");",
            "",
            "const { achievementsList } = gdjs._playgamaBridgeExtension;",
            "",
            "if (achievementsList.length > 0) {",
            "    const achievement = achievementsList[achievementIndex] || {};",
            "    ",
            "    eventsFunctionContext.returnValue = isNaN(+property)",
            "        ? achievement[property]",
            "        : achievement[Object.keys(achievement)[property]];",
            "} else {",
            "    eventsFunctionContext.returnValue = \"\";",
            "}",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Achievement Index",
          "name": "AchievementIndex",
          "type": "expression"
        },
        {
          "description": "Property",
          "name": "Property",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Achievements Unlock.",
      "fullName": "Achievements Unlock",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsUnlock",
      "sentence": "Achievements Unlock",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.unlock(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsUnlockCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Get List.",
      "fullName": "Achievements Get List",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsGetList",
      "sentence": "Achievements Get List",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.getList(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.achievementsList = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsGetListCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Achievements Show Native Popup.",
      "fullName": "Achievements Show Native Popup",
      "functionType": "Action",
      "group": "Achievements",
      "name": "AchievementsShowNativePopup",
      "sentence": "Achievements Show Native Popup",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    bridge.achievements.showNativePopup(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(() => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsAchievementsShowNativePopupCompleted = true;",
            "            resolve();",
            "        });",
            "});",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Remote Config Supported.",
      "fullName": "Is Remote Config Supported",
      "functionType": "Condition",
      "group": "Remote",
      "name": "IsRemoteConfigSupported",
      "sentence": "Is Remote Config Supported",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = bridge.remoteConfig.isSupported;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "On Remote Config Got Completed.",
      "fullName": "On Remote Config Got Completed",
      "functionType": "Condition",
      "group": "Remote",
      "name": "OnRemoteConfigGotCompleted",
      "sentence": "On Remote Config Got Completed",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isRemoteConfigGotCompleted;",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Has Remote Config Value.",
      "fullName": "Has Remote Config Value",
      "functionType": "Condition",
      "group": "Remote",
      "name": "HasRemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "const value = remoteConfig[key];",
            "",
            "eventsFunctionContext.returnValue = value !== null && typeof value !== 'undefined';",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Remote Config Value.",
      "fullName": "Remote Config Value",
      "functionType": "StringExpression",
      "group": "Remote",
      "name": "RemoteConfigValue",
      "sentence": "Has _PARAM1_ in Remote Config",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const key = eventsFunctionContext.getArgument(\"Key\");",
            "const { remoteConfig } = gdjs._playgamaBridgeExtension;",
            "",
            "eventsFunctionContext.returnValue = remoteConfig[key];",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "string"
      },
      "parameters": [
        {
          "description": "Key",
          "name": "Key",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Send Remote Config Get Request.",
      "fullName": "Send Remote Config Get Request",
      "functionType": "Action",
      "group": "Remote",
      "name": "SendRemoteConfigGetRequest",
      "sentence": "Send Remote Config Get Request",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = false;",
            "",
            "return new Promise(resolve => {",
            "    window.bridge.remoteConfig.get(gdjs._playgamaBridgeExtension.actionParametersContainer)",
            "        .then(data => {",
            "            gdjs._playgamaBridgeExtension.isLastActionCompletedSuccessfully = true;",
            "            gdjs._playgamaBridgeExtension.remoteConfig = data;",
            "        })",
            "        .catch(error => console.log(error))",
            "        .finally(() => {",
            "            gdjs._playgamaBridgeExtension.actionParametersContainer = {};",
            "            gdjs._playgamaBridgeExtension.nextIsRemoteConfigGotCompleted = true;",
            "            resolve();",
            "        });",
            "});"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "description": "Is Ad Block Detected.",
      "fullName": "Is Ad Block Detected",
      "functionType": "Condition",
      "name": "IsAdBlockDetected",
      "sentence": "Is Ad Block Detected",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = gdjs._playgamaBridgeExtension.isAdBlockDetected;",
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [],
  "eventsBasedObjects": []
}
