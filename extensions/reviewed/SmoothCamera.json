{
  "author": "",
  "category": "Camera",
  "extensionNamespace": "",
  "fullName": "Smooth Camera",
  "helpPath": "",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjQsMTNoLTZjLTEuMSwwLTItMC45LTItMlY1YzAtMS4xLDAuOS0yLDItMmg2YzEuMSwwLDIsMC45LDIsMnY2QzI2LDEyLjEsMjUuMSwxMywyNCwxM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNiw4djEwYzAsMS4xLTAuOSwyLTIsMkg4Yy0xLjEsMC0yLTAuOS0yLTJWOGMwLTEuMSwwLjktMiwyLTJoOCIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjEiIGN5PSI4IiByPSIyIi8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIxMSIgY3k9IjE2IiByPSIxIi8+DQo8cmVjdCB4PSI5IiB5PSI5IiBjbGFzcz0ic3QwIiB3aWR0aD0iNCIgaGVpZ2h0PSIzIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIyMSwyOSAyMSwyOSAxMSwyOSAxMSwyOSAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjE4LDIwIDE4LDI5IDE0LDI5IDE0LDIwICIvPg0KPHJlY3QgeD0iNyIgeT0iMyIgY2xhc3M9InN0MCIgd2lkdGg9IjQiIGhlaWdodD0iMyIvPg0KPC9zdmc+DQo=",
  "name": "SmoothCamera",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Computers and Hardware/Computers and Hardware_camcoder_gopro_go_pro_camera.svg",
  "shortDescription": "Smoothly scroll to follow an object.",
  "version": "0.3.0",
  "description": [
    "The camera follows an object according to:",
    "- a frame rate independent catch-up speed to make the scrolling from smooth to strong",
    "- a maximum speed to do linear following ([open the project online](https://editor.gdevelop.io/?project=example://platformer-with-tilemap)) or slow down the camera when teleporting the object",
    "- a follow-free zone to avoid scrolling on small movements",
    "- an offset to see further in one direction",
    "- an extra delay and catch-up speed to give an impression of speed (useful for dash)",
    "- position forecasting and delay to simulate a cameraman response time",
    "",
    "A platformer dedicated behavior allows to switch of settings when the character is in air or on the floor. This can be used to stabilize the camera when jumping."
  ],
  "origin": {
    "identifier": "SmoothCamera",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "camera",
    "scrolling",
    "follow",
    "smooth"
  ],
  "authorIds": [
    "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
  ],
  "dependencies": [],
  "eventsFunctions": [],
  "eventsBasedBehaviors": [
    {
      "description": "Smoothly scroll to follow an object.",
      "fullName": "Smooth Camera",
      "name": "SmoothCamera",
      "objectType": "",
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onCreated",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Update private properties through setters to check their values and initialize state.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetLeftwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyLeftwardSpeed()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetRightwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyRightwardSpeed()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetUpwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyUpwardSpeed()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetDownwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyDownwardSpeed()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetLeftwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyLeftwardSpeedMax()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetRightwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyRightwardSpeedMax()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetUpwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyUpwardSpeedMax()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetDownwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyDownwardSpeedMax()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaLeft"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyFollowFreeAreaLeft()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaRight"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyFollowFreeAreaRight()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyFollowFreeAreaTop()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "Object.Behavior::PropertyFollowFreeAreaBottom()",
                    "log(1 - )"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyCameraDelay"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Behavior::PropertyCameraDelay()"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPreEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "SmoothCamera::SmoothCamera::PropertyIsCalledManually"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::DoMoveCameraCloser"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Move the camera closer to the object. This action must be called after the object has moved for the frame.",
          "fullName": "Move the camera closer",
          "functionType": "Action",
          "name": "MoveCameraCloser",
          "sentence": "Move the camera closer to _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "The camera following is called with an action, the call from doStepPreEvents must be disabled to avoid to do it twice.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyIsCalledManually"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::DoMoveCameraCloser"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Move the camera closer to the object.",
          "fullName": "Do move the camera closer",
          "functionType": "Action",
          "name": "DoMoveCameraCloser",
          "private": true,
          "sentence": "Do move the camera closer _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Delaying and forecasting can be used at the same time.\nForecasting only use the positions that are older than the one used for delaying.\nThe behavior uses a position history that is split in 2 arrays:\n- one for delaying the position (from TimeFromStart to TimeFromStart - CamearDelay)\n- one for forecasting the position (from TimeFromStart - CamearDelay to TimeFromStart - CamearDelay - ForecastHistoryDuration",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::UpdateDelayedPosition"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::UpdateForecastedPosition"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "At each frame, the camera must catchup the target by a given ratio (speed)\ncameraX(t) - targetX = (cameraX(t - 1) - targetX) * speed\n\nThe frame rate must not impact on the catch-up speed, we don't want a speed in ratio per frame but a speed ratio per second, like this:\ncameraX(t) - targetX = (cameraX(t - 1s) - targetX) * speed\n\nOk, but we still need to process each frame, we can use a exponent for this:\ncameraX(t) - targetX = (cameraX(t - timeDelta) - targetX) * speed^timeDelta\ncameraX(t) = targetX + (cameraX(t - timeDelta) - targetX) * exp(timeDelta * ln(speed))\n\npow is probably more efficient than precalculated log if the speed is changed continuously but this might be rare enough.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::PropertyFollowOnX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyOldX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "CameraX(Object.Layer(), 0)"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CameraX"
                      },
                      "parameters": [
                        "",
                        ">",
                        "Object.Behavior::FreeAreaRight()",
                        "Object.Layer()",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCameraX"
                      },
                      "parameters": [
                        "",
                        "=",
                        "Object.Behavior::FreeAreaRight()\n+ (CameraX(Object.Layer(), 0) - Object.Behavior::FreeAreaRight())\n* exp(TimeDelta() * Object.Behavior::PropertyLogLeftwardSpeed())",
                        "Object.Layer()",
                        "0"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CameraX"
                          },
                          "parameters": [
                            "",
                            "<",
                            "Object.Behavior::PropertyOldX() - Object.Behavior::PropertyLeftwardSpeedMax() * TimeDelta()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetCameraX"
                          },
                          "parameters": [
                            "",
                            "=",
                            "Object.Behavior::PropertyOldX() - Object.Behavior::PropertyLeftwardSpeedMax() * TimeDelta()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CameraX"
                      },
                      "parameters": [
                        "",
                        "<",
                        "Object.Behavior::FreeAreaLeft()",
                        "Object.Layer()",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCameraX"
                      },
                      "parameters": [
                        "",
                        "=",
                        "Object.Behavior::FreeAreaLeft()\n+ (CameraX(Object.Layer(), 0) - Object.Behavior::FreeAreaLeft())\n* exp(TimeDelta() * Object.Behavior::PropertyLogRightwardSpeed())",
                        "Object.Layer()",
                        "0"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CameraX"
                          },
                          "parameters": [
                            "",
                            ">",
                            "Object.Behavior::PropertyOldX() + Object.Behavior::PropertyRightwardSpeedMax() * TimeDelta()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetCameraX"
                          },
                          "parameters": [
                            "",
                            "=",
                            "Object.Behavior::PropertyOldX() + Object.Behavior::PropertyRightwardSpeedMax() * TimeDelta()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::PropertyFollowOnY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyOldY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "CameraY(Object.Layer(), 0)"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CameraY"
                      },
                      "parameters": [
                        "",
                        ">",
                        "Object.Behavior::FreeAreaBottom()",
                        "Object.Layer()",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCameraY"
                      },
                      "parameters": [
                        "",
                        "=",
                        "Object.Behavior::FreeAreaBottom()\n+ (CameraY(Object.Layer(), 0) - Object.Behavior::FreeAreaBottom())\n* exp(TimeDelta() * Object.Behavior::PropertyLogUpwardSpeed())",
                        "Object.Layer()",
                        "0"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CameraY"
                          },
                          "parameters": [
                            "",
                            "<",
                            "Object.Behavior::PropertyOldY() - Object.Behavior::PropertyUpwardSpeedMax() * TimeDelta()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetCameraY"
                          },
                          "parameters": [
                            "",
                            "=",
                            "Object.Behavior::PropertyOldY() - Object.Behavior::PropertyUpwardSpeedMax() * TimeDelta()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CameraY"
                      },
                      "parameters": [
                        "",
                        "<",
                        "Object.Behavior::FreeAreaTop()",
                        "Object.Layer()",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCameraY"
                      },
                      "parameters": [
                        "",
                        "=",
                        "Object.Behavior::FreeAreaTop()\n+ (CameraY(Object.Layer(), 0) - Object.Behavior::FreeAreaTop())\n* exp(TimeDelta() * Object.Behavior::PropertyLogDownwardSpeed())",
                        "Object.Layer()",
                        "0"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CameraY"
                          },
                          "parameters": [
                            "",
                            ">",
                            "Object.Behavior::PropertyOldY() + Object.Behavior::PropertyDownwardSpeedMax() * TimeDelta()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetCameraY"
                          },
                          "parameters": [
                            "",
                            "=",
                            "Object.Behavior::PropertyOldY() + Object.Behavior::PropertyDownwardSpeedMax() * TimeDelta()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Delay the camera according to a maximum speed and catch up the delay.",
          "fullName": "Wait and catch up",
          "functionType": "Action",
          "name": "WaitAndCatchUp",
          "sentence": "Delay the camera of _PARAM0_ during: _PARAM2_ seconds according to the maximum speed _PARAM3_;_PARAM4_ seconds and catch up in _PARAM5_ seconds",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Maybe the catch-up show be done in constant pixel speed instead of constant time speed.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyWaitingEnd"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "TimeFromStart() + GetArgumentAsNumber(\"WaitingDuration\")"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyWaitingSpeedXMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"WaitingSpeedXMax\")"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyWaitingSpeedYMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"WaitingSpeedYMax\")"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyCameraDelayCatchUpDuration"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"CatchUpDuration\")"
                  ]
                }
              ]
            },
            {
              "disabled": true,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "DebuggerTools::ConsoleLog"
                  },
                  "parameters": [
                    "\"Wait and catch up\"",
                    "\"info\"",
                    "\"SmoothCamera\""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Waiting duration (in seconds)",
              "name": "WaitingDuration",
              "type": "expression"
            },
            {
              "description": "Waiting maximum camera target speed X",
              "name": "WaitingSpeedXMax",
              "type": "expression"
            },
            {
              "description": "Waiting maximum camera target speed Y",
              "name": "WaitingSpeedYMax",
              "type": "expression"
            },
            {
              "description": "Catch up duration (in seconds)",
              "name": "CatchUpDuration",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Draw the targeted and actual camera position.",
          "fullName": "Draw debug",
          "functionType": "Action",
          "name": "DrawDebug",
          "sentence": "Draw targeted and actual camera position for _PARAM0_ on _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "PrimitiveDrawing::FillOpacity"
                  },
                  "parameters": [
                    "ShapePainter",
                    "=",
                    "0"
                  ]
                }
              ]
            },
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "name": "Path used by the forecasting",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Egal"
                      },
                      "parameters": [
                        "Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime)",
                        ">",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::OutlineColor"
                      },
                      "parameters": [
                        "ShapePainter",
                        "\"245;166;35\""
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::BeginFillPath"
                      },
                      "parameters": [
                        "ShapePainter",
                        "Object.Variable(__SmoothCamera.ForecastHistoryX[0])",
                        "Object.Variable(__SmoothCamera.ForecastHistoryY[0])"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Repeat",
                      "repeatExpression": "Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "PrimitiveDrawing::PathLineTo"
                          },
                          "parameters": [
                            "ShapePainter",
                            "Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()])",
                            "Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()])"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "1"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "PrimitiveDrawing::EndFillPath"
                          },
                          "parameters": [
                            "ShapePainter"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "parameters": []
            },
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "name": "Follow-free area.",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::PropertyFollowFreeAreaLeft"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "!=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::PropertyFollowFreeAreaRight"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "!=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::PropertyFollowFreeAreaTop"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "!=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::PropertyFollowFreeAreaBottom"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "!=",
                            "0"
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PrimitiveDrawing::OutlineColor"
                      },
                      "parameters": [
                        "ShapePainter",
                        "\"126;211;33\""
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::Rectangle"
                      },
                      "parameters": [
                        "ShapePainter",
                        "Object.Behavior::FreeAreaLeft() - 1",
                        "Object.Behavior::FreeAreaTop() - 1",
                        "Object.Behavior::FreeAreaRight() + 1",
                        "Object.Behavior::FreeAreaBottom() + 1"
                      ]
                    }
                  ]
                }
              ],
              "parameters": []
            },
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "name": "Linear regression vector used by the forecasting.",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PrimitiveDrawing::OutlineColor"
                      },
                      "parameters": [
                        "ShapePainter",
                        "\"208;2;27\""
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::LineV2"
                      },
                      "parameters": [
                        "ShapePainter",
                        "Object.Behavior::PropertyProjectedOldestX()",
                        "Object.Behavior::PropertyProjectedOldestY()",
                        "Object.Behavior::PropertyProjectedNewestX()",
                        "Object.Behavior::PropertyProjectedNewestY()",
                        "1"
                      ]
                    }
                  ]
                }
              ],
              "parameters": []
            },
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "name": "Targeted and actual camera position",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PrimitiveDrawing::Circle"
                      },
                      "parameters": [
                        "ShapePainter",
                        "Object.Behavior::PropertyForecastedX()",
                        "Object.Behavior::PropertyForecastedY()",
                        "3"
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::LineV2"
                      },
                      "parameters": [
                        "ShapePainter",
                        "CameraX(Object.Layer(), 0)",
                        "CameraY(Object.Layer(), 0) - 4",
                        "CameraX(Object.Layer(), 0)",
                        "CameraY(Object.Layer(), 0) + 4",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::LineV2"
                      },
                      "parameters": [
                        "ShapePainter",
                        "CameraX(Object.Layer(), 0) - 4",
                        "CameraY(Object.Layer(), 0)",
                        "CameraX(Object.Layer(), 0) + 4",
                        "CameraY(Object.Layer(), 0)",
                        "1"
                      ]
                    }
                  ]
                }
              ],
              "parameters": []
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Shape painter",
              "name": "ShapePainter",
              "supplementaryInformation": "PrimitiveDrawing::Drawer",
              "type": "objectList"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Enable or disable the following on X axis.",
          "fullName": "Follow on X",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetFollowOnX",
          "sentence": "The camera follows _PARAM0_ on X axis: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyFollowOnX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"FollowOnX\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyFollowOnX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Follow on X axis",
              "name": "FollowOnX",
              "type": "yesorno"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Enable or disable the following on Y axis.",
          "fullName": "Follow on Y",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetFollowOnY",
          "sentence": "The camera follows _PARAM0_ on Y axis: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyFollowOnY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"FollowOnY\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyFollowOnY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Follow on Y axis",
              "name": "FollowOnY",
              "type": "yesorno"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera follow free area right border.",
          "fullName": "Follow free area right border",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetFollowFreeAreaRight",
          "sentence": "Change the camera follow free area right border of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "max(0, GetArgumentAsNumber(\"SetFollowFreeAreaRight\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Follow free area right border",
              "name": "SetFollowFreeAreaRight",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera follow free area left border.",
          "fullName": "Follow free area left border",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetFollowFreeAreaLeft",
          "sentence": "Change the camera follow free area left border of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "max(0, GetArgumentAsNumber(\"SetFollowFreeAreaLeft\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Follow free area left border",
              "name": "SetFollowFreeAreaLeft",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera follow free area top border.",
          "fullName": "Follow free area top border",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetFollowFreeAreaTop",
          "sentence": "Change the camera follow free area top border of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "max(0, GetArgumentAsNumber(\"FollowFreeAreaTop\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Follow free area top border",
              "name": "FollowFreeAreaTop",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera follow free area bottom border.",
          "fullName": "Follow free area bottom border",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetFollowFreeAreaBottom",
          "sentence": "Change the camera follow free area bottom border of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaBottom"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "max(0, GetArgumentAsNumber(\"SetFollowFreeAreaBottom\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Follow free area bottom border",
              "name": "SetFollowFreeAreaBottom",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera leftward maximum speed (in pixels per second).",
          "fullName": "Leftward maximum speed",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetLeftwardSpeedMax",
          "sentence": "Change the camera leftward maximum speed of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "max(0, GetArgumentAsNumber(\"Speed\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Leftward maximum speed (in ratio per second)",
              "name": "Speed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera rightward maximum speed (in pixels per second).",
          "fullName": "Rightward maximum speed",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetRightwardSpeedMax",
          "sentence": "Change the camera rightward maximum speed of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "max(0, GetArgumentAsNumber(\"Speed\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Rightward maximum speed (in pixels per second)",
              "name": "Speed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera upward maximum speed (in pixels per second).",
          "fullName": "Upward maximum speed",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetUpwardSpeedMax",
          "sentence": "Change the camera upward maximum speed of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyUpwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "max(0, GetArgumentAsNumber(\"Speed\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Upward maximum speed (in pixels per second)",
              "name": "Speed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera downward maximum speed (in pixels per second).",
          "fullName": "Downward maximum speed",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetDownwardSpeedMax",
          "sentence": "Change the camera downward maximum speed of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyDownwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "max(0, GetArgumentAsNumber(\"Speed\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Downward maximum speed (in pixels per second)",
              "name": "Speed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera leftward catch-up speed (in ratio per second).",
          "fullName": "Leftward catch-up speed",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetLeftwardSpeed",
          "sentence": "Change the camera leftward catch-up speed of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "clamp(0, 1, GetArgumentAsNumber(\"LeftwardSpeed\"))"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyLogLeftwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "log(1 - Object.Behavior::PropertyLeftwardSpeed())"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Leftward catch-up speed (in ratio per second)",
              "name": "LeftwardSpeed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera rightward catch-up speed (in ratio per second).",
          "fullName": "Rightward catch-up speed",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetRightwardSpeed",
          "sentence": "Change the camera rightward catch-up speed of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyRightwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "clamp(0, 1, GetArgumentAsNumber(\"RightwardSpeed\"))"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyLogRightwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "log(1 - Object.Behavior::PropertyRightwardSpeed())"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Rightward catch-up speed (in ratio per second)",
              "name": "RightwardSpeed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera downward catch-up speed (in ratio per second).",
          "fullName": "Downward catch-up speed",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetDownwardSpeed",
          "sentence": "Change the camera downward catch-up speed of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyDownwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "clamp(0, 1, GetArgumentAsNumber(\"DownwardSpeed\"))"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyLogDownwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "log(1 - Object.Behavior::PropertyDownwardSpeed())"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Downward catch-up speed (in ratio per second)",
              "name": "DownwardSpeed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera upward catch-up speed (in ratio per second).",
          "fullName": "Upward catch-up speed",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetUpwardSpeed",
          "sentence": "Change the camera upward catch-up speed of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyUpwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "clamp(0, 1, GetArgumentAsNumber(\"UpwardSpeed\"))"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyLogUpwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "log(1 - Object.Behavior::PropertyUpwardSpeed())"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Upward catch-up speed (in ratio per second)",
              "name": "UpwardSpeed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "the camera offset on X axis of the object. This is not the current difference between the object and the camera position.",
          "fullName": "Camera offset X",
          "functionType": "ExpressionAndCondition",
          "group": "Camera configuration",
          "name": "OffsetX",
          "sentence": "the camera offset on X axis",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyCameraOffsetX()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "ActionWithOperator",
          "getterName": "OffsetX",
          "name": "SetOffsetXOp",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyCameraOffsetX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"Value\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera offset on X axis of an object.",
          "fullName": "Camera Offset X",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetOffsetX",
          "private": true,
          "sentence": "Change the camera offset on X axis of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Deprecated use SetOffsetXOp instead.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetOffsetXOp"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"CameraOffsetX\")",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Camera offset X",
              "name": "CameraOffsetX",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "the camera offset on Y axis of the object. This is not the current difference between the object and the camera position.",
          "fullName": "Camera offset Y",
          "functionType": "ExpressionAndCondition",
          "group": "Camera configuration",
          "name": "OffsetY",
          "sentence": "the camera offset on Y axis",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyCameraOffsetY()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "ActionWithOperator",
          "getterName": "OffsetY",
          "name": "SetOffsetYOp",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Deprecated use SetOffsetYOp instead.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyCameraOffsetY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"Value\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera offset on Y axis of an object.",
          "fullName": "Camera Offset Y",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetOffsetY",
          "private": true,
          "sentence": "Change the camera offset on Y axis of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetOffsetYOp"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"CameraOffsetY\")",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Camera offset Y",
              "name": "CameraOffsetY",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera forecast time (in seconds).",
          "fullName": "Forecast time",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetForecastTime",
          "sentence": "Change the camera forecast time of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyForecastTime"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "min(0, GetArgumentAsNumber(\"ForecastTime\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Forecast time",
              "name": "ForecastTime",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera delay (in seconds).",
          "fullName": "Camera delay",
          "functionType": "Action",
          "group": "Camera configuration",
          "name": "SetCameraDelay",
          "sentence": "Change the camera delay of _PARAM0_: _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyCameraDelay"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "min(0, GetArgumentAsNumber(\"CameraDelay\"))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Camera delay",
              "name": "CameraDelay",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return follow free area left border X.",
          "fullName": "Free area left",
          "functionType": "Expression",
          "group": "Private",
          "name": "FreeAreaLeft",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyForecastedX() + Object.Behavior::PropertyCameraOffsetX() - Object.Behavior::PropertyFollowFreeAreaLeft()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return follow free area right border X.",
          "fullName": "Free area right",
          "functionType": "Expression",
          "group": "Private",
          "name": "FreeAreaRight",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyForecastedX() + Object.Behavior::PropertyCameraOffsetX() + Object.Behavior::PropertyFollowFreeAreaRight()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return follow free area bottom border Y.",
          "fullName": "Free area bottom",
          "functionType": "Expression",
          "group": "Private",
          "name": "FreeAreaBottom",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyForecastedY() + Object.Behavior::PropertyCameraOffsetY() + Object.Behavior::PropertyFollowFreeAreaBottom()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return follow free area top border Y.",
          "fullName": "Free area top",
          "functionType": "Expression",
          "group": "Private",
          "name": "FreeAreaTop",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyForecastedY() + Object.Behavior::PropertyCameraOffsetY() - Object.Behavior::PropertyFollowFreeAreaTop()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Update delayed position and delayed history. This is called in doStepPreEvents.",
          "fullName": "Update delayed position",
          "functionType": "Action",
          "group": "Private",
          "name": "UpdateDelayedPosition",
          "private": true,
          "sentence": "Update delayed position and delayed history of _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Add the previous position to have enough (2) positions to evaluate the extra delay for waiting mode.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::IsWaiting"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Egal"
                  },
                  "parameters": [
                    "Object.VariableChildCount(__SmoothCamera.ObjectTime)",
                    "=",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ObjectVariablePushNumber"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ObjectTime",
                    "TimeFromStart()"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariablePushNumber"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ObjectX",
                    "Object.Behavior::PropertyDelayedCenterX()"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariablePushNumber"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ObjectY",
                    "Object.Behavior::PropertyDelayedCenterY()"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Use the object center when no delay is asked.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.CenterX()"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.CenterY()"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "SmoothCamera::SmoothCamera::IsDelayed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::AddForecastHistoryPosition"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "TimeFromStart()",
                    "Object.CenterX()",
                    "Object.CenterY()",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::IsDelayed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::IsWaiting"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ObjectVariablePushNumber"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ObjectTime",
                    "TimeFromStart()"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariablePushNumber"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ObjectX",
                    "Object.CenterX()"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariablePushNumber"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ObjectY",
                    "Object.CenterY()"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Remove history entries that are too old to be useful for delaying and pass it to the history for forecasting.",
                  "comment2": ""
                },
                {
                  "infiniteLoopWarning": true,
                  "type": "BuiltinCommonInstructions::While",
                  "whileConditions": [
                    {
                      "type": {
                        "value": "Egal"
                      },
                      "parameters": [
                        "Object.VariableChildCount(__SmoothCamera.ObjectTime)",
                        ">=",
                        "2"
                      ]
                    },
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera.ObjectTime[1]",
                        "<",
                        "TimeFromStart() - Object.Behavior::CurrentDelay()"
                      ]
                    }
                  ],
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::AddForecastHistoryPosition"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Variable(__SmoothCamera.ObjectTime[0])",
                        "Object.Variable(__SmoothCamera.ObjectX[0])",
                        "Object.Variable(__SmoothCamera.ObjectY[0])",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableRemoveAt"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera.ObjectTime",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableRemoveAt"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera.ObjectX",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableRemoveAt"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera.ObjectY",
                        "0"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Don't move the camera if there is not enough history.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Variable(__SmoothCamera.ObjectX[0])"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Variable(__SmoothCamera.ObjectY[0])"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Egal"
                      },
                      "parameters": [
                        "Object.VariableChildCount(__SmoothCamera.ObjectTime)",
                        ">=",
                        "2"
                      ]
                    },
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera.ObjectTime[0]",
                        "<",
                        "TimeFromStart() - Object.Behavior::CurrentDelay()"
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Add the extra delay that could be needed to respect the speed limit in waiting mode.\n\nspeedRatio = min(speedMaxX / historySpeedX, speedMaxY / historySpeedY)\ndelay += min(0, timeDelta * (1 - speedRatio))",
                      "comment2": ""
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::IsWaiting"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyCameraExtraDelay"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "max(0, TimeDelta() * (1 - min(Object.Behavior::PropertyWaitingSpeedXMax() * abs(Object.Variable(__SmoothCamera.ObjectX[1]) - Object.Variable(__SmoothCamera.ObjectX[0])), Object.Behavior::PropertyWaitingSpeedYMax() * abs(Object.Variable(__SmoothCamera.ObjectY[1]) - Object.Variable(__SmoothCamera.ObjectY[0]))) / (Object.Variable(__SmoothCamera.ObjectTime[1]) - Object.Variable(__SmoothCamera.ObjectTime[0]))))"
                          ]
                        }
                      ],
                      "events": [
                        {
                          "disabled": true,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "DebuggerTools::ConsoleLog"
                              },
                              "parameters": [
                                "\"Extra delay: \" + ToString(Object.Behavior::PropertyCameraExtraDelay())",
                                "\"info\"",
                                "\"SmoothCamera\""
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "The time with delay is now between the first 2 indexes",
                      "comment2": ""
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "lerp(Object.Variable(__SmoothCamera.ObjectX[1]), Object.Variable(__SmoothCamera.ObjectX[0]), ((TimeFromStart() - Object.Behavior::CurrentDelay()) - Object.Variable(__SmoothCamera.ObjectTime[1])) / (Object.Variable(__SmoothCamera.ObjectTime[0]) - Object.Variable(__SmoothCamera.ObjectTime[1])))"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "lerp(Object.Variable(__SmoothCamera.ObjectY[1]), Object.Variable(__SmoothCamera.ObjectY[0]), ((TimeFromStart() - Object.Behavior::CurrentDelay()) - Object.Variable(__SmoothCamera.ObjectTime[1])) / (Object.Variable(__SmoothCamera.ObjectTime[0]) - Object.Variable(__SmoothCamera.ObjectTime[1])))"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "SmoothCamera::SmoothCamera::IsDelayed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "inverted": true,
                    "value": "SmoothCamera::SmoothCamera::IsWaiting"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ObjectVariableClearChildren"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ObjectTime"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableClearChildren"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ObjectX"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableClearChildren"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ObjectY"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "SmoothCamera::SmoothCamera::IsWaiting"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyCameraDelayCatchUpSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Behavior::PropertyCameraExtraDelay() / Object.Behavior::PropertyCameraDelayCatchUpDuration()"
                  ]
                }
              ],
              "events": [
                {
                  "disabled": true,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "DebuggerTools::ConsoleLog"
                      },
                      "parameters": [
                        "\"Start to catch up\"",
                        "\"info\"",
                        "\"SmoothCamera\""
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "SmoothCamera::SmoothCamera::IsWaiting"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::PropertyCameraExtraDelay"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ">",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyCameraExtraDelay"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "max(0, Object.Behavior::PropertyCameraExtraDelay() -Object.Behavior::PropertyCameraDelayCatchUpSpeed() * TimeDelta())"
                  ]
                }
              ],
              "events": [
                {
                  "disabled": true,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "DebuggerTools::ConsoleLog"
                      },
                      "parameters": [
                        "\"Catching up delay: \" + ToString(Object.Behavior::PropertyCameraExtraDelay())",
                        "\"info\"",
                        "\"SmoothCamera\""
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the camera following target is delayed from the object.",
          "fullName": "Camera is delayed",
          "functionType": "Condition",
          "name": "IsDelayed",
          "private": true,
          "sentence": "The camera of _PARAM0_ is delayed",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Egal"
                  },
                  "parameters": [
                    "Object.Behavior::CurrentDelay()",
                    ">",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the current camera delay.",
          "fullName": "Current delay",
          "functionType": "Expression",
          "name": "CurrentDelay",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyCameraDelay() + Object.Behavior::PropertyCameraExtraDelay()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the camera following is waiting at a reduced speed.",
          "fullName": "Camera is waiting",
          "functionType": "Condition",
          "name": "IsWaiting",
          "private": true,
          "sentence": "The camera of _PARAM0_ is waiting",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::PropertyWaitingEnd"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ">",
                    "TimeFromStart()"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Add a position to the history for forecasting. This is called 2 times in UpadteDelayedPosition.",
          "fullName": "Add forecast history position",
          "functionType": "Action",
          "group": "Private",
          "name": "AddForecastHistoryPosition",
          "private": true,
          "sentence": "Add the time:_PARAM2_ and position: _PARAM3_; _PARAM4_ to the forecast history of _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::PropertyForecastHistoryDuration"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ">",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::PropertyForecastTime"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ">",
                        "0"
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ObjectVariablePushNumber"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ForecastHistoryTime",
                    "GetArgumentAsNumber(\"Time\")"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariablePushNumber"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ForecastHistoryX",
                    "GetArgumentAsNumber(\"ObjectX\")"
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariablePushNumber"
                  },
                  "parameters": [
                    "Object",
                    "__SmoothCamera.ForecastHistoryY",
                    "GetArgumentAsNumber(\"ObjectY\")"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Remove history entries that are too old to be useful.\nKeep at least 2 positions because no forecast can be done with less positions.",
                  "comment2": ""
                },
                {
                  "infiniteLoopWarning": true,
                  "type": "BuiltinCommonInstructions::While",
                  "whileConditions": [
                    {
                      "type": {
                        "value": "Egal"
                      },
                      "parameters": [
                        "Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime)",
                        ">=",
                        "3"
                      ]
                    },
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera.ForecastHistoryTime[0]",
                        "<",
                        "TimeFromStart() - Object.Behavior::PropertyCameraDelay() - Object.Behavior::PropertyCameraExtraDelay() - Object.Behavior::PropertyForecastHistoryDuration()"
                      ]
                    }
                  ],
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ObjectVariableRemoveAt"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera.ForecastHistoryTime",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableRemoveAt"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera.ForecastHistoryX",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableRemoveAt"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera.ForecastHistoryY",
                        "0"
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "Time",
              "name": "Time",
              "type": "expression"
            },
            {
              "description": "Object X",
              "name": "ObjectX",
              "type": "expression"
            },
            {
              "description": "Object Y",
              "name": "ObjectY",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Update forecasted position. This is called in doStepPreEvents.",
          "fullName": "Update forecasted position",
          "functionType": "Action",
          "group": "Private",
          "name": "UpdateForecastedPosition",
          "private": true,
          "sentence": "Update forecasted position of _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Behavior::PropertyDelayedCenterX()"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Behavior::PropertyDelayedCenterY()"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Simple linear regression\ny = A * x + B\n\nA = Covariance / VarianceX\nB = MeanY - A * MeanX\n\nNote than we could use only one position every N positions to reduce the process time,\nbut if we really need efficient process JavaScript and circular queues are a must.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Egal"
                  },
                  "parameters": [
                    "Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime)",
                    ">=",
                    "2"
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::PropertyForecastHistoryDuration"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ">",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::PropertyForecastTime"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ">",
                        "0"
                      ]
                    }
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Mean X",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Repeat",
                      "repeatExpression": "Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()])"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "1"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "/",
                            "Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)"
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Mean Y",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Repeat",
                      "repeatExpression": "Object.VariableChildCount(__SmoothCamera.ForecastHistoryY)",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()])"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "1"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "/",
                            "Object.VariableChildCount(__SmoothCamera.ForecastHistoryY)"
                          ]
                        }
                      ]
                    },
                    {
                      "disabled": true,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "DebuggerTools::ConsoleLog"
                          },
                          "parameters": [
                            "\"Mean: \" + ToString(Object.Behavior::PropertyForecastHistoryMeanX()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryMeanY())",
                            "",
                            ""
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Variance and Covariance",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "VarianceX = sum((X[i] - MeanX))\nVarianceY = sum((Y[i] - MeanY))\nCovariance = sum((X[i] - MeanX) * (Y[i] - MeanY))",
                      "comment2": ""
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceX"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceY"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryCovariance"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Repeat",
                      "repeatExpression": "Object.VariableChildCount(__SmoothCamera.ForecastHistoryX)",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceX"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "pow(Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanX(), 2)"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceY"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "pow(Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanY(), 2)"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryCovariance"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "(Object.Variable(__SmoothCamera.ForecastHistoryX[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanX())\n*\n(Object.Variable(__SmoothCamera.ForecastHistoryY[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanY())"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "+",
                            "1"
                          ]
                        }
                      ]
                    },
                    {
                      "disabled": true,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "DebuggerTools::ConsoleLog"
                          },
                          "parameters": [
                            "\"Variances: \" + ToString(Object.Behavior::PropertyForecastHistoryVarianceX()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryVarianceY()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryCovariance())",
                            "\"info\"",
                            "\"SmoothCamera\""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Egal"
                          },
                          "parameters": [
                            "abs(Object.Behavior::PropertyForecastHistoryVarianceX())",
                            "<",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "Egal"
                          },
                          "parameters": [
                            "abs(Object.Behavior::PropertyForecastHistoryVarianceY())",
                            "<",
                            "1"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedX"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "Object.Behavior::PropertyDelayedCenterX()"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedY"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "Object.Behavior::PropertyDelayedCenterY()"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Or"
                          },
                          "parameters": [],
                          "subInstructions": [
                            {
                              "type": {
                                "value": "Egal"
                              },
                              "parameters": [
                                "abs(Object.Behavior::PropertyForecastHistoryVarianceX())",
                                ">=",
                                "1"
                              ]
                            },
                            {
                              "type": {
                                "value": "Egal"
                              },
                              "parameters": [
                                "abs(Object.Behavior::PropertyForecastHistoryVarianceY())",
                                ">=",
                                "1"
                              ]
                            }
                          ]
                        }
                      ],
                      "actions": [],
                      "events": [
                        {
                          "colorB": 228,
                          "colorG": 176,
                          "colorR": 74,
                          "creationTime": 0,
                          "name": "Linear function parameters",
                          "source": "",
                          "type": "BuiltinCommonInstructions::Group",
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Comment",
                              "color": {
                                "b": 109,
                                "g": 230,
                                "r": 255,
                                "textB": 0,
                                "textG": 0,
                                "textR": 0
                              },
                              "comment": "y = A * x + B\n\nA = Covariance / VarianceX\nB = MeanY - A * MeanX",
                              "comment2": ""
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Egal"
                                  },
                                  "parameters": [
                                    "abs(Object.Behavior::PropertyForecastHistoryVarianceX())",
                                    ">=",
                                    "abs(Object.Behavior::PropertyForecastHistoryVarianceY())"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearA"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "Object.Behavior::PropertyForecastHistoryCovariance() / Object.Behavior::PropertyForecastHistoryVarianceX()"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearB"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "Object.Behavior::PropertyForecastHistoryMeanY() - Object.Behavior::PropertyForecastHistoryLinearA() * Object.Behavior::PropertyForecastHistoryMeanX()"
                                  ]
                                }
                              ],
                              "events": [
                                {
                                  "disabled": true,
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "DebuggerTools::ConsoleLog"
                                      },
                                      "parameters": [
                                        "\"Linear: \" + ToString(Object.Behavior::PropertyForecastHistoryLinearA()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryLinearB())",
                                        "\"info\"",
                                        "\"SmoothCamera\""
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "colorB": 228,
                                  "colorG": 176,
                                  "colorR": 74,
                                  "creationTime": 0,
                                  "name": "Projection",
                                  "source": "",
                                  "type": "BuiltinCommonInstructions::Group",
                                  "events": [
                                    {
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::ProjectHistoryEnds"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "Object.Variable(__SmoothCamera.ForecastHistoryX[0])",
                                            "Object.Variable(__SmoothCamera.ForecastHistoryY[0])",
                                            "Object.Variable(__SmoothCamera.ForecastHistoryX[Object.VariableChildCount(__SmoothCamera.ForecastHistoryX) - 1])",
                                            "Object.Variable(__SmoothCamera.ForecastHistoryY[Object.VariableChildCount(__SmoothCamera.ForecastHistoryY) - 1])",
                                            ""
                                          ]
                                        }
                                      ]
                                    }
                                  ],
                                  "parameters": []
                                }
                              ]
                            },
                            {
                              "type": "BuiltinCommonInstructions::Comment",
                              "color": {
                                "b": 109,
                                "g": 230,
                                "r": 255,
                                "textB": 0,
                                "textG": 0,
                                "textR": 0
                              },
                              "comment": "Axis permutation to avoid a ratio between 2 numbers near 0.",
                              "comment2": ""
                            },
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "Egal"
                                  },
                                  "parameters": [
                                    "abs(Object.Behavior::PropertyForecastHistoryVarianceX())",
                                    "<",
                                    "abs(Object.Behavior::PropertyForecastHistoryVarianceY())"
                                  ]
                                }
                              ],
                              "actions": [
                                {
                                  "type": {
                                    "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearA"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "Object.Behavior::PropertyForecastHistoryCovariance() / Object.Behavior::PropertyForecastHistoryVarianceY()"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearB"
                                  },
                                  "parameters": [
                                    "Object",
                                    "Behavior",
                                    "=",
                                    "Object.Behavior::PropertyForecastHistoryMeanX() - Object.Behavior::PropertyForecastHistoryLinearA() * Object.Behavior::PropertyForecastHistoryMeanY()"
                                  ]
                                }
                              ],
                              "events": [
                                {
                                  "disabled": true,
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "DebuggerTools::ConsoleLog"
                                      },
                                      "parameters": [
                                        "\"Linear: \" + ToString(Object.Behavior::PropertyForecastHistoryLinearA()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryLinearB())",
                                        "\"info\"",
                                        "\"SmoothCamera\""
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "colorB": 228,
                                  "colorG": 176,
                                  "colorR": 74,
                                  "creationTime": 0,
                                  "name": "Projection",
                                  "source": "",
                                  "type": "BuiltinCommonInstructions::Group",
                                  "events": [
                                    {
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::ProjectHistoryEnds"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "Object.Variable(__SmoothCamera.ForecastHistoryY[0])",
                                            "Object.Variable(__SmoothCamera.ForecastHistoryX[0])",
                                            "Object.Variable(__SmoothCamera.ForecastHistoryY[Object.VariableChildCount(__SmoothCamera.ForecastHistoryY) - 1])",
                                            "Object.Variable(__SmoothCamera.ForecastHistoryX[Object.VariableChildCount(__SmoothCamera.ForecastHistoryX) - 1])",
                                            ""
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "BuiltinCommonInstructions::Comment",
                                      "color": {
                                        "b": 109,
                                        "g": 230,
                                        "r": 255,
                                        "textB": 0,
                                        "textG": 0,
                                        "textR": 0
                                      },
                                      "comment": "Permute back axis",
                                      "comment2": ""
                                    },
                                    {
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "=",
                                            "Object.Behavior::PropertyProjectedOldestX()"
                                          ]
                                        },
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedOldestX"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "=",
                                            "Object.Behavior::PropertyProjectedOldestY()"
                                          ]
                                        },
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedOldestY"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "=",
                                            "Object.Behavior::PropertyIndex()"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "=",
                                            "Object.Behavior::PropertyProjectedNewestX()"
                                          ]
                                        },
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedNewestX"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "=",
                                            "Object.Behavior::PropertyProjectedNewestY()"
                                          ]
                                        },
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedNewestY"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "=",
                                            "Object.Behavior::PropertyIndex()"
                                          ]
                                        }
                                      ]
                                    }
                                  ],
                                  "parameters": []
                                },
                                {
                                  "disabled": true,
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "DebuggerTools::ConsoleLog"
                                      },
                                      "parameters": [
                                        "\"Oldest: \" + ToString(Object.Behavior::PropertyProjectedOldestX()) + \" \" + ToString(Object.Behavior::PropertyProjectedOldestY())",
                                        "\"info\"",
                                        "\"SmoothCamera\""
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "disabled": true,
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "DebuggerTools::ConsoleLog"
                                      },
                                      "parameters": [
                                        "\"Newest: \" + ToString(Object.Behavior::PropertyProjectedNewestX()) + \" \" + ToString(Object.Behavior::PropertyProjectedNewestY())",
                                        "\"info\"",
                                        "\"SmoothCamera\""
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "colorB": 228,
                              "colorG": 176,
                              "colorR": 74,
                              "creationTime": 0,
                              "name": "Forecasted position",
                              "source": "",
                              "type": "BuiltinCommonInstructions::Group",
                              "events": [
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedX"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior",
                                        "=",
                                        "Object.Behavior::PropertyProjectedNewestX() + ( Object.Behavior::PropertyProjectedNewestX() - Object.Behavior::PropertyProjectedOldestX()) * Object.Behavior::ForecastTimeRatio()"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedY"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior",
                                        "=",
                                        "Object.Behavior::PropertyProjectedNewestY() + ( Object.Behavior::PropertyProjectedNewestY() - Object.Behavior::PropertyProjectedOldestY()) * Object.Behavior::ForecastTimeRatio()"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "disabled": true,
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "DebuggerTools::ConsoleLog"
                                      },
                                      "parameters": [
                                        "\"Forecasted: \" + ToString(Object.Behavior::PropertyForecastedX()) + \" \" + ToString(Object.Behavior::PropertyForecastedY())",
                                        "\"info\"",
                                        "\"SmoothCamera\""
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "parameters": []
                            }
                          ],
                          "parameters": []
                        }
                      ]
                    }
                  ],
                  "parameters": []
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Project history ends position to have the vector on the line from linear regression. This function is only called by UpdateForecastedPosition.",
          "fullName": "Project history ends",
          "functionType": "Action",
          "group": "Private",
          "name": "ProjectHistoryEnds",
          "private": true,
          "sentence": "Project history oldest: _PARAM2_;_PARAM3_ and newest position: _PARAM4_;_PARAM5_ of _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Perpendicular line:\npA = -1/a; \npB = -pA * x + y\n\nIntersection:\n/ ProjectedY = a * ProjectedX + b\n\\ ProjectedY = pA * ProjectedX + b\n\nSolution that is cleaned out from indeterminism (like 0 / 0 or infinity / infinity):\nProjectedX= (x + (y - b) * a) / (a + 1)\nProjectedY = y + (x * a - y + b) / (a + 1)",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedNewestX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "(GetArgumentAsNumber(\"NewestX\") + (GetArgumentAsNumber(\"NewestY\") - Object.Behavior::PropertyForecastHistoryLinearB()) * Object.Behavior::PropertyForecastHistoryLinearA()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedNewestY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"NewestY\") + (GetArgumentAsNumber(\"NewestX\") * Object.Behavior::PropertyForecastHistoryLinearA() - GetArgumentAsNumber(\"NewestY\") \n+ Object.Behavior::PropertyForecastHistoryLinearB()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedOldestX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "(GetArgumentAsNumber(\"OldestX\") + (GetArgumentAsNumber(\"OldestY\") - Object.Behavior::PropertyForecastHistoryLinearB()) * Object.Behavior::PropertyForecastHistoryLinearA()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedOldestY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"OldestY\") + (GetArgumentAsNumber(\"OldestX\") * Object.Behavior::PropertyForecastHistoryLinearA() - GetArgumentAsNumber(\"OldestY\") \n+ Object.Behavior::PropertyForecastHistoryLinearB()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            },
            {
              "description": "OldestX",
              "name": "OldestX",
              "type": "expression"
            },
            {
              "description": "OldestY",
              "name": "OldestY",
              "type": "expression"
            },
            {
              "description": "Newest X",
              "name": "NewestX",
              "type": "expression"
            },
            {
              "description": "Newest Y",
              "name": "NewestY",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the ratio between forecast time and the duration of the history. This function is only called by UpdateForecastedPosition.",
          "fullName": "Forecast time ratio",
          "functionType": "Expression",
          "group": "Private",
          "name": "ForecastTimeRatio",
          "private": true,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "- Object.Behavior::PropertyForecastTime() / (Object.Variable(__SmoothCamera.ForecastHistoryTime[0]) - Object.Variable(__SmoothCamera.ForecastHistoryTime[Object.VariableChildCount(__SmoothCamera.ForecastHistoryTime) - 1]))"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "0.9",
          "type": "Number",
          "label": "Leftward catch-up speed (in ratio per second)",
          "description": "",
          "group": "Catch-up speed",
          "extraInformation": [],
          "hidden": false,
          "name": "LeftwardSpeed"
        },
        {
          "value": "0.9",
          "type": "Number",
          "label": "Rightward catch-up speed (in ratio per second)",
          "description": "",
          "group": "Catch-up speed",
          "extraInformation": [],
          "hidden": false,
          "name": "RightwardSpeed"
        },
        {
          "value": "0.9",
          "type": "Number",
          "label": "Upward catch-up speed (in ratio per second)",
          "description": "",
          "group": "Catch-up speed",
          "extraInformation": [],
          "hidden": false,
          "name": "UpwardSpeed"
        },
        {
          "value": "0.9",
          "type": "Number",
          "label": "Downward catch-up speed (in ratio per second)",
          "description": "",
          "group": "Catch-up speed",
          "extraInformation": [],
          "hidden": false,
          "name": "DownwardSpeed"
        },
        {
          "value": "true",
          "type": "Boolean",
          "label": "Follow on X axis",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "FollowOnX"
        },
        {
          "value": "true",
          "type": "Boolean",
          "label": "Follow on Y axis",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "FollowOnY"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Follow free area left border",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "FollowFreeAreaLeft"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Follow free area right border",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "FollowFreeAreaRight"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Follow free area top border",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "FollowFreeAreaTop"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Follow free area bottom border",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "FollowFreeAreaBottom"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Camera offset X",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "CameraOffsetX"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Camera offset Y",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "CameraOffsetY"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Second",
          "label": "Camera delay",
          "description": "",
          "group": "Timing",
          "extraInformation": [],
          "hidden": false,
          "name": "CameraDelay"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Second",
          "label": "Forecast time",
          "description": "",
          "group": "Timing",
          "extraInformation": [],
          "hidden": false,
          "name": "ForecastTime"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Second",
          "label": "Forecast history duration",
          "description": "",
          "group": "Timing",
          "extraInformation": [],
          "hidden": false,
          "name": "ForecastHistoryDuration"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "LogLeftwardSpeed"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "LogRightwardSpeed"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "LogDownwardSpeed"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "LogUpwardSpeed"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DelayedCenterX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DelayedCenterY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ForecastHistoryMeanX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ForecastHistoryMeanY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ForecastHistoryVarianceX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ForecastHistoryCovariance"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ForecastHistoryLinearA"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ForecastHistoryLinearB"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ForecastedX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ForecastedY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ProjectedNewestX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ProjectedNewestY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ProjectedOldestX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ProjectedOldestY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ForecastHistoryVarianceY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "Index (local variable)",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Index"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "CameraDelayCatchUpSpeed"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "CameraExtraDelay"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "WaitingSpeedXMax"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "WaitingSpeedYMax"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "WaitingEnd"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "CameraDelayCatchUpDuration"
        },
        {
          "value": "9000",
          "type": "Number",
          "unit": "PixelSpeed",
          "label": "Leftward maximum speed",
          "description": "",
          "group": "Maximum speed",
          "extraInformation": [],
          "hidden": false,
          "name": "LeftwardSpeedMax"
        },
        {
          "value": "9000",
          "type": "Number",
          "unit": "PixelSpeed",
          "label": "Rightward maximum speed",
          "description": "",
          "group": "Maximum speed",
          "extraInformation": [],
          "hidden": false,
          "name": "RightwardSpeedMax"
        },
        {
          "value": "9000",
          "type": "Number",
          "unit": "PixelSpeed",
          "label": "Upward maximum speed",
          "description": "",
          "group": "Maximum speed",
          "extraInformation": [],
          "hidden": false,
          "name": "UpwardSpeedMax"
        },
        {
          "value": "9000",
          "type": "Number",
          "unit": "PixelSpeed",
          "label": "Downward maximum speed",
          "description": "",
          "group": "Maximum speed",
          "extraInformation": [],
          "hidden": false,
          "name": "DownwardSpeedMax"
        },
        {
          "value": "",
          "type": "Number",
          "label": "OldX (local variable)",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "OldX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "OldY (local variable)",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "OldY"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "IsCalledManually"
        }
      ],
      "sharedPropertyDescriptors": []
    },
    {
      "description": "Smoothly scroll to follow a character and stabilize the camera when jumping.",
      "fullName": "Smooth platformer camera",
      "name": "SmoothPlatformerCamera",
      "objectType": "",
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPreEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "PlatformBehavior::IsJumping"
                  },
                  "parameters": [
                    "Object",
                    "PlatformerCharacter"
                  ]
                },
                {
                  "type": {
                    "inverted": true,
                    "value": "PlatformBehavior::IsFalling"
                  },
                  "parameters": [
                    "Object",
                    "PlatformerCharacter"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyFloorFollowFreeAreaTop()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyFloorFollowFreeAreaBottom()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetUpwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyFloorUpwardSpeed()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetDownwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyFloorDownwardSpeed()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetUpwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyFloorUpwardSpeedMax()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetDownwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyFloorDownwardSpeedMax()",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "PlatformBehavior::IsJumping"
                      },
                      "parameters": [
                        "Object",
                        "PlatformerCharacter"
                      ]
                    },
                    {
                      "type": {
                        "value": "PlatformBehavior::IsFalling"
                      },
                      "parameters": [
                        "Object",
                        "PlatformerCharacter"
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyAirFollowFreeAreaTop()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyAirFollowFreeAreaBottom()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetUpwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyAirUpwardSpeed()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetDownwardSpeed"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyAirDownwardSpeed()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetUpwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyAirUpwardSpeedMax()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SmoothCamera::SmoothCamera::SetDownwardSpeedMax"
                  },
                  "parameters": [
                    "Object",
                    "SmoothCamera",
                    "Object.Behavior::PropertyAirDownwardSpeedMax()",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "SmoothCamera::SmoothPlatformerCamera",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "",
          "type": "Behavior",
          "label": "Platformer character behavior",
          "description": "",
          "group": "",
          "extraInformation": [
            "PlatformBehavior::PlatformerObjectBehavior"
          ],
          "hidden": false,
          "name": "PlatformerCharacter"
        },
        {
          "value": "",
          "type": "Behavior",
          "label": "Smooth camera behavior",
          "description": "",
          "group": "",
          "extraInformation": [
            "SmoothCamera::SmoothCamera"
          ],
          "hidden": false,
          "name": "SmoothCamera"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "JumpOriginY"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Follow free area top in the air",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "AirFollowFreeAreaTop"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Follow free area bottom in the air",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "AirFollowFreeAreaBottom"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Follow free area top on the floor",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "FloorFollowFreeAreaTop"
        },
        {
          "value": "0",
          "type": "Number",
          "unit": "Pixel",
          "label": "Follow free area bottom on the floor",
          "description": "",
          "group": "Position",
          "extraInformation": [],
          "hidden": false,
          "name": "FloorFollowFreeAreaBottom"
        },
        {
          "value": "0.95",
          "type": "Number",
          "label": "Upward speed in the air (in ratio per second)",
          "description": "",
          "group": "Catch-up speed",
          "extraInformation": [],
          "hidden": false,
          "name": "AirUpwardSpeed"
        },
        {
          "value": "0.95",
          "type": "Number",
          "label": "Downward speed in the air (in ratio per second)",
          "description": "",
          "group": "Catch-up speed",
          "extraInformation": [],
          "hidden": false,
          "name": "AirDownwardSpeed"
        },
        {
          "value": "0.9",
          "type": "Number",
          "label": "Upward speed on the floor (in ratio per second)",
          "description": "",
          "group": "Catch-up speed",
          "extraInformation": [],
          "hidden": false,
          "name": "FloorUpwardSpeed"
        },
        {
          "value": "0.9",
          "type": "Number",
          "label": "Downward speed on the floor (in ratio per second)",
          "description": "",
          "group": "Catch-up speed",
          "extraInformation": [],
          "hidden": false,
          "name": "FloorDownwardSpeed"
        },
        {
          "value": "9000",
          "type": "Number",
          "unit": "PixelSpeed",
          "label": "Upward maximum speed in the air",
          "description": "",
          "group": "Maximum speed",
          "extraInformation": [],
          "hidden": false,
          "name": "AirUpwardSpeedMax"
        },
        {
          "value": "9000",
          "type": "Number",
          "unit": "PixelSpeed",
          "label": "Downward maximum speed in the air",
          "description": "",
          "group": "Maximum speed",
          "extraInformation": [],
          "hidden": false,
          "name": "AirDownwardSpeedMax"
        },
        {
          "value": "9000",
          "type": "Number",
          "unit": "PixelSpeed",
          "label": "Upward maximum speed on the floor",
          "description": "",
          "group": "Maximum speed",
          "extraInformation": [],
          "hidden": false,
          "name": "FloorUpwardSpeedMax"
        },
        {
          "value": "9000",
          "type": "Number",
          "unit": "PixelSpeed",
          "label": "Downward maximum speed on the floor",
          "description": "",
          "group": "Maximum speed",
          "extraInformation": [],
          "hidden": false,
          "name": "FloorDownwardSpeedMax"
        }
      ],
      "sharedPropertyDescriptors": []
    }
  ],
  "eventsBasedObjects": []
}