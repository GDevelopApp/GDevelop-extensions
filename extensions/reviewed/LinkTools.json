{
  "author": "D8H",
  "category": "Game mechanic",
  "extensionNamespace": "",
  "fullName": "Linked Objects Tools",
  "helpPath": "/all-features/extensions/linked-objects-tools",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWdyYXBoLW91dGxpbmUiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkuNSAxN0MxOS4zNiAxNyAxOS4yNCAxNyAxOS4xMSAxNy4wNEwxNy41IDEzLjhDMTcuOTUgMTMuMzUgMTguMjUgMTIuNzEgMTguMjUgMTJDMTguMjUgMTAuNjIgMTcuMTMgOS41IDE1Ljc1IDkuNUMxNS42MSA5LjUgMTUuNSA5LjUgMTUuMzUgOS41NEwxMy43NCA2LjNDMTQuMjEgNS44NCAxNC41IDUuMjEgMTQuNSA0LjVDMTQuNSAzLjEyIDEzLjM4IDIgMTIgMlM5LjUgMy4xMiA5LjUgNC41QzkuNSA1LjIgOS43OSA1Ljg0IDEwLjI2IDYuMjlMOC42NSA5LjU0QzguNSA5LjUgOC4zOSA5LjUgOC4yNSA5LjVDNi44NyA5LjUgNS43NSAxMC42MiA1Ljc1IDEyQzUuNzUgMTIuNzEgNi4wNCAxMy4zNCA2LjUgMTMuNzlMNC44OSAxNy4wNEM0Ljc2IDE3IDQuNjQgMTcgNC41IDE3QzMuMTIgMTcgMiAxOC4xMiAyIDE5LjVDMiAyMC44OCAzLjEyIDIyIDQuNSAyMlM3IDIwLjg4IDcgMTkuNUM3IDE4LjggNi43MSAxOC4xNiA2LjI0IDE3LjcxTDcuODYgMTQuNDZDOCAxNC41IDguMTIgMTQuNSA4LjI1IDE0LjVDOC4zOCAxNC41IDguNSAxNC41IDguNjMgMTQuNDZMMTAuMjYgMTcuNzFDOS43OSAxOC4xNiA5LjUgMTguOCA5LjUgMTkuNUM5LjUgMjAuODggMTAuNjIgMjIgMTIgMjJTMTQuNSAyMC44OCAxNC41IDE5LjVDMTQuNSAxOC4xMiAxMy4zOCAxNyAxMiAxN0MxMS44NyAxNyAxMS43NCAxNyAxMS42MSAxNy4wNEwxMCAxMy44QzEwLjQ1IDEzLjM1IDEwLjc1IDEyLjcxIDEwLjc1IDEyQzEwLjc1IDExLjMgMTAuNDYgMTAuNjcgMTAgMTAuMjFMMTEuNjEgNi45NkMxMS43NCA3IDExLjg3IDcgMTIgN0MxMi4xMyA3IDEyLjI2IDcgMTIuMzkgNi45NkwxNCAxMC4yMUMxMy41NCAxMC42NiAxMy4yNSAxMS4zIDEzLjI1IDEyQzEzLjI1IDEzLjM4IDE0LjM3IDE0LjUgMTUuNzUgMTQuNUMxNS44OCAxNC41IDE2IDE0LjUgMTYuMTMgMTQuNDZMMTcuNzYgMTcuNzFDMTcuMjkgMTguMTYgMTcgMTguOCAxNyAxOS41QzE3IDIwLjg4IDE4LjEyIDIyIDE5LjUgMjJTMjIgMjAuODggMjIgMTkuNUMyMiAxOC4xMiAyMC44OCAxNyAxOS41IDE3TTQuNSAyMC41QzMuOTUgMjAuNSAzLjUgMjAuMDUgMy41IDE5LjVTMy45NSAxOC41IDQuNSAxOC41IDUuNSAxOC45NSA1LjUgMTkuNSA1LjA1IDIwLjUgNC41IDIwLjVNMTMgMTkuNUMxMyAyMC4wNSAxMi41NSAyMC41IDEyIDIwLjVTMTEgMjAuMDUgMTEgMTkuNSAxMS40NSAxOC41IDEyIDE4LjUgMTMgMTguOTUgMTMgMTkuNU03LjI1IDEyQzcuMjUgMTEuNDUgNy43IDExIDguMjUgMTFTOS4yNSAxMS40NSA5LjI1IDEyIDguOCAxMyA4LjI1IDEzIDcuMjUgMTIuNTUgNy4yNSAxMk0xMSA0LjVDMTEgMy45NSAxMS40NSAzLjUgMTIgMy41UzEzIDMuOTUgMTMgNC41IDEyLjU1IDUuNSAxMiA1LjUgMTEgNS4wNSAxMSA0LjVNMTQuNzUgMTJDMTQuNzUgMTEuNDUgMTUuMiAxMSAxNS43NSAxMVMxNi43NSAxMS40NSAxNi43NSAxMiAxNi4zIDEzIDE1Ljc1IDEzIDE0Ljc1IDEyLjU1IDE0Ljc1IDEyTTE5LjUgMjAuNUMxOC45NSAyMC41IDE4LjUgMjAuMDUgMTguNSAxOS41UzE4Ljk1IDE4LjUgMTkuNSAxOC41IDIwLjUgMTguOTUgMjAuNSAxOS41IDIwLjA1IDIwLjUgMTkuNSAyMC41WiIgLz48L3N2Zz4=",
  "name": "LinkTools",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/graph-outline.svg",
  "shortDescription": "Conditions to use Linked Objects as a graph and a path finding movement behavior.",
  "version": "1.2.2",
  "description": [
    "This provides:",
    "* \"Can reach through links\" conditions, useful to check if an object is linked to another through one or more other linked objects.",
    "* a path finding movement behavior that uses objects links (instead of obstacles for the other behavior)",
    "",
    "For instance, it can be helpful for grid-based games like:",
    "* Match-3 ([open the project online](https://editor.gdevelop.io/?project=example://bim-bam))",
    "* Tactical ([open the project online](https://editor.gdevelop.io/?project=example://tactical-game-grid-movement))",
    "* City builders ([open the project online](https://editor.gdevelop.io/?project=example://city-builder))",
    "* Point and click (bypass obstacles with a predetermined polygonal chain)"
  ],
  "origin": {
    "identifier": "LinkTools",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "link",
    "graph",
    "path",
    "match",
    "tactical",
    "city",
    "movement"
  ],
  "authorIds": [
    "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "description": "Link to neighbors on a rectangular grid.",
      "fullName": "Link to neighbors on a rectangular grid",
      "functionType": "Action",
      "name": "LinkRectangularNeighbors",
      "sentence": "Link _PARAM1_ and its neighbors _PARAM2_  on a rectangular grid with cell dimensions: _PARAM3_; _PARAM4_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::ForEach",
          "object": "Object",
          "conditions": [],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() + GetArgumentAsNumber(\"CellWidth\")",
                    "Object.Y()"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X()",
                    "Object.Y() + GetArgumentAsNumber(\"CellHeight\")"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() - GetArgumentAsNumber(\"CellWidth\")",
                    "Object.Y()"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X()",
                    "Object.Y() - GetArgumentAsNumber(\"CellHeight\")"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"AllowsDiagonals\""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "Neighbor",
                        "Object.X() + GetArgumentAsNumber(\"CellWidth\")",
                        "Object.Y() + GetArgumentAsNumber(\"CellHeight\")"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "Object",
                        "Neighbor"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "Neighbor",
                        "Object.X() - GetArgumentAsNumber(\"CellWidth\")",
                        "Object.Y() + GetArgumentAsNumber(\"CellHeight\")"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "Object",
                        "Neighbor"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "Neighbor",
                        "Object.X() - GetArgumentAsNumber(\"CellWidth\")",
                        "Object.Y() - GetArgumentAsNumber(\"CellHeight\")"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "Object",
                        "Neighbor"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "Neighbor",
                        "Object.X() + GetArgumentAsNumber(\"CellWidth\")",
                        "Object.Y() - GetArgumentAsNumber(\"CellHeight\")"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "Object",
                        "Neighbor"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Object",
          "name": "Object",
          "type": "objectList"
        },
        {
          "description": "Neighbor",
          "longDescription": "The 2 objects can't be the same.",
          "name": "Neighbor",
          "type": "objectList"
        },
        {
          "description": "Cell width",
          "name": "CellWidth",
          "type": "expression"
        },
        {
          "description": "Cell height",
          "name": "CellHeight",
          "type": "expression"
        },
        {
          "description": "Allows diagonals",
          "name": "AllowsDiagonals",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Link to neighbors on a hexagonal grid.",
      "fullName": "Link to neighbors on a hexagonal grid",
      "functionType": "Action",
      "name": "LinkHexagonalNeighbors",
      "sentence": "Link _PARAM1_ and its neighbors _PARAM2_  on a hexagonal grid with cell dimensions: _PARAM3_; _PARAM4_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::ForEach",
          "object": "Object",
          "conditions": [],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() + GetArgumentAsNumber(\"CellWidth\")",
                    "Object.Y()"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2",
                    "Object.Y() + GetArgumentAsNumber(\"CellHeight\") * 3/4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2",
                    "Object.Y() + GetArgumentAsNumber(\"CellHeight\") * 3/4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() - GetArgumentAsNumber(\"CellWidth\")",
                    "Object.Y()"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2",
                    "Object.Y() - GetArgumentAsNumber(\"CellHeight\") * 3/4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2",
                    "Object.Y() - GetArgumentAsNumber(\"CellHeight\") * 3/4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Object",
          "name": "Object",
          "type": "objectList"
        },
        {
          "description": "Neighbor",
          "longDescription": "The 2 objects can't be the same.",
          "name": "Neighbor",
          "type": "objectList"
        },
        {
          "description": "Cell width",
          "name": "CellWidth",
          "type": "expression"
        },
        {
          "description": "Cell height",
          "name": "CellHeight",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Link to neighbors on an isometric grid.",
      "fullName": "Link to neighbors on an isometric grid",
      "functionType": "Action",
      "name": "LinkIsometricRectangularNeighbors",
      "sentence": "Link _PARAM1_ and its neighbors _PARAM2_  on an isometric grid with cell dimensions: _PARAM3_; _PARAM4_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::ForEach",
          "object": "Object",
          "conditions": [],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2",
                    "Object.Y() + GetArgumentAsNumber(\"CellHeight\") / 2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2",
                    "Object.Y() + GetArgumentAsNumber(\"CellHeight\") / 2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() - GetArgumentAsNumber(\"CellWidth\") / 2",
                    "Object.Y() - GetArgumentAsNumber(\"CellHeight\") / 2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionPoint"
                  },
                  "parameters": [
                    "Neighbor",
                    "Object.X() + GetArgumentAsNumber(\"CellWidth\") / 2",
                    "Object.Y() - GetArgumentAsNumber(\"CellHeight\") / 2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkedObjects::LinkObjects"
                  },
                  "parameters": [
                    "",
                    "Object",
                    "Neighbor"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"AllowsDiagonals\""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "Neighbor",
                        "Object.X() + GetArgumentAsNumber(\"CellWidth\")",
                        "Object.Y()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "Object",
                        "Neighbor"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "Neighbor",
                        "Object.X()",
                        "Object.Y() + GetArgumentAsNumber(\"CellHeight\")"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "Object",
                        "Neighbor"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "Neighbor",
                        "Object.X() - GetArgumentAsNumber(\"CellWidth\")",
                        "Object.Y()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "Object",
                        "Neighbor"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CollisionPoint"
                      },
                      "parameters": [
                        "Neighbor",
                        "Object.X()",
                        "Object.Y() - GetArgumentAsNumber(\"CellHeight\")"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkedObjects::LinkObjects"
                      },
                      "parameters": [
                        "",
                        "Object",
                        "Neighbor"
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": [
        {
          "description": "Object",
          "name": "Object",
          "type": "objectList"
        },
        {
          "description": "Neighbor",
          "longDescription": "The 2 objects can't be the same.",
          "name": "Neighbor",
          "type": "objectList"
        },
        {
          "description": "Cell width",
          "name": "CellWidth",
          "type": "expression"
        },
        {
          "description": "Cell height",
          "name": "CellHeight",
          "type": "expression"
        },
        {
          "description": "Allows diagonals",
          "name": "AllowsDiagonals",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Can reach through a given cost sum.",
      "fullName": "Can reach with links limited by cost",
      "functionType": "Condition",
      "name": "CanReachWithMaxWeight",
      "sentence": "Take into account all \"_PARAM1_\" that can reach _PARAM2_ with initial value from the variable _PARAM3_ through at most a cost of: _PARAM4_ according to cost class: _PARAM5_ and at most _PARAM6_ links depth",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "",
            "/**",
            " * Insert a node in an array sorted by farest 1st",
            " * @param {gdjs.RuntimeObject[]} objects",
            " * @param {gdjs.RuntimeObject} object",
            " */",
            "const insertOpenNode = function (objects, object)",
            "{",
            "    let leftIndex = 0;",
            "    let rightIndex = objects.length;",
            "    while (leftIndex < rightIndex)",
            "    {",
            "        const medianIndex = Math.floor((leftIndex + rightIndex) / 2)",
            "        if (objects[medianIndex].linktoolsWeightSum < object.linktoolsWeightSum",
            "         || objects[medianIndex].linktoolsWeightSum === object.linktoolsWeightSum",
            "         && objects[medianIndex].linktoolsDepth < object.linktoolsDepth)",
            "            rightIndex = medianIndex;",
            "        else",
            "            leftIndex = medianIndex + 1;",
            "    }",
            "    objects.splice(rightIndex, 0, object);",
            "};",
            "",
            "let pickedSomething = false;",
            "const pickedObjects = eventsFunctionContext.getObjects(\"PickedObject\");",
            "const targetObjects = eventsFunctionContext.getObjects(\"TargetObject\");",
            "/** @type {string} */",
            "const initialLengthVariableName = eventsFunctionContext.getArgument(\"InitialLengthVariable\");",
            "/** @type {number} */",
            "const maxWeight = eventsFunctionContext.getArgument(\"MaxWeight\");",
            "/** @type {string} */",
            "const costClass = eventsFunctionContext.getArgument(\"CostClass\");",
            "const skipFirstCost = eventsFunctionContext.getArgument(\"SkipFirstWeight\") === true;",
            "/** @type {number} */",
            "const maxDepth = eventsFunctionContext.getArgument(\"MaxDepth\");",
            "",
            "/** @type {gdjs.LinksManager} */",
            "const manager = gdjs.LinksManager.getManager(runtimeScene);",
            "for (const targetObject of targetObjects)",
            "{",
            "    targetObject.linktoolsDepth = 0;",
            "    if (initialLengthVariableName === \"\")",
            "    {",
            "        targetObject.linktoolsWeightSum = 0;",
            "    }",
            "    else",
            "    {",
            "        targetObject.linktoolsWeightSum = targetObject.getVariableNumber(targetObject.getVariables().get(initialLengthVariableName));",
            "    }",
            "}",
            "for (const pickedObject of pickedObjects)",
            "{",
            "    pickedObject.pick = false;",
            "}",
            "// mark every instance that can be reached through links",
            "// openObjects is the new discovered instances where links must be checked",
            "let openObjects;",
            "openObjects = targetObjects.slice();",
            "if (initialLengthVariableName !== \"\")",
            "{",
            "    // nearest last because pop is o(1)",
            "    openObjects.sort",
            "    (",
            "        function (a, b)",
            "        {",
            "            return b.linktoolsWeightSum - a.linktoolsWeightSum;",
            "        }",
            "    );",
            "}",
            "while (openObjects.length !== 0)",
            "{",
            "    const object = openObjects.pop();",
            "    const linktoolsWeightSum = object.linktoolsWeightSum;",
            "    /** @type {Array<gdjs.RuntimeObject>} */",
            "    const linkedObjects = manager.getObjectsLinkedWith(object);",
            "    for (const linkedObject of linkedObjects)",
            "    {",
            "        // don't check one instance twice",
            "        // and it must be in the set given by the caller",
            "        if (!linkedObject.pick && pickedObjects.includes(linkedObject) && object.linktoolsDepth < maxDepth)",
            "        {",
            "            let newWeightSum = 0;",
            "            if (costClass.length === 0)",
            "            {",
            "                newWeightSum = linktoolsWeightSum + 1;",
            "            }",
            "            else",
            "            {",
            "                const costVariable = linkedObject.getVariables().get(\"linktools_Cost\");",
            "                if (costVariable.hasChild(costClass))",
            "                {",
            "                    const cost = linkedObject.getVariableNumber(costVariable.getChild(costClass));",
            "                    newWeightSum = linktoolsWeightSum + cost;",
            "                }",
            "                else {",
            "                    newWeightSum = maxWeight + 1;",
            "                }",
            "            }",
            "            if (newWeightSum <= maxWeight)",
            "            {",
            "                if (object.linktoolsDepth === 0 && skipFirstCost)",
            "                {",
            "                    linkedObject.linktoolsWeightSum = linktoolsWeightSum;",
            "                }",
            "                else",
            "                {",
            "                    linkedObject.linktoolsWeightSum = newWeightSum;",
            "                }",
            "                linkedObject.pick = true;",
            "                pickedSomething = true;",
            "                linkedObject.linktoolsDepth = object.linktoolsDepth + 1;",
            "                insertOpenNode(openObjects, linkedObject);",
            "            }",
            "        }",
            "    }",
            "}",
            "// filter the instances to only keep the one marked with the pick attribute",
            "const pickedObjectsLists = eventsFunctionContext.getObjectsLists(\"PickedObject\");",
            "/** @type {Array<String>} */",
            "const objectNames = [];",
            "pickedObjectsLists.keys(objectNames);",
            "for (const objectName of objectNames)",
            "{",
            "    const pickedObjectsList = pickedObjectsLists.get(objectName);",
            "    gdjs.evtTools.object.filterPickedObjectsList(pickedObjectsList);",
            "}",
            "for (const pickedObject of pickedObjects)",
            "{",
            "    pickedObject.pick = false;",
            "}",
            "eventsFunctionContext.returnValue = pickedSomething;"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Pick these objects...",
          "name": "PickedObject",
          "type": "objectList"
        },
        {
          "description": "if they can reach this object",
          "name": "TargetObject",
          "type": "objectList"
        },
        {
          "description": "Initial length variable",
          "longDescription": "Start to 0 if left empty",
          "name": "InitialLengthVariable",
          "type": "string"
        },
        {
          "description": "Maximum cost",
          "name": "MaxWeight",
          "type": "expression"
        },
        {
          "description": "Cost class",
          "longDescription": "Leave empty to make everything crossable with cost = 1. It looks in the variable children of linktools_Cost. No child means not crossable, the cost must be positive.",
          "name": "CostClass",
          "type": "string"
        },
        {
          "description": "Maximum depth",
          "name": "MaxDepth",
          "type": "expression"
        },
        {
          "description": "Ignore first node cost",
          "name": "SkipFirstWeight",
          "type": "yesorno"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Can reach through a given number of links.",
      "fullName": "Can reach with links limited by length",
      "functionType": "Condition",
      "name": "CanReachWithMaxLength",
      "sentence": "Take into account all \"_PARAM1_\" that can reach _PARAM2_ through at most _PARAM3_ links according to cost class: _PARAM4_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "let pickedSomething = false;",
            "const pickedObjects = eventsFunctionContext.getObjects(\"PickedObject\");",
            "const targetObjects = eventsFunctionContext.getObjects(\"TargetObject\");",
            "/** @type {number} */",
            "const maxLinkLength = eventsFunctionContext.getArgument(\"MaxLinkLength\");",
            "/** @type {string} */",
            "const costClass = eventsFunctionContext.getArgument(\"CostClass\");",
            "/** @type {gdjs.LinksManager} */",
            "const manager = gdjs.LinksManager.getManager(runtimeScene);",
            "for (const targetObject of targetObjects)",
            "{",
            "    targetObject.linktoolsWeightSum = 0;",
            "}",
            "for (const pickedObject of pickedObjects)",
            "{",
            "    pickedObject.pick = false;",
            "}",
            "// mark every instance that can be reached through links",
            "// openObjects is the new discovered instances where links must be checked",
            "let openObjects = [];",
            "let swapOpenObjects = [];",
            "let nextOpenObjects = targetObjects.slice();",
            "while (nextOpenObjects.length !== 0)",
            "{",
            "    swapOpenObjects = openObjects;",
            "    openObjects = nextOpenObjects;",
            "    nextOpenObjects = swapOpenObjects;",
            "    nextOpenObjects.length = 0;",
            "    while (openObjects.length !== 0)",
            "    {",
            "        const object = openObjects.pop();",
            "        /** @type {number} */",
            "        const linktoolsWeightSum = object.linktoolsWeightSum;",
            "        /** @type {Array<gdjs.RuntimeObject>} */",
            "        const linkedObjects = manager.getObjectsLinkedWith(object);",
            "        //console.log(\"linktoolsWeightSum: \" + linktoolsWeightSum);",
            "        //console.log(\"linkedObjects: \" + linkedObjects.length);",
            "        for (const linkedObject of linkedObjects)",
            "        {",
            "            // don't check one instance twice",
            "            // and it must be in the set given by the caller",
            "            if (!linkedObject.pick && pickedObjects.includes(linkedObject))",
            "            {",
            "                if (costClass === \"\")",
            "                {",
            "                    if (linktoolsWeightSum + 1 <= maxLinkLength)",
            "                    {",
            "                        linkedObject.pick = true;",
            "                        pickedSomething = true;",
            "                        linkedObject.linktoolsWeightSum = linktoolsWeightSum + 1;",
            "                        nextOpenObjects.push(linkedObject);",
            "                    }",
            "                }",
            "                else",
            "                {",
            "                    const costVariable = linkedObject.getVariables().get(\"linktools_Cost\");",
            "                    if (costVariable.hasChild(costClass))",
            "                    {",
            "                        const cost = linkedObject.getVariableNumber(costVariable.getChild(costClass));",
            "                        if (cost === 0)",
            "                        {",
            "                            linkedObject.pick = true;",
            "                            pickedSomething = true;",
            "                            linkedObject.linktoolsWeightSum = linktoolsWeightSum;",
            "                            openObjects.push(linkedObject);",
            "                        }",
            "                        else",
            "                        {",
            "                            if (linktoolsWeightSum + 1 <= maxLinkLength)",
            "                            {",
            "                                linkedObject.pick = true;",
            "                                pickedSomething = true;",
            "                                linkedObject.linktoolsWeightSum = linktoolsWeightSum + 1;",
            "                                nextOpenObjects.push(linkedObject);",
            "                            }",
            "                        }",
            "                    }",
            "                }",
            "            }",
            "        }",
            "    }",
            "}",
            "// filter the instances to only keep the one marked with the pick attribute",
            "const pickedObjectsLists = eventsFunctionContext.getObjectsLists(\"PickedObject\");",
            "/** @type {Array<String>} */",
            "const objectNames = [];",
            "pickedObjectsLists.keys(objectNames);",
            "for (const objectName of objectNames)",
            "{",
            "    const pickedObjectsList = pickedObjectsLists.get(objectName);",
            "    gdjs.evtTools.object.filterPickedObjectsList(pickedObjectsList);",
            "}",
            "for (const pickedObject of pickedObjects)",
            "{",
            "    pickedObject.pick = false;",
            "}",
            "eventsFunctionContext.returnValue = pickedSomething;"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Pick these objects...",
          "name": "PickedObject",
          "type": "objectList"
        },
        {
          "description": "if they can reach this object",
          "name": "TargetObject",
          "type": "objectList"
        },
        {
          "description": "Maximum link length",
          "name": "MaxLinkLength",
          "type": "expression"
        },
        {
          "description": "Cost class",
          "longDescription": "Leave empty to make everything crossable with cost = 1. It looks in the variable children of linktools_Cost. No child means not crossable, the cost can be 0 or 1.",
          "name": "CostClass",
          "type": "string"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Can reach through links.",
      "fullName": "Can reach",
      "functionType": "Condition",
      "name": "CanReach",
      "sentence": "Take into account all \"_PARAM1_\" that can reach _PARAM2_ through links",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "let pickedSomething = false;",
            "const pickedObjects = eventsFunctionContext.getObjects(\"PickedObject\");",
            "const targetObjects = eventsFunctionContext.getObjects(\"TargetObject\");",
            "console.log(\"pickedObjects: \" + pickedObjects.length);",
            "/** @type {gdjs.LinksManager} */",
            "const manager = gdjs.LinksManager.getManager(runtimeScene);",
            "for (const targetObject of targetObjects)",
            "{",
            "    targetObject.linktoolsWeightSum = 0;",
            "}",
            "for (const pickedObject of pickedObjects)",
            "{",
            "    pickedObject.pick = false;",
            "}",
            "// mark every instance that can be reached through links",
            "// openObjects is the new discovered instances where links must be checked",
            "let openObjects = [];",
            "let swapOpenObjects = [];",
            "let nextOpenObjects = targetObjects.slice();",
            "let linkLength = 0;",
            "while (nextOpenObjects.length !== 0)",
            "{",
            "    swapOpenObjects = openObjects;",
            "    openObjects = nextOpenObjects;",
            "    nextOpenObjects = swapOpenObjects;",
            "    nextOpenObjects.length = 0;",
            "    while (openObjects.length != 0)",
            "    {",
            "        const object = openObjects.pop();",
            "        /** @type {Array<gdjs.RuntimeObject>} */",
            "        const linkedObjects = manager.getObjectsLinkedWith(object);",
            "        for (const linkedObject of linkedObjects)",
            "        {",
            "            // don't check one instance twice",
            "            // and it must be in the set given by the caller",
            "            if (!linkedObject.pick && pickedObjects.includes(linkedObject))",
            "            {",
            "                linkedObject.pick = true;",
            "                pickedSomething = true;",
            "                linkedObject.linktoolsWeightSum = linkLength + 1;",
            "                nextOpenObjects.push(linkedObject);",
            "            }",
            "        }",
            "    }",
            "    linkLength++;",
            "}",
            "// filter the instances to only keep the one marked with the pick attribute",
            "const pickedObjectsLists = eventsFunctionContext.getObjectsLists(\"PickedObject\");",
            "/** @type {Array<String>} */",
            "const objectNames = [];",
            "pickedObjectsLists.keys(objectNames);",
            "for (const objectName of objectNames)",
            "{",
            "    const pickedObjectsList = pickedObjectsLists.get(objectName);",
            "    gdjs.evtTools.object.filterPickedObjectsList(pickedObjectsList);",
            "}",
            "for (const pickedObject of pickedObjects)",
            "{",
            "    pickedObject.pick = false;",
            "}",
            "eventsFunctionContext.returnValue = pickedSomething;"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Pick these objects...",
          "name": "PickedObject",
          "type": "objectList"
        },
        {
          "description": "if they can reach this object",
          "name": "TargetObject",
          "type": "objectList"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Cost sum.",
      "fullName": "Cost sum",
      "functionType": "Expression",
      "name": "CostSum",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": "eventsFunctionContext.returnValue = objects[0].linktoolsWeightSum;",
          "parameterObjects": "Object",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "expressionType": {
        "type": "expression"
      },
      "parameters": [
        {
          "description": "Object",
          "name": "Object",
          "type": "objectList"
        }
      ],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [
    {
      "description": "The object will move from one object instance to another according to how they are linked to one another to reach a targeted object.",
      "fullName": "Link path finding",
      "name": "LinkPathFinding",
      "objectType": "",
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPreEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Move the object along the path",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::PropertyisOnPath"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertySpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "+",
                    "Object.Behavior::PropertyAcceleration() * TimeDelta()"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "LinkTools::LinkPathFinding::PropertySpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ">",
                        "Object.Behavior::PropertySpeedMax()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkTools::LinkPathFinding::SetPropertySpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::PropertySpeedMax()"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "LinkTools::LinkPathFinding::SetPropertyIsAtNode"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "no"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Egal"
                      },
                      "parameters": [
                        "Object.SqDistanceToPosition(Object.Behavior::PropertyNextNodeX(), Object.Behavior::PropertyNextNodeY())",
                        "<=",
                        "Object.Behavior::PropertySpeed() * TimeDelta() * Object.Behavior::PropertySpeed() * TimeDelta()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "MettreXY"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.Behavior::PropertyNextNodeX()",
                        "=",
                        "Object.Behavior::PropertyNextNodeY()"
                      ]
                    },
                    {
                      "type": {
                        "value": "LinkTools::LinkPathFinding::SetPropertyIsAtNode"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    },
                    {
                      "type": {
                        "value": "LinkTools::LinkPathFinding::SetNextNode"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyNextNodeIndex() + 1",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "LinkTools::LinkPathFinding::PropertyIsAtNode"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "AddForceVersPos"
                      },
                      "parameters": [
                        "Object",
                        "Object.Behavior::PropertyNextNodeX()",
                        "Object.Behavior::PropertyNextNodeY()",
                        "Object.Behavior::PropertySpeed()",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "LinkTools::LinkPathFinding::PropertyRotate"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    },
                    {
                      "type": {
                        "value": "Angle"
                      },
                      "parameters": [
                        "Object",
                        "!=",
                        "Object.Behavior::PropertyNextNodeAngle()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "RotateTowardAngle"
                      },
                      "parameters": [
                        "Object",
                        "Object.Behavior::PropertyNextNodeAngle()",
                        "Object.Behavior::PropertyRotationSpeed()",
                        ""
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Move the object to a position.",
          "fullName": "Move to a position",
          "functionType": "Action",
          "name": "MoveTo",
          "sentence": "Move _PARAM0_ to _PARAM3_ passing by _PARAM2_ using cost class _PARAM4_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Search the path and set the result in the path variable.\nThis variable is use by doStepPreEvent to move the object along the path.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "",
                "/**",
                " * Insert a node in an array sorted by farest 1st",
                " * @param {gdjs.RuntimeObject[]} objects",
                " * @param {gdjs.RuntimeObject} object",
                " */",
                "const insertOpenNode = function (objects, object)",
                "{",
                "    let leftIndex = 0;",
                "    let rightIndex = objects.length;",
                "    while (leftIndex < rightIndex)",
                "    {",
                "        const medianIndex = Math.floor((leftIndex + rightIndex) / 2)",
                "        if (objects[medianIndex].linktoolsWeightSum < object.linktoolsWeightSum)",
                "            rightIndex = medianIndex;",
                "        else",
                "            leftIndex = medianIndex + 1;",
                "    }",
                "    objects.splice(rightIndex, 0, object);",
                "};",
                "",
                "const pickedObjects = eventsFunctionContext.getObjects(\"CrossableObject\");",
                "const targetObjects = eventsFunctionContext.getObjects(\"DestinationObject\");",
                "const costClass = eventsFunctionContext.getArgument(\"CostClass\").toString();",
                "",
                "for (const object of objects)",
                "{",
                "    let pickedSomething = false;",
                "    /** @type {gdjs.LinksManager} */",
                "    const manager = gdjs.LinksManager.getManager(runtimeScene);",
                "    for (const pickedObject of pickedObjects)",
                "    {",
                "        pickedObject.pick = false;",
                "    }",
                "    // mark every instance that can be reached through links",
                "    // openObjects is the new discovered instances where links must be checked",
                "    let openObjects = targetObjects.slice();",
                "    for (const openObject of openObjects)",
                "    {",
                "        openObject.linktoolsWeightSum = 0;",
                "        openObject.linktoolsPreviousNode = null;",
                "    }",
                "    let objectFound = false;",
                "    while (openObjects.length !== 0 && !objectFound)",
                "    {",
                "        const openObject = openObjects.pop();",
                "        const linktoolsWeightSum = openObject.linktoolsWeightSum;",
                "        /** @type {Array<gdjs.RuntimeObject>} */",
                "        const linkedObjects = manager.getObjectsLinkedWith(openObject);",
                "        for (const linkedObject of linkedObjects)",
                "        {",
                "            objectFound = linkedObject === object;",
                "            // don't check one instance twice",
                "            // and it must be in the set given by the caller",
                "            if ((!linkedObject.pick && pickedObjects.includes(linkedObject)) || objectFound)",
                "            {",
                "                let isCrossable = objectFound;",
                "                if (!objectFound)",
                "                {",
                "                    let newWeightSum = 0;",
                "                    if (costClass.length === 0)",
                "                    {",
                "                        isCrossable = true;",
                "                        newWeightSum = linktoolsWeightSum + 1;",
                "                    }",
                "                    else",
                "                    {",
                "                        const costVariable = linkedObject.getVariables().get(\"linktools_Cost\");",
                "                        isCrossable = costVariable.hasChild(costClass);",
                "                        if (isCrossable)",
                "                        {",
                "                            const cost = linkedObject.getVariableNumber(costVariable.getChild(costClass));",
                "                            newWeightSum = linktoolsWeightSum + cost;",
                "                        }",
                "                    }",
                "                    if (isCrossable)",
                "                    {",
                "                        linkedObject.pick = true;",
                "                        linkedObject.linktoolsWeightSum = newWeightSum;",
                "                        insertOpenNode(openObjects, linkedObject);",
                "                    }",
                "                }",
                "                if (isCrossable)",
                "                {",
                "                    linkedObject.linktoolsPreviousNode = openObject;",
                "                    pickedSomething = true;",
                "                }",
                "            }",
                "        }",
                "    }",
                "    ",
                "    const variables = object.getVariables();",
                "    let pathVariable;",
                "    if (variables.has(\"__linktools_Path\"))",
                "    {",
                "        pathVariable = variables.get(\"__linktools_Path\");",
                "    }",
                "    else",
                "    {",
                "        pathVariable = new gdjs.Variable({type: \"structure\"})",
                "        variables.add(\"__linktools_Path\", pathVariable);",
                "    }",
                "    pathVariable.clearChildren();",
                "    if (objectFound)",
                "    {",
                "        // build the path in the path variable",
                "        let pathObject = object;",
                "        let index = 0;",
                "        while (pathObject.linktoolsPreviousNode !== null)",
                "        {",
                "            const previousX = pathObject.getX();",
                "            const previousY = pathObject.getY();",
                "            pathObject = pathObject.linktoolsPreviousNode;",
                "            if (pathObject.getX() !== previousX",
                "             || pathObject.getY() !== previousY)",
                "            {",
                "                const positionVariable = new gdjs.Variable({type: \"structure\"});",
                "                positionVariable.addChild(\"x\", new gdjs.Variable({value: pathObject.getX(), type: \"number\"}));",
                "                positionVariable.addChild(\"y\", new gdjs.Variable({value: pathObject.getY(), type: \"number\"}));",
                "                pathVariable.addChild(index, positionVariable);",
                "",
                "                index++;",
                "            }",
                "        }",
                "    }",
                "    for (const pickedObject of pickedObjects)",
                "    {",
                "        pickedObject.pick = false;",
                "    }",
                "    eventsFunctionContext.returnValue = objectFound;",
                "}"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "ObjectVariableChildExists"
                  },
                  "parameters": [
                    "Object",
                    "__linktools_Path",
                    "\"0\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertyisOnPath"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                },
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertySpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetNextNode"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "0",
                    "0"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            },
            {
              "description": "Crossable objects",
              "name": "CrossableObject",
              "type": "objectList"
            },
            {
              "description": "Destination objects",
              "name": "DestinationObject",
              "type": "objectList"
            },
            {
              "description": "Cost class",
              "name": "CostClass",
              "type": "string"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the object position is the on a path node.",
          "fullName": "Is at a node",
          "functionType": "Condition",
          "name": "HasReachedNode",
          "sentence": "_PARAM0_  is at a node",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::PropertyIsAtNode"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Forget the path.",
          "fullName": "Forget the path",
          "functionType": "Action",
          "name": "ForgetPath",
          "sentence": "_PARAM0_ forgets the path",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertyisOnPath"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertyIsAtNode"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ObjectVariableClearChildren"
                  },
                  "parameters": [
                    "Object",
                    "__linktools_Path"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Set next node index",
          "fullName": "Set next node index",
          "functionType": "Action",
          "name": "SetNextNode",
          "private": true,
          "sentence": "Set next node index of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertyNextNodeIndex"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"Index\")"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "No more nodes",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::PropertyNextNodeIndex"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.VariableChildCount(__linktools_Path) "
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertyisOnPath"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertySpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "0"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Update the next target",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::PropertyNextNodeIndex"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "<",
                    "Object.VariableChildCount(__linktools_Path) "
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertyNextNodeX"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Variable(__linktools_Path[Object.Behavior::PropertyNextNodeIndex()][\"x\"])"
                  ]
                },
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertyNextNodeY"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.Variable(__linktools_Path[Object.Behavior::PropertyNextNodeIndex()][\"y\"])"
                  ]
                },
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::SetPropertyNextNodeAngle"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "mod(AngleBetweenPositions(Object.X(), Object.Y(), Object.Behavior::PropertyNextNodeX(), Object.Behavior::PropertyNextNodeY()) + Object.Behavior::PropertyAngleOffset(), 360)"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            },
            {
              "description": "Node index",
              "name": "Index",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the object is moving.",
          "fullName": "Is moving",
          "functionType": "Condition",
          "name": "IsMoving",
          "sentence": "_PARAM0_ is moving",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::PropertyisOnPath"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if a path has been found.",
          "fullName": "Path found",
          "functionType": "Condition",
          "name": "PathFound",
          "sentence": "A path has been found for _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Egal"
                  },
                  "parameters": [
                    "Object.VariableChildCount(__linktools_Path)",
                    ">",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the destination was reached.",
          "fullName": "Destination reached",
          "functionType": "Condition",
          "name": "HasReachedDestination",
          "sentence": "_PARAM0_ reached its destination",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::HasReachedNode"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "LinkTools::LinkPathFinding::PropertyNextNodeIndex"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "Object.VariableChildCount(__linktools_Path)"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Speed of the object on the path.",
          "fullName": "Speed",
          "functionType": "Expression",
          "name": "Speed",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertySpeed()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Get the number of waypoints on the path.",
          "fullName": "Node count",
          "functionType": "Expression",
          "name": "NodeCount",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.VariableChildCount(__linktools_Path)"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Waypoint X position.",
          "fullName": "Node X",
          "functionType": "Expression",
          "name": "NodeX",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Variable(__linktools_Path[GetArgumentAsNumber(\"NodeIndex\")][\"x\"])"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            },
            {
              "description": "Waypoint index",
              "name": "NodeIndex",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Waypoint X position.",
          "fullName": "Node Y",
          "functionType": "Expression",
          "name": "NodeY",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Variable(__linktools_Path[GetArgumentAsNumber(\"NodeIndex\")][\"y\"])"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            },
            {
              "description": "Waypoint index",
              "name": "NodeIndex",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Next waypoint index.",
          "fullName": "Next node index",
          "functionType": "Expression",
          "name": "NextNodeIndex",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyNextNodeIndex()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Next waypoint X position.",
          "fullName": "Next node X",
          "functionType": "Expression",
          "name": "NextNodeX",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyNextNodeX()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Next waypoint Y position.",
          "fullName": "Next node Y",
          "functionType": "Expression",
          "name": "NextNodeY",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyNextNodeY()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Destination X position.",
          "fullName": "Destination X",
          "functionType": "Expression",
          "name": "DestinationX",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Variable(__linktools_Path[Object.VariableChildCount(__linktools_Path) - 1][\"x\"])"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Destination Y position.",
          "fullName": "Destination Y",
          "functionType": "Expression",
          "name": "DestinationY",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Variable(__linktools_Path[Object.VariableChildCount(__linktools_Path) - 1][\"y\"])"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "LinkTools::LinkPathFinding",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "400",
          "type": "Number",
          "label": "Acceleration",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "Acceleration"
        },
        {
          "value": "200",
          "type": "Number",
          "label": "Maximum Speed",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "SpeedMax"
        },
        {
          "value": "true",
          "type": "Boolean",
          "label": "Rotate object",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "Rotate"
        },
        {
          "value": "180",
          "type": "Number",
          "label": "Rotation speed",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "RotationSpeed"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "Angle offset",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": false,
          "name": "AngleOffset"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "Is following a path",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "isOnPath"
        },
        {
          "value": "",
          "type": "Number",
          "label": "Next node index",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "NextNodeIndex"
        },
        {
          "value": "",
          "type": "Number",
          "label": "Next node X",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "NextNodeX"
        },
        {
          "value": "",
          "type": "Number",
          "label": "Next node Y",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "NextNodeY"
        },
        {
          "value": "",
          "type": "Number",
          "label": "Speed",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Speed"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "Is at a node",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "IsAtNode"
        },
        {
          "value": "",
          "type": "Number",
          "label": "Next node angle",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "NextNodeAngle"
        }
      ],
      "sharedPropertyDescriptors": []
    }
  ],
  "eventsBasedObjects": []
}