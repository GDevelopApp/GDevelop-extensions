{
  "author": "",
  "category": "Movement",
  "extensionNamespace": "",
  "fullName": "Boids movement (experimental)",
  "helpPath": "https://en.wikipedia.org/wiki/Boids",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBkPSJNMjkuMywxMC4xYy0wLjQtMC4xLTAuOCwwLTEuMSwwLjNsLTMuMiw0Yy0xLjctMi01LjktNi40LTExLTYuNGMtMC4yLDAtMC4zLDAtMC41LDBjMS40LDIuNCwyLjEsNS4xLDIuMSw4DQoJCWMwLDIuOC0wLjcsNS42LTIuMSw4YzAuMiwwLDAuMywwLDAuNSwwYzUuMSwwLDkuMy00LjMsMTEtNi40bDMuMiw0YzAuMiwwLjIsMC41LDAuNCwwLjgsMC40YzAuMSwwLDAuMiwwLDAuMy0wLjENCgkJYzAuNC0wLjEsMC43LTAuNSwwLjctMC45VjExQzMwLDEwLjYsMjkuNywxMC4yLDI5LjMsMTAuMXoiLz4NCgk8cGF0aCBkPSJNMTEuNCw4LjRjLTUuMiwxLjUtOSw2LjgtOS4yLDdjLTAuMiwwLjMtMC4yLDAuOCwwLDEuMmMwLjIsMC4zLDQsNS42LDkuMiw3YzEuNS0yLjMsMi4yLTQuOSwyLjItNy42DQoJCUMxMy42LDEzLjMsMTIuOCwxMC42LDExLjQsOC40eiBNMTAsMTZjMCwwLjYtMC40LDEtMSwxcy0xLTAuNC0xLTF2LTJjMC0wLjYsMC40LTEsMS0xczEsMC40LDEsMVYxNnoiLz4NCjwvZz4NCjwvc3ZnPg0K",
  "name": "BoidsMovement",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Glyphster Pack/Master/SVG/Restaurant/Restaurant_restaurant_seafood_animal_fish.svg",
  "shortDescription": "Simulates flocks movement.",
  "version": "0.1.6",
  "description": [
    "Simulates swarms or flocks movement following the separation, alignment, cohesion principles. The flock can be attracted to a location or avoid some obstacles.",
    "",
    "The [Fish School example](https://editor.gdevelop.io/?project=example://fish-school) shows how properties impact on the movement."
  ],
  "origin": {
    "identifier": "BoidsMovement",
    "name": "gdevelop-extension-store"
  },
  "tags": [
    "flock",
    "swarm",
    "boids",
    "crowd",
    "horde"
  ],
  "authorIds": [
    "rotBq28wITdtfsrE7McHQri4k2w2",
    "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "description": "Define JavaScript classes.",
      "fullName": "Define JavaScript classes",
      "functionType": "Action",
      "name": "DefineJavaScript",
      "private": true,
      "sentence": "Define JavaScript classes",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "GlobalVariableAsBoolean"
              },
              "parameters": [
                "__BoidsMovement_ClassesDefined",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetGlobalVariableAsBoolean"
              },
              "parameters": [
                "__BoidsMovement_ClassesDefined",
                "True"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "",
                "gdjs.__boidsExtension = gdjs.__boidsExtension || {};",
                "",
                "/**",
                " * A vector",
                " * @param {float} x - coordinate of the vectors starting position",
                " * @param {float} y - coordinate of the vectors starting position",
                " * @constructor",
                " */",
                "gdjs.__boidsExtension.Vector =  /** @class */ (function () {",
                "  ",
                "  /**",
                "   * Create a vector.",
                "   * @param {number} x",
                "   * @param {number} y",
                "   */",
                "  function Vector(x, y) {",
                "    this.x = x;",
                "    this.y = y;",
                "  }",
                "",
                "  /**",
                "   * @param {number} x",
                "   * @param {number} y",
                "   * @returns {Vector} this object",
                "   */",
                "  Vector.prototype.set = function (x, y) {",
                "    this.x = x;",
                "    this.y = y;",
                "    return this;",
                "  }",
                "",
                "  /**",
                "   * Adds a velocity to this vector",
                "   * @param {Vector} referenceVector gets the velocity to be added",
                "   * @returns {Vector} this object",
                "   */",
                "  Vector.prototype.add = function (referenceVector) {",
                "    this.x += referenceVector.x;",
                "    this.y += referenceVector.y;",
                "",
                "    return this;",
                "  }",
                "",
                "  /**",
                "   * Normalize the vector",
                "   * @returns {Vector}",
                "   */",
                "  Vector.prototype.normalize = function () {",
                "    var len = this.magnitude();",
                "    if (len !== 0) this.multiply(1 / len);",
                "    return this;",
                "  }",
                "",
                "  /**",
                "   * Multiply vectors verticies",
                "   * @param {float} amount",
                "   * @returns {Vector}",
                "   */",
                "  Vector.prototype.multiply = function (amount) {",
                "    this.x *= amount;",
                "    this.y *= amount;",
                "    return this;",
                "  }",
                "",
                "  /**",
                "   * Divide vectors verticies",
                "   * @param {float} amount",
                "   * @returns {Vector}",
                "   */",
                "  Vector.prototype.divide = function (amount) {",
                "    this.x /= amount;",
                "    this.y /= amount;",
                "",
                "    return this;",
                "  }",
                "",
                "  /**",
                "   * Subtracts vectors verticies from a reference vector",
                "   * @param {Vector} referenceVector",
                "   * @returns {Vector}",
                "   */",
                "  Vector.prototype.subtract = function (referenceVector) {",
                "    this.x -= referenceVector.x;",
                "    this.y -= referenceVector.y;",
                "",
                "    return this;",
                "  }",
                "",
                "  /**",
                "   * Limits Vectors speed",
                "   * @returns {Vector}",
                "   */",
                "  Vector.prototype.limit = function limit(max) {",
                "    var mSq = this.magnitudeSquare();",
                "    if (mSq > max * max) {",
                "      this.divide(Math.sqrt(mSq)).multiply(max);",
                "    }",
                "    return this;",
                "  }",
                "",
                "  /**",
                "   * Calculate the vectors direction",
                "   * @returns {float}",
                "   */",
                "  Vector.prototype.heading = function () {",
                "    let h = Math.atan2(this.y, this.x);",
                "    return h;",
                "  }",
                "",
                "  /**",
                "   * Calculate the vectors magnitude squared",
                "   * @returns {float}",
                "   */",
                "  Vector.prototype.magnitudeSquare = function () {",
                "    var x = this.x;",
                "    var y = this.y;",
                "    return x * x + y * y;",
                "  };",
                "",
                "  /**",
                "   * Calculate the vectors magnitude",
                "   * @returns {float}",
                "   */",
                "  Vector.prototype.magnitude = function () {",
                "    return Math.sqrt(this.magnitudeSquare());",
                "  }",
                "  ",
                "  return Vector;",
                "}());",
                "",
                "/**",
                " * A boid agent",
                " * Methods for Separation, Cohesion, Alignment added",
                " * Inspired from The Nature of Code - Daniel Shiffman",
                " * http://natureofcode.com",
                " * ",
                " * Original source code:",
                " * https://github.com/nature-of-code/noc-examples-processing/blob/master/chp06_agents/NOC_6_09_Flocking/Boid.pde",
                " */",
                "gdjs.__boidsExtension.Boid =  /** @class */ (function () {",
                "",
                "  /**",
                "   * Create a boid agent.",
                "   * @parameter {gdjs.RuntimeBehavior} behavior",
                "   */",
                "  function Boid(behavior) {",
                "    /** @type {gdjs.RuntimeBehavior} */",
                "    this.behavior = behavior;",
                "    this.acceleration = new gdjs.__boidsExtension.Vector(0, 0);",
                "    this.velocity = new gdjs.__boidsExtension.Vector(gdjs.randomFloatInRange(-1, 1), gdjs.randomFloatInRange(-1, 1));",
                "    this.separationDirection = new gdjs.__boidsExtension.Vector(0, 0);",
                "    this.alignmentDirection = new gdjs.__boidsExtension.Vector(0, 0);",
                "    this.cohesionDirection = new gdjs.__boidsExtension.Vector(0, 0);",
                "    this.customIntentsDirectionSum = new gdjs.__boidsExtension.Vector(0, 0);",
                "    this.separateWorkingVector = new gdjs.__boidsExtension.Vector(0, 0);",
                "  }",
                "",
                "  /**",
                "   * Add a custom intent.",
                "   * @param {Boid} boid",
                "   * @param {number} directionX",
                "   * @param {number} directionY",
                "   * @param {number} weight",
                "   */",
                "  Boid.prototype.addIntent = function (directionX, directionY, weight) {",
                "",
                "    if (directionX === 0 && directionY === 0) {",
                "      return;",
                "    }",
                "",
                "    const length = Math.hypot(directionX, directionY);",
                "    const unitX = directionX / length;",
                "    const unitY = directionY / length;",
                "",
                "    this.customIntentsDirectionSum.x += unitX * weight;",
                "    this.customIntentsDirectionSum.y += unitY * weight;",
                "  }",
                "",
                "  /**",
                "   * Vector between 2 boids.",
                "   * @param {Boid} boid",
                "   * @param {Vector} vector the vector to return the result",
                "   * @returns {Vector} vector",
                "   */",
                "  Boid.prototype.getVectorTo = function (boid, vector) {",
                "    const object = this.behavior.owner;",
                "    const otherObject = boid.behavior.owner;",
                "    let x = otherObject.x - object.x;",
                "    let y = otherObject.y - object.y;",
                "    vector.set(x, y);",
                "    return vector;",
                "  }",
                "",
                "  /**",
                "   * Applys the three rules of boids",
                "   */",
                "  Boid.prototype.flock = function () {",
                "    const separationDirection = this.separate();",
                "    const alignmentDirection = this.align();",
                "    const cohesionDirection = this.cohesion();",
                "",
                "    separationDirection.multiply(this.behavior.SeparationWeight());",
                "    alignmentDirection.multiply(this.behavior.AlignmentWeight());",
                "    cohesionDirection.multiply(this.behavior.CohesionWeight());",
                "",
                "    const direction = separationDirection.add(alignmentDirection).add(cohesionDirection).add(this.customIntentsDirectionSum);",
                "    this.acceleration.add(this.steer(direction));",
                "",
                "    this.customIntentsDirectionSum.set(0, 0);",
                "  }",
                "",
                "  /**",
                "   * Apply the acceleration from the steer force.",
                "   */",
                "  Boid.prototype.move = function () {",
                "    const object = this.behavior.owner;",
                "    const timeDelta = object.getElapsedTime(object.getInstanceContainer()) / 1000;",
                "    this.acceleration.multiply(timeDelta);",
                "",
                "    const previousVelocityX = this.velocity.x;",
                "    const previousVelocityY = this.velocity.y;",
                "",
                "    this.velocity.add(this.acceleration);",
                "    this.velocity.limit(this.behavior.MaxSpeed());",
                "    this.acceleration.set(0, 0);",
                "",
                "    if (this.behavior.ShouldRotate()) {",
                "      let theta = this.velocity.heading() * 180 / Math.PI;",
                "      object.setAngle(theta);",
                "    }",
                "    // Verlet integration",
                "    object.setX(object.x + (previousVelocityX + this.velocity.x) / 2 * timeDelta);",
                "    object.setY(object.y + (previousVelocityY + this.velocity.y) / 2 * timeDelta);",
                "  }",
                "",
                "  /**",
                "   * Calculates and applies steering force towards a direction",
                "   * @param desiredDirection {Vector}",
                "   * @return {Vector} alignment force",
                "   */",
                "  Boid.prototype.steer = function (desiredDirection) {",
                "    desiredDirection.normalize();",
                "    desiredDirection.multiply(this.behavior.MaxSpeed());",
                "    let steer = desiredDirection.subtract(this.velocity);",
                "    steer.limit(this.behavior.MaxAcceleration());",
                "    return steer;",
                "  }",
                "",
                "  /**",
                "   * Separation: checks for nearby boids.",
                "   * @return {Vector} separation direction",
                "   */",
                "  Boid.prototype.separate = function () {",
                "    const runtimeScene = this.behavior.owner.getInstanceContainer();",
                "    /** @type {gdjs.__boidsExtension.BoidsManager} */",
                "    const manager = runtimeScene.__boidsExtension.boidsManager;",
                "    const separationRadius = this.behavior.SeparationRadius();",
                "    this.separationDirection.set(0, 0);",
                "    let diff = this.separateWorkingVector;",
                "    const object = this.behavior.owner;",
                "",
                "    const nearbyBoids = manager.getAllBoidsAround(this, separationRadius);",
                "    for (let i = 0; i < nearbyBoids.length; i++) {",
                "      const boid = nearbyBoids[i];",
                "      const otherObject = boid.behavior.owner;",
                "      const distance = object.getDistanceToObject(otherObject);",
                "      if (distance > 0) {",
                "        diff = boid.getVectorTo(this, diff);",
                "        diff.normalize();",
                "        diff.divide(distance);",
                "        this.separationDirection.add(diff);",
                "      }",
                "    }",
                "    if (this.separationDirection.magnitudeSquare() > 0) {",
                "      this.separationDirection.normalize();",
                "    }",
                "    return this.separationDirection;",
                "  }",
                "",
                "  /**",
                "   * Alignment: calculate the average velocity for every nearby boid in the system",
                "   * @return {Vector} alignment direction",
                "   */",
                "  Boid.prototype.align = function () {",
                "    const runtimeScene = this.behavior.owner.getInstanceContainer();",
                "    /** @type {gdjs.__boidsExtension.BoidsManager} */",
                "    const manager = runtimeScene.__boidsExtension.boidsManager;",
                "    const alignmentRadius = this.behavior.AlignmentRadius();",
                "    this.alignmentDirection.set(0, 0);",
                "    let count = 0;",
                "    const object = this.behavior.owner;",
                "",
                "    const nearbyBoids = manager.getAllBoidsAround(this, alignmentRadius);",
                "    for (let i = 0; i < nearbyBoids.length; i++) {",
                "      const boid = nearbyBoids[i];",
                "      this.alignmentDirection.add(boid.velocity);",
                "      count++;",
                "    }",
                "    if (count > 0) {",
                "      this.alignmentDirection.normalize();",
                "    }",
                "    return this.alignmentDirection;",
                "  }",
                "",
                "  /**",
                "   * Cohesion: calculate direction vector towards the average location of all nearby boids",
                "   * @return {Vector} cohesion direction",
                "   */",
                "  Boid.prototype.cohesion = function () {",
                "    const runtimeScene = this.behavior.owner.getInstanceContainer();",
                "    /** @type {gdjs.__boidsExtension.BoidsManager} */",
                "    const manager = runtimeScene.__boidsExtension.boidsManager;",
                "    const cohesionRadius = this.behavior.CohesionRadius();",
                "    let count = 0;",
                "    let sumX = 0;",
                "    let sumY = 0;",
                "    const object = this.behavior.owner;",
                "",
                "    const nearbyBoids = manager.getAllBoidsAround(this, cohesionRadius);",
                "    for (let i = 0; i < nearbyBoids.length; i++) {",
                "      const boid = nearbyBoids[i];",
                "      const otherObject = boid.behavior.owner;",
                "      sumX += otherObject.getCenterXInScene();",
                "      sumY += otherObject.getCenterYInScene();",
                "      count++;",
                "    }",
                "    if (count > 0) {",
                "      sumX /= count;",
                "      sumY /= count;",
                "",
                "      // A vector pointing from the position to the target",
                "      this.cohesionDirection.set(",
                "        sumX - object.getCenterXInScene(),",
                "        sumY - object.getCenterYInScene()",
                "      )",
                "    }",
                "    return this.cohesionDirection.normalize();",
                "  }",
                "",
                "  return Boid;",
                "}());",
                "",
                "/**",
                " * A boids manager",
                " */",
                "gdjs.__boidsExtension.BoidsManager =  /** @class */ (function () {",
                "  /**",
                "   * Create a manager.",
                "   */",
                "  function BoidsManager() {",
                "    /**",
                "     * @type {Map<string, gdjs.__boidsExtension.Boid>}",
                "     */",
                "    this.boids = new Map();",
                "    this.boidsRBush = new rbush();",
                "  }",
                "",
                "  /**",
                "   * Create and register a boid.",
                "   * @param {gdjs.RuntimeBehavior} behavior",
                "   * @returns {Boid} the created Boid",
                "   */",
                "  BoidsManager.prototype.add = function (behavior) {",
                "    const boid = new gdjs.__boidsExtension.Boid(behavior);",
                "    this.boids.set(behavior.owner.id, boid);",
                "    this.addToRBush(boid);",
                "    return boid;",
                "  }",
                "",
                "  /**",
                "   * Add a boid to the R-Tree.",
                "   * @param {Boid} boid",
                "   */",
                "  BoidsManager.prototype.addToRBush = function (boid) {",
                "    if (boid.currentRBushAABB) {",
                "      boid.currentRBushAABB.updateAABBFromOwner();",
                "    }",
                "    else {",
                "      boid.currentRBushAABB = new gdjs.BehaviorRBushAABB(",
                "        boid.behavior",
                "      );",
                "    }",
                "    this.boidsRBush.insert(boid.currentRBushAABB);",
                "  }",
                "",
                "  /**",
                "   * Unregister the boid.",
                "   * @param {gdjs.RuntimeBehavior} behavior",
                "   */",
                "  BoidsManager.prototype.remove = function (behavior) {",
                "    this.boids.delete(behavior.owner.id);",
                "",
                "    this.removeFromRBush(behavior.__boidsExtension.boid.currentRBushAABB);",
                "  }",
                "",
                "  /**",
                "   * Remove a boid from the R-Tree.",
                "   * @param {Boid} boid",
                "   */",
                "  BoidsManager.prototype.removeFromRBush = function (boid) {",
                "    this.boidsRBush.remove(boid.currentRBushAABB);",
                "  }",
                "",
                "  /**",
                "   * Move all instances.",
                "   */",
                "  BoidsManager.prototype.moveAll = function () {",
                "    this.boids.forEach(boid => boid.flock());",
                "    this.boids.forEach(boid => {",
                "      boid.move();",
                "      this.removeFromRBush(boid);",
                "      this.addToRBush(boid);",
                "    });",
                "  }",
                "",
                "  /**",
                "   * Returns all the boids around the specified boid.",
                "   * @param {Boid} boid",
                "   * @param {number} radius",
                "   * @return {Boid[]} An array with all boids near the object.",
                "   */",
                "  BoidsManager.prototype.getAllBoidsAround = function (boid, radius, results) {",
                "    const object = boid.behavior.owner;",
                "",
                "    const x = object.getCenterXInScene();",
                "    const y = object.getCenterYInScene();",
                "    const searchArea = gdjs.staticObject(",
                "      gdjs.__boidsExtension.BoidsManager.prototype.getAllBoidsAround",
                "    );",
                "    searchArea.minX = x - radius;",
                "    searchArea.minY = y - radius;",
                "    searchArea.maxX = x + radius;",
                "    searchArea.maxY = y + radius;",
                "    // TODO The R-Tree should not allocate an array.",
                "    const nearbys = this.boidsRBush.search(searchArea);",
                "",
                "    const radiusSq = radius * radius;",
                "    const result = gdjs.staticArray(",
                "      gdjs.__boidsExtension.BoidsManager.prototype.getAllBoidsAround",
                "    );",
                "    result.length = 0;",
                "    // Cap the number of boids between 20 and 40.",
                "    const step = Math.ceil(nearbys.length / 40);",
                "    for (let i = 0; i < nearbys.length; i += step) {",
                "      const behavior = nearbys[i].behavior;",
                "      const otherObject = behavior.owner;",
                "      if (object === otherObject) {",
                "        continue;",
                "      }",
                "      const distanceSq = object.getSqDistanceToObject(otherObject);",
                "      if (distanceSq < radiusSq) {",
                "        result.push(behavior.__boidsExtension.boid);",
                "      }",
                "    }",
                "    return result;",
                "  }",
                "",
                "  return BoidsManager;",
                "}());",
                ""
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ]
        }
      ],
      "parameters": [],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [
    {
      "description": "Move as part of a flock.",
      "fullName": "Boids Movement (experimental)",
      "name": "BoidsMovement",
      "objectType": "",
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onCreated",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Initiate and attach properties as objects variables",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::DefineJavaScript"
                  },
                  "parameters": [
                    "",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "\r",
                "runtimeScene.__boidsExtension = runtimeScene.__boidsExtension || {};\r",
                "runtimeScene.__boidsExtension.boidsManager = runtimeScene.__boidsExtension.boidsManager || new gdjs.__boidsExtension.BoidsManager();\r",
                "\r",
                "const object = objects[0];\r",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\r",
                "const behavior = object.getBehavior(behaviorName);\r",
                "behavior.__boidsExtension = behavior.__boidsExtension || {};\r",
                "behavior.__boidsExtension.boid = runtimeScene.__boidsExtension.boidsManager.add(behavior);"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPreEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Update boids position every frame",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__BoidsBehaviour_hasAlreadyRunThisFrame",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__BoidsBehaviour_hasAlreadyRunThisFrame",
                    "True"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "runtimeScene.__boidsExtension.boidsManager.moveAll();",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPostEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetSceneVariableAsBoolean"
                  },
                  "parameters": [
                    "__BoidsBehaviour_hasAlreadyRunThisFrame",
                    "False"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onActivate",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "",
                "const object = objects[0];",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = object.getBehavior(behaviorName);",
                "runtimeScene.__boidsExtension.boidsManager.add(behavior);"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onDeActivate",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "",
                "const object = objects[0];",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = object.getBehavior(behaviorName);",
                "runtimeScene.__boidsExtension.boidsManager.remove(behavior);"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onDestroy",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "\r",
                "const object = objects[0];\r",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\r",
                "const behavior = object.getBehavior(behaviorName);\r",
                "runtimeScene.__boidsExtension.boidsManager.remove(behavior);"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Intend to move in a given direction.",
          "fullName": "Move in a direction",
          "functionType": "Action",
          "name": "MoveInDirection",
          "sentence": "_PARAM0_ intent to move in the direction _PARAM2_; _PARAM3_ (decision weight: _PARAM4_)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "",
                "const object = objects[0];",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = object.getBehavior(behaviorName);",
                "const directionX = eventsFunctionContext.getArgument(\"DirectionX\");",
                "const directionY = eventsFunctionContext.getArgument(\"DirectionY\");",
                "const decisionWeight = eventsFunctionContext.getArgument(\"DecisionWeight\");",
                "",
                "behavior.__boidsExtension.boid.addIntent(directionX, directionY, decisionWeight);"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Direction X",
              "name": "DirectionX",
              "type": "expression"
            },
            {
              "description": "Direction Y",
              "name": "DirectionY",
              "type": "expression"
            },
            {
              "description": "Decision weight",
              "name": "DecisionWeight",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Intend to move toward a position.",
          "fullName": "Move toward a position",
          "functionType": "Action",
          "name": "MoveToPosition",
          "sentence": "_PARAM0_ intend to move toward _PARAM2_; _PARAM3_ (decision weight: _PARAM4_)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::MoveInDirection"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "GetArgumentAsNumber(\"TargetX\") - Object.CenterX()",
                    "GetArgumentAsNumber(\"TargetY\") - Object.CenterY()",
                    "GetArgumentAsNumber(\"DecisionWeight\")",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Target X",
              "name": "TargetX",
              "type": "expression"
            },
            {
              "description": "Target Y",
              "name": "TargetY",
              "type": "expression"
            },
            {
              "description": "Decision weight",
              "name": "DecisionWeight",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Intend to move toward an object.",
          "fullName": "Move toward an object",
          "functionType": "Action",
          "name": "MoveToObject",
          "sentence": "_PARAM0_ intend to move toward _PARAM2_ (decision weight: _PARAM3_)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::ForEach",
              "object": "TargetedObject",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::MoveToPosition"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "TargetedObject.CenterX()",
                    "TargetedObject.CenterY()",
                    "GetArgumentAsNumber(\"DecisionWeight\")",
                    "GetArgumentAsNumber(\"DecisionWeight\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Targeted object",
              "name": "TargetedObject",
              "type": "objectList"
            },
            {
              "description": "Decision weight",
              "name": "DecisionWeight",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Intend to avoid an area with a given center and radius.",
          "fullName": "Avoid a position",
          "functionType": "Action",
          "name": "AvoidPosition",
          "sentence": "_PARAM0_ intend to avoid a radius of _PARAM4_ around _PARAM2_; _PARAM3_ (decision weight: _PARAM5_)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Evaluate at which distance the object will go past a location if it were to continue in its current direction.\n\nspeedUnitX = velocityX / speed\nspeedUnitY = velocityY / speed\n\ndeltaX = centerX - object.CenterX\ndeltaY = centerY - object.CenterY\n\nnormalX = -deltaY;\nnormalY = deltaX;\n\ntrajectoryDistance = speedUnitX * normalX + speedUnitY * normalY",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::SetPropertyTrajectoryDistance"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "(Object.Behavior::VelocityX() * (Object.CenterY() - GetArgumentAsNumber(\"CenterY\")) + Object.Behavior::VelocityY() * (GetArgumentAsNumber(\"CenterX\") - Object.CenterX())) / Object.Behavior::Speed()"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "If this distance is smaller than the specified radius, the Boid must try turn in the right direction to avoid the area.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::PropertyTrajectoryDistance"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    ">",
                    "- GetArgumentAsNumber(\"Radius\")"
                  ]
                },
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::PropertyTrajectoryDistance"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "<",
                    "GetArgumentAsNumber(\"Radius\")"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "(normalX ; normalY)",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BoidsMovement::BoidsMovement::PropertyTrajectoryDistance"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ">",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "BoidsMovement::BoidsMovement::MoveInDirection"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "-(GetArgumentAsNumber(\"CenterY\") - Object.CenterY())",
                        "GetArgumentAsNumber(\"CenterX\") - Object.CenterX()",
                        "GetArgumentAsNumber(\"DecisionWeight\")",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "(-normalX ; -normalY)",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BoidsMovement::BoidsMovement::PropertyTrajectoryDistance"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "<",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "BoidsMovement::BoidsMovement::MoveInDirection"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "GetArgumentAsNumber(\"CenterY\") - Object.CenterY()",
                        "-(GetArgumentAsNumber(\"CenterX\") - Object.CenterX())",
                        "GetArgumentAsNumber(\"DecisionWeight\")",
                        ""
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Center X",
              "name": "CenterX",
              "type": "expression"
            },
            {
              "description": "Center Y",
              "name": "CenterY",
              "type": "expression"
            },
            {
              "description": "Radius",
              "name": "Radius",
              "type": "expression"
            },
            {
              "description": "Decision weight",
              "name": "DecisionWeight",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Intend to avoid an area from an object center and a given radius.",
          "fullName": "Avoid an object",
          "functionType": "Action",
          "name": "AvoidObject",
          "sentence": "_PARAM0_ intend to avoid a radius of _PARAM3_ around _PARAM2_  (decision weight: _PARAM4_)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::ForEach",
              "object": "AvoidedObject",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::AvoidPosition"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "AvoidedObject.CenterX()",
                    "AvoidedObject.CenterY()",
                    "GetArgumentAsNumber(\"Radius\")",
                    "GetArgumentAsNumber(\"DecisionWeight\")",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Avoided object",
              "name": "AvoidedObject",
              "type": "objectList"
            },
            {
              "description": "Radius",
              "name": "Radius",
              "type": "expression"
            },
            {
              "description": "Decision weight",
              "name": "DecisionWeight",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the current speed.",
          "fullName": "Speed",
          "functionType": "Expression",
          "name": "Speed",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "",
                "const object = objects[0];",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = object.getBehavior(behaviorName);",
                "const directionX = eventsFunctionContext.getArgument(\"DirectionX\");",
                "const directionY = eventsFunctionContext.getArgument(\"DirectionY\");",
                "const decisionWeight = eventsFunctionContext.getArgument(\"DecisionWeight\");",
                "",
                "eventsFunctionContext.returnValue = behavior.__boidsExtension.boid.velocity.magnitude();"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the current vertical speed.",
          "fullName": "Velocity Y",
          "functionType": "Expression",
          "name": "VelocityX",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "",
                "const object = objects[0];",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = object.getBehavior(behaviorName);",
                "const directionX = eventsFunctionContext.getArgument(\"DirectionX\");",
                "const directionY = eventsFunctionContext.getArgument(\"DirectionY\");",
                "const decisionWeight = eventsFunctionContext.getArgument(\"DecisionWeight\");",
                "",
                "eventsFunctionContext.returnValue = behavior.__boidsExtension.boid.velocity.x;"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the current horizontal speed.",
          "fullName": "Velocity X",
          "functionType": "Expression",
          "name": "VelocityY",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "",
                "const object = objects[0];",
                "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");",
                "const behavior = object.getBehavior(behaviorName);",
                "const directionX = eventsFunctionContext.getArgument(\"DirectionX\");",
                "const directionY = eventsFunctionContext.getArgument(\"DirectionY\");",
                "const decisionWeight = eventsFunctionContext.getArgument(\"DecisionWeight\");",
                "",
                "eventsFunctionContext.returnValue = behavior.__boidsExtension.boid.velocity.y;"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the maximum speed of the object.",
          "fullName": "Maximum speed",
          "functionType": "Action",
          "group": "Boids movement configuration",
          "name": "SetMaxSpeed",
          "sentence": "Change the maximum speed of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::SetPropertyMaxSpeed"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"MaxSpeed\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Max Speed",
              "name": "MaxSpeed",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the maximum acceleration of the object.",
          "fullName": "Maximum acceleration",
          "functionType": "Action",
          "group": "Boids movement configuration",
          "name": "SetMaxAcceleration",
          "sentence": "Change the maximum acceleration of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::SetPropertyMaxAcceleration"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"SteeringForce\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Steering Force",
              "name": "SteeringForce",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Check if the object is rotated while moving on its path.",
          "fullName": "Object Rotated",
          "functionType": "Condition",
          "group": "Boids movement configuration",
          "name": "ShouldRotate",
          "sentence": "_PARAM0_ is rotated when moving",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::PropertyShouldRotate"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the maximum speed.",
          "fullName": "Maximum speed",
          "functionType": "Expression",
          "group": "Boids movement configuration",
          "name": "MaxSpeed",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyMaxSpeed()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the maximum acceleration.",
          "fullName": "Maximum acceleration",
          "functionType": "Expression",
          "group": "Boids movement configuration",
          "name": "MaxAcceleration",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyMaxAcceleration()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the cohesion sight radius.",
          "fullName": "Cohesion sight radius",
          "functionType": "Expression",
          "group": "Boids sight configuration",
          "name": "CohesionRadius",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyCohesionRadius()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the cohesion sight radius.",
          "fullName": "Cohesion sight radius",
          "functionType": "Action",
          "group": "Boids sight configuration",
          "name": "SetCohesionRadius",
          "sentence": "Change the cohesion sight radius of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::SetPropertyCohesionRadius"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"Value\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Value",
              "name": "Value",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the alignment sight radius.",
          "fullName": "Alignment sight radius",
          "functionType": "Expression",
          "group": "Boids sight configuration",
          "name": "AlignmentRadius",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyAlignmentRadius()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the alignment sight radius.",
          "fullName": "Alignment sight radius",
          "functionType": "Action",
          "group": "Boids sight configuration",
          "name": "SetAlignmentRadius",
          "sentence": "Change the alignment sight radius of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::SetPropertyAlignmentRadius"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"Value\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Value",
              "name": "Value",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the separation sight radius.",
          "fullName": "Separation sight radius",
          "functionType": "Expression",
          "group": "Boids sight configuration",
          "name": "SeparationRadius",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertySeparationRadius()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return the separation sight radius.",
          "fullName": "Separation sight radius",
          "functionType": "Action",
          "group": "Boids sight configuration",
          "name": "SetSeparationRadius",
          "sentence": "Change the separation sight radius of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::SetPropertySeparationRadius"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"Value\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Value",
              "name": "Value",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return which weight the cohesion takes in the chosen direction.",
          "fullName": "Cohesion weight",
          "functionType": "Expression",
          "group": "Boids decision configuration",
          "name": "CohesionWeight",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyCohesionWeight()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the weight the cohesion takes in the chosen direction.",
          "fullName": "Cohesion weight",
          "functionType": "Action",
          "group": "Boids decision configuration",
          "name": "SetCohesionWeight",
          "sentence": "Change the cohesion weight of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::SetPropertyCohesionWeight"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"Value\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Value",
              "name": "Value",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return which weight the alignment takes in the chosen direction.",
          "fullName": "Alignment weight",
          "functionType": "Expression",
          "group": "Boids decision configuration",
          "name": "AlignmentWeight",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyAlignmentWeight()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the weight the alignment takes in the chosen direction.",
          "fullName": "Alignment weight",
          "functionType": "Action",
          "group": "Boids decision configuration",
          "name": "SetAlignmentWeight",
          "sentence": "Change the alignment weight of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::SetPropertyAlignmentWeight"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"Value\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Value",
              "name": "Value",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Return which weight the separation takes in the chosen direction.",
          "fullName": "Separation weight",
          "functionType": "Expression",
          "group": "Boids decision configuration",
          "name": "SeparationWeight",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnNumber"
                  },
                  "parameters": [
                    "Object.Behavior::PropertySeparationWeight()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the weight the separation takes in the chosen direction.",
          "fullName": "Separation weight",
          "functionType": "Action",
          "group": "Boids decision configuration",
          "name": "SetSeparationWeight",
          "sentence": "Change the separation weight of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "BoidsMovement::BoidsMovement::SetPropertySeparationWeight"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsNumber(\"Value\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "BoidsMovement::BoidsMovement",
              "type": "behavior"
            },
            {
              "description": "Value",
              "name": "Value",
              "type": "expression"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "360",
          "type": "Number",
          "label": "Maximum speed (in pixels per second)",
          "description": "",
          "group": "Movement",
          "extraInformation": [],
          "hidden": false,
          "name": "MaxSpeed"
        },
        {
          "value": "720",
          "type": "Number",
          "label": "Maximum acceleration (in pixels per second per second)",
          "description": "",
          "group": "Movement",
          "extraInformation": [],
          "hidden": false,
          "name": "MaxAcceleration"
        },
        {
          "value": "true",
          "type": "Boolean",
          "label": "Rotate object",
          "description": "",
          "group": "Movement",
          "extraInformation": [],
          "hidden": false,
          "name": "ShouldRotate"
        },
        {
          "value": "64",
          "type": "Number",
          "label": "Cohesion sight radius",
          "description": "",
          "group": "Sight",
          "extraInformation": [],
          "hidden": false,
          "name": "CohesionRadius"
        },
        {
          "value": "48",
          "type": "Number",
          "label": "Alignement sight radius",
          "description": "",
          "group": "Sight",
          "extraInformation": [],
          "hidden": false,
          "name": "AlignmentRadius"
        },
        {
          "value": "32",
          "type": "Number",
          "label": "Separation sight radius",
          "description": "",
          "group": "Sight",
          "extraInformation": [],
          "hidden": false,
          "name": "SeparationRadius"
        },
        {
          "value": "1",
          "type": "Number",
          "label": "Cohesion decision weight",
          "description": "",
          "group": "Decision",
          "extraInformation": [],
          "hidden": false,
          "name": "CohesionWeight"
        },
        {
          "value": "1",
          "type": "Number",
          "label": "Alignment decision weight",
          "description": "",
          "group": "Decision",
          "extraInformation": [],
          "hidden": false,
          "name": "AlignmentWeight"
        },
        {
          "value": "2",
          "type": "Number",
          "label": "Separation decision weight",
          "description": "",
          "group": "Decision",
          "extraInformation": [],
          "hidden": false,
          "name": "SeparationWeight"
        },
        {
          "value": "",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "TrajectoryDistance"
        }
      ],
      "sharedPropertyDescriptors": []
    }
  ],
  "eventsBasedObjects": []
}